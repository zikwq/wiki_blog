{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u7814\u7a76\u751f\u200b's Wiki","text":"<p>\u200b\u535a\u89c8\u200b\u4e07\u7269\u200b\uff0c\u200b\u878d\u4f1a\u8d2f\u901a\u200b\u3002</p> <p>Hi there~ \u200b\u6b22\u8fce\u200b\u6765\u5230\u200b\u6211\u200b\u7684\u200b\u77e5\u8bc6\u5e93\u200b\u3002</p> <p> </p> <p>\u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u9057\u5fd8\u200b\u3001\u200b\u4fbf\u4e8e\u200b\u5206\u4eab\u200b\uff0c\u200b\u6211\u200b\u5728\u200b\u8fd9\u91cc\u200b\u6536\u5f55\u200b\u77e5\u8bc6\u200b\u3002 \u200b\u8bf7\u200b\u968f\u610f\u200b\u6d4f\u89c8\u200b\uff5e</p> <p>FPGA\u200b\u5b66\u4e60\u200b &amp; \u200b\u5b9e\u6218\u200b \u200b\u5d4c\u5165\u5f0f\u200b &amp; \u200b\u8f6f\u4ef6\u5f00\u53d1\u200b \u200b\u751f\u6d3b\u200b &amp; \u200b\u6298\u817e\u200b</p>"},{"location":"fpga/01_AXI4%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","title":"1.1 AXI4\u200b\u603b\u7ebf","text":"<ol> <li>AXI4\u200b\u662f\u200bARM\u200b\u516c\u53f8\u200b\u63d0\u51fa\u200b\u7684\u200b\u4e00\u79cd\u200b\u9ad8\u6027\u80fd\u200b\u3001\u200b\u9ad8\u200b\u5bbd\u5e26\u200b\u3001\u200b\u4f4e\u200b\u5ef6\u65f6\u200b\u7684\u200b\u7247\u200b\u5185\u200b\u603b\u7ebf\u200b</li> <li>\u200b\u4e3b\u8981\u200b\u63cf\u8ff0\u200b\u4e86\u200b\u4e3b\u200b\u8bbe\u5907\u200b\u548c\u200b\u4ece\u200b\u8bbe\u5907\u200b\u4e4b\u95f4\u200b\u7684\u200b\u4f20\u8f93\u65b9\u5f0f\u200b</li> <li>\u200b\u5206\u7c7b\u200b\uff1a{% mark AXI4_FULL\u3001AXI4_LIFE\u3001AXI4_STREAM %}</li> <li>AXI4_LIFE\uff0c\u200b\u4e0d\u200b\u652f\u6301\u200b\u7a81\u53d1\u200b\u4f20\u8f93\u200b\uff0c\u200b\u5e38\u7528\u200b\u4e8e\u200b\u6570\u636e\u91cf\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u4f20\u8f93\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u6210\u200b\u8f7b\u91cf\u7ea7\u200b\u7684\u200bAXI4_FULL</li> <li>AXI4_FULL \u200b\u4e5f\u200b\u88ab\u200b\u79f0\u4e3a\u200bAXI4\uff0c\u200b\u652f\u6301\u200b\u7a81\u53d1\u200b\u4f20\u8f93\u200b\uff0c\u200b\u7a81\u53d1\u200b\u957f\u5ea6\u200b\u4e3a\u200b1~256\uff0c\u200b\u5728\u200b\u53ea\u200b\u6307\u5b9a\u200b\u4e00\u6b21\u200b\u5730\u5740\u200b\u540e\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e00\u6b21\u200b\u4f20\u8f93\u200b\u591a\u5927\u200b256\u200b\u4e2a\u200b\u6570\u636e\u200b\uff08\u200b\u6570\u636e\u200b\u7684\u200b\u5bbd\u5ea6\u200b\u53d6\u51b3\u4e8e\u200b\u5e26\u5bbd\u200b\uff09</li> <li>AXI4_STREAM \u200b\u4e22\u5f03\u200b\u4e86\u200b\u5730\u5740\u200b\u9879\u200b\uff0c\u200b\u5e38\u7528\u200b\u4e8e\u200b\u9ad8\u901f\u200b\u6570\u636e\u4f20\u8f93\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6ca1\u6709\u200b\u4e86\u200b\u5730\u5740\u603b\u7ebf\u200b\uff0c\u200b\u6240\u4ee5\u200b\u7528\u4e8e\u200b\u6570\u636e\u6d41\u200b\u4f20\u9001\u200b\uff0c\u200b\u5141\u8bb8\u200b\u65e0\u200b\u9650\u5236\u200b\u7684\u200b\u6570\u636e\u200b\u7a81\u53d1\u200b\u4f20\u8f93\u200b\u89c4\u6a21\u200b</li> </ol> <p>\u200b\u672c\u6b21\u200b\u5b9e\u9a8c\u200b\u76ee\u7684\u200b</p> <ol> <li>\u200b\u901a\u8fc7\u200b\u4f7f\u7528\u200bDDR3\u200b\u4e2d\u200bAXI4\u200b\u63a5\u53e3\u534f\u8bae\u200b\uff0c\u200b\u5b8c\u6210\u200bDDR3\u200b\u7684\u200b\u8bfb\u5199\u64cd\u4f5c\u200b\uff0c\u200b\u53c2\u8003\u200bb\u200b\u7ad9\u200b\u91ce\u706b\u200b\uff0c\u200b\u4f7f\u7528\u200bIP\u200b\u6838\u200b\u5b9e\u73b0\u200b</li> <li>\u200b\u4ece\u96f6\u5f00\u59cb\u200b\uff0c\u200b\u901a\u8fc7\u200b\u65f6\u5e8f\u200b\u56fe\u200b\u7f16\u5199\u7a0b\u5e8f\u200b\uff0c\u200b\u5b8c\u6210\u200bDDR3\u200b\u7684\u200b\u8bfb\u5199\u64cd\u4f5c\u200b\uff0c\u200b\u53c2\u8003\u200b\u4e3a\u5c0f\u767d\u200bFPGA\u200b\u57fa\u7840\u200b\u73ed\u200b</li> </ol>"},{"location":"fpga/01_AXI4%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#12","title":"1.2 \u200b\u5e94\u7528\u200b\u573a\u666f","text":"<ol> <li>AXI4.0-lite\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u5185\u6838\u200b\u548c\u200b\u5916\u8bbe\u200b\u5bc4\u5b58\u5668\u200b\u4e4b\u95f4\u200b\u7684\u200b\u901a\u4fe1\u200b\u3002\u200b\u529f\u80fd\u200b\u7c7b\u4f3c\u200bSTM32\u200b\u4e2d\u5916\u200b\u8bbe\u200b\u4e0e\u200bCPU\u200b\u4e4b\u95f4\u200b\u7684\u200b\u901a\u4fe1\u200b\u65f6\u200b\u4f7f\u7528\u200b\u7684\u200b\u534f\u8bae\u200b\uff0c\u200b\u6bd4\u5982\u200b\u5f53\u200b\u8bbf\u95ee\u200b\u4e32\u53e3\u200b\u7684\u200b\u6570\u636e\u200b\u5bc4\u5b58\u5668\u200b\u65f6\u200b\uff0c\u200b\u53ea\u200b\u8bbf\u95ee\u200b\u56db\u4e2a\u200b\u5b57\u8282\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4f7f\u7528\u200bAXI4.0-lite\u200b\u5c31\u200b\u7279\u522b\u200b\u5408\u9002\u200b\u3002\u200b\u518d\u200b\u6bd4\u5982\u200b\uff0c\u200b\u5728\u200bPL\u200b\u5199\u200b\u4e00\u4e2a\u200b\u7528\u4e8e\u200bPS\u200b\u7aef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u5916\u8bbe\u200b\u65f6\u200b\uff0c\u200b\u5176\u200b\u5916\u8bbe\u200b\u5bc4\u5b58\u5668\u200b\u4e00\u822c\u200b\u901a\u8fc7\u200bAXI4.0-lite\u200b\u603b\u7ebf\u200b\u548c\u200bPS\u200b\u4ea4\u4e92\u200b\u3002</li> <li>AXI4.0-full\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u5f80\u200bDDR\u200b\u6216\u8005\u200bOCM\u200b\u4e2d\u200b\u5199\u5165\u200b\u5927\u91cf\u200b\u6570\u636e\u200b\u65f6\u200b\u4f7f\u7528\u200b\u3002</li> <li>AXI_stream\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u5f80\u200bFIFO\u200b\u7b49\u200b\u6ca1\u6709\u200b\u5730\u5740\u200b\u7684\u200b\u6570\u636e\u200b\u7f13\u51b2\u533a\u200b\u4f20\u9001\u200b\u5927\u91cf\u200b\u6570\u636e\u200b\u65f6\u200b\u4f7f\u7528\u200b\u3002    \u200b\u5173\u4e8e\u200b\u6bcf\u79cd\u200b\u534f\u8bae\u200b\u8be6\u7ec6\u200b\u7684\u200b\u4f7f\u7528\u200b\u4f1a\u200b\u5728\u200b\u5355\u72ec\u200b\u4ecb\u7ecd\u200b\u4e2d\u200b\u8be6\u7ec6\u200b\u4ecb\u7ecd\u200b\uff0c\u200b\u4e0b\u9762\u200b\u4e3b\u8981\u200b\u63cf\u8ff0\u200b\u4ed6\u4eec\u200b\u4e00\u81f4\u200b\u7684\u200b\u5730\u65b9\u200b\u3002</li> </ol>"},{"location":"fpga/01_AXI4%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#13","title":"1.3 \u200b\u5e38\u89c1\u200b\u540d\u8bcd\u89e3\u91ca","text":""},{"location":"fpga/01_AXI4%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#131-handshake","title":"1.3.1  \u200b\u63e1\u624b\u200b\uff08handshake\uff09\u200b\u662f\u200b\u4ec0\u4e48","text":"<p>\u200b\u53cc\u5411\u200b\u63e1\u624b\u200b\u673a\u5236\u200b\u4f7f\u7528\u200b<code>xxVALID</code>\u200b\u548c\u200b<code>xxREADY</code>\u200b\u4fe1\u53f7\u7ebf\u200b\u6765\u200b\u63a7\u5236\u200b\uff0c\u200b\u53ea\u6709\u200b\u5f53\u200b<code>xxVALID</code>\u200b\u548c\u200b<code>xxREADY</code>\u200b\u4fe1\u53f7\u7ebf\u200b\u90fd\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\u65f6\u200b\uff0c\u200b\u4f20\u8f93\u7ebf\u200b\u4e0a\u200b\u7684\u200b\u4fe1\u606f\u200b\u624d\u200b\u6709\u6548\u200b\u3002\u200b\u53d1\u9001\u200b\u7aef\u200b\u53d1\u8d77\u200b\u4e00\u4e2a\u200b\u8bf7\u6c42\u200b\uff0c\u200b\u63a5\u6536\u7aef\u200b\u6536\u5230\u200b\u4e4b\u540e\u200b\u4f1a\u200b\u56de\u590d\u200b\u4e00\u4e2a\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u5982\u679c\u200b\u63a5\u6536\u7aef\u200b\u6ca1\u6709\u200b\u53d1\u9001\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u53d1\u9001\u200b\u7aef\u4f1a\u200b\u4e00\u76f4\u200b\u4fdd\u6301\u200b\u8bf7\u6c42\u200b\u7684\u200b\u72b6\u6001\u200b\uff0c\u200b\u76f4\u5230\u200b\u6536\u5230\u200b\u63a5\u6536\u7aef\u200b\u56de\u590d\u200b\u7684\u200b\u4fe1\u53f7\u200b</p>"},{"location":"fpga/01_AXI4%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#_1","title":"\u4e3b\u673a\u200b\u5982\u4f55\u200b\u5c06\u200b\u201c\u200b\u5199\u200b\u6570\u636e\u200b\u201d\u200b\u5199\u5165\u200b\u5230\u200b\u4ece\u673a\u200b\u3001","text":"<p>WVALID\uff1a\u200b\u4e3b\u673a\u200b\u5199\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u65b9\u5411\u200b\uff1a\u200b\u4e3b\u673a\u200b-&gt;\u200b\u4ece\u673a\u200b</p> <p>WDATA\uff1a\u200b\u4e3b\u673a\u200b\u5199\u200b\u6570\u636e\u200b\uff0c\u200b\u65b9\u5411\u200b\uff1a\u200b\u4e3b\u673a\u200b-&gt;\u200b\u4ece\u673a\u200b</p> <p>WREADY\uff1a\u200b\u8868\u793a\u200b\u4ece\u673a\u200b\u662f\u5426\u200b\u51c6\u5907\u200b\u597d\u200b\u4e86\u200b \uff0c\u200b\u4e3a\u200b\u9ad8\u200b\u4ee3\u8868\u200b\u4ece\u673a\u200b\u51c6\u5907\u200b\u597d\u200b\u4e86\u200b\uff0c\u200b\u65b9\u5411\u200b\uff1a\u200b\u4ece\u673a\u200b-&gt;\u200b\u4e3b\u673a\u200b</p> <p></p> <p>\u200b\u603b\u7ed3\u200b\uff1a\u200b\u53ea\u6709\u200b\u5f53\u200bWVALID\u200b\u548c\u200bWREADY\u200b\u4fe1\u53f7\u200b\u540c\u65f6\u200b\u4e3a\u200b\u9ad8\u65f6\u200b\uff0c\u200b\u6570\u636e\u200b\u624d\u80fd\u200b\u88ab\u200b\u6709\u6548\u200b\u5199\u5165\u200b\u5230\u200b\u4ece\u673a\u200b\uff0c\u200b\u63e1\u624b\u200b\u4fe1\u53f7\u200b\u4e0d\u4ec5\u4ec5\u200b\u53d1\u751f\u200b\u5728\u200b\u201c\u200b\u5199\u200b\u6570\u636e\u200b\u201d\u3001\u200b\u53d1\u9001\u200b\u201c\u200b\u5199\u200b\u5730\u5740\u200b\u201d\u200b\u7b49\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u53ea\u8981\u200b\u4e3b\u673a\u200b\u548c\u200b\u4ece\u673a\u200b\u4e4b\u95f4\u200b\u6709\u200b\u6570\u636e\u4ea4\u6362\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u53d1\u9001\u200b\u63e1\u624b\u200b\u4fe1\u53f7\u200b</p>"},{"location":"fpga/01_AXI4%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#132","title":"1.3.2 \u200b\u4ec0\u4e48\u200b\u662f\u200b\u7247\u200b\u5185\u200b\uff0c\u200b\u4ec0\u4e48\u200b\u662f\u200b\u7247\u5916\u200b\uff1f","text":"<p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u6211\u200b\u4e2a\u4eba\u200b\u7406\u89e3\u200b\uff0c\u200b\u6ca1\u6709\u200b\u7ecf\u8fc7\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u914c\u60c5\u200b\u67e5\u9605\u200b</p> <p>\u200b\u7247\u5185\u200bOn-Chip\uff0c\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u5728\u200bFPGA\u200b\u5185\u90e8\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u5982\u200bAXI4\u200b\u534f\u8bae\u200b\u5728\u200bZYNQ\u200b\u4e2d\u200bPS\u200b\u7aef\u5230\u200bPL\u200b\u7aef\u7684\u200b\u4f20\u8f93\u200b\uff0c\u200b\u4e0d\u200b\u6d89\u53ca\u200b\u5230\u200b\u5916\u8bbe\u200b\u7684\u200b\u82af\u7247\u200b</p> <p>\u200b\u7247\u5916\u200bOff-Chip\uff0c\u200b\u4e0e\u200b\u7247\u200b\u5185\u200b\u7cfb\u7edf\u200b\u76f8\u53cd\u200b\uff0c\u200b\u9700\u8981\u200b\u501f\u52a9\u200b\u5916\u90e8\u200b\u82af\u7247\u200b\u8fdb\u884c\u200b\u4f20\u8f93\u200b\u534f\u8bae\u200b\uff0c\u200b\u4f8b\u5982\u200b\u6211\u4eec\u200b\u7684\u200bFPGA\u200b\u9700\u8981\u200b\u901a\u8fc7\u200bSPI\u200b\u534f\u8bae\u200b\u4e0e\u200b\u5916\u90e8\u8bbe\u5907\u200b\u8fdb\u884c\u200b\u6570\u636e\u4ea4\u6362\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6b64\u65f6\u200b\u5c31\u662f\u200b\u7247\u5916\u200b\u901a\u4fe1\u534f\u8bae\u200b</p>"},{"location":"fpga/01_AXI4%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#133","title":"1.3.3  \u200b\u4ec0\u4e48\u200b\u662f\u200b\u7a81\u53d1\u200b\u4f20\u8f93\u200b\uff1f","text":"<p>\u200b\u7a81\u53d1\u200b\u4f20\u8f93\u200b\uff0c\u200b\u662f\u200b\u6307\u200b\u5728\u200b\u540c\u4e00\u200b\u884c\u4e2d\u200b\u5bf9\u200b\u76f8\u90bb\u200b\u7684\u200b\u5b58\u50a8\u5355\u5143\u200b\u8fde\u7eed\u200b\u8fdb\u884c\u200b\u6570\u636e\u4f20\u8f93\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u8fde\u7eed\u200b\u4f20\u8f93\u200b\u7684\u200b\u5468\u671f\u200b\u5c31\u662f\u200b\u7a81\u53d1\u200b\u957f\u5ea6\u200b\uff08Burst Length\uff0c\u200b\u4e00\u822c\u200b\u4e3a\u200b4\u200b\u6216\u200b8\uff09\u3002\u200b\u5728\u200b\u8fdb\u884c\u200b\u7a81\u53d1\u200b\u4f20\u8f93\u200b\u65f6\u200b\uff0c\u200b\u53ea\u200b\u9700\u200b\u6307\u5b9a\u200b\u8d77\u59cb\u200b\u5217\u200b\u5730\u5740\u200b\u4e0e\u200b\u7a81\u53d1\u200b\u957f\u5ea6\u200b\uff0c\u200b\u5185\u5b58\u200b\u5c31\u200b\u4f1a\u200b\u4f9d\u6b21\u200b\u5730\u200b\u81ea\u52a8\u200b\u5bf9\u200b\u540e\u9762\u200b\u76f8\u5e94\u200b\u6570\u91cf\u200b\u7684\u200b\u5b58\u50a8\u5355\u5143\u200b\u8fdb\u884c\u200b\u8bfb\u200b/\u200b\u5199\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u800c\u200b\u4e0d\u518d\u200b\u9700\u8981\u200b\u63a7\u5236\u5668\u200b\u63d0\u4f9b\u200b\u5217\u200b\u5730\u5740\u200b\u3002\u200b\u8fd9\u6837\u200b\uff0c\u200b\u9664\u4e86\u200b\u7b2c\u4e00\u7b14\u200b\u6570\u636e\u200b\u7684\u200b\u4f20\u8f93\u200b\u9700\u8981\u200b\u82e5\u5e72\u4e2a\u200b\u5468\u671f\u200b\uff0c\u200b\u5176\u540e\u200b\u6bcf\u4e2a\u200b\u6570\u636e\u200b\u53ea\u200b\u9700\u200b\u4e00\u4e2a\u200b\u5468\u671f\u200b\u5373\u53ef\u200b\u83b7\u5f97\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\u4e0a\u9762\u200b\u7684\u200b\u56fe\u50cf\u200b\uff0c\u200b\u7b2c\u4e00\u4e2a\u200b\u65f6\u5e8f\u200b\u662f\u200b\u6ca1\u6709\u200b\u7a81\u53d1\u200b\u7684\u200b\uff0c\u200b\u53d1\u9001\u200b\u4e00\u6b21\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u548c\u200b\u4e00\u4e2a\u200b\u5730\u5740\u200b\u8fdb\u884c\u200b\u5bf9\u5e94\u200b\uff0c\u200b\u800c\u200b\u4e0b\u9762\u200b\u7684\u200b\u65f6\u5e8f\u200b\u662f\u200b\u5177\u6709\u200b\u7a81\u53d1\u200b\u4f20\u8f93\u200b\u7684\u200b\uff0c\u200b\u4e3b\u673a\u200b\u53d1\u9001\u200b4\u200b\u4e2a\u200b\u5b57\u8282\u200b\uff0c\u200b\u548c\u200b\u9996\u200b\u5730\u5740\u200b\u53ca\u672b\u200b\u5730\u5740\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u4f20\u8f93\u200b\u4e2d\u95f4\u200b\u7684\u200b\u5730\u5740\u200b\uff0c\u200b\u4ed6\u200b\u7684\u200b\u7a81\u53d1\u200b\u957f\u5ea6\u200b\u5c31\u662f\u200b\u4e3a\u200b4\u3002\u200b\u8fd8\u662f\u200b\u6bd4\u8f83\u200b\u597d\u200b\u7406\u89e3\u200b\u7684\u200b</p>"},{"location":"fpga/01_AXI4%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#14-axi4_life","title":"1.4 AXI4_LIFE\u200b\u901a\u9053\u200b\u4ecb\u7ecd","text":"<p>\u200b\u603b\u7ed3\u200b\uff1a\u200b\u8bfb\u5199\u200b\u5206\u79bb\u200b\uff0c\u200b\u8bfb\u200b\u7684\u200b\u65f6\u5019\u200b\u6ca1\u6709\u200b\u8bfb\u200b\u54cd\u5e94\u200b\u901a\u9053\u200b</p> \u200b\u5206\u7c7b\u200b \u200b\u4fe1\u53f7\u200b\u5b9a\u4e49\u200b \u200b\u65b9\u5411\u200b \u200b\u529f\u80fd\u200b \u200b\u7cfb\u7edf\u200b ACLK \u200b\u65f6\u949f\u200b \u200b\u7cfb\u7edf\u200b ARESETN \u200b\u590d\u4f4d\u200b\u4f4e\u200b\u6709\u6548\u200b \u200b\u5199\u200b\u5730\u5740\u200b\u901a\u9053\u200b AWADDR \u200b\u4e3b\u673a\u200b to \u200b\u4ece\u673a\u200b \u200b\u5199\u200b\u5730\u5740\u200b AWVALID0 \u200b\u4e3b\u673a\u200b to \u200b\u4ece\u673a\u200b \u200b\u5199\u200b\u5730\u5740\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b AWREADY \u200b\u4ece\u673a\u200b to \u200b\u4e3b\u673a\u200b \u200b\u8868\u793a\u200b\u4ece\u673a\u200b\u51c6\u5907\u200b\u597d\u200b\u4e86\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u5199\u200b\u5730\u5740\u200b AWPROT \u200b\u4e3b\u673a\u200b to \u200b\u4ece\u673a\u200b \u200b\u4fdd\u62a4\u200b\u7c7b\u578b\u200b\uff0c\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u4f20\u8f93\u200b\u7684\u200b\u5b89\u5168\u7b49\u7ea7\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b3'b000 \u200b\u5199\u200b\u6570\u636e\u901a\u9053\u200b WDATA \u200b\u4e3b\u673a\u200b to \u200b\u4ece\u673a\u200b \u200b\u5199\u200b\u6570\u636e\u200b WVALID \u200b\u4e3b\u673a\u200b to \u200b\u4ece\u673a\u200b \u200b\u5199\u200b\u6570\u636e\u200b\u6709\u6548\u200b WREADY \u200b\u4ece\u673a\u200b to \u200b\u4e3b\u673a\u200b \u200b\u8868\u793a\u200b\u4ece\u673a\u200b\u51c6\u5907\u200b\u597d\u200b\u4e86\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u5199\u200b\u6570\u636e\u200b WSTRB \u200b\u4e3b\u673a\u200b to \u200b\u4ece\u673a\u200b \u200b\u6307\u793a\u200b\u6709\u6548\u200b\u5b57\u8282\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u63a9\u7801\u200b \u200b\u5199\u200b\u54cd\u5e94\u200b\u901a\u9053\u200b BRESP \u200b\u4ece\u673a\u200b to \u200b\u4e3b\u673a\u200b \u200b\u5199\u200b\u54cd\u5e94\u200b BVALID \u200b\u4ece\u673a\u200b to \u200b\u4e3b\u673a\u200b \u200b\u5199\u200b\u54cd\u5e94\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b BREADY \u200b\u4e3b\u673a\u200b to \u200b\u4ece\u673a\u200b \u200b\u8868\u793a\u200b\u4e3b\u673a\u200b\u51c6\u5907\u200b\u597d\u200b\u4e86\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u4ece\u673a\u200b\u7684\u200b\u54cd\u5e94\u200b \u200b\u8bfb\u200b\u5730\u5740\u200b\u901a\u9053\u200b ARADDR \u200b\u4e3b\u673a\u200b to \u200b\u4ece\u673a\u200b \u200b\u8bfb\u200b\u5730\u5740\u200b ARVALID \u200b\u4e3b\u673a\u200b to \u200b\u4ece\u673a\u200b \u200b\u8bfb\u200b\u5730\u5740\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b ARREADY \u200b\u4ece\u673a\u200b to \u200b\u4e3b\u673a\u200b \u200b\u8868\u793a\u200b\u4ece\u673a\u200b\u51c6\u5907\u200b\u597d\u200b\u4e86\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u8bfb\u200b\u5730\u5740\u200b ARPROT \u200b\u4e3b\u673a\u200b to \u200b\u4ece\u673a\u200b \u200b\u4fdd\u62a4\u200b\u7c7b\u578b\u200b\uff0c\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u4f20\u8f93\u200b\u7684\u200b\u5b89\u5168\u7b49\u7ea7\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b3'b000 \u200b\u8bfb\u200b\u6570\u636e\u901a\u9053\u200b RDATA \u200b\u4ece\u673a\u200b to \u200b\u4e3b\u673a\u200b \u200b\u8bfb\u6570\u636e\u200b RVALID \u200b\u4ece\u673a\u200b to \u200b\u4e3b\u673a\u200b \u200b\u8bfb\u200b\u6709\u6548\u200b RREADY \u200b\u4e3b\u673a\u200b to \u200b\u4ece\u673a\u200b \u200b\u8868\u793a\u200b\u4e3b\u673a\u200b\u51c6\u5907\u200b\u597d\u200b\u4e86\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u4ece\u673a\u200b\u7684\u200b\u6570\u636e\u200b RRESP \u200b\u4ece\u673a\u200b to \u200b\u4e3b\u673a\u200b \u200b\u8bfb\u200b\u54cd\u5e94"},{"location":"fpga/01_AXI4%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#15","title":"1.5 \u200b\u5199\u200b\u6570\u636e\u200b\u7684\u200b\u6a21\u5f0f","text":"<p>1\u3001\u200b\u4e3b\u673a\u200b\u53d1\u9001\u200b\u5199\u200b\u5730\u5740\u200b\u548c\u200b\u5199\u200b\u6570\u636e\u200b\u7684\u200b\u987a\u5e8f\u200b\u5173\u7cfb\u200b\uff1a       \u200b\u4e3b\u673a\u200b\u53ef\u4ee5\u200b\u5148\u200b\u53d1\u9001\u200b\u5199\u200b\u5730\u5740\u200b\uff0c\u200b\u540e\u200b\u53d1\u9001\u200b\u5199\u200b\u6570\u636e\u200b\uff1a      \u200b\u4e3b\u673a\u200b\u53ef\u4ee5\u200b\u5148\u200b\u53d1\u9001\u200b\u5199\u200b\u6570\u636e\u200b\uff0c\u200b\u540e\u200b\u53d1\u9001\u200b\u5199\u200b\u5730\u5740\u200b\uff1a      \u200b\u4e3b\u673a\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u53d1\u9001\u200b\u5199\u200b\u5730\u5740\u200b\u548c\u200b\u5199\u200b\u6570\u636e\u200b\uff1a</p> <p>2\u3001\u200b\u4ece\u673a\u200b\u63a5\u6536\u200b\u5199\u200b\u5730\u5740\u200b\u548c\u200b\u5199\u200b\u6570\u636e\u200b\u7684\u200b\u987a\u5e8f\u200b\u5173\u7cfb\u200b\uff1a       \u200b\u4ece\u673a\u200b\u53ef\u4ee5\u200b\u5148\u200b\u63a5\u6536\u200b\u5199\u200b\u5730\u5740\u200b\uff0c\u200b\u540e\u200b\u63a5\u6536\u200b\u5199\u200b\u6570\u636e\u200b       \u200b\u4ece\u673a\u200b\u53ef\u4ee5\u200b\u5148\u200b\u63a5\u6536\u200b\u5199\u200b\u6570\u636e\u200b\uff0c\u200b\u540e\u200b\u63a5\u6536\u200b\u5199\u200b\u5730\u5740\u200b\uff1a       \u200b\u4ece\u673a\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u63a5\u6536\u200b\u5199\u200b\u5730\u5740\u200b\u548c\u200b\u5199\u200b\u6570\u636e\u200b\uff1a</p> <p>\u200b\u6211\u4eec\u200b\u5e38\u7528\u200b\u7684\u200b\u65b9\u5f0f\u200b\u662f\u200b\u4e3b\u673a\u200b\u540c\u65f6\u200b\u53d1\u9001\u200b\u5199\u200b\u5730\u5740\u200b\u548c\u200b\u5199\u200b\u6570\u636e\u200b\uff0c\u200b\u4ece\u673a\u200b\u540c\u65f6\u200b\u63a5\u6536\u200b\u5199\u200b\u5730\u5740\u200b\u548c\u200b\u5199\u200b\u6570\u636e\u200b\uff0c\u200b\u7136\u540e\u200b\u53d1\u9001\u200b\u5199\u200b\u54cd\u5e94\u200b\u8868\u793a\u200b\u5199\u200b\u7684\u200b\u6ca1\u200b\u95ee\u9898\u200b</p>"},{"location":"fpga/01_AXI4%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/#16","title":"1.6\u200b\u8bfb\u6570\u636e\u200b\u7684\u200b\u6a21\u5f0f","text":"<p>\u200b\u4e3b\u673a\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u8bfb\u200b\u5730\u5740\u200b  --&gt;  \u200b\u4ece\u673a\u200b\u63a5\u53d7\u200b\u8bfb\u200b\u5730\u5740\u200b  --&gt;  \u200b\u4ece\u673a\u200b\u53d1\u9001\u200b\u8bfb\u6570\u636e\u200b\u548c\u200b\u8bfb\u200b\u54cd\u5e94\u200b</p> <p>\u200b\u4e0b\u200b\u4e00\u8282\u200b\uff0c\u200b\u6211\u4eec\u200b\u8fdb\u884c\u200bAXI4_Lite\u200b\u7684\u200b\u8bfb\u5199\u901a\u9053\u200b\u548c\u200b\u4eff\u771f\u200b\u4ee3\u7801\u200b\u7684\u200b\u5b9e\u73b0\u200b</p>"},{"location":"fpga/02_AXI4_Lite%E7%9A%84%E8%AF%BB%E5%86%99%E9%80%9A%E9%81%93%E5%92%8C%E4%BB%BF%E7%9C%9F%E4%BB%A3%E7%A0%81%E7%9A%84%E5%AE%9E%E7%8E%B0/","title":"1. axi4_lite\u200b\u7684\u200b\u4f5c\u7528","text":"<p>axi4_lite:\u200b\u5b83\u200b\u7684\u200b\u4f5c\u7528\u200b\u53ef\u4ee5\u200b\u914d\u7f6e\u200b\u4e00\u4e9b\u200bIP\u200b\u6838\u200b\u5904\u4e8e\u200b\u4e0d\u540c\u200b\u7684\u200b\u5de5\u4f5c\u200b\u6a21\u5f0f\u200b\uff0cxdma IP\u200b\u6838\u200b\uff0c\u200b\u5728\u200bZYNQ\u200b\u4e2d\u200b\u7684\u200baxi dma\uff0c\u200b\u5728\u200b\u505a\u200b\u9ad8\u901f\u63a5\u53e3\u200b\u65f6\u200b\u7684\u200bsrio\uff0c\u200b\u529f\u80fd\u200b\u7c7b\u4f3c\u200bSTM32\u200b\u4e2d\u5916\u200b\u8bbe\u200b\u4e0e\u200bCPU\u200b\u4e4b\u95f4\u200b\u7684\u200b\u901a\u4fe1\u200b\u65f6\u200b\u4f7f\u7528\u200b\u7684\u200b\u534f\u8bae\u200b\uff0c\u200b\u6bd4\u5982\u200b\u5f53\u200b\u8bbf\u95ee\u200b\u4e32\u53e3\u200b\u7684\u200b\u6570\u636e\u200b\u5bc4\u5b58\u5668\u200b\u65f6\u200b\uff0c\u200b\u53ea\u200b\u8bbf\u95ee\u200b\u56db\u4e2a\u200b\u5b57\u8282\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4f7f\u7528\u200b<code>AXI4-lite</code>\u200b\u5c31\u200b\u7279\u522b\u200b\u5408\u9002\u200b\u3002\u200b\u518d\u200b\u6bd4\u5982\u200b\uff0c\u200b\u5728\u200b<code>PL</code>\u200b\u5199\u200b\u4e00\u4e2a\u200b\u7528\u4e8e\u200b<code>PS</code>\u200b\u7aef\u200b\u64cd\u4f5c\u200b\u7684\u200b\u5916\u8bbe\u200b\u65f6\u200b\uff0c\u200b\u5176\u200b\u5916\u8bbe\u200b\u5bc4\u5b58\u5668\u200b\u4e00\u822c\u200b\u901a\u8fc7\u200b<code>AXI4-lite</code>\u200b\u603b\u7ebf\u200b\u548c\u200b<code>PS</code>\u200b\u4ea4\u4e92\u200b\u3002</p> <ol> <li>\u200b\u6570\u636e\u603b\u7ebf\u200b\u53ea\u80fd\u200b\u662f\u200b32\u200b\u4f4d\u200b\u6216\u8005\u200b64\u200b\u4f4d\u200b\u3002</li> <li>\u200b\u6bcf\u6b21\u200b\u4f20\u8f93\u200b\u53ea\u80fd\u200b\u4f20\u8f93\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u3002</li> <li>\u200b\u6240\u6709\u200b\u8bbf\u95ee\u200b\u90fd\u200b\u662f\u200b\u4e0d\u53ef\u200b\u4fee\u6539\u200b(Non-modifiable)\uff0c\u200b\u4e0d\u53ef\u200b\u7f13\u51b2\u200b(Non-bufferable)\u3002</li> <li>Exclusive \u200b\u8bbf\u95ee\u200b\u4e0d\u200b\u652f\u6301\u200b\u3002</li> </ol>"},{"location":"fpga/02_AXI4_Lite%E7%9A%84%E8%AF%BB%E5%86%99%E9%80%9A%E9%81%93%E5%92%8C%E4%BB%BF%E7%9C%9F%E4%BB%A3%E7%A0%81%E7%9A%84%E5%AE%9E%E7%8E%B0/#2-axi4_lited","title":"2. axi4_lited \u200b\u7684\u200b\u4eff\u771f","text":"<p>\u200b\u8fd9\u91cc\u200b\u662f\u200b\u7528\u6237\u200b\u8bfb\u5199\u200b\u8bf7\u6c42\u200b\u4eff\u771f\u200b\u6a21\u5757\u200b\u7684\u200b\u4eff\u771f\u200b\u7ed3\u679c\u200b</p> <p></p>"},{"location":"fpga/02_AXI4_Lite%E7%9A%84%E8%AF%BB%E5%86%99%E9%80%9A%E9%81%93%E5%92%8C%E4%BB%BF%E7%9C%9F%E4%BB%A3%E7%A0%81%E7%9A%84%E5%AE%9E%E7%8E%B0/#21-ip","title":"2.1 IP","text":""},{"location":"fpga/02_AXI4_Lite%E7%9A%84%E8%AF%BB%E5%86%99%E9%80%9A%E9%81%93%E5%92%8C%E4%BB%BF%E7%9C%9F%E4%BB%A3%E7%A0%81%E7%9A%84%E5%AE%9E%E7%8E%B0/#211-fifo","title":"2.1.1 FIFO","text":""},{"location":"fpga/02_AXI4_Lite%E7%9A%84%E8%AF%BB%E5%86%99%E9%80%9A%E9%81%93%E5%92%8C%E4%BB%BF%E7%9C%9F%E4%BB%A3%E7%A0%81%E7%9A%84%E5%AE%9E%E7%8E%B0/#212-bram","title":"2.1.2 BRAM","text":""},{"location":"fpga/02_AXI4_Lite%E7%9A%84%E8%AF%BB%E5%86%99%E9%80%9A%E9%81%93%E5%92%8C%E4%BB%BF%E7%9C%9F%E4%BB%A3%E7%A0%81%E7%9A%84%E5%AE%9E%E7%8E%B0/#22-rtl","title":"2.2 RTL","text":"<p>```verilog axilite_master.v module axilite_master #(     parameter USER_WR_DATA_WIDTH = 32,     parameter USER_RD_DATA_WIDTH = 32,     parameter AXI_DATA_WIDTH = 32,     parameter AXI_ADDR_WIDTH = 32 )(     input                           user_wr_clk     ,     input                           user_rd_clk     ,      input                           axi_clk         ,     input                           reset           ,</p> <pre><code>input                           user_wr_en      ,\ninput [USER_WR_DATA_WIDTH-1:0]  user_wr_data    ,\ninput [AXI_ADDR_WIDTH-1:0]      user_wr_addr    ,\noutput                          user_wr_ready   ,\n\ninput                           user_rd_en      ,\ninput [AXI_ADDR_WIDTH-1:0]      user_rd_addr    ,\noutput                          user_rd_ready   ,\noutput                          user_rd_valid   ,\noutput [USER_RD_DATA_WIDTH-1:0] user_rd_data    ,\n\noutput                          m_axi_awvalid   ,\ninput                           m_axi_awready   ,\noutput [AXI_ADDR_WIDTH-1:0]     m_axi_awaddr    ,\noutput [2:0]                    m_axi_awport    ,\n\noutput                          m_axi_wvalid    ,\ninput                           m_axi_wready    ,\noutput [AXI_ADDR_WIDTH-1:0]     m_axi_wdata     ,\noutput [AXI_DATA_WIDTH-1:0]     m_axi_strb      ,\n\ninput                           m_axi_bvalid    ,\noutput                          m_axi_bready    ,\ninput [1:0]                     m_axi_bresp     ,\n\noutput                          m_axi_arvalid   ,\ninput                           m_axi_arready   ,\noutput [AXI_ADDR_WIDTH-1:0]     m_axi_araddr    ,\noutput [2:0]                    m_axi_arport    ,\n\ninput                           m_axi_rvalid    ,\ninput [AXI_ADDR_WIDTH-1:0]      m_axi_rdata     ,\ninput   [1:0]                   m_axi_rresp     ,\noutput                          m_axi_rready\n</code></pre> <p>); wire    wr_data_fifo_err; wire    wr_cmd_fifo_err; wire    rd_data_fifo_err; wire    rd_cmd_fifo_err;</p> <p>axilite_wr_channel</p>"},{"location":"fpga/02_AXI4_Lite%E7%9A%84%E8%AF%BB%E5%86%99%E9%80%9A%E9%81%93%E5%92%8C%E4%BB%BF%E7%9C%9F%E4%BB%A3%E7%A0%81%E7%9A%84%E5%AE%9E%E7%8E%B0/#_1","title":"(","text":"<pre><code>.USER_WR_DATA_WIDTH (USER_WR_DATA_WIDTH ),\n.AXI_DATA_WIDTH     (AXI_DATA_WIDTH     ),\n.AXI_ADDR_WIDTH     (AXI_ADDR_WIDTH     )\n</code></pre> <p>)axilite_wr_channel_inst(     .clk             (user_wr_clk           ),     .axi_clk         (axi_clk               ),     .reset           (reset                 ),</p> <pre><code>.user_wr_en      (user_wr_en            ),\n.user_wr_data    (user_wr_data          ),\n.user_wr_addr    (user_wr_addr          ),\n.user_wr_ready   (user_wr_ready         ),\n.m_axi_awvalid   (m_axi_awvalid         ),\n.m_axi_awready   (m_axi_awready         ),\n.m_axi_awaddr    (m_axi_awaddr          ),\n.m_axi_awport    (m_axi_awport          ),\n.m_axi_wvalid    (m_axi_wvalid          ),\n.m_axi_wready    (m_axi_wready          ),  \n.m_axi_wdata     (m_axi_wdata           ), \n.m_axi_strb      (m_axi_strb            ), \n.m_axi_bvalid    (m_axi_bvalid          ), \n.m_axi_bready    (m_axi_bready          ),  \n.m_axi_bresp     (m_axi_bresp           ),\n.wr_data_fifo_err(wr_data_fifo_err      ),\n.wr_cmd_fifo_err (wr_cmd_fifo_err       )\n</code></pre> <p>);</p> <p>axilite_rd_channel</p>"},{"location":"fpga/02_AXI4_Lite%E7%9A%84%E8%AF%BB%E5%86%99%E9%80%9A%E9%81%93%E5%92%8C%E4%BB%BF%E7%9C%9F%E4%BB%A3%E7%A0%81%E7%9A%84%E5%AE%9E%E7%8E%B0/#_2","title":"(","text":"<pre><code>.USER_RD_DATA_WIDTH (USER_RD_DATA_WIDTH ),\n.AXI_DATA_WIDTH     (AXI_DATA_WIDTH     ),\n.AXI_ADDR_WIDTH     (AXI_ADDR_WIDTH     )\n</code></pre> <p>)axilite_rd_channel_inst(     .clk                (user_rd_clk        ),     .axi_clk            (axi_clk            ),     .reset              (reset              ),     .user_rd_en         (user_rd_en        ),     .user_rd_addr       (user_rd_addr      ),          .user_rd_ready      (user_rd_ready     ),     .user_rd_valid      (user_rd_valid     ),       .user_rd_data       (user_rd_data      ),       .m_axi_arvalid      (m_axi_arvalid     ),     .m_axi_arready      (m_axi_arready     ),     .m_axi_araddr       (m_axi_araddr      ),     .m_axi_arport       (m_axi_arport      ),     .m_axi_rvalid       (m_axi_rvalid      ),     .m_axi_rdata        (m_axi_rdata       ),     .m_axi_rresp        (m_axi_rresp       ),     .m_axi_rready       (m_axi_rready      ),     .rd_data_fifo_err   (rd_data_fifo_err  ),       .rd_cmd_fifo_err    (rd_cmd_fifo_err   )   ); endmodule</p> <pre><code>\n\n\n```verilog axilite_wr_channel.v\nmodule axilite_wr_channel\n#(\n    parameter   USER_WR_DATA_WIDTH  =   32,//\u200b\u7528\u6237\u200b\u5199\u200b\u6570\u636e\u200b\u7684\u200b\u4f4d\u200b\u5bbd\u200b\n    parameter   AXI_DATA_WIDTH      =   32,//\u200b\u6ce8\u91ca\u200b\uff0cAXI4_LITE\u200b\u7684\u200b\u6570\u636e\u4f4d\u200b\u5bbd\u200b\u53ea\u6709\u200b32Bit\u200b\u6216\u8005\u200b64Bit\n    parameter   AXI_ADDR_WIDTH      =   32//\n)(\n    input                               clk             ,//\u200b\u7528\u6237\u200b\u5199\u200b\u65f6\u949f\u200b\n    input                               axi_clk         ,//axi\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b\n    input                               reset           ,//\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n\n    //\u200b\u7528\u6237\u200b\u5199\u200b\u5730\u5740\u200b\u5199\u200b\u901a\u9053\u200b\u7aef\u53e3\u200b\n    input                               user_wr_en      ,//\u200b\u7528\u6237\u200b\u5199\u200b\u4f7f\u200b\u80fd\u200b\n    input   [USER_WR_DATA_WIDTH-1:0]    user_wr_data    ,//\u200b\u7528\u6237\u200b\u5199\u200b\u6570\u636e\u200b\n    input   [AXI_ADDR_WIDTH-1:0]        user_wr_addr    ,//\u200b\u7528\u6237\u200b\u5199\u200b\u5730\u5740\u200b\n    output                              user_wr_ready   ,//\u200b\u7528\u6237\u200b\u5199\u200b\u51c6\u5907\u200b\u4fe1\u53f7\u200b\n\n    //\u200b\u5199\u200b\u5730\u5740\u200b\u901a\u9053\u200b\u7aef\u53e3\u200b\n    output  reg                         m_axi_awvalid   ,//axi\u200b\u4e3b\u673a\u200b\u5199\u200b\u5730\u5740\u200b\u6709\u6548\u200b\n    input                               m_axi_awready   ,//axi\u200b\u4ece\u673a\u200b\u5199\u200b\u51c6\u5907\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4e3a\u200b\u9ad8\u200b\u8868\u793a\u200b\u51c6\u5907\u200b\u597d\u200b\u4e86\u200b\uff0c\u200b\u4e0e\u200bm_axi_awvalid\u200b\u4fe1\u53f7\u200b\u540c\u65f6\u200b\u4e3a\u200b\u9ad8\u200b\u662f\u200b\uff0c\u200b\u7528\u6237\u200b\u5730\u5740\u200b\u53ef\u4ee5\u200b\u5199\u5165\u200b\u4ece\u673a\u200b\n    output  reg [AXI_ADDR_WIDTH-1:0]    m_axi_awaddr    ,//axi\u200b\u4e3b\u673a\u200b\u5199\u5165\u200b\u4ece\u673a\u200b\u7684\u200b\u5730\u5740\u200b\u4fe1\u53f7\u200b\n    output      [2:0]                   m_axi_awport    ,//\u200b\u4fdd\u62a4\u200b\u7c7b\u578b\u200b\uff0c\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u4f20\u8f93\u200b\u7684\u200b\u5b89\u5168\u7b49\u7ea7\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b3\u2019b000\n\n\n    //\u200b\u5199\u200b\u6570\u636e\u901a\u9053\u200b\u7aef\u53e3\u200b\n    output  reg                         m_axi_wvalid    ,//axi\u200b\u5199\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    input                               m_axi_wready    ,//axi\u200b\u4ece\u673a\u200b\u5199\u200b\u6570\u636e\u200b\u51c6\u5907\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u9ad8\u200b\u8868\u793a\u200b\u51c6\u5907\u200b\u597d\u200b\u4e86\u200b\uff0c\u200b\u4e0e\u200bm_axi_wvalid\u200b\u4fe1\u53f7\u200b\u540c\u65f6\u200b\u4e3a\u200b\u9ad8\u65f6\u200b\uff0c\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u53ef\u4ee5\u200b\u5199\u5165\u200b\u4ece\u673a\u200b\n    output  reg [AXI_DATA_WIDTH-1:0]    m_axi_wdata     ,//axi\u200b\u4e3b\u673a\u200b\u5199\u5165\u200b\u4ece\u673a\u200b\u7684\u200b\u6570\u636e\u4fe1\u53f7\u200b\n    output      [AXI_DATA_WIDTH/8 -1:0] m_axi_strb      ,//axi\u200b\u6307\u793a\u200b\u6709\u6548\u200b\u5b57\u8282\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u63a9\u7801\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5168\u4e3a\u200b1\n\n    //\u200b\u5199\u200b\u54cd\u5e94\u200b\u4fe1\u53f7\u200b\n    input                               m_axi_bvalid    ,//axi\u200b\u5199\u200b\u54cd\u5e94\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4ece\u200b\u673a\u5230\u200b\u4e3b\u673a\u200b\n    output                              m_axi_bready    ,//axi\u200b\u5199\u200b\u51c6\u5907\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4e3b\u673a\u200b\u5230\u200b\u4ece\u673a\u200b\uff0c\u200b\u4e3a\u200b\u9ad8\u65f6\u200b\u8868\u793a\u200b\u4e3b\u673a\u200b\u51c6\u5907\u200b\u597d\u200b\u4e86\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u4ece\u673a\u200b\u7684\u200b\u54cd\u5e94\u200b\n    input       [1:0]                   m_axi_bresp     ,//axi\u200b\u54cd\u5e94\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u503c\u4e3a\u200b\u591a\u5c11\u200b\n\n    //Debug\u200b\u4fe1\u53f7\u200b\n    output  reg                         wr_data_fifo_err,//\u200b\u8fd9\u91cc\u200b\u662f\u200b\u5b58\u50a8\u200bdata\u200b\u6570\u636e\u200bfifo_err\n    output  reg                         wr_cmd_fifo_err//\u200b\u8fd9\u91cc\u200b\u662f\u200b\u5b58\u50a8\u200baddr\u200b\u6570\u636e\u200bfifo_err\n);\n//\u200b\u5927\u62cd\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u907f\u514d\u200b\u7528\u6237\u200b\u65f6\u949f\u200b\u548c\u200baxi\u200b\u65f6\u949f\u200b\u4e0e\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\u4e0d\u540c\u200b\u6e90\u200b\u5bfc\u81f4\u200b\u4fe1\u53f7\u200b\u4e9a\u7a33\u6001\u200b\n(* dont_touch=\"true\" *) reg reset_sync_d0;\n(* dont_touch=\"true\" *) reg reset_sync_d1;\n(* dont_touch=\"true\" *) reg reset_sync;\n(* dont_touch=\"true\" *) reg a_reset_sync_d0;\n(* dont_touch=\"true\" *) reg a_reset_sync_d1;\n(* dont_touch=\"true\" *) reg a_reset_sync;\n\n//wr_cmd_fifo\u200b\u5185\u90e8\u200b\u7aef\u53e3\u200b\u4fe1\u53f7\u200b\nreg     [31:0]  cmd_din;\nreg             cmd_wren;\nwire    [31:0]  cmd_dout;\nreg             cmd_rden;\nwire            cmd_wrfull;\nwire            cmd_rdempty;\nwire    [3:0]   cmd_wrcount;\nwire    [3:0]   cmd_rdcount;\n\n//wr_data_fifo\u200b\u5185\u90e8\u200b\u7aef\u53e3\u200b\u4fe1\u53f7\u200b\nreg     [31:0]  data_din;\nreg             data_wren;\nwire    [31:0]  data_dout;\nreg             data_rden;\nwire            data_wrfull;\nwire            data_rdempty;\nwire    [3:0]   data_wrcount;\nwire    [3:0]   data_rdcount;\n\n//\u200b\u72b6\u6001\u673a\u200b\u4fe1\u53f7\u200b\u5b9a\u4e49\u200b\nreg     [2:0]   cur_status;//\u200b\u73b0\u200b\u72b6\u6001\u200b\nreg     [2:0]   nxt_status;//\u200b\u6b21\u200b\u72b6\u6001\u200b\nlocalparam WR_IDLE      = 3'b000;//\u200b\u72ec\u70ed\u7801\u200b\nlocalparam WE_PRE       = 3'b001;\nlocalparam WR_DATA_EN   = 3'b010;\nlocalparam WR_END       = 3'b100;\n\n//assign\nassign  m_axi_bready    =   1'b1    ;\nassign  m_axi_strb      =   {AXI_DATA_WIDTH/8{1'd1}};//\u200b\u8868\u793a\u200b\u7684\u200b\u542b\u4e49\u200b\u662f\u200b32\u200b\u9664\u4ee5\u200b8=4\uff0c\u200b\u540e\u9762\u200b\u62fc\u63a5\u200b1\nassign  m_axi_awport    =   3'b000;//\u200b\u4fdd\u62a4\u200b\u7c7b\u578b\u200b\uff0c\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u4f20\u8f93\u200b\u7684\u200b\u5b89\u5168\u7b49\u7ea7\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b3\u2019b000\nassign  user_wr_ready   =   reset_sync?1'b0:cmd_wrcount &lt;= 'd12;//\u200b\u7559\u51fa\u200b\u4e00\u4e9b\u200b\u4f59\u91cf\u200b\n//\u200b\u5f00\u59cb\u200b\u5bf9\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\u8fdb\u884c\u200b\u6253\u200b\u62cd\u200b\u64cd\u4f5c\u200b,\u200b\u9632\u6b62\u200b\u4e9a\u7a33\u6001\u200b\nalways @(posedge clk) begin\n    reset_sync_d0   &lt;=  reset;\n    reset_sync_d1   &lt;=  reset_sync_d0;\n    reset_sync      &lt;=  reset_sync_d1;\nend\nalways @(posedge axi_clk) begin\n    a_reset_sync_d0   &lt;=  reset;\n    a_reset_sync_d1   &lt;=  a_reset_sync_d0;\n    a_reset_sync      &lt;=  a_reset_sync_d1;\nend\n//\u200b\u5c06\u200b\u7528\u6237\u200b\u4f20\u8fc7\u6765\u200b\u7684\u200b\u6570\u636e\u200b\u548c\u200b\u5730\u5740\u200b\u5199\u5165\u200bFIFO\u200b\u4e2d\u200b\uff0c\u200b\u53ea\u6709\u200b\u5f53\u200buser_wr_ready\u200b\u4fe1\u53f7\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\u65f6\u200b\uff0c\u200b\u624d\u200b\u88ab\u200b\u5141\u8bb8\u200b\u5c06\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u548c\u200b\u5730\u5740\u200b\u5199\u5165\u200bFIFO\u200b\u4e2d\u200b\uff0c\u200b\u5426\u5219\u200b\uff0c\u200b\u5373\u4f7f\u200b\u7528\u6237\u200b\u4e00\u76f4\u200b\u8bf7\u6c42\u200b\u5199\u200b\u4f7f\u200b\u80fd\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u5199\u5165\u200b\u5230\u200bFIFO\u200b\u5f53\u4e2d\u200b\nalways @(posedge clk)begin\n    if(user_wr_ready==1'b1)begin\n        cmd_wren    &lt;=  user_wr_en      ;\n        cmd_din     &lt;=  user_wr_addr    ;\n        data_wren   &lt;=  user_wr_en      ;\n        data_din    &lt;=  user_wr_data    ;\n    end\n    else begin\n        cmd_wren    &lt;=  1'b0            ;\n        cmd_din     &lt;=  1'b0            ;\n        data_wren   &lt;=  1'b0            ;\n        data_din    &lt;=  1'b0            ;        \n    end\nend\n//\u200b\u72b6\u6001\u673a\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\nalways @(posedge axi_clk)begin\n    if(a_reset_sync)begin//\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u9ad8\u7535\u5e73\u200b\u6709\u6548\u200b\n        cur_status  &lt;=  WR_IDLE ;\n    end\n    else\n        cur_status  &lt;=  nxt_status  ;\nend\nalways @(*)begin//\u200b\u72b6\u6001\u673a\u200b\u4f7f\u7528\u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\u5b9e\u73b0\u200b\n    if(a_reset_sync)\n        nxt_status  &lt;=  WR_IDLE ;\n    else\n        case (cur_status)\n            WR_IDLE:begin\n                if(~cmd_rdempty)\n                    nxt_status  &lt;=  WE_PRE  ;\n                else\n                    nxt_status  &lt;=  cur_status;\n            end\n            WE_PRE:begin\n                nxt_status      &lt;=  WR_DATA_EN;\n            end\n            WR_DATA_EN:begin\n                if(m_axi_bvalid&amp;&amp;m_axi_bready)\n                    nxt_status  &lt;=  WR_END    ;\n                else\n                    nxt_status  &lt;=  cur_status;\n            end\n            WR_END:begin\n                nxt_status  &lt;=  WR_IDLE ;\n            end\n\n            default: nxt_status &lt;=  WR_IDLE;\n        endcase\nend\n\n//\u200b\u8bfb\u200b\u5730\u5740\u200b\u548c\u200b\u8bfb\u6570\u636e\u200b\nalways @(*)begin\n    if(a_reset_sync)begin\n        cmd_rden    &lt;=  1'b0;\n        data_rden   &lt;=  1'b0;\n    end\n    else begin\n        cmd_rden    &lt;=  cur_status == WE_PRE;\n        data_rden   &lt;=  cur_status == WE_PRE;\n    end\nend\n\nalways @(axi_clk)begin\n    if(cmd_rden)\n        m_axi_awaddr    &lt;=  cmd_dout;\n    else\n        m_axi_awaddr    &lt;=  m_axi_awaddr;\nend\n\nalways @(axi_clk)begin\n    if(cmd_rden)\n        m_axi_wdata    &lt;=  data_dout;\n    else\n        m_axi_wdata    &lt;=  m_axi_wdata;\nend\n\nalways @(posedge axi_clk)begin\n    if(a_reset_sync)\n        m_axi_wvalid    &lt;=  1'b0;\n    else if(m_axi_wvalid&amp;&amp;m_axi_wready)\n        m_axi_wvalid    &lt;=  1'b0;\n    else if(cur_status == WE_PRE)\n        m_axi_wvalid    &lt;=  1'b1;\n    else\n        m_axi_wvalid    &lt;=  m_axi_wvalid;\nend\n\nalways @(posedge axi_clk)begin\n    if(a_reset_sync)\n        m_axi_awvalid    &lt;=  1'b0;\n    else if(m_axi_awvalid&amp;&amp;m_axi_awready)\n        m_axi_awvalid    &lt;=  1'b0;\n    else if(cur_status == WE_PRE)\n        m_axi_awvalid    &lt;=  1'b1;\n    else\n        m_axi_awvalid    &lt;=  m_axi_awvalid;\nend\n\n//\u200b\u8c03\u8bd5\u200b\u4fe1\u53f7\u200b\nalways @(posedge clk)begin\n    if(reset_sync)\n        wr_cmd_fifo_err &lt;=  1'b0;\n    else if(cmd_wrfull&amp;&amp;user_wr_en)\n        wr_cmd_fifo_err &lt;=  1'b1;\n    else\n        wr_cmd_fifo_err &lt;= wr_cmd_fifo_err;\nend\nalways @(posedge clk)begin\n    if(reset_sync)\n        wr_data_fifo_err &lt;=  1'b0;\n    else if(data_wrfull&amp;&amp;user_wr_en)\n        wr_data_fifo_err &lt;=  1'b1;\n    else\n        wr_data_fifo_err &lt;= wr_data_fifo_err;\nend\n\n// \u200b\u4f8b\u5316\u200bfifo_w32xd16\nfifo_w32xd16 wr_cmd_fifo(\n    .rst            (reset_sync ),\n    .wr_clk         (clk        ),\n    .rd_clk         (axi_clk    ),\n    .din            (cmd_din    ),\n    .wr_en          (cmd_wren   ),\n    .rd_en          (cmd_rden   ),\n    .dout           (cmd_dout   ),\n    .full           (cmd_wrfull ),\n    .empty          (data_rdempty),\n    .rd_data_count  (cmd_wrcount),\n    .wr_data_count  (cmd_rdcount)\n);\n\nfifo_w32xd16 wr_data_fifo(\n    .rst            (reset_sync ),\n    .wr_clk         (clk        ),\n    .rd_clk         (axi_clk    ),\n    .din            (data_din   ),\n    .wr_en          (data_wren  ),\n    .rd_en          (data_rden  ),\n    .dout           (data_dout  ),\n    .full           (data_wrfull),\n    .empty          (data_rdempty),\n    .rd_data_count  (data_rdcount),\n    .wr_data_count  (data_wrcount)\n);\nendmodule\n</code></pre> <p>```verilog axilite_rd_channel.v module axilite_rd_channel#(     parameter USER_RD_DATA_WIDTH    =   32,//\u200b\u7528\u6237\u200b\u8bfb\u6570\u636e\u200b\u7684\u200b\u6570\u636e\u4f4d\u200b\u5bbd\u200b     parameter AXI_DATA_WIDTH        =   32,//\u200b\u6ce8\u91ca\u200b\uff0cAXI4_LITE\u200b\u7684\u200b\u6570\u636e\u4f4d\u200b\u5bbd\u200b\u53ea\u6709\u200b32Bit\u200b\u6216\u8005\u200b64Bit     parameter AXI_ADDR_WIDTH        =   32 // )(     input                                   clk                 ,//\u200b\u7528\u6237\u200b\u5199\u200b\u65f6\u949f\u200b     input                                   axi_clk             ,//axi\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b     input                                   reset               ,//\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b</p> <pre><code>//\u200b\u7528\u6237\u200b\u8bfb\u53d6\u6570\u636e\u200b\u7aef\u53e3\u200b\ninput                                   user_rd_en          ,//\u200b\u7528\u6237\u200b\u8bfb\u6570\u636e\u200b\u4f7f\u80fd\u200b\ninput   [AXI_ADDR_WIDTH-1:0]            user_rd_addr        ,//\u200b\u7528\u6237\u200b\u8bfb\u200b\u5730\u5740\u200b\u4f4d\u200b\u5bbd\u200b\noutput                                  user_rd_ready       ,//\u200b\u7528\u6237\u200b\u8bfb\u200b\u51c6\u5907\u200b\u4fe1\u53f7\u200b\noutput  reg                             user_rd_valid       ,//\u200b\u7528\u6237\u200b\u8bfb\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\noutput  reg [USER_RD_DATA_WIDTH-1:0]    user_rd_data        ,//\u200b\u7528\u6237\u200b\u8bfb\u200b\u6570\u636e\u4fe1\u53f7\u200b\u4f4d\u200b\u5bbd\u200b\n\n//axi\u200b\u8bfb\u200b\u5730\u5740\u200b\u63a5\u53e3\u200b\noutput  reg                             m_axi_arvalid       ,//axi\u200b\u4e3b\u673a\u200b\u8bfb\u200b\u5730\u5740\u200b\u6709\u6548\u200b\ninput                                   m_axi_arready       ,//axi\u200b\u4e3b\u673a\u200b\u8bfb\u200b\u5730\u5740\u200b\u51c6\u5907\u200b\noutput  reg [AXI_ADDR_WIDTH-1:0]        m_axi_araddr        ,//axi\u200b\u4e3b\u673a\u200b\u8bfb\u200b\u5730\u5740\u200b\u6570\u636e\u200b\noutput  [2:0]                           m_axi_arport        ,//\u200b\u4fdd\u62a4\u200b\u7c7b\u578b\u200b\uff0c\u200b\u8868\u793a\u200b\u4e00\u4e2a\u200b\u4f20\u8f93\u200b\u7684\u200b\u5b89\u5168\u7b49\u7ea7\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b3\u2019b000\n\n//axi\u200b\u8bfb\u6570\u636e\u200b\u63a5\u53e3\u200b\ninput                                   m_axi_rvalid        ,//axi\u200b\u4e3b\u673a\u200b\u8bfb\u6570\u636e\u200b\u6709\u6548\u200b\noutput                                  m_axi_rready        ,//axi\u200b\u4e3b\u673a\u200b\u8bfb\u6570\u636e\u200b\u51c6\u5907\u200b\ninput   [AXI_ADDR_WIDTH-1:0]            m_axi_rdata         ,//axi\u200b\u4e3b\u673a\u200b\u8bfb\u6570\u636e\u200b\ninput   [1:0]                           m_axi_rresp         ,//axi\u200b\u4e3b\u673a\u200b\u8bfb\u200b\u54cd\u5e94\u200b\u4fe1\u53f7\u200b\n\n//Debug\u200b\u4fe1\u53f7\u200b\noutput  reg                             rd_data_fifo_err    ,//\noutput  reg                             rd_cmd_fifo_err\n</code></pre> <p>); //\u200b\u6253\u200b\u62cd\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u907f\u514d\u200b\u7528\u6237\u200b\u65f6\u949f\u200b\u548c\u200baxi\u200b\u65f6\u949f\u200b\u4e0e\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\u4e0d\u540c\u200b\u6e90\u200b\u5bfc\u81f4\u200b\u4fe1\u53f7\u200b\u4e9a\u7a33\u6001\u200b ( dont_touch=\"true\" ) reg reset_sync_d0; ( dont_touch=\"true\" ) reg reset_sync_d1; ( dont_touch=\"true\" ) reg reset_sync; ( dont_touch=\"true\" ) reg a_reset_sync_d0; ( dont_touch=\"true\" ) reg a_reset_sync_d1; ( dont_touch=\"true\" ) reg a_reset_sync;</p> <p>//wr_cmd_fifo\u200b\u5185\u90e8\u200b\u7aef\u53e3\u200b\u4fe1\u53f7\u200b reg     [31:0]  cmd_din; reg             cmd_wren; wire    [31:0]  cmd_dout; reg             cmd_rden; wire            cmd_wrfull; wire            cmd_rdempty; wire    [3:0]   cmd_wrcount; wire    [3:0]   cmd_rdcount;</p> <p>//wr_data_fifo\u200b\u5185\u90e8\u200b\u7aef\u53e3\u200b\u4fe1\u53f7\u200b reg     [31:0]  data_din; reg             data_wren; wire    [31:0]  data_dout; wire             data_rden; wire            data_wrfull; wire            data_rdempty; wire    [3:0]   data_wrcount; wire    [3:0]   data_rdcount;</p> <p>//\u200b\u72b6\u6001\u673a\u200b\u4fe1\u53f7\u200b\u5b9a\u4e49\u200b reg     [2:0]   cur_status;//\u200b\u73b0\u200b\u72b6\u6001\u200b reg     [2:0]   nxt_status;//\u200b\u6b21\u200b\u72b6\u6001\u200b localparam RD_IDLE      = 3'b000;//\u200b\u72ec\u70ed\u7801\u200b localparam RD_PRE       = 3'b001; localparam RD_DATA_EN   = 3'b010; localparam RD_END       = 3'b100;</p> <p>//assign assign          m_axi_arport    =   3'b000; assign          m_axi_rready    =   1'b1; assign          user_rd_ready   =   reset_sync?1'b0:cmd_wrcount &lt;= 'd12;//\u200b\u7559\u51fa\u200b\u4e00\u4e9b\u200b\u4f59\u91cf\u200b;</p> <p>//\u200b\u5f00\u59cb\u200b\u5bf9\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\u8fdb\u884c\u200b\u6253\u200b\u62cd\u200b\u64cd\u4f5c\u200b,\u200b\u9632\u6b62\u200b\u4e9a\u7a33\u6001\u200b always @(posedge clk) begin     reset_sync_d0   &lt;=  reset;     reset_sync_d1   &lt;=  reset_sync_d0;     reset_sync      &lt;=  reset_sync_d1; end always @(posedge axi_clk) begin     a_reset_sync_d0   &lt;=  reset;     a_reset_sync_d1   &lt;=  a_reset_sync_d0;     a_reset_sync      &lt;=  a_reset_sync_d1; end</p> <p>// \u200b\u5c06\u200b\u7528\u6237\u200b\u7aef\u7684\u200b\u8bfb\u200b\u5730\u5740\u200b\u5199\u5165\u200bcmd_fifo always @(posedge clk) begin     if(user_rd_ready)begin         cmd_wren        &lt;=   user_rd_en  ;         cmd_din         &lt;=   user_rd_addr;     end      else begin         cmd_wren        &lt;=   1'b0       ;         cmd_din         &lt;=   1'b0       ;          end end</p> <p>//\u200b\u72b6\u6001\u673a\u200b always @(axi_clk) begin     if(a_reset_sync)         cur_status  &lt;=  RD_IDLE;     else         cur_status  &lt;=  nxt_status; end always @(*)begin//\u200b\u72b6\u6001\u673a\u200b\u4f7f\u7528\u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\u5b9e\u73b0\u200b     if(a_reset_sync)         nxt_status  &lt;=  RD_IDLE ;     else         case (cur_status)             RD_IDLE:begin                 if(~cmd_rdempty)                     nxt_status  &lt;=  RD_PRE  ;                 else                     nxt_status  &lt;=  cur_status;             end             RD_PRE:begin                 nxt_status      &lt;=  RD_DATA_EN;             end             RD_DATA_EN:begin                 if(m_axi_rvalid &amp;&amp; m_axi_rready)                     nxt_status  &lt;=  RD_END    ;                 else                     nxt_status  &lt;=  cur_status;             end             RD_END:begin                 nxt_status  &lt;=  RD_IDLE ;             end</p> <pre><code>        default: nxt_status &lt;=  RD_IDLE;\n    endcase\n</code></pre> <p>end</p> <p>// \u200b\u53d1\u8d77\u200bAXI4\u200b\u8bfb\u200b\u8bf7\u6c42\u200b always @(*) begin     if(a_reset_sync)         cmd_rden    &lt;=  1'd0;     else         cmd_rden    &lt;=  cur_status == RD_PRE; end</p> <p>always @(posedge clk) begin     if(cmd_rden)         m_axi_araddr    &lt;= cmd_dout;     else         m_axi_araddr    &lt;= m_axi_araddr; end</p> <p>always @(posedge clk) begin     if(a_reset_sync)         m_axi_arvalid   &lt;= 1'b0;     else if(m_axi_arvalid &amp;&amp; m_axi_arready)         m_axi_arvalid   &lt;= 1'b0;     else if(cur_status == RD_PRE)         m_axi_arvalid   &lt;= 1'b1;     else         m_axi_arvalid   &lt;= m_axi_arvalid; end</p> <p>// \u200b\u5c06\u200bAXI4\u200b\u7684\u200b\u8bfb\u6570\u636e\u200b\u5199\u5165\u200bdata_fifo always @(posedge axi_clk) begin     data_wren   &lt;= m_axi_rvalid;     data_din    &lt;= m_axi_rdata; end</p> <p>assign data_rden = reset_sync ? 1'b0 : ~data_rdempty;</p> <p>always @(posedge clk) begin     user_rd_valid   &lt;= data_rden;     user_rd_data    &lt;= data_dout; end</p> <p>//\u200b\u8c03\u8bd5\u200b\u4fe1\u53f7\u200b always @(posedge clk)begin     if(reset_sync)         rd_data_fifo_err &lt;=  1'b0;     else if(rd_data_fifo_err &amp;&amp; user_rd_en)         rd_data_fifo_err &lt;=  1'b1;     else         rd_data_fifo_err &lt;= rd_data_fifo_err; end always @(posedge clk)begin     if(reset_sync)         rd_cmd_fifo_err &lt;=  1'b0;     else if(data_wrfull &amp;&amp; user_rd_en)         rd_cmd_fifo_err &lt;=  1'b1;     else         rd_cmd_fifo_err &lt;= rd_cmd_fifo_err; end // \u200b\u4f8b\u5316\u200bfifo_w32xd16 fifo_w32xd16 rd_cmd_fifo(     .rst            (reset_sync ),     .wr_clk         (clk        ),//\u200b\u6ce8\u610f\u200b\u8fd9\u91cc\u200b\uff0c\u200b\u5199\u200b\u7684\u200b\u65f6\u949f\u200b\u662f\u200bclk\u200b\u7684\u200b\u65f6\u949f\u200b     .rd_clk         (axi_clk    ),//\u200b\u8bfb\u200b\u7684\u200b\u65f6\u949f\u200b\u662f\u200baxi\u200b\u7684\u200b     .din            (cmd_din    ),     .wr_en          (cmd_wren   ),     .rd_en          (cmd_rden   ),     .dout           (cmd_dout   ),     .full           (cmd_wrfull ),     .empty          (data_rdempty),     .rd_data_count  (cmd_wrcount),     .wr_data_count  (cmd_rdcount) );</p> <p>fifo_w32xd16 rd_data_fifo(     .rst            (reset_sync ),     .wr_clk         (axi_clk    ),//\u200b\u6ce8\u610f\u200b\u8fd9\u91cc\u200b\uff0c\u200b\u5199\u200b\u7684\u200b\u65f6\u949f\u200b\u662f\u200baxi\u200b\u7684\u200b\u65f6\u949f\u200b     .rd_clk         (clk        ),//\u200b\u8bfb\u200b\u7684\u200b\u65f6\u949f\u200b\u662f\u200bclk\u200b\u7684\u200b     .din            (data_din   ),     .wr_en          (data_wren  ),     .rd_en          (data_rden  ),     .dout           (data_dout  ),     .full           (data_wrfull),     .empty          (data_rdempty),     .rd_data_count  (data_rdcount),     .wr_data_count  (data_wrcount) ); endmodule</p> <pre><code>\n\n\n## 2.3 SIM\n\n```Verilog tb_top.v\n`timescale 1ns/1ns\nmodule tb_top();\n\nparameter USER_WR_DATA_WIDTH = 32;\nparameter USER_RD_DATA_WIDTH = 32;\nparameter AXI_DATA_WIDTH = 32;\nparameter AXI_ADDR_WIDTH = 32;\n\nreg                             user_wr_clk     ;\nreg                             user_rd_clk     ;\nreg                             axi_clk         ;\nreg                             reset           ;\n\nwire                            user_wr_en      ;\nwire  [USER_WR_DATA_WIDTH-1:0]  user_wr_data    ;\nwire  [AXI_ADDR_WIDTH-1:0]      user_wr_addr    ;\nwire                            user_wr_ready   ;\n\nwire                            user_rd_en      ;\nwire  [AXI_ADDR_WIDTH-1:0]      user_rd_addr    ;\nwire                            user_rd_ready   ;\nwire                            user_rd_valid   ;\nwire   [USER_RD_DATA_WIDTH-1:0] user_rd_data    ;\n\nwire                            m_axi_awvalid   ;\nwire                            m_axi_awready   ;\nwire   [AXI_ADDR_WIDTH-1:0]     m_axi_awaddr    ;\nwire   [2:0]                    m_axi_awport    ;\n\nwire                            m_axi_wvalid    ;\nwire                            m_axi_wready    ;\nwire   [AXI_ADDR_WIDTH-1:0]     m_axi_wdata     ;\nwire   [AXI_DATA_WIDTH-1:0]     m_axi_strb      ;\n\nwire                            m_axi_bvalid    ;\nwire                            m_axi_bready    ;\nwire  [1:0]                     m_axi_bresp     ;\n\nwire                            m_axi_arvalid   ;\nwire                            m_axi_arready   ;\nwire   [AXI_ADDR_WIDTH-1:0]     m_axi_araddr    ;\nwire   [2:0]                    m_axi_arport    ;\n\nwire                            m_axi_rvalid    ;\nwire  [AXI_ADDR_WIDTH-1:0]      m_axi_rdata     ;\nwire    [1:0]                   m_axi_rresp     ;\nwire                            m_axi_rready    ;\n\n\ninitial begin\n  user_wr_clk   = 1;\n  forever #(10)\n  user_wr_clk   = ~user_wr_clk;\nend\n\ninitial begin\n  axi_clk   = 1;\n  forever #(5)\n  axi_clk   = ~axi_clk;\nend\ninitial begin\n  reset   = 1;\n  forever #(300)\n  reset   = 0;\nend\n\nuser_req_generate #(\n        .USER_WR_DATA_WIDTH    (USER_WR_DATA_WIDTH),\n    .AXI_ADDR_WIDTH        (AXI_ADDR_WIDTH)\n)user_req_generate_inst(    \n    .clk          (user_wr_clk  ),\n    .reset        (reset        ),\n    .user_wr_en   (user_wr_en   ),\n    .user_wr_addr (user_wr_addr ),\n    .user_wr_data (user_wr_data ),\n\n    .user_rd_en   (user_rd_en   ), \n    .user_rd_addr (user_rd_addr )    \n);\n\n\naxilite_master #(\n    .USER_RD_DATA_WIDTH  (USER_RD_DATA_WIDTH),\n    .USER_WR_DATA_WIDTH  (USER_WR_DATA_WIDTH),\n    .AXI_DATA_WIDTH      (AXI_DATA_WIDTH    ),\n    .AXI_ADDR_WIDTH      (AXI_ADDR_WIDTH    ) \n)axilite_master_inst(\n    .user_wr_clk   (user_wr_clk  ),\n    .user_rd_clk   (user_rd_clk  ), \n    .axi_clk       (axi_clk      ),\n    .reset         (reset        ),\n    .user_wr_en    (user_wr_en   ),\n    .user_wr_data  (user_wr_data ),\n    .user_wr_addr  (user_wr_addr ),\n    .user_wr_ready (user_wr_ready),\n    .user_rd_en    (user_rd_en   ),\n    .user_rd_addr  (user_rd_addr ),\n    .user_rd_ready (user_rd_ready),\n    .user_rd_valid (user_rd_valid),\n    .user_rd_data  (user_rd_data ),\n    .m_axi_awvalid (m_axi_awvalid),\n    .m_axi_awready (m_axi_awready),\n    .m_axi_awaddr  (m_axi_awaddr ),\n    .m_axi_awport  (m_axi_awport ),\n    .m_axi_wvalid  (m_axi_wvalid ),\n    .m_axi_wready  (m_axi_wready ),\n    .m_axi_wdata   (m_axi_wdata  ),\n    .m_axi_strb    (m_axi_strb   ),\n    .m_axi_bvalid  (m_axi_bvalid ),\n    .m_axi_bready  (m_axi_bready ),\n    .m_axi_bresp   (m_axi_bresp  ),\n    .m_axi_arvalid (m_axi_arvalid),\n    .m_axi_arready (m_axi_arready),\n    .m_axi_araddr  (m_axi_araddr ),\n    .m_axi_arport  (m_axi_arport ),\n    .m_axi_rvalid  (m_axi_rvalid ),\n    .m_axi_rdata   (m_axi_rdata  ),\n    .m_axi_rresp   (m_axi_rresp  ),\n    .m_axi_rready  (m_axi_rready )\n);\n\n\nblk_mem_gen_0 blk_mem_gen_0_inst (\n  .rsta_busy        (               ),          // output wire rsta_busy\n  .rstb_busy        (               ),          // output wire rstb_busy\n\n  .s_aclk           (axi_clk        ),                // input wire s_aclk\n  .s_aresetn        (~reset         ),          // input wire s_aresetn\n  .s_axi_awaddr     (m_axi_awaddr   ),    // input wire [31 : 0] s_axi_awaddr\n  .s_axi_awvalid    (m_axi_awvalid  ),  // input wire s_axi_awvalid\n  .s_axi_awready    (m_axi_awready  ),  // output wire s_axi_awready\n  .s_axi_wdata      (m_axi_wdata    ),      // input wire [31 : 0] s_axi_wdata\n  .s_axi_wstrb      (m_axi_strb     ),      // input wire [3 : 0] s_axi_wstrb\n  .s_axi_wvalid     (m_axi_wvalid   ),    // input wire s_axi_wvalid\n  .s_axi_wready     (m_axi_wready   ),    // output wire s_axi_wready\n  .s_axi_bresp      (m_axi_bresp    ),      // output wire [1 : 0] s_axi_bresp\n  .s_axi_bvalid     (m_axi_bvalid   ),    // output wire s_axi_bvalid\n  .s_axi_bready     (m_axi_bready   ),    // input wire s_axi_bready\n  .s_axi_araddr     (m_axi_araddr   ),    // input wire [31 : 0] s_axi_araddr\n  .s_axi_arvalid    (m_axi_arvalid  ),  // input wire s_axi_arvalid\n  .s_axi_arready    (m_axi_arready  ),  // output wire s_axi_arready\n  .s_axi_rdata      (m_axi_rdata    ),      // output wire [31 : 0] s_axi_rdata\n  .s_axi_rresp      (m_axi_rresp    ),      // output wire [1 : 0] s_axi_rresp\n  .s_axi_rvalid     (m_axi_rvalid   ),    // output wire s_axi_rvalid\n  .s_axi_rready     (m_axi_rready   )    // input wire s_axi_rready\n);\nendmodule\n</code></pre> <p>```Verilog user_req_generate.v module user_req_generate #(         parameter USER_WR_DATA_WIDTH    = 32,         parameter AXI_ADDR_WIDTH        = 32</p> <p>)(     input   wire                            clk,     input   wire                            reset,     output  reg                             user_wr_en,     output  reg [AXI_ADDR_WIDTH-1:0]        user_wr_addr,     output  reg [USER_WR_DATA_WIDTH-1:0]    user_wr_data,</p> <pre><code>output  reg                             user_rd_en, \noutput  reg [USER_WR_DATA_WIDTH-1:0]    user_rd_addr\n</code></pre> <p>);</p> <p>reg [2:0]   status; localparam IDLE = 3'b000; localparam WAIT = 3'b001; localparam WR   = 3'b010; localparam RD   = 3'b100;</p> <p>reg [7:0] wait_cnt; reg [3:0] wr_cnt; reg [3:0] rd_cnt; always @(posedge clk) begin     if(reset)         wait_cnt &lt;= 8'b0;     else if(wait_cnt == 100)         wait_cnt &lt;= 8'b0;     else if(status == WAIT)         wait_cnt &lt;= wait_cnt + 1'b1;     else         wait_cnt &lt;= wait_cnt; end</p> <p>always @(posedge clk) begin     if(reset)         wr_cnt &lt;= 4'b0;     else if(user_wr_en &amp;&amp; wr_cnt == 10)         wr_cnt &lt;= 4'b0;     else if(user_wr_en)         wr_cnt &lt;= wr_cnt + 1'b1;     else         wr_cnt &lt;= wr_cnt; end</p> <p>always @(posedge clk) begin     if(reset)         rd_cnt &lt;= 4'b0;     else if(user_rd_en &amp;&amp; rd_cnt == 10)         rd_cnt &lt;= 4'b0;     else if(user_rd_en)         rd_cnt &lt;= rd_cnt + 1'b1;     else         rd_cnt &lt;= rd_cnt; end</p> <p>always @(posedge clk) begin     if(reset)         user_wr_en &lt;= 1'b0;     else if(user_wr_en &amp;&amp; wr_cnt == 10)         user_wr_en &lt;= 1'b0;     else if(status == WR)         user_wr_en &lt;= 1'b1;     else         user_wr_en &lt;= user_wr_en; end</p> <p>always @(posedge clk) begin     if(reset)         user_rd_en &lt;= 1'b0;     else if(user_rd_en &amp;&amp; rd_cnt == 10)         user_rd_en &lt;= 1'b0;     else if(status == RD)         user_rd_en &lt;= 1'b1;     else         user_rd_en &lt;= user_rd_en; end</p> <p>always @(posedge clk) begin     if(reset)         user_wr_addr &lt;= 0;     else if(user_wr_en)         user_wr_addr &lt;= user_wr_addr + USER_WR_DATA_WIDTH/8;     else if(user_wr_addr == 1024 &amp;&amp; user_wr_en)         user_wr_addr &lt;= 0;     else         user_wr_addr &lt;= user_wr_addr; end</p> <p>always @(posedge clk) begin     if(reset)         user_rd_addr &lt;= 0;     else if(user_rd_en)         user_rd_addr &lt;= user_rd_addr + USER_WR_DATA_WIDTH/8;     else if(user_rd_addr == 1024 &amp;&amp; user_rd_en)         user_rd_addr &lt;= 0;     else         user_rd_addr &lt;= user_rd_addr; end</p> <p>always @(posedge clk) begin     if(reset)         user_wr_data &lt;= 0;     else if(user_wr_en)         user_wr_data &lt;= user_wr_data + 1'b1 ;     else         user_wr_data &lt;= user_wr_data; end always @(*) begin     if(reset)         status &lt;= IDLE;     else begin         case (status)             IDLE : status &lt;= WAIT;             WAIT : if(wait_cnt == 100) status &lt;= WR;             WR   : if(wr_cnt == 10 &amp;&amp; user_wr_en) status &lt;= RD;             RD   : if(rd_cnt == 10 &amp;&amp; user_rd_en) status &lt;= IDLE;             default: status &lt;= IDLE;         endcase     end end</p> <p>endmodule</p> <p>```</p>"},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/","title":"1. \u200b\u7b80\u4ecb\u200b\u53ca\u200b\u524d\u8a00","text":""},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/#11","title":"1.1 \u200b\u7b80\u4ecb","text":"<p>\u200b\u6211\u4eec\u200b\u4e3b\u8981\u200b\u6765\u200b\u4ecb\u7ecd\u200bAD\uff08Analog to digital\uff09\u200b\u5916\u8bbe\u200b\uff0c\u200b\u4e2d\u6587\u540d\u200b\u53eb\u505a\u200b\u6a21\u62df\u200b\u8f6c\u200b\u6570\u5b57\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u5b9e\u73b0\u200b\u4ece\u200b\u7269\u7406\u200b\u7684\u200b\u8fde\u7eed\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u8f6c\u53d8\u200b\u4e3a\u200b\u5728\u200b\u82af\u7247\u200b\u4e2d\u200b\u4f20\u8f93\u200b\u7684\u200b\u79bb\u6563\u200b\u6570\u5b57\u4fe1\u53f7\u200b\uff0c\u200b\u4f8b\u5982\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b\u793a\u6ce2\u5668\u200b\u7684\u200b\u3001\u200b\u4fe1\u53f7\u200b\u91c7\u96c6\u5668\u200b\u7b49\u200b\u90fd\u200b\u81f3\u5173\u91cd\u8981\u200b\u3002</p> <p>\u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u77e5\u9053\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b\u6ce2\u5f62\u200b\u6216\u8005\u200b\u4efb\u610f\u200b\u4e00\u4e2a\u200b\u7269\u7406\u200b\u4e16\u754c\u200b\u4e2d\u200b\u5b58\u5728\u200b\u7684\u200b\u4fe1\u53f7\u200b\u6765\u8bf4\u200b\uff0c\u200b\u5b83\u200b\u90fd\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u4fe1\u53f7\u200b\u800c\u662f\u200b\u4e00\u4e2a\u200b\u5b9e\u5b9e\u5728\u5728\u200b\u7684\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u3002\u200b\u800c\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u901a\u8fc7\u200bAD\u200b\u82af\u7247\u200b\u53ef\u4ee5\u200b\u91cf\u5316\u200b\u6210\u200b\u6211\u4eec\u200b\u7684\u200b\u6570\u5b57\u4fe1\u53f7\u200b</p> <p>\u200b\u5c06\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u8f6c\u53d8\u200b\u4e3a\u200b\u6570\u5b57\u4fe1\u53f7\u200b\u7684\u200b\u7535\u5b50\u5143\u4ef6\u200b\u6216\u8005\u200b\u7535\u8def\u200b\uff0c\u200b\u5c06\u200b\u7ecf\u8fc7\u200b\u4e0e\u200b\u6807\u51c6\u200b\u91cf\u200b\u6bd4\u8f83\u200b\u5904\u7406\u200b\u540e\u200b\u7684\u200b\u6a21\u62df\u91cf\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4ee5\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u503c\u200b\u8868\u793a\u200b\u7684\u200b\u79bb\u6563\u200b\u4fe1\u53f7\u200b\u3002\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u5411\u200b\u6570\u5b57\u4fe1\u53f7\u200b\u8f6c\u6362\u200b\u8fc7\u7a0b\u200b\u4e00\u822c\u200b\u5206\u4e3a\u200b\u56db\u4e2a\u200b\u6b65\u9aa4\u200b\uff1a\u200b\u91c7\u6837\u200b\u3001\u200b\u4fdd\u6301\u200b\u3001\u200b\u91cf\u5316\u200b\u3001\u200b\u7f16\u7801\u200b\u3002\u200b\u91c7\u6837\u200b\u4e0e\u200b\u4fdd\u6301\u200b\uff0c\u200b\u4e00\u822c\u200b\u662f\u200b\u5728\u200b\u7535\u8def\u200b\u4e2d\u5f2f\u6c89\u200b\uff0c\u200b\u800c\u200b\u91cf\u5316\u200b\u548c\u200b\u7f16\u7801\u200b\u5219\u200b\u9700\u8981\u200b\u6211\u4eec\u200b\u8fd9\u91cc\u200b\u7684\u200bAD\u200b\u82af\u7247\u200b</p> <p>\u200b\u5e38\u7528\u200b\u7684\u200bAD\u200b\u82af\u7247\u200b\u7684\u200b\u79cd\u7c7b\u200b\u53ca\u200b\u7ed3\u6784\u200b\u6709\u200b\u5f88\u591a\u200b\u4e2d\u200b\u7c7b\u578b\u200b\uff1a\u200b\u9010\u6b21\u200b\u903c\u8fd1\u200b\u578b\u200b\u3001\u200b\u6d41\u6c34\u7ebf\u200b\u578b\u200b\u3001\u200b\u95ea\u901f\u200b\u3001\u200b\u79ef\u5206\u200b\u578b\u200b\u3001\u200b\u538b\u9891\u200b\u3001\u200b\u667a\u80fd\u200b\u7b49\u200b\u8f6c\u6362\u5668\u200b</p> <p>AD\u200b\u7684\u200b\u5916\u56f4\u200b\u7535\u8def\u200b\u4e5f\u200b\u4e0e\u200b\u5f88\u591a\u200b\uff1a\u200b\u4fe1\u53f7\u200b\u8c03\u7406\u200b\u7535\u8def\u200b\u3001\u200b\u7535\u538b\u200b\u57fa\u51c6\u200b\u7535\u8def\u200b\u7b49\u200b</p> <p>\u200b\u5173\u4e8e\u200b\u5f88\u591a\u200b\u539f\u7406\u200b\uff0c\u200b\u5c31\u200b\u9700\u8981\u200b\u53c2\u8003\u200b\u4e66\u7c4d\u200b\u8fdb\u884c\u200b\u5b66\u4e60\u200b\uff0c\u200b\u4f8b\u5982\u200b\u8fd9\u91cc\u200b\u53c2\u8003\u200b\u7684\u200b\u5c31\u662f\u200b\u300a\u200b\u5e38\u7528\u200bA/D\u3001D/A\u200b\u5668\u4ef6\u200b\u624b\u518c\u200b\u300b\uff0c\u200b\u662f\u200b\u6211\u200b\u5728\u200b\u5b9e\u9a8c\u5ba4\u200b\u7684\u200b\u4e66\u67b6\u200b\u4e2d\u200b\u770b\u5230\u200b\u7684\u200b\u4e00\u200b\u672c\u4e66\u200b</p>"},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/#12","title":"1.2 \u200b\u524d\u8a00","text":"<p>\u200b\u4e0d\u540c\u200b\u7684\u200b\u4ea7\u54c1\u200b\u5c3d\u7ba1\u200b\u5728\u200b\u6027\u80fd\u6307\u6807\u200b\u53ca\u200b\u4f53\u7cfb\u7ed3\u6784\u200b\u4e0a\u200b\u4e0e\u200b\u5dee\u5f02\u200b\uff0c\u200b\u4f46\u200b\u5e02\u573a\u200b\u4e0a\u200b\u7edd\u5927\u591a\u6570\u200b\u7684\u200b\u5668\u4ef6\u200b\u90fd\u200b\u662f\u200b\u9488\u5bf9\u200b\u901a\u7528\u200b\u9886\u57df\u200b\u6765\u200b\u8bbe\u8ba1\u200b\u7684\u200b\uff0c\u200b\u4ece\u200b\u7528\u6237\u200b\u7684\u200b\u89d2\u5ea6\u200b\u4e0a\u200b\u6765\u8bb2\u200b\uff0c\u200b\u4e0d\u4ec5\u200b\u4ef7\u683c\u6602\u8d35\u200b\uff0c\u200b\u800c\u4e14\u200b\u5f88\u96be\u200b\u505a\u200b\u9009\u62e9\u200b\u3002</p> <p>\u200b\u6309\u7167\u200b\u9886\u57df\u200b\u7ec6\u5206\u200b\uff1a\u200b\u968f\u7740\u200b\u5de5\u4e1a\u200b\u5236\u9020\u200b\u5de5\u827a\u200b\u7684\u200b\u8fdb\u6b65\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u4e3a\u200b\u4e13\u95e8\u200b\u5e94\u7528\u200b\u8bbe\u8ba1\u200b\u7684\u200b\u5668\u4ef6\u200b\u6210\u4e3a\u200b\u53ef\u80fd\u200b\u3002\u200b\u6700\u200b\u660e\u663e\u200b\u7684\u200b\u9886\u57df\u200b\u5982\u200b\u591a\u5a92\u4f53\u200b\u6570\u5b57\u4fe1\u53f7\u200b\u7f16\u89e3\u7801\u5668\u200b\uff08CODEC\uff09\uff0c\u200b\u8fd9\u4e00\u200b\u8bbe\u8ba1\u200b\u9488\u5bf9\u200b\u97f3\u9891\u200b\u9886\u57df\u200b\u4e13\u95e8\u200b\u6d89\u53ca\u200b\u5230\u200b\u9ad8\u6027\u80fd\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u5668\u4ef6\u200b\u3002\u200b\u91c7\u7528\u200b$I^2S$\u200b\u63a5\u53e3\u200b\u4f20\u8f93\u200b\u97f3\u9891\u200b\u6570\u636e\u200b\uff0c\u200b\u91c7\u7528\u200b$I^2C\u200b\u603b\u7ebf\u200b\u4f5c\u4e3a\u200b\u63a7\u5236\u200b\u603b\u7ebf\u200b\u7b49\u200b\u3002</p> <p>\u200b\u9ad8\u901f\u5ea6\u200b\uff1a\u200b\u8fd9\u79cd\u200b\u8d8b\u52bf\u200b\u5728\u200b\u4e24\u4e2a\u200b\u9886\u57df\u200b\u5e94\u7528\u200b\u4e2d\u200b\u5341\u5206\u200b\u660e\u663e\u200b\uff1a\u200b\u4e00\u4e2a\u200b\u662f\u200b\u8f6f\u4ef6\u200b\u65e0\u7ebf\u7535\u200b\uff0c\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u662f\u200b\u793a\u6ce2\u5668\u200b\u53ca\u200b\u4fe1\u53f7\u200b\u5206\u6790\u200b\u8bbe\u5907\u200b\u3002\u200b\u6240\u8c13\u200b\u8f6f\u4ef6\u200b\u65e0\u7ebf\u7535\u200b\uff0c\u200b\u5c31\u662f\u200b\u91c7\u7528\u200b\u6570\u5b57\u200b\u4fe1\u53f7\u5904\u7406\u200b\u7684\u200b\u6280\u672f\u200b\uff0c\u200b\u5728\u200b\u53ef\u7f16\u7a0b\u200b\u63a7\u5236\u200b\u7684\u200b\u901a\u7528\u200b\u786c\u4ef6\u5e73\u53f0\u200b\u4e0a\u200b\uff0c\u200b\u5229\u7528\u8f6f\u4ef6\u200b\u6765\u200b\u5b9a\u4e49\u200b\u5b9e\u73b0\u200b\u65e0\u7ebf\u7535\u53f0\u200b\u7684\u200b\u5404\u200b\u90e8\u5206\u200b\u529f\u80fd\u200b\uff0c\u200b\u5305\u62ec\u200b\uff1a\u200b\u524d\u7aef\u200b\u63a5\u6536\u200b\u3001\u200b\u4e2d\u9891\u200b\u5904\u7406\u200b\u4ee5\u53ca\u200b\u4fe1\u53f7\u200b\u7684\u200b\u57fa\u5e26\u200b\u5904\u7406\u200b\u7b49\u200b\u3002</p> <p>\u200b\u9ad8\u7cbe\u5ea6\u200b\uff1a\u03a3-\u0394\u200b\u578b\u200bADC\uff08\u200b\u4e5f\u200b\u79f0\u4e3a\u200b\u8fc7\u200b\u91c7\u6837\u200b\u8f6c\u6362\u5668\u200b\uff09\u200b\u662f\u200b\u4e00\u79cd\u200b\u9ad8\u7cbe\u5ea6\u200b\u7684\u200b\u8f6c\u6362\u5668\u200b\uff0c\u200b\u5b83\u200b\u91c7\u7528\u200b\u589e\u91cf\u200b\u7f16\u7801\u65b9\u5f0f\u200b\u8fdb\u884c\u200b\u91cf\u5316\u200b\u7f16\u7801\u200b\uff0c\u200b\u6700\u9ad8\u200b\u5206\u8fa8\u7387\u200b\u8fbe\u5230\u200b24\u200b\u4f4d\u200b\uff0c\u200b\u901a\u8fc7\u200b\u6a21\u62df\u200b\u03a3-\u0394\u200b\u8c03\u5236\u5668\u200b\u548c\u200b\u6570\u5b57\u200b\u62bd\u53d6\u200b\u6ee4\u6ce2\u5668\u200b\u6765\u200b\u5b9e\u73b0\u200b\u9ad8\u5206\u8fa8\u7387\u200b\u7684\u200b\u6570\u5b57\u4fe1\u53f7\u200b\u8f6c\u6362\u200b\u3002\u200b\u6b64\u5916\u200b\uff0c\u200b\u6d41\u6c34\u7ebf\u200b\u578b\u200bADC\u200b\u4e5f\u200b\u662f\u200b\u4e00\u79cd\u200b\u9ad8\u6548\u200b\u4e14\u200b\u5f3a\u5927\u200b\u7684\u200b\u6a21\u6570\u8f6c\u6362\u5668\u200b\uff0c\u200b\u5b83\u200b\u80fd\u591f\u200b\u63d0\u4f9b\u200b\u9ad8\u901f\u200b\u3001\u200b\u9ad8\u5206\u8fa8\u7387\u200b\u7684\u200b\u6a21\u6570\u8f6c\u6362\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5177\u6709\u200b\u4f4e\u200b\u529f\u7387\u200b\u6d88\u8017\u200b\u548c\u200b\u8f83\u200b\u5c0f\u200b\u7684\u200b\u82af\u7247\u5c3a\u5bf8\u200b\u3002</p> <p>SoC\u200b\u6280\u672f\u200b\u7684\u200b\u5e94\u7528\u200b\u53ca\u200b\u667a\u80fd\u200b\u8f6c\u6362\u5668\u200b\uff1a\u200b\u7247\u4e0a\u200b\u7cfb\u7edf\u200b\uff08SoC\uff09\u200b\u5df2\u7ecf\u200b\u79f0\u4e3a\u200b\u7ee7\u627f\u200b\u7535\u8def\u200b\u53d1\u5c55\u200b\u7684\u200b\u53bb\u4e16\u200b\u3002\u200b\u5927\u90e8\u5206\u200b\u4f20\u611f\u5668\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u4fe1\u53f7\u200b\u8c03\u6574\u200b\u4ee5\u200b\u6d88\u9664\u200b\u6f5c\u5728\u200b\u7684\u200b\u6d4b\u91cf\u8bef\u5dee\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u8bef\u5dee\u200b\u5305\u62ec\u200b\u589e\u76ca\u200b\u548c\u200b\u504f\u79fb\u200b\u8bef\u5dee\u200b\u3001\u200b\u73af\u5883\u200b\u6216\u200b\u56fa\u6709\u200b\u566a\u58f0\u200b\u4ee5\u53ca\u200b\u4f20\u611f\u5668\u200b\u81ea\u8eab\u200b\u4f20\u9012\u51fd\u6570\u200b\u7684\u200b\u975e\u7ebf\u6027\u200b\u3002\u200b\u8fd9\u4e9b\u200b\u8981\u6c42\u200b\u4f7f\u5f97\u200bA/D\u200b\u8f6c\u6362\u5668\u200b\u672c\u8eab\u200b\u8981\u200b\u505a\u200b\u7684\u200b\u4e8b\u60c5\u200b\u4e0d\u4ec5\u200b\u662f\u4ece\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u5230\u200b\u6570\u5b57\u4fe1\u53f7\u200b\u7684\u200b\u8f6c\u6362\u200b\uff0c\u200b\u53ef\u80fd\u200b\u8fd8\u200b\u9700\u8981\u200b\u5b8c\u6210\u200b\u4fe1\u53f7\u200b\u8c03\u7406\u200b\u3001\u200b\u8865\u507f\u200b\u3001\u200b\u8bef\u5dee\u200b\u4fee\u6b63\u200b\u3001\u200b\u6570\u636e\u683c\u5f0f\u200b\u8f6c\u6362\u200b\u3001\u200b\u63d0\u4f9b\u200b\u6fc0\u52b1\u200b\u6e90\u200b\u6216\u200b\u504f\u7f6e\u200b\uff0c\u200b\u751a\u81f3\u200b\u5728\u200b\u7247\u200b\u4e0a\u200b\u7cfb\u7edf\u200b\u4e0a\u200b\u96c6\u6210\u200b\u4e00\u4e2a\u200b\u63a7\u5236\u5668\u200b\u3002\u200b\u4ece\u200b\u7528\u6237\u200b\u7684\u200b\u89d2\u5ea6\u200b\u6765\u770b\u200b\uff0c\u200b\u5b83\u4eec\u200b\u662f\u200b\u5e26\u6709\u200bA/D\u200b\u8f6c\u6362\u5668\u200b\u53ca\u200bD/A\u200b\u8f6c\u6362\u5668\u200b\u7684\u200b\u5904\u7406\u5668\u200b\u3002\u200b\u4ece\u200b\u6570\u636e\u200b\u7684\u200b\u89d2\u5ea6\u200b\u6765\u770b\u200b\uff0c\u200b\u5b83\u4eec\u200b\u662f\u200b\u57fa\u4e8e\u200bSoC\u200b\u6280\u672f\u200b\u7684\u200b\u96c6\u6210\u200b\u4e86\u200b\u5904\u7406\u5668\u200b\u7684\u200bA/D\u200b\u8f6c\u6362\u5668\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u628a\u200b\u4ed6\u4eec\u200b\u79f0\u4e3a\u200b\u201c\u200b\u667a\u80fd\u200bA/D\u200b\u8f6c\u6362\u5668\u200b\u201d</p>"},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/#2-ad","title":"2. AD\u200b\u7684\u200b\u57fa\u672c\u200b\u6982\u8ff0","text":"<p>\u200b\u4ece\u200bAD\u200b\u7684\u200b\u540d\u5b57\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\uff0cAD\u200b\u5c31\u662f\u200b\u5c06\u200b\u65f6\u95f4\u200b\u8fde\u7eed\u200b\u3001\u200b\u5e45\u503c\u200b\u4e5f\u200b\u8fde\u7eed\u200b\u7684\u200b\u6a21\u62df\u91cf\u200b\u8f6c\u6362\u6210\u200b\u65f6\u95f4\u200b\u79bb\u6563\u200b\u3001\u200b\u5e45\u503c\u200b\u4e5f\u200b\u79bb\u6563\u200b\u7684\u200b\u6570\u5b57\u4fe1\u53f7\u200b\u3002</p>"},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/#3-ad","title":"3. AD\u200b\u7684\u200b\u901a\u4fe1\u534f\u8bae","text":"<p>TLC549\u200b\u5185\u90e8\u200b\u5177\u6709\u200b4MHZ\u200b\u7684\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\uff0c\u200b\u5e76\u4e14\u200b\u8be5\u200b\u65f6\u949f\u200b\u57df\u200bI/O CLOCK\u200b\u662f\u200b\u72ec\u7acb\u200b\u5de5\u4f5c\u200b\u7684\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u65e0\u9700\u200b\u7279\u6b8a\u200b\u7684\u200b\u901f\u5ea6\u200b\u6216\u200b\u76f8\u4f4d\u200b\u5339\u914d\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b\u65f6\u5e8f\u200b\u7684\u200b\u64cd\u4f5c\u200b</p>"},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/#31-ad","title":"3.1 AD\u200b\u65f6\u5e8f\u200b\u56fe","text":"<p>\u200b\u5728\u200b\u8fd9\u91cc\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u51e0\u4e2a\u200b\u95ee\u9898\u200b\uff1a</p> <ol> <li>\u200b\u5f53\u200bCS\u200b\u4e3a\u200b\u9ad8\u65f6\u200b\uff0c\u200b\u8f6c\u6362\u200b\u7ed3\u679c\u200b\u8f93\u51fa\u200b\u4e32\u884c\u200b\u8f93\u51fa\u200b\u7aef\u200bDATA OUT\u200b\u5904\u4e8e\u200b\u9ad8\u963b\u200b\u72b6\u6001\u200b\uff0c\u200b\u6b64\u65f6\u200bI/O CLOCK\u200b\u4e0d\u8d77\u4f5c\u7528\u200b</li> <li>\u200b\u5f53\u200bCS\u200b\u4e3a\u200b\u4f4e\u65f6\u200b\uff0cAD\u200b\u524d\u200b\u4e00\u6b21\u200b\u8f6c\u6362\u200b\u6570\u636e\u200bA\u200b\u7684\u200b\u6700\u9ad8\u200b\u4f4d\u200bA7\u200b\u7acb\u5373\u200b\u51fa\u73b0\u200b\u5728\u200b\u6570\u636e\u7ebf\u200bDATA OUT\u200b\u4e0a\u200b\uff0c\u200b\u5176\u4f59\u200b\u7684\u200b7\u200b\u4f4d\u200b\u6570\u636e\u200b\u5728\u200bI/O CLOCK\u200b\u7684\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u4e00\u6b21\u200b\u7531\u200b\u65f6\u949f\u200b\u540c\u6b65\u200b\u8f93\u51fa\u200b\u3002\u200b\u56e0\u6b64\u200b\u53ef\u200b\u5728\u200bI/O CLOCK\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u8bfb\u53d6\u6570\u636e\u200b\u3002</li> <li>\u200b\u5f53\u200bCS\u200b\u53d8\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\u5230\u200bI/O CLOCK\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u5230\u6765\u200b\u81f3\u5c11\u200b\u9700\u8981\u200b1.4us\u3002</li> <li>I/O CLOCK\u200b\u4e0d\u80fd\u200b\u8d85\u8fc7\u200b1.1MHZ\u3002</li> <li>\u200b\u8bfb\u5b8c\u200b8\u200b\u4f4d\u200b\u6570\u636e\u200b\uff0cAD\u200b\u5f00\u59cb\u200b\u8f6c\u6362\u200b\u8fd9\u6b21\u200b\u7684\u200b\u91c7\u6837\u200b\u6570\u636e\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u4e0b\u200b\u4e00\u6b21\u200b\u8bfb\u53d6\u200b\u3002\u200b\u8f6c\u6362\u200b\u65f6\u7247\u200b\u9009\u200b\u4fe1\u53f7\u200bCS\u200b\u5fc5\u987b\u200b\u7f6e\u200b\u9ad8\u7535\u5e73\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u8f6c\u6362\u200b\u65f6\u95f4\u200b\u4e0d\u200b\u8d85\u8fc7\u200b17us\uff0c\u200b\u5f00\u59cb\u200b\u4e8e\u200bCS\u200b\u53d8\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\u540e\u200bI/O CLOSK\u200b\u7684\u200b\u7b2c\u200b8\u200b\u4e2a\u200b\u4e0b\u964d\u200b\u6cbf\u200b\uff0c\u200b\u6ca1\u6709\u200b\u8f6c\u6362\u200b\u5b8c\u6210\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\uff1b\u200b\u4e5f\u200b\u6ca1\u6709\u200b\u542f\u52a8\u200b\u63a7\u5236\u200b\u7aef\u200b\uff0c\u200b\u53ea\u8981\u200b\u8bfb\u53d6\u200b\u524d\u200b\u4e00\u6b21\u200b\u6570\u636e\u200b\u540e\u200b\u9a6c\u4e0a\u200b\u5f00\u59cb\u200b\u65b0\u200b\u7684\u200bAD\u200b\u8f6c\u6362\u200b\uff0c\u200b\u8f6c\u6362\u200b\u5b8c\u6210\u200b\u4e4b\u540e\u200b\u8fdb\u5165\u200b\u4fdd\u6301\u200b\u72b6\u6001\u200b\u3002</li> </ol>"},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/#4-tlc549_ad","title":"4. TLC549_AD\u200b\u4e32\u884c\u200b\u82af\u7247\u200b\u7684\u200b\u5b9e\u6218","text":"<p>\u200b\u5b83\u200b\u4ee5\u200b8\u200b\u4f4d\u200b\u5f00\u5173\u200b\u7535\u5bb9\u200b\u9010\u6b21\u200b\u903c\u8fd1\u200b\u578b\u200b[^1]\u200b\u7684\u200b\u65b9\u6cd5\u200b\u5b9e\u73b0\u200bAD\u200b\u8f6c\u6362\u200b\uff0c\u200b\u5176\u200b\u5185\u90e8\u200b\u5177\u6709\u200b4MHZ\u200b\u7684\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\uff0c\u200b\u8f6c\u6362\u200b\u901f\u5ea6\u200b\u5c0f\u4e8e\u200b17us\uff0c\u200b\u5b83\u200b\u5141\u8bb8\u200b\u7684\u200b\u6700\u5927\u200b\u8f6c\u6362\u200b\u901f\u7387\u200b\u4e3a\u200b40_000\u200b\u6b21\u200b/s\uff0c\u200b\u7535\u6e90\u200b\u4e3a\u200b3V-6V\uff0c\u200b\u80fd\u200b\u65b9\u4fbf\u200b\u5730\u200b\u91c7\u7528\u200b\u4e09\u7ebf\u200b\u4e32\u884c\u63a5\u53e3\u200b\u65b9\u5f0f\u200b\u4e0e\u200b\u5404\u79cd\u200b\u5fae\u5904\u7406\u5668\u200b\u8fdb\u884c\u200b\u94fe\u200b\u8fde\u63a5\u200b</p>"},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/#41","title":"4.1 \u200b\u5f15\u811a\u200b\u542b\u4e49\u200b\u5982\u4e0b\u200b\uff1a","text":"<ul> <li> <p>REF+\uff1a\u200b\u6b63\u200b\u57fa\u51c6\u200b\u7535\u538b\u200b\u8f93\u5165\u200b 2.5V\u2264REF+\u2264Vcc+0.1\u3002</p> </li> <li> <p>REF\uff0d\uff1a\u200b\u8d1f\u200b\u57fa\u51c6\u200b\u7535\u538b\u200b\u8f93\u5165\u200b\u7aef\u200b\uff0c-0.1V\u2264REF-\u22642.5V\u3002\u200b\u4e14\u200b\u8981\u6c42\u200b\uff1a\uff08REF+\uff09\uff0d\uff08REF-\uff09\u22651V\u3002</p> </li> <li> <p>VCC\uff1a\u200b\u7cfb\u7edf\u200b\u7535\u6e90\u200b3V\u2264Vcc\u22646V\u3002</p> </li> <li> <p>GND\uff1a\u200b\u63a5\u5730\u200b\u7aef\u200b\u3002</p> </li> <li> <p>/CS\uff1a\u200b\u82af\u7247\u200b\u9009\u62e9\u200b\u8f93\u5165\u200b\u7aef\u200b\uff0c\u200b\u8981\u6c42\u200b\u8f93\u5165\u200b\u9ad8\u7535\u5e73\u200b VIN\u22652V\uff0c\u200b\u8f93\u5165\u200b\u4f4e\u7535\u5e73\u200b VIN\u22640.8V\u3002</p> </li> <li> <p>DATA OUT\uff1a\u200b\u8f6c\u6362\u200b\u7ed3\u679c\u200b\u6570\u636e\u200b\u4e32\u884c\u200b\u8f93\u51fa\u200b\u7aef\u200b\uff0c\u200b\u4e0e\u200b TTL \u200b\u7535\u5e73\u200b\u517c\u5bb9\u200b\uff0c\u200b\u8f93\u51fa\u200b\u65f6\u200b\u9ad8\u4f4d\u200b\u5728\u200b\u524d\u200b\uff0c\u200b\u4f4e\u4f4d\u200b\u5728\u200b\u540e\u200b\u3002</p> </li> <li> <p>ANALOGIN\uff1a\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u8f93\u5165\u200b\u7aef\u200b\uff0c0\u2264ANALOGIN\u2264Vcc\uff0c\u200b\u5f53\u200b ANALOGIN\u2265REF+\u200b\u7535\u538b\u200b\u65f6\u200b\uff0c\u200b\u8f6c\u6362\u200b\u7ed3\u679c\u200b\u4e3a\u200b\u5168\u200b\u201c1\u201d(0FFH)\uff0cANALOGIN\u2264REF-\u200b\u7535\u538b\u200b\u65f6\u200b\uff0c\u200b\u8f6c\u6362\u200b\u7ed3\u679c\u200b\u4e3a\u200b\u5168\u200b\u201c0\u201d(00H)\u3002</p> </li> <li> <p>I/O CLOCK\uff1a\u200b\u5916\u63a5\u200b\u8f93\u5165\u200b/\u200b\u8f93\u51fa\u200b\u65f6\u949f\u200b\u8f93\u5165\u200b\u7aef\u200b\uff0c\u200b\u540c\u200b\u4e8e\u200b\u540c\u6b65\u200b\u82af\u7247\u200b\u7684\u200b\u8f93\u5165\u8f93\u51fa\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u65e0\u9700\u200b\u4e0e\u200b\u82af\u7247\u200b\u5185\u90e8\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u540c\u6b65\u200b\u3002</p> </li> </ul>"},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/#42","title":"4.2 \u200b\u82af\u7247\u200b\u8fde\u63a5\u200b\u539f\u7406","text":"<p>\u200b\u82af\u7247\u200b\u624b\u518c\u200b\u53ca\u200b\u5b9e\u9a8c\u200b\u89e3\u6790\u200b\u6587\u6863\u200b\u94fe\u63a5\u200b\u5982\u4e0b\u200b\uff1a</p> <p>https://zikwq.lanzout.com/b00rn1bf8h \u200b\u5bc6\u7801\u200b:9q6b</p>"},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/#43","title":"4.3 \u200b\u9010\u6b21\u200b\u903c\u8fd1\u200b\u578b\u200b\u539f\u7406","text":""},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/#44","title":"4.4\u200b\u91cf\u5316\u200b\u7535\u5e73","text":""},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/#45","title":"4.5 \u200b\u4ee3\u7801\u200b\u6a21\u5757","text":"<p>\u200b\u6846\u56fe\u200b\u9488\u5bf9\u200bFPGA\u200b\u8bbe\u8ba1\u200b\uff0c\u200b\u5176\u4e2d\u200bdata\u200b\u4e3a\u200bAD\u200b\u7684\u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200bFPGA\u200b\u7684\u200b\u8f93\u5165\u200b\u7aef\u200b</p> <p>```verilog TCL549.v module TLC549(                 clk,  //\u200b\u7cfb\u7edf\u200b\u8f93\u5165\u200b\u65f6\u949f\u200b                 ioclk,//AD\u200b\u9a71\u52a8\u200b\u65f6\u949f\u200b                 data, //TLC549\u200b\u7684\u200b\u6570\u636e\u200b\u4e32\u884c\u200b\u8f93\u51fa\u200b\u7aef\u200b\uff0c\u200b\u76f8\u5bf9\u200b\u4e8e\u200bFPGA\u200b\u4e3a\u200b\u8f93\u5165\u200b                 cs,   //AD\u200b\u7247\u9009\u200b\u4fe1\u53f7\u200b                 rst_n,//\u200b\u7cfb\u7edf\u200b\u590d\u4f4d\u200b                 segdata,//\u200b\u6570\u7801\u7ba1\u200b\u6bb5\u9009\u200b                 segcs//\u200b\u6570\u7801\u7ba1\u200b\u4f4d\u9009\u200b              ); input clk; input data; input rst_n;</p> <p>output reg cs; output reg ioclk; output reg [7:0]segdata; output reg [2:0]segcs;</p> <p>reg[31:0] count; reg[24:0]count1ms; reg[3:0] cnt; reg[2:0]number; reg[1:0] state; reg[7:0]dataout; reg[15:0]tenvalue; reg clk1ms;</p> <p>parameter sample=2'b00,           display=2'b01;</p> <p>//-----------\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\u65f6\u949f\u200b----------- always@(posedge clk)   begin     if(count&lt;16'd1000)        count&lt;=count+1'b1;       else       begin        count&lt;=0;        ioclk&lt;=~ioclk;        end  end</p> <p>//-----------\u200b\u6570\u7801\u7ba1\u200b\u9a71\u52a8\u200b\u65f6\u949f\u200b-----------  always@(posedge clk)   begin      if(count1ms&gt;25'd1000_0)       begin       clk1ms&lt;=~clk1ms;       count1ms&lt;=0;       end     else       count1ms&lt;=count1ms+1;   end</p> <p>//-----------AD\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b----------- always@(negedge ioclk)    begin      case(state)         sample:             begin                 cs&lt;=0;                 dataout[7:0]&lt;={dataout[6:0],data};                  if(cnt&gt;4'd7)                      begin                         cnt&lt;=0;                         state&lt;=display;                     end                 else                     begin                         cnt&lt;=cnt+1;                         state&lt;=sample;                     end             end        display:           begin                 cs&lt;=1;                 tenvalue&lt;=(dataout * 1000 * 25 )/256;                 state&lt;=sample;           end       default: state&lt;=display;     endcase   end</p> <p>//-----------\u200b\u6570\u7801\u7ba1\u200b\u8bd1\u7801\u200b----------- function[7:0] leddata; input[3:0]    datain; begin   case(datain)     4'd0: leddata=8'b11000000;//0     4'd1: leddata=8'b11111001;//1     4'd2: leddata=8'b10100100;//2     4'd3: leddata=8'b10110000;//3     4'd4: leddata=8'b10011001;//4     4'd5: leddata=8'b10010010;//5     4'd6: leddata=8'b10000010;//6     4'd7: leddata=8'b11111000;//7     4'd8: leddata=8'b10000000;//8     4'd9: leddata=8'b10010000;//9     4'd10: leddata=8'b10111111;//-     4'd11: leddata=8'b01111111;//.     default:leddata=8'bzzzz_zzzz;    endcase end endfunction</p> <p>//-----------\u200b\u6570\u7801\u7ba1\u200b\u626b\u63cf\u200b----------- always@(posedge clk1ms)  begin     if(number==4) number&lt;=0;     else      begin          number&lt;=number+1;         case(number)           4'd0:             begin                 segdata&lt;=leddata((tenvalue/10)%10);//\u200b\u4e2a\u200b\u4f4d\u200b                        segcs&lt;=3'b011;             end          4'd1:             begin                 segdata&lt;=leddata((tenvalue/100)%10);//\u200b\u5341\u4f4d\u200b                          segcs&lt;=3'b010;             end          4'd2:             begin                 segdata&lt;=leddata((tenvalue/1000)%10); //\u200b\u767e\u4f4d\u200b                        segcs&lt;=3'b001;             end          4'd3:             begin                 segdata&lt;=leddata(tenvalue/10000);//\u200b\u5343\u4f4d\u200b                         segcs&lt;=3'b000;             end         endcase     end end    </p> <p>endmodule</p> <pre><code>\n\n\n# 5. 3PA1030\u200b\u53cc\u8def\u200b\u9ad8\u901f\u200bAD\u200b\u5e76\u884c\u200b\u82af\u7247\u200b\u7684\u200b\u5b9e\u6218\u200b\n\n\u200b\u53c2\u8003\u200b\u91ce\u706b\u200bFPGA\u200b\u7b2c\u200b24_dig_volt\u200b\u6559\u7a0b\u200b\u8d44\u6599\u200b\n\n```verilog adc.v\n`timescale  1ns/1ns\n////////////////////////////////////////////////////////////////////////\n// Author        : EmbedFire\n// Create Date   : 2019/08/10\n// Module Name   : adc\n// Project Name  : dig_volt\n// Target Devices: Altera EP4CE10F17C8N\n// Tool Versions : Quartus 13.0\n// Description   : \u200b\u7535\u538b\u200b\u8ba1\u7b97\u200b\u6a21\u5757\u200b\n//\n// Revision      : V1.0\n// Additional Comments:\n// \n// \u200b\u5b9e\u9a8c\u200b\u5e73\u53f0\u200b: \u200b\u91ce\u706b\u200b_\u200b\u5f81\u9014\u200bPro_FPGA\u200b\u5f00\u53d1\u677f\u200b\n// \u200b\u516c\u53f8\u200b    : http://www.embedfire.com\n// \u200b\u8bba\u575b\u200b    : http://www.firebbs.cn\n// \u200b\u6dd8\u5b9d\u200b    : https://fire-stm32.taobao.com\n////////////////////////////////////////////////////////////////////////\n\nmodule  adc\n(\n    input   wire            sys_clk         ,   //\u200b\u65f6\u949f\u200b\n    input   wire            sys_rst_n       ,   //\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\n    input   wire    [7:0]   ad_data         ,   //AD\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\n\n    output  wire            ad_clk          ,   //AD\u200b\u9a71\u52a8\u200b\u65f6\u949f\u200b,\u200b\u6700\u5927\u200b\u652f\u6301\u200b20Mhz\u200b\u65f6\u949f\u200b\n    output  wire            sign            ,   //\u200b\u6b63\u8d1f\u200b\u7b26\u53f7\u200b\u4f4d\u200b\n    output  wire    [15:0]  volt                //\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u540e\u200b\u7684\u200b\u7535\u538b\u200b\u503c\u200b\n);\n//********************************************************************//\n//******************Parameter And Internal Signal ********************//\n//********************************************************************//\n//parameter define\nparameter   CNT_DATA_MAX = 11'd1024;    //\u200b\u6570\u636e\u200b\u7d2f\u52a0\u200b\u6b21\u6570\u200b\n\n//wire  define\nwire    [27:0]  data_p      ;   //\u200b\u6839\u636e\u200b\u4e2d\u200b\u503c\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u6b63\u5411\u200b\u7535\u538b\u200bAD\u200b\u5206\u8fa8\u7387\u200b\nwire    [27:0]  data_n      ;   //\u200b\u6839\u636e\u200b\u4e2d\u200b\u503c\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u8d1f\u5411\u200b\u7535\u538b\u200bAD\u200b\u5206\u8fa8\u7387\u200b\n\n//reg define\nreg             median_en   ;   //\u200b\u4e2d\u503c\u200b\u4f7f\u200b\u80fd\u200b\nreg     [10:0]  cnt_median  ;   //\u200b\u4e2d\u200b\u503c\u200b\u6570\u636e\u200b\u7d2f\u52a0\u200b\u8ba1\u6570\u5668\u200b\nreg     [18:0]  data_sum_m  ;   //1024\u200b\u6b21\u200b\u4e2d\u503c\u200b\u6570\u636e\u200b\u7d2f\u52a0\u200b\u603b\u548c\u200b\nreg     [7:0]   data_median ;   //\u200b\u4e2d\u200b\u503c\u200b\u6570\u636e\u200b\nreg     [1:0]   cnt_sys_clk ;   //\u200b\u65f6\u949f\u200b\u5206\u9891\u200b\u8ba1\u6570\u5668\u200b\nreg             clk_sample  ;   //\u200b\u91c7\u6837\u200b\u6570\u636e\u200b\u65f6\u949f\u200b\nreg     [27:0]  volt_reg    ;   //\u200b\u7535\u538b\u200b\u503c\u200b\u5bc4\u5b58\u200b\n\n//********************************************************************//\n//***************************** Main Code ****************************//\n//********************************************************************//\n//\u200b\u6570\u636e\u200bad_data\u200b\u662f\u200b\u5728\u200bad_sys_clk\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u66f4\u65b0\u200b\n//\u200b\u6240\u4ee5\u200b\u5728\u200bad_sys_clk\u200b\u7684\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u91c7\u96c6\u200b\u6570\u636e\u200b\u662f\u200b\u6570\u636e\u200b\u7a33\u5b9a\u200b\u7684\u200b\u65f6\u523b\u200b\n//FPGA\u200b\u5185\u90e8\u200b\u4e00\u822c\u200b\u4f7f\u7528\u200b\u4e0a\u5347\u200b\u6cbf\u9501\u5b58\u200b\u6570\u636e\u200b,\u200b\u6240\u4ee5\u200b\u65f6\u949f\u200b\u53d6\u53cd\u200b\n//\u200b\u8fd9\u6837\u200bad_sys_clk\u200b\u7684\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u76f8\u5f53\u4e8e\u200bsample_sys_clk\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\nassign  ad_clk = ~clk_sample;\n\n//sign:\u200b\u6b63\u8d1f\u200b\u7b26\u53f7\u200b\u4f4d\u200b\nassign  sign = (ad_data &lt; data_median) ? 1'b1 : 1'b0;\n\n//\u200b\u65f6\u949f\u200b\u5206\u9891\u200b(4\u200b\u5206\u9891\u200b,\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u4e3a\u200b12.5Mhz),\u200b\u4ea7\u751f\u200b\u91c7\u6837\u200bAD\u200b\u6570\u636e\u200b\u65f6\u949f\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        begin\n            cnt_sys_clk &lt;=  2'd0;\n            clk_sample  &lt;=  1'b0;\n        end\n        else\n        begin\n            cnt_sys_clk &lt;=  cnt_sys_clk + 2'd1;\n        if(cnt_sys_clk == 2'd1)\n            begin\n            cnt_sys_clk &lt;=  2'd0;\n            clk_sample  &lt;=  ~clk_sample;\n            end\n        end\n\n//\u200b\u4e2d\u503c\u200b\u4f7f\u200b\u80fd\u200b\u4fe1\u53f7\u200b\nalways@(posedge clk_sample or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        median_en   &lt;=  1'b0;\n    else    if(cnt_median == CNT_DATA_MAX)\n        median_en   &lt;=  1'b1;\n    else\n        median_en   &lt;=  median_en;\n\n//cnt_median:\u200b\u4e2d\u200b\u503c\u200b\u6570\u636e\u200b\u7d2f\u52a0\u200b\u8ba1\u6570\u5668\u200b\nalways@(posedge clk_sample or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        cnt_median    &lt;=  11'd0;\n    else    if(median_en == 1'b0)\n        cnt_median    &lt;=  cnt_median + 1'b1;\n\n//data_sum_m:1024\u200b\u6b21\u200b\u4e2d\u503c\u200b\u6570\u636e\u200b\u7d2f\u52a0\u200b\u603b\u548c\u200b\nalways@(posedge clk_sample or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        data_sum_m  &lt;=  19'd0;\n    else    if(cnt_median == CNT_DATA_MAX)\n        data_sum_m    &lt;=  19'd0;\n    else\n        data_sum_m    &lt;=  data_sum_m + ad_data;\n\n//data_median:\u200b\u4e2d\u200b\u503c\u200b\u6570\u636e\u200b\nalways@(posedge clk_sample or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        data_median    &lt;=  8'd0;\n    else    if(cnt_median == CNT_DATA_MAX)\n        data_median    &lt;=  data_sum_m / CNT_DATA_MAX;\n    else\n        data_median    &lt;=  data_median;\n\n//data_p:\u200b\u6839\u636e\u200b\u4e2d\u200b\u503c\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u6b63\u5411\u200b\u7535\u538b\u200bAD\u200b\u5206\u8fa8\u7387\u200b(\u200b\u653e\u5927\u200b2^13*1000\u200b\u500d\u200b)\n//data_n:\u200b\u6839\u636e\u200b\u4e2d\u200b\u503c\u200b\u8ba1\u7b97\u200b\u51fa\u200b\u7684\u200b\u8d1f\u5411\u200b\u7535\u538b\u200bAD\u200b\u5206\u8fa8\u7387\u200b(\u200b\u653e\u5927\u200b2^13*1000\u200b\u500d\u200b)\nassign  data_p = (median_en == 1'b1) ? 8192_0000 / ((255 - data_median) * 2) : 0;\nassign  data_n = (median_en == 1'b1) ? 8192_0000 / ((data_median + 1) * 2) : 0;\n\n//volt_reg:\u200b\u5904\u7406\u200b\u540e\u200b\u7684\u200b\u7a33\u5b9a\u200b\u6570\u636e\u200b\nalways@(posedge clk_sample or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        volt_reg    &lt;= 'd0;\n    else    if(median_en == 1'b1)\n        if((ad_data &gt; (data_median - 3))&amp;&amp;(ad_data &lt; (data_median + 3)))\n            volt_reg    &lt;= 'd0;\n        else    if(ad_data &lt; data_median)\n            volt_reg &lt;= (data_n *(data_median - ad_data)) &gt;&gt; 13;\n        else    if(ad_data &gt; data_median)\n            volt_reg &lt;= (data_p *(ad_data - data_median)) &gt;&gt; 13;\n    else\n        volt_reg    &lt;= 'd0;\n\n//volt:\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u540e\u200b\u7684\u200b\u7535\u538b\u200b\u503c\u200b\nassign  volt    =   volt_reg;\n\nendmodule\n</code></pre>"},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/#6-ad","title":"6. \u200b\u5e38\u89c1\u200b\u7684\u200b\u5176\u4ed6\u200bAD\u200b\u82af\u7247\u200b\u77e5\u8bc6\u200b\u6c47\u603b","text":""},{"location":"fpga/AD%E5%A4%96%E8%AE%BE%E7%9A%84%E5%8E%9F%E7%90%86/#_1","title":"\u53c2\u8003\u8d44\u6599","text":"<p>[1]. \u200b\u4e66\u7c4d\u200b\uff1a\u200b\u5e38\u7528\u200bA/D\u3001D/A\u200b\u5668\u4ef6\u200b\u624b\u518c\u200b-\u200b\u5f20\u5fd7\u521a\u200b\u4e3b\u7f16\u200b-\u200b\u7535\u5b50\u200b\u5de5\u4e1a\u200b\u51fa\u7248\u793e\u200b\u51fa\u7248\u200b</p> <p>[2]. https://zhuanlan.zhihu.com/p/682927018</p>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/","title":"DDR3\u200b\u8bfb\u5199\u200b\u63a7\u5236\u5668\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#1","title":"1. \u200b\u4e0a\u677f\u200b\u9a8c\u8bc1","text":"<p>\u00b7\u00b7\u00b7 \u200b\u5173\u4e8e\u200b\u4e0a\u677f\u200b\uff0c\u200b\u9700\u8981\u200b\u6401\u7f6e\u200b\u4e00\u6bb5\u843d\u200b\uff0c\u200b\u6211\u200b\u770b\u200b\u7684\u200b\u91ce\u706b\u200b\u6559\u7a0b\u200b\u5e76\u200b\u6ca1\u6709\u200b\u66f4\u65b0\u200b\u5230\u200b\u4e0a\u677f\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u90e8\u5206\u200b\uff0c\u200b\u6240\u4ee5\u200b\u9700\u8981\u200b\u53bb\u200b\u89c2\u770b\u200b\u5176\u4ed6\u200b\u76f8\u5173\u200b\u7684\u200b\u5b9e\u64cd\u200b\u89c6\u9891\u200b\u6765\u200b\u586b\u5751\u200b~~</p>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#2","title":"2. \u200b\u7406\u8bba\u200b\u5b66\u4e60","text":""},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#21-ddr3-sdram","title":"2.1 DDR3 SDRAM\u200b\u7684\u200b\u57fa\u672c\u6982\u5ff5","text":"<p>DDR3\u200b\u5185\u5b58\u6761\u200b\u5c31\u200b\u50cf\u200b\u4e00\u672c\u200b\u7531\u200b\u591a\u4e2a\u200b\u9875\u9762\u200b\u7ec4\u6210\u200b\u7684\u200b\u4e66\u200b\u3002\u200b\u5728\u200b\u8fd9\u200b\u672c\u4e66\u200b\u4e2d\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u9875\u200b\u90fd\u200b\u4ee3\u8868\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u903b\u8f91\u200b\u5355\u5143\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200bbank\u3002\u200b\u6bcf\u4e2a\u200bbank\u200b\u662f\u200b\u5185\u5b58\u200b\u7684\u200b\u4e00\u4e2a\u200b\u72ec\u7acb\u200b\u90e8\u5206\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u72ec\u7acb\u200b\u5730\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u7684\u200b\u8bfb\u5199\u64cd\u4f5c\u200b\u3002 </p> <p>\u200b\u5728\u200b\u6bcf\u200b\u4e00\u9875\u200b\uff08bank\uff09\u200b\u4e2d\u200b\uff0c\u200b\u6570\u636e\u200b\u88ab\u200b\u7ec4\u7ec7\u200b\u6210\u884c\u200b\u548c\u200b\u5217\u200b\uff0c\u200b\u7c7b\u4f3c\u200b\u4e8e\u200b\u8868\u683c\u200b\u3002\u200b\u901a\u8fc7\u200b\u884c\u200b\u5730\u5740\u200b\u548c\u200b\u5217\u200b\u5730\u5740\u200b\uff0c\u200b\u6211\u4eec\u200b\u53ef\u4ee5\u200b\u5b9a\u4f4d\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u8868\u683c\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7279\u5b9a\u200b\u5355\u5143\u683c\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u5355\u5143\u683c\u200b\u5c31\u662f\u200b\u5185\u5b58\u200b\u4e2d\u200b\u7684\u200b\u57fa\u672c\u200b\u903b\u8f91\u200b\u5355\u5143\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u5355\u5143\u683c\u200b\u53ef\u4ee5\u200b\u5b58\u50a8\u200b\u4e00\u4e2a\u200b\u5b57\u200b\uff08word\uff09\uff0c\u200b\u5176\u200b\u5927\u5c0f\u200b\u7531\u200bDDR3\u200b\u5185\u5b58\u6761\u200b\u7684\u200b\u4f4d\u200b\u5bbd\u200b\u51b3\u5b9a\u200b\u3002\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u5185\u5b58\u6761\u200b\u7684\u200b\u4f4d\u200b\u5bbd\u200b\u662f\u200b64\u200b\u4f4d\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u4e2a\u200b\u5b57\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5b58\u50a8\u200b64\u200b\u4f4d\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u4f4d\u200b\u5bbd\u200b\u662f\u200b\u5185\u5b58\u6761\u200b\u7684\u200b\u4e00\u4e2a\u200b\u91cd\u8981\u200b\u53c2\u6570\u200b\uff0c\u200b\u5b83\u200b\u51b3\u5b9a\u200b\u4e86\u200b\u5185\u5b58\u200b\u4e00\u6b21\u200b\u80fd\u591f\u200b\u4f20\u8f93\u200b\u7684\u200b\u6570\u636e\u91cf\u200b\u3002\u200b\u4f4d\u200b\u5bbd\u200b\u8d8a\u200b\u5927\u200b\uff0c\u200b\u5355\u6b21\u200b\u4f20\u8f93\u200b\u7684\u200b\u6570\u636e\u91cf\u200b\u5c31\u200b\u8d8a\u200b\u591a\u200b\uff0c\u200b\u4ece\u800c\u200b\u63d0\u9ad8\u200b\u5185\u5b58\u200b\u7684\u200b\u5e26\u5bbd\u200b\u548c\u200b\u6027\u80fd\u200b\u3002</p> <p>\u200b\u5185\u5b58\u200b\u7684\u200b\u603b\u200b\u5bb9\u91cf\u200b\u662f\u200b\u7531\u200b\u6240\u6709\u200bbank\u200b\u7684\u200b\u5bb9\u91cf\u200b\u603b\u548c\u200b\u51b3\u5b9a\u200b\u7684\u200b\u3002\u200b\u6bcf\u4e2a\u200bbank\u200b\u7684\u200b\u5bb9\u91cf\u200b\u4e58\u4ee5\u200bbank\u200b\u7684\u200b\u6570\u91cf\u200b\uff0c\u200b\u518d\u200b\u4e58\u4ee5\u200b\u6bcf\u4e2a\u200b\u5b58\u50a8\u5355\u5143\u200b\u7684\u200b\u4f4d\u6570\u200b\uff0c\u200b\u5c31\u200b\u5f97\u5230\u200b\u4e86\u200b\u6574\u4e2a\u200b\u5185\u5b58\u6761\u200b\u7684\u200b\u603b\u200b\u5bb9\u91cf\u200b\u3002\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5185\u5b58\u6761\u200b\u7684\u200b\u5bb9\u91cf\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u589e\u52a0\u200bbank\u200b\u7684\u200b\u6570\u91cf\u200b\u6216\u200b\u589e\u52a0\u200b\u6bcf\u4e2a\u200bbank\u200b\u7684\u200b\u5bb9\u91cf\u200b\u6765\u200b\u63d0\u5347\u200b\u3002</p> <p>DDR3 SDRAM\u200b\u82f1\u6587\u200b\u5168\u79f0\u200b\u201cDouble-Data-Rate- Three Synchronous Dynamic Random Access Memory\u201d\uff0c\u200b\u7ffb\u8bd1\u6210\u200b\u4e2d\u6587\u200b\u4e3a\u200b\u201c\u200b\u7b2c\u4e09\u4ee3\u200b\u53cc\u500d\u200b\u901f\u7387\u200b\u540c\u6b65\u200b\u52a8\u6001\u200b\u968f\u673a\u5b58\u53d6\u200b\u5185\u5b58\u200b\u201d\u200b\u6216\u200b\u201c\u200b\u540c\u6b65\u200b\u52a8\u6001\u968f\u673a\u200b\u5b58\u50a8\u5668\u200b\u201d\uff0c\u200b\u662f\u200b\u52a8\u6001\u968f\u673a\u200b\u5b58\u50a8\u5668\u200b\uff08\u200b\u7b80\u79f0\u200b\uff1aDRAM\uff09\u200b\u5bb6\u65cf\u200b\u7684\u200b\u4e00\u4efd\u200b\u5b50\u200b\u3002</p> <p>\u200b\u5173\u952e\u8bcd\u200b\uff1a\u200b\u53cc\u500d\u200b\u7387\u200b\u3001\u200b\u540c\u6b65\u200b\u3001\u200b\u52a8\u6001\u200b\u3001\u200b\u968f\u673a\u200b</p> <ol> <li> <p>\u200b\u53cc\u500d\u200b\u901f\u7387\u200b\uff1a\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u5728\u200b\u65f6\u949f\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u548c\u200b\u4e0b\u964d\u200b\u6cbf\u90fd\u200b\u53ef\u4ee5\u200b\u4f20\u8f93\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b</p> </li> <li> <p>\u200b\u540c\u6b65\u200b\uff1a\u200b\u901a\u5e38\u200bDRAM\u200b\u662f\u200b\u5f02\u6b65\u200b\u7684\u200b\uff0c\u200b\u800c\u200bDDR3\u200b\u662f\u200b\u540c\u6b65\u200b\u7684\u200b\uff0c\u200b\u6240\u8c13\u200b\u7684\u200b\u540c\u6b65\u200b\uff0c\u200b\u5c31\u662f\u8bf4\u200b\u5b83\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u5728\u200b\u8bfb\u53d6\u200b\u7684\u200b\u65f6\u5019\u200b \u200b\u6216\u8005\u8bf4\u200b\u662f\u200b\u5728\u200b\u5199\u5165\u200b\u7684\u200b\u65f6\u5019\u200b\u662f\u200b\u6309\u200b\u65f6\u949f\u200b\u540c\u6b65\u200b\u7684\u200b</p> </li> <li> <p>\u200b\u52a8\u6001\u200b\uff1aDDR3\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u5b58\u50a8\u5668\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4f7f\u7528\u200b\u7535\u5bb9\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u4e00\u4e2a\u200b\u5b58\u50a8\u200b\uff0c\u200b\u4e3b\u8981\u200b\u662f\u56e0\u4e3a\u200b\u7535\u5bb9\u200b\u4e00\u4e2a\u200b\u7279\u6027\u200b\u53ef\u4ee5\u200b\u5b58\u50a8\u200b\u7535\u8377\u200b\u3002\u200b\u4f46\u662f\u200b\u7535\u5bb9\u200b\u5b58\u50a8\u200b\u7684\u200b\u7535\u8377\u200b\u4f1a\u200b\u6162\u6162\u200b\u7684\u200b\u8fdb\u884c\u200b\u4e00\u4e2a\u200b\u91ca\u653e\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\u5c31\u200b\u4f1a\u200b\u9020\u6210\u200b\u6570\u636e\u200b\u7684\u200b\u4e00\u4e2a\u200b\u4e0d\u786e\u5b9a\u6027\u200b\uff0c\u200b\u53ef\u80fd\u200b\u8bfb\u53d6\u200b\u7684\u200b\u6570\u636e\u200b\u65f6\u9519\u200b\u7684\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u65f6\u5019\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200bDDR3\u200b\u5c31\u200b\u4f1a\u200b\u8fdb\u884c\u200b\u4e00\u4e2a\u200b\u4e0d\u65ad\u200b\u5730\u200b\u5237\u65b0\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u4e0d\u65ad\u200b\u5730\u200b\u7ed9\u200b\u4ed6\u200b\u8fdb\u884c\u200b\u5145\u7535\u200b\uff0c\u200b\u6765\u200b\u4fdd\u8bc1\u200b\u8fd9\u4e2a\u200b\u5b58\u50a8\u9635\u5217\u200b\u5185\u90e8\u200b\u7684\u200b\u6570\u636e\u200b\u53ef\u9760\u6027\u200b</p> </li> <li> <p>\u200b\u968f\u673a\u200b\uff1a\u200b\u6570\u636e\u200b\u5728\u200bDDR3\u200b\u5f53\u4e2d\u200b\uff0c\u200b\u5e76\u200b\u4e0d\u662f\u200b\u6309\u7167\u200b\u7ebf\u6027\u200b\u4f9d\u6b21\u200b\u5b58\u50a8\u200b\u7684\u200b\uff0c\u200b\u800c\u662f\u200b\u81ea\u7531\u200b\u7684\u200b\u6307\u5b9a\u200b\u5730\u5740\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u7684\u200b\u8bfb\u5199\u200b\u3002\u200b\u53ea\u8981\u200b\u7ed9\u200b\u5b83\u200b\u4e00\u4e2a\u200b\u5730\u5740\u200b\uff0c\u200b\u5b83\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6839\u636e\u200b\u8fd9\u4e2a\u200b\u5730\u5740\u200b\u627e\u5230\u200b\u5177\u4f53\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b58\u50a8\u5355\u5143\u200b\uff0c\u200b\u7136\u540e\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u5730\u5740\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u7684\u200b\u4e00\u4e2a\u200b\u8bfb\u5199\u64cd\u4f5c\u200b</p> </li> </ol> <p>\u200b\u9664\u6b64\u4e4b\u5916\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u53ef\u89c1\u200b\u5b58\u50a8\u91cf\u200b\u4e5f\u200b\u975e\u5e38\u200b\u5927\u200b\u3001\u200b\u8bfb\u53d6\u6570\u636e\u200b\u5feb\u200b\u4ee5\u53ca\u200b\u4ef7\u683c\u200b\u76f8\u5bf9\u200b\u4fbf\u5b9c\u200b\u7684\u200b\u7279\u70b9\u200b</p> <p>\u200b\u5f53\u7136\u200b\uff0c\u200b\u5b83\u200b\u4e5f\u200b\u6709\u200b\u7f3a\u70b9\u200b\uff0c</p> <ol> <li>\u200b\u56e0\u4e3a\u200b\u662f\u200b\u52a8\u6001\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u5c31\u8981\u200b\u4e0d\u65ad\u200b\u7684\u200b\u5bf9\u200b\u5b83\u200b\u8fdb\u884c\u200b\u5145\u7535\u200b\u548c\u200b\u653e\u7535\u200b</li> <li>\u200b\u56e0\u4e3a\u200b\u6570\u636e\u200b\u8bfb\u53d6\u200b\u65f6\u200b\u662f\u200b\u968f\u673a\u200b\u8bfb\u53d6\u200b\u7684\u200b\uff0c\u200b\u9700\u8981\u200b\u5730\u5740\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u884c\u548c\u5217\u200b\u5730\u5740\u200b\u662f\u200b\u5171\u7528\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5730\u5740\u200b\u7aef\u53e3\u200b\uff0c\u200b\u4f7f\u7528\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u5206\u200b\u65f6\u200b\u590d\u7528\u200b\u7684\u200b\u65b9\u5f0f\u200b</li> </ol> <p>\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u7f3a\u70b9\u200b\u5c31\u200b\u4f7f\u5f97\u200bDDR3\uff0c\u200b\u5bf9\u200b\u64cd\u4f5c\u200b\u65f6\u5e8f\u200b\u7684\u200b\u8981\u6c42\u200b\u6bd4\u8f83\u200b\u4e25\u683c\u200b\uff0c\u200b\u8fdb\u800c\u200b\u5bfc\u81f4\u200b\u63a7\u5236\u200b\u903b\u8f91\u200b\u5341\u5206\u590d\u6742\u200b\u3002\u200b\u4f46\u662f\u200b\u4f8b\u5982\u200bXilinx\u200b\u63d0\u4f9b\u200b\u4e86\u200bDDR\u200b\u7684\u200bIP\u200b\u6838\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200b\u8c03\u7528\u200b</p>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#22-ddr3-sdram","title":"2.2 DDR3 SDRAM\u200b\u6570\u636e\u200b\u5b58\u53d6\u200b\u539f\u7406","text":"<p>\u200b\u7b80\u5355\u200b\u6765\u8bf4\u200b\uff0cDDR3\u200b\u5185\u90e8\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200b\u4e00\u4e2a\u200b\u5b58\u50a8\u9635\u5217\u200b\uff0c\u200b\u8fd9\u200b\u5c31\u662f\u200bDDR\u200b\u533a\u522b\u200b\u4e8e\u200b\u7ba1\u9053\u200b\u5f0f\u200b\u5b58\u50a8\u200b\u5b9e\u73b0\u200b\u968f\u673a\u200b\u5730\u5740\u200b\u5b58\u50a8\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7ed3\u6784\u200b\u7279\u70b9\u200b\u3002\u200b\u4e0a\u56fe\u200b\u4e2d\u200b\u3002\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8868\u683c\u200b\u76f8\u5f53\u4e8e\u200b\u4e00\u4e2a\u200b\u5b58\u50a8\u5355\u5143\u200b\uff0c\u200b\u5b58\u50a8\u9635\u5217\u200b\u4e5f\u200b\u53eb\u505a\u200b\u903b\u8f91\u200bBank\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u53eb\u505a\u200bL-Bank\uff0c\u200b\u4e00\u4e2a\u200bDDR3\u200b\u4e00\u822c\u200b\u6709\u200b8\u200b\u4e2a\u200bBank\uff0c\u200b\u8fd9\u4e9b\u200bBank\u200b\u5c31\u200b\u6784\u6210\u200b\u4e86\u200b\u6574\u4f53\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u3002\u200b\u5982\u679c\u200b\u8981\u200b\u60f3\u200b\u5b9e\u73b0\u200b\u5728\u200bDDR3\u200b\u4e2d\u200b\u67d0\u200b\u4e00\u4e2a\u200b\u5b58\u50a8\u5355\u5143\u200b\u8fdb\u884c\u200b\u4e00\u4e2a\u200b\u8bfb\u5199\u200b\u6570\u636e\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u9700\u8981\u200b\u786e\u5b9a\u200b\u5b83\u200b\u7684\u200b\u4e00\u4e2a\u200bBank\u200b\u5730\u5740\u200b\uff0c\u200b\u7136\u540e\u200b\u901a\u8fc7\u200b\u4e00\u4e2a\u200b\u884c\u200b\u5730\u5740\u200b\u548c\u200b\u4e00\u4e2a\u200b\u5217\u200b\u5730\u5740\u200b\uff08\u200b\u6ee1\u8db3\u200b\u4e00\u4e2a\u200b\u5148\u884c\u200b\u540e\u5217\u200b\u7684\u200b\u8981\u6c42\u200b\uff09</p> <p>DDR3\u200b\u7684\u200b\u5b58\u50a8\u200b\uff1aBank --&gt;  RC(\u200b\u884c\u5217\u200b) --&gt; \u200b\u5b58\u50a8\u5355\u5143\u200b</p> <p>\u200b\u603b\u200b\u5b58\u50a8\u5bb9\u91cf\u200b\uff08Bit\uff09= bank\u200b\u6570\u91cf\u200b X \u200b\u884c\u200b\u6570\u91cf\u200b X \u200b\u5217\u200b\u6570\u91cf\u200b X \u200b\u5b58\u50a8\u5355\u5143\u200b\u5bb9\u91cf\u200b</p> <p>\u200b\u4e00\u4e2a\u200b\u5b58\u50a8\u5355\u5143\u200b\u53c8\u200b\u53ef\u4ee5\u200b\u5212\u5206\u200b\u4e3a\u200b\u82e5\u5e72\u4e2a\u200b\u6bd4\u7279\u200b\uff08\u200b\u6839\u636e\u200bDDR3\u200b\u7684\u200b\u4f4d\u200b\u5bbd\u200b\u6765\u200b\u51b3\u5b9a\u200b\uff09\uff0c\u200b\u5982\u679c\u8bf4\u200b\u6211\u4eec\u200b\u7684\u200bDDR3\u200b\u662f\u200b16\u200b\u4f4d\u200b\u7684\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4e00\u4e2a\u200b\u5b58\u50a8\u5355\u5143\u200b\u4e2d\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5b58\u50a8\u200b16\u200b\u4e2a\u200b\u6bd4\u7279\u200b\u6570\u636e\u200b\u3001\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u6bd4\u7279\u200b\u662f\u200b\u5b58\u50a8\u200b\u5728\u200b\u5355\u72ec\u200b\u7684\u200b\u5b58\u50a8\u4f53\u200b\u5f53\u4e2d\u200b\uff0c\u200b\u5b58\u50a8\u4f53\u200b\u662f\u200b\u5229\u7528\u200b\u7535\u5bb9\u200b\u80fd\u591f\u200b\u4fdd\u6301\u200b\u7535\u8377\u200b\u4ee5\u53ca\u200b\u5145\u653e\u70b9\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7279\u6027\u200b\u5236\u6210\u200b\u7684\u200b</p> <p></p> <p></p> <p>DDR3\u200b\u6570\u636e\u200b\u624b\u518c\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b</p> <p>MT41K128M16JT\uff1ahttps://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/MT41K128M16JT.pdf</p> <p>4Gb_DDR3L\uff1ahttps://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/4Gb_DDR3L.pdf</p>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#23-ddr3-sdram","title":"2.3 DDR3 SDRAM\u200b\u5668\u4ef6\u200b\u5f15\u811a\u200b\u8bf4\u660e","text":"<p>\u200b\u6ce8\u610f\u200b\uff0c\u200b\u6b64\u5904\u200b\u5f15\u811a\u200b\u8bf4\u660e\u200b\u5e76\u975e\u200b\u5b9e\u4f8b\u200b\u5316\u65f6\u200b\u6240\u200b\u4f7f\u7528\u200b\u7684\u200b\u5f15\u811a\u200b\uff0c\u200b\u800c\u662f\u200b\u5668\u4ef6\u200b\u7684\u200bx16 Ball Descriptions\u200b\u5f15\u811a\u200b\u8bf4\u660e\u200b\uff0c\u200b\u662f\u200b\u603b\u200bDataSheet\u200b\u4e2d\u200b\u7ffb\u8bd1\u200b\u8fc7\u6765\u200b\u7684\u200b\u3002****</p> \u200b\u5f15\u811a\u200b \u200b\u4f4d\u200b\u5bbd\u200b \u200b\u7aef\u53e3\u200b\u7c7b\u578b\u200b \u200b\u529f\u80fd\u200b\u63cf\u8ff0\u200b CLK,CLK# 2Bit Input \u200b\u5dee\u5206\u200b\u65f6\u949f\u200b\uff1aDDR3 SDRAM\u200b\u7531\u200b\u5dee\u5206\u200b\u65f6\u949f\u200b\u9a71\u52a8\u200b\uff0c\u200b\u6240\u6709\u200bDDR3 SDRAM\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u90fd\u200b\u5728\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u548c\u200b\u4e0b\u964d\u200b\u91c7\u200b\u540c\u65f6\u200bCLK\u200b\u8fd8\u200b\u9012\u589e\u200b\u5185\u90e8\u200b\u7a81\u53d1\u200b\u8ba1\u6570\u5668\u200b\u5e76\u200b\u63a7\u5236\u200b\u8f93\u51fa\u200b\u5bc4\u5b58\u5668\u200b\u3002 RESET# 1Bit Input \u200b\u82af\u7247\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b CKE 1Bit Input \u200b\u65f6\u949f\u200b\u4f7f\u80fd\u200b\uff1a\u200b\u5c4f\u85cf\u200b\u65f6\u949f\u200b\uff0c\u200b\u51bb\u7ed3\u200b\u5f53\u524d\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u9ad8\u7535\u5e73\u200b\u6709\u6548\u200b\uff0c\u200b\u4fe1\u53f7\u200b\u6709\u6548\u200b\u65f6\u200b\uff0c\u200b\u6240\u6709\u200b\u4fe1\u53f7\u200b\u624d\u80fd\u200b\u88ab\u200b\u6b63\u786e\u200b\u9001\u5165\u200bDDR3 SDRAM. CS#(CS_N) 1Bit Input \u200b\u7247\u9009\u200b\u4fe1\u53f7\u200b\uff1a\u200b\u5c4f\u853d\u200b\u548c\u200b\u4f7f\u200b\u80fd\u200b\u6240\u6709\u200b\u8f93\u5165\u8f93\u51fa\u200b\u7aef\u53e3\u200b\uff0cCLK\u3001CKE\u3001DQV\u200b\u9664\u5916\u200b\uff0c\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\u3002\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\u65f6\u200b\uff0c\u200b\u5c4f\u853d\u200b\u6240\u6709\u200b\u547d\u4ee4\u200b\uff0c\u200b\u4f46\u200b\u5df2\u7ecf\u200b\u7a81\u53d1\u200b\u7684\u200b\u8bfb\u200b/\u200b\u5199\u200b\u64cd\u4f5c\u200b\u4e0d\u200b\u53d7\u200b\u5f71\u54cd\u200b\u3002 CAS#(ACS_N) 1Bit Input \u200b\u5217\u9009\u200b\u901a\u4fe1\u200b\u53f7\u200b\uff1a\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\uff0c\u200b\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\u65f6\u200b\uff0cA[9:0]\u200b\u8f93\u5165\u200b\u7684\u200b\u4e3a\u200b\u5217\u200b\u5730\u5740\u200b RAS#(RCS_N) 1Bit Input \u200b\u884c\u9009\u200b\u901a\u4fe1\u200b\u53f7\u200b\uff1a\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\uff0c\u200b\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\u65f6\u200b\uff0cA[13:0]\u200b\u8f93\u5165\u200b\u7684\u200b\u4e3a\u884c\u200b\u5730\u5740\u200b WES#(WE N) 1Bit Input \u200b\u5199\u200b\u4f7f\u200b\u80fd\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\uff0c\u200b\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\u65f6\u200b\uff0c\u200b\u4f7f\u80fd\u200b\u5199\u200b\u64cd\u4f5c\u200b\u548c\u200b\u9884\u5145\u7535\u200b\u3002(CS#\u3001CAS#\u3001RAS#\u3001WE#)\u200b\u6784\u6210\u200bDDR3 SDRAM\u200b\u64cd\u4f5c\u547d\u4ee4\u200b\u3002 LDM,UDM 1Bit Input \u200b\u6570\u636e\u200b\u63a9\u7801\u200b\uff1aLDM\u200b\u4f4e\u5b57\u8282\u200b\u63a9\u7801\u200b\uff0cUDM\u200b\u9ad8\u5b57\u8282\u200b\u63a9\u7801\u200b\uff0c\u200b\u82e5\u200bLDM\u200b\u4fe1\u53f7\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\uff0c\u200b\u5728\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u7684\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\uff0c\u200b\u8f93\u51fa\u200b\u6570\u636e\u603b\u7ebf\u200b\u7684\u200b\u4f4e\u5b57\u8282\u200b\u4e3a\u200b\u9ad8\u200b\u963b\u6001\u200b\u3002UDM\u200b\u5219\u200b\u76f8\u53cd\u200b\u3002 ODT 1Bit Input \u200b\u7247\u4e0a\u200b\u7ec8\u7aef\u200b\u4f7f\u80fd\u200b\uff0c\u200b\u82e5\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u6d88\u9664\u200bDQ\u3001DQS\u3001DW\u200b\u4fe1\u53f7\u200b\u7684\u200b\u53cd\u5c04\u200b\u3002 BA[2:0] 1Bit Input L-Bank\u200b\u5730\u5740\u200b\uff1a\u200b\u9009\u62e9\u200b\u4e0d\u540c\u200b\u7684\u200b\u903b\u8f91\u200bBank\u200b\u8fdb\u884c\u200b\u76f8\u5173\u200b\u6570\u200b A[14:0] 15Bit Input \u200b\u884c\u5217\u200b\u5730\u5740\u603b\u7ebf\u200b\uff1a\u200b\u63d0\u4f9b\u200b\u6a21\u5f0f\u200b\u5bc4\u5b58\u5668\u200b\u914d\u7f6e\u200b\u671f\u95ee\u200b\u7684\u200b\u64cd\u4f5c\u7801\u200b\u3002 DQ[15:0] 16Bit Inout \u200b\u6570\u636e\u603b\u7ebf\u200b <p>\u200b\u8fd9\u91cc\u200b\u53ea\u200b\u5217\u51fa\u6765\u200b\u4e00\u90e8\u5206\u200b\u7aef\u53e3\u200b\uff0c\u200b\u9700\u8981\u200b\u5b8c\u6574\u200b\u7684\u200b\u5185\u5bb9\u200b\u53ef\u4ee5\u200b\u53bb\u200b\u4e0a\u9762\u200b\u7684\u200b\u82af\u7247\u200b\u624b\u518c\u200b\u4e2d\u200b\u83b7\u53d6\u200b\u66f4\u52a0\u200b\u5b8c\u6574\u200b\u7684\u200b\u5185\u5bb9\u200b\uff01</p>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#24-ddr3","title":"2.4 DDR3 \u200b\u65f6\u949f\u200b\u5206\u6790","text":"<p>\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\uff1aMIG IP\u200b\u6838\u200b\u7684\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b\uff0c\u200b\u4e00\u822c\u200b\u547d\u540d\u200b\u4e3a\u200bsys_clk</p> <p>\u200b\u53c2\u8003\u200b\u65f6\u949f\u200b\uff1a MIG IP\u200b\u7684\u200b\u53c2\u8003\u200b\u65f6\u949f\u200b\uff0c\u200b\u5fc5\u987b\u200b\u4e3a\u200b200MHZ\uff0c\u200b\u547d\u540d\u200b\u4f4d\u200bref_clk</p> <p>DDR3\u200b\u82af\u7247\u200b\u7684\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b\uff1a\u200b\u7531\u200bFPGA\u200b\u8f93\u5165\u200b\u5230\u200bDDR3\u200b\u82af\u7247\u200b\uff0c\u200b\u4e3a\u200b\u5dee\u5206\u200b\u65f6\u949f\u200b</p> <p>\u200b\u7528\u6237\u7aef\u200b\u65f6\u949f\u200b\uff1aMIG IP\u200b\u6838\u200b\u8f93\u51fa\u200b\u7ed9\u200b\u7528\u6237\u200b\u7aef\u7684\u200b\u65f6\u949f\u200b\uff0c\u200b\u547d\u540d\u200b\u4e3a\u200bui_clk</p> <p>\u200b\u5728\u200bDDR3\u200b\u82af\u7247\u200b\u5de5\u4f5c\u200b\u7684\u200b\u65f6\u949f\u200b\u4e0e\u200b\u7528\u6237\u7aef\u200b\u65f6\u949f\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6bd4\u4f8b\u200b\u5173\u7cfb\u200b\uff1a</p> <p>DDR3\u200b\u82af\u7247\u200b\u7684\u200b\u5de5\u4f5c\u9891\u7387\u200b\uff1a\u200b\u7528\u6237\u7aef\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u4e3a\u200b4:1\u200b\u6216\u8005\u200b2:1\uff0c\u200b\u5f53\u200bDDR3\u200b\u82af\u7247\u200b\u7684\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b\u4e3a\u200b800MHZ\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6bd4\u4f8b\u200b\u53ea\u80fd\u200b\u662f\u200b2:1\u3002</p>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#25-ddr3","title":"2.5 DDR3\u200b\u7684\u200b\u6a21\u5757\u200b\u5b9e\u9a8c","text":"<p>\u200b\u7528\u6237\u7aef\u200b\u63a5\u53e3\u200b\u4e0e\u200b\u4e24\u79cd\u200b\uff1aNative\u200b\u63a5\u53e3\u200b\u548c\u200bAXI4\u200b\u63a5\u53e3\u200b\uff0c\u200b\u63a5\u4e0b\u6765\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200bAXI4\u200b\u63a5\u53e3\u200b\u8fdb\u884c\u200b\u5b9e\u9a8c\u200b</p> <p>\u200b\u5b9e\u9a8c\u200b\u76ee\u6807\u200b\uff1a\u200b\u6211\u4eec\u200b\u901a\u8fc7\u200bMIG IP\u200b\u6838\u5bf9\u200bDDR3\u200b\u5199\u5165\u200b1024\u200b\u4e2a\u200b\u6570\u636e\u200b\uff0c\u200b\u7136\u540e\u200b\u8fdb\u884c\u200b\u8bfb\u53d6\u200b\u51fa\u6765\u200b\u7684\u200b\u5b9e\u9a8c\u200b\uff0c\u200b\u5e76\u200b\u4f7f\u7528\u200bila\u200b\u5728\u7ebf\u200b\u903b\u8f91\u200b\u5206\u6790\u4eea\u200b\uff0c\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6293\u53d6\u200b</p> <p></p> <p>\u200b\u4ece\u200b\u6211\u4eec\u200b\u7684\u200b\u539f\u7406\u56fe\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u6211\u4eec\u200b\u5728\u200bPL\u200b\u7aef\u200b\u4f7f\u7528\u200b\u7684\u200bddr3\u200b\u578b\u53f7\u200b\u662f\u200bMT41K256M16RE-125\u3002</p> <p>\u200b\u901a\u8fc7\u200b\u524d\u9762\u200b\u7684\u200b\u8bb2\u89e3\u200b\u4ecb\u7ecd\u200b\uff0cDDR3\u200b\u7684\u200b\u5b58\u50a8\u5bb9\u91cf\u200b4Gb\u200b\u7684\u200b\u5b58\u50a8\u5bb9\u91cf\u200b\u3002\u200b\u56fe\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u200b\u51fa\u6765\u200b\uff0c\u200b\u6211\u4eec\u200bPL\u200b\u7aef\u200b\u662f\u200b\u5e76\u8054\u200b\u4e86\u200b2\u200b\u7247\u200bDDR3\uff0cPL \u200b\u7aef\u200b 2 \u200b\u7247\u200b\u5185\u5b58\u200b\u7ec4\u6210\u200b 32bit \u200b\u6570\u636e\u200b\u63a5\u53e3\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b4Gb\u200b\u7684\u200b\u5b58\u50a8\u5bb9\u91cf\u200b=1GB\u200b\u5185\u5b58\u5927\u5c0f\u200b \uff0c</p>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#251","title":"2.5.1 \u200b\u6a21\u5757\u200b\u6846\u56fe\u200b\u7ed8\u5236","text":"<p>\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u6846\u56fe\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200baxi_ddr_top\u200b\u8fd8\u200b\u9700\u8981\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u56db\u4e2a\u200b\u6a21\u5757\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b\uff1a\u200b\u8bfb\u5199\u200b\u63a7\u5236\u200b\u6a21\u5757\u200b\u3001\u200b\u8bfb\u200b\u6a21\u5757\u200b\u3001\u200b\u5199\u200b\u6a21\u5757\u200b\u3001\u200b\u8fd8\u6709\u200bMIG IP\u200b\u6838\u200b\u3002\u200b\u4e0b\u9762\u200b\u8fdb\u884c\u200b\u6211\u4eec\u200bmig ip\u200b\u6838\u200b\u7684\u200b\u914d\u7f6e\u200b</p>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#252-mig-ddr-ip","title":"2.5.2 MIG DDR IP\u200b\u6838\u200b\u914d\u7f6e","text":"<ol> <li>\u200b\u70b9\u51fb\u200b\u540e\u200b\u5728\u200b\u53f3\u8fb9\u200b\u641c\u7d22\u200b\u680f\u76ee\u200b\u641c\u7d22\u200b\u201cMIG\u201d\uff0c\u200b\u76f4\u63a5\u200b\u53cc\u51fb\u200b\u6253\u5f00\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u663e\u793a\u200b\u7684\u200b\u662f\u200b\u6211\u4eec\u200bfpga \u200b\u5de5\u7a0b\u200b\u7684\u200b\u76f8\u5173\u200b\u4fe1\u606f\u200b\uff0c\u200b\u70b9\u51fb\u200b\u4e0b\u200b\u4e00\u6b65\u200b</li> </ol> <ol> <li>\u200b\u57fa\u672c\u200b\u4fe1\u606f\u200b\u7684\u200b\u914d\u7f6e\u200b</li> </ol> <ol> <li>\u200b\u5f15\u811a\u200b\u4fe1\u606f\u200b</li> </ol> <p>\u200b\u8fd9\u91cc\u200b\u662f\u200b\u662f\u5426\u200b\u517c\u5bb9\u200b\u5176\u4ed6\u200b\u7684\u200b\u82af\u7247\u200b\u9009\u9879\u200b\uff0c\u200b\u6211\u4eec\u200b\u8fd9\u91cc\u200b\u5c31\u200b\u4e0d\u7528\u200b\u7ba1\u200b</p> <p></p> <ol> <li>\u200b\u63a7\u5236\u5668\u200b\u7684\u200b\u9009\u62e9\u200b</li> </ol> <p></p> <ol> <li>\u200b\u63a7\u5236\u5668\u200b\u7684\u200b\u57fa\u672c\u200b\u914d\u7f6e\u200b</li> </ol> <p>\u200b\u5173\u4e8e\u200b\u8fd9\u8fb9\u200b\u7684\u200b\u65f6\u949f\u200b\uff0c\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u662f\u200bK7\u200b\u7684\u200b\u677f\u5b50\u200b\uff0cDDR3\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b\u662f\u200b\u53ef\u4ee5\u200b\u8fbe\u5230\u200b800MHZ\u200b\u7684\u200b,\u200b\u4e0b\u9762\u200b\u7684\u200b \u200b\u7528\u6237\u7aef\u200b\u65f6\u949f\u200b\u53ea\u80fd\u200b\u5fc5\u987b\u200b\u4e3a\u200b200MHZ\uff0c\u200b\u5982\u679c\u200b\u662f\u200bA7 \u200b\u7684\u200b\u677f\u5b50\u200b\uff0c\u200b\u4ed6\u200b\u7684\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b\u901a\u5e38\u200b\u4e3a\u200b\u6700\u9ad8\u200b\u4e3a\u200b600MHZ</p> <p></p> <ol> <li>AXI\u200b\u603b\u7ebf\u200b\u7684\u200b\u914d\u7f6e\u200b</li> </ol> <p></p> <ol> <li>\u200b\u5185\u5b58\u200b\u8bbe\u7f6e\u200b--\u200b\u5bf9\u5e94\u200b\u7684\u200b\u963b\u6297\u200b\u53ef\u4ee5\u200b\u5728\u200b\u6570\u636e\u200b\u624b\u518c\u200b\u4e2d\u200b\u641c\u7d22\u200b\uff1a\u201coutput drive strength\u201d</li> </ol> <p></p> <ol> <li>FPGA\u200b\u9009\u9879\u200b</li> </ol> <p></p> <ol> <li>\u200b\u5f15\u811a\u200b\u9009\u62e9\u200b</li> </ol> <p></p> <p>\u200b\u5230\u200b\u8fd9\u91cc\u200b\u90fd\u200b\u5df2\u7ecf\u200b\u5b8c\u6210\u200b\u4e86\u200b\uff0c\u200b\u540e\u9762\u200b\u5c31\u662f\u200b\u6b63\u5e38\u200b\u9ed8\u8ba4\u200b\u5b8c\u6210\u200b\u5c31\u884c\u200b</p>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#253-fifo-ip","title":"2.5.3 \u200b\u58f0\u660e\u200b\u4e24\u4e2a\u200bFIFO IP\u200b\u6838","text":"<ol> <li>\u200b\u6253\u5f00\u200b\u6211\u4eec\u200b\u7684\u200bip\u200b\u6838\u200b\u76ee\u5f55\u200b\uff0c\u200b\u5728\u200b\u641c\u7d22\u200b\u6846\u200b\u91cc\u9762\u200b\u641c\u7d22\u200bFIFO</li> </ol> <ol> <li>\u200b\u914d\u7f6e\u200b\u57fa\u672c\u200b\u4fe1\u606f\u200b</li> </ol> <ol> <li>\u200b\u914d\u7f6e\u200b\u5e38\u89c4\u200b\u63a5\u53e3\u200b</li> </ol> <ol> <li>\u200b\u914d\u7f6e\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b</li> </ol> <ol> <li>\u200b\u914d\u7f6e\u200b\u6570\u636e\u200b\u8ba1\u6570\u5668\u200b</li> </ol> <p>\u200b\u4e0b\u9762\u200b\u662f\u200b\u8bfb\u200bFIFO\u200b\u7684\u200b\u914d\u7f6e\u200b\uff0c\u200b\u8ddf\u200b\u5199\u200bFIFO\u200b\u7c7b\u4f3c\u200b\u53ea\u6709\u200b\u4e0b\u9762\u200b\u4e00\u5f20\u200b\u56fe\u200b\u7684\u200b\u914d\u7f6e\u200b\u8ddf\u200b\u5199\u200bFIFO\u200b\u4e0d\u200b\u4e00\u6837\u200b</p> <p></p>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#254-pllip","title":"2.5.4 PLL\u200b\u9501\u76f8\u73af\u200bIP\u200b\u6838\u200b\u914d\u7f6e","text":"<ol> <li>\u200b\u6253\u5f00\u200b\u76ee\u6807\u200b\u9501\u76f8\u73af\u200b</li> </ol> <ol> <li>\u200b\u914d\u7f6e\u200b\u8f93\u5165\u8f93\u51fa\u200b\u65f6\u949f\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u6211\u4eec\u200b\u8f93\u5165\u200b\u662f\u200b100MHZ\uff0c\u200b\u8f93\u51fa\u200b320MHZ\u200b\u7684\u200bDDR3\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b</li> </ol>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#256-rtl","title":"2.5.6 RTL\u200b\u89c6\u56fe","text":""},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#257-mig-ip","title":"2.5.7 \u200b\u4eff\u771f\u200bMIG IP\u200b\u6838","text":""},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#258-ila","title":"2.5.8 \u200b\u4e0a\u677f\u200b\u9a8c\u8bc1\u200b\u2014\u2014ILA\u200b\u4eff\u771f","text":"<p>\u200b\u5728\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u6293\u53d6\u200b\u7684\u200b\u4fe1\u53f7\u200b\u524d\u9762\u200b\u52a0\u4e0a\u200b</p> <pre><code>(*mark_debug=\"true\"*)\n</code></pre>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#3-native","title":"3. Native\u200b\u63a5\u53e3\u200b\u6982\u8ff0","text":""},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#4-axi","title":"4. AXI\u200b\u63a5\u53e3\u200b\u6982\u8ff0","text":"<p>AXI\u200b\u603b\u7ebf\u200b\u4f60\u200b\u9700\u8981\u200b\u77e5\u9053\u200b\u7684\u200b\u4e8b\u513f\u200b - \u200b\u77e5\u4e4e\u200b (zhihu.com)</p> <p>AXI\u200b\u7684\u200b\u82f1\u6587\u200b\u5168\u79f0\u200b\u201cAdvancede Xtensible Interface\u201d ,\u200b\u5373\u200b\u4e3a\u200b\u9ad8\u7ea7\u200b\u53ef\u200b\u6269\u5c55\u200b\u63a5\u53e3\u200b\uff0c\u200b\u4ed6\u200b\u662f\u200bARM\u200b\u516c\u53f8\u200b\u6240\u200b\u63d0\u51fa\u200b\u7684\u200bAMBA\u200b\u534f\u8bae\u200b\uff08\u200b\u9ad8\u7ea7\u200b\u5fae\u63a7\u5236\u5668\u200b\u603b\u7ebf\u200b\u6846\u67b6\u200b\u534f\u8bae\u200b\uff0c\u200b\u5305\u542b\u200b\u4e86\u200b\u56db\u79cd\u200b\u4e0d\u540c\u200b\u7684\u200b\u603b\u7ebf\u200b\u6807\u51c6\u200b\uff1aAHB\u3001ASB\u3001APB\u3001AXI\uff09\u200b\u7684\u200b\u4e00\u90e8\u5206\u200b</p> <p>\u200b\u4e4b\u6240\u4ee5\u200b\u8981\u200b\u91c7\u7528\u200bAXI4\u200b\u63a5\u53e3\u200b\u5bf9\u200bDDR\u200b\u8fdb\u884c\u200b\u8bfb\u5199\u200b\u662f\u56e0\u4e3a\u200bXilinx\u200b\u7684\u200bMIG DDR IP\u200b\u6838\u200b\uff0c\u200b\u65e0\u8bba\u662f\u200b6\u200b\u7cfb\u5217\u200b\u8fd8\u662f\u200b7\u200b\u7cfb\u5217\u200b\u8fd8\u662f\u200b\u6700\u65b0\u200b\u7684\u200bFPGA\uff0c\u200b\u90fd\u200b\u96c6\u6210\u200b\u4e86\u200bAXI4\u200b\u63a5\u53e3\u200b\uff0c\u200b\u91c7\u7528\u200bAXI4\u200b\u63a5\u53e3\u200b\u8fdb\u884c\u200b\u8bfb\u5199\u200b\uff0c\u200b\u540e\u7eed\u200b\u53ef\u4ee5\u200b\u517c\u5bb9\u200bXilinx\u200b\u7684\u200b\u5176\u4ed6\u200bFPGA\uff0c\u200b\u53ef\u200b\u590d\u7528\u200b\u6027\u200b\u66f4\u200b\u5f3a\u200b\u3002</p>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#251-axi","title":"2.5.1 AXI\u200b\u63a5\u53e3\u200b\u7684\u200b\u7279\u70b9","text":"<p>AXI\u200b\u534f\u8bae\u200b\u662f\u200b\u4e00\u79cd\u200b\u9ad8\u6027\u80fd\u200b\u3001\u200b\u9ad8\u200b\u5bbd\u5e26\u200b\u3001\u200b\u4f4e\u200b\u5ef6\u65f6\u200b\u7684\u200b\u7247\u200b\u5185\u200b\u603b\u7ebf\u200b\uff0c\u200b\u6709\u200b\u5982\u4e0b\u200b\u7279\u70b9\u200b\uff1a</p> <ol> <li>\u200b\u603b\u7ebf\u200b\u5730\u5740\u200b/\u200b\u63a7\u5236\u200b\u548c\u200b\u6570\u636e\u901a\u9053\u200b\u662f\u200b\u5206\u79bb\u200b\u7684\u200b\uff1b\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u5206\u4e3a\u200b\u4e94\u4e2a\u200b\u4e0d\u540c\u200b\u7684\u200b\u901a\u9053\u200b\uff1a\u200b\u5199\u200b\u5730\u5740\u200b\u901a\u9053\u200b\u3001\u200b\u5199\u200b\u6570\u636e\u901a\u9053\u200b\u3001\u200b\u5199\u200b\u54cd\u5e94\u200b\u901a\u9053\u200b\u3001\u200b\u8bfb\u200b\u5730\u5740\u200b\u901a\u9053\u200b\u3001\u200b\u8bfb\u200b\u6570\u636e\u901a\u9053\u200b</li> <li>\u200b\u652f\u6301\u200b\u4e0d\u200b\u5bf9\u200b\u5176\u200b\u7684\u200b\u4f20\u8f93\u200b\uff1b</li> <li>\u200b\u652f\u6301\u200b\u7a81\u53d1\u200b\u4f20\u8f93\u200b\uff0c\u200b\u7a81\u53d1\u200b\u4f20\u8f93\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u53ea\u200b\u9700\u8981\u200b\u9996\u200b\u5730\u5740\u200b\uff1b\u200b\u7a81\u53d1\u200b\u957f\u5ea6\u200bBurst Length\u200b\u4e00\u822c\u200b\u4e3a\u200b8</li> <li>\u200b\u5177\u6709\u200b\u5206\u79bb\u200b\u7684\u200b\u8bfb\u5199\u200b\u6570\u636e\u901a\u9053\u200b\uff1b</li> <li>\u200b\u652f\u6301\u200b\u663e\u8457\u200b\u4f20\u8f93\u200b\u8bbf\u95ee\u200b\u548c\u200b\u4e71\u5e8f\u200b\u8bbf\u95ee\u200b\uff1b</li> <li>\u200b\u66f4\u200b\u5bb9\u6613\u200b\u8fdb\u884c\u200b\u65f6\u5e8f\u200b\u6536\u655b\u200b\uff1b</li> </ol>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#252-axi","title":"2.5.2 AXI\u200b\u63a5\u53e3\u200b\u5206\u7c7b","text":"<p>AXI4\u200b\u534f\u8bae\u200b\u652f\u6301\u200b\u6709\u200b\u4e09\u79cd\u200b\u7c7b\u578b\u200b\u7684\u200b\u63a5\u53e3\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b\uff1a</p> <ol> <li>AXI4\uff1a\u200b\u9ad8\u6027\u80fd\u200b\u7684\u200b\u5b58\u50a8\u200b\u6620\u5c04\u200b\u63a5\u53e3\u200b</li> <li>AXI4_Lite\uff1a\u200b\u7528\u4e8e\u200b\u6570\u636e\u91cf\u200b\u5c11\u200b\u7684\u200b\u5b58\u50a8\u200b\u6620\u5c04\u200b\u901a\u4fe1\u200b</li> <li>AXI4_Stream\uff1a\u200b\u9ad8\u200b\u6570\u636e\u6d41\u200b\u7684\u200b\u4e00\u4e2a\u200b\u4f20\u8f93\u200b\uff0c\u200b\u975e\u200b\u5b58\u50a8\u200b\u6620\u5c04\u200b\u63a5\u53e3\u200b\u3002\u200b\u5c31\u200b\u50cf\u200b\u4e00\u4e2a\u200bFIFO\u200b\u4e00\u6837\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u5730\u5740\u200b\uff0c\u200b\u76f4\u63a5\u200b\u8fde\u7eed\u200b\u7684\u200b\u4e00\u4e2a\u200b\u8bfb\u5199\u200b\u6570\u636e\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u89c6\u9891\u200b\u3001\u200b\u9ad8\u901f\u200b\u7684\u200b\u4e00\u4e2a\u200bAD\u3001PCIE\u3001DMA\u200b\u63a5\u53e3\u200b\u7b49\u200b\u9700\u8981\u200b\u9ad8\u901f\u200b\u6570\u636e\u4f20\u8f93\u200b\u7684\u200b\u4e00\u4e2a\u200b\u573a\u5408\u200b</li> </ol>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#253","title":"2.5.3 \u200b\u4ec0\u4e48\u200b\u662f\u200b\u5b58\u50a8\u200b\u6620\u5c04","text":"<p>\u3010\u200b\u5d4c\u5165\u5f0f\u200b\u7cfb\u7edf\u200b\u3011\u200b\u5b58\u50a8\u5668\u200b\u6620\u5c04\u200b\u4e0e\u200b\u5bc4\u5b58\u5668\u200b\u6620\u5c04\u200b\u539f\u7406\u200b-CSDN\u200b\u535a\u5ba2\u200b</p> <p>\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u534f\u8bae\u200b\u662f\u200b\u5b58\u50a8\u200b\u6620\u5c04\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4e3b\u673a\u200b\u5bf9\u200b\u4ece\u673a\u200b\u8fdb\u884c\u200b\u8bfb\u5199\u64cd\u4f5c\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4f1a\u200b\u6807\u660e\u200b\u4e00\u4e2a\u200b\u5730\u5740\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u5730\u5740\u200b\u5c31\u200b\u5bf9\u5e94\u200b\u7cfb\u7edf\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u5f53\u4e2d\u200b\u7684\u200b\u4e00\u4e2a\u200b\u5730\u5740\u200b\uff0c\u200b\u5c31\u200b\u8868\u793a\u200b\u9488\u5bf9\u200b\u8be5\u200b\u5b58\u50a8\u7a7a\u95f4\u200b\u8fdb\u884c\u200b\u4e00\u6b21\u200b\u8bfb\u5199\u64cd\u4f5c\u200b\u3002</p> <p>\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u5904\u7406\u5668\u200b\u8bbf\u95ee\u200b\u5904\u7406\u5668\u200b\u7b49\u200b\uff0c\u200b\u9700\u8981\u200b\u6307\u5b9a\u200b\u5730\u5740\u200b\u7684\u200b\u4e00\u4e2a\u200b\u9ad8\u901f\u200b\u6570\u636e\u4f20\u8f93\u200b\u7684\u200b\u4e00\u4e2a\u200b\u573a\u666f\u200b\u3002</p> <p>\u200b\u5b58\u50a8\u5668\u200b\u6620\u5c04\u200b\u662f\u200b\u786c\u4ef6\u200b\u62bd\u8c61\u200b\u7684\u200b\u4e00\u79cd\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u5b83\u200b\u5141\u8bb8\u200b\u8f6f\u4ef6\u200b\u901a\u8fc7\u200b\u7edf\u4e00\u200b\u7684\u200b\u5185\u5b58\u200b\u6a21\u578b\u200b\u6765\u200b\u4e0e\u200b\u786c\u4ef6\u200b\u8bbe\u5907\u200b\u4ea4\u4e92\u200b\uff0c\u200b\u8fd9\u200b\u5728\u200b\u73b0\u4ee3\u200b\u8ba1\u7b97\u673a\u7cfb\u7edf\u200b\u4e2d\u200b\u975e\u5e38\u200b\u5e38\u89c1\u200b\u3002\u200b\u5728\u200bAXI4\u200b\u534f\u8bae\u200b\u4e2d\u200b\uff0c\u200b\u5b58\u50a8\u200b\u6620\u5c04\u200b\u7684\u200b\u6982\u5ff5\u200b\u88ab\u200b\u7528\u6765\u200b\u5b9e\u73b0\u200b\u9ad8\u6548\u200b\u7684\u200b\u7cfb\u7edf\u200b\u5185\u200b\u901a\u4fe1\u200b\uff0c\u200b\u5141\u8bb8\u200b\u4e0d\u540c\u200b\u7684\u200b\u5904\u7406\u5668\u200b\u548c\u200b\u5916\u8bbe\u200b\u901a\u8fc7\u200b\u5171\u4eab\u200b\u7684\u200b\u5730\u5740\u200b\u7a7a\u95f4\u200b\u8fdb\u884c\u200b\u6570\u636e\u4ea4\u6362\u200b\u548c\u200b\u63a7\u5236\u200b\u3002\u200b\u9664\u4e86\u200b\u5b58\u50a8\u200b\u6620\u5c04\u200b\u5916\u200b\uff0c\u200b\u8fd8\u6709\u200b\u5bc4\u5b58\u5668\u200b\u6620\u5c04\u200b\uff0c\u200b\u8be6\u60c5\u8bf7\u200b\u53c2\u8003\u200b\u4e0a\u9762\u200b\u8fd9\u7bc7\u200b\u53c2\u8003\u200b\u535a\u5ba2\u200b\u3002</p>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#254-axi","title":"2.5.4 AXI\u200b\u65f6\u5e8f","text":"<p>AXI\u200b\u65f6\u5e8f\u200b\u6570\u636e\u200b\u624b\u518c\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\uff1a</p> <p>AXI4_Interconnect/Document/IHI0022E_amba_axi_and_ace_protocol_spec.pdf at master \u00b7 Verdvana/AXI4_Interconnect (github.com)</p>"},{"location":"fpga/DDR3%E8%AF%BB%E5%86%99%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#_1","title":"\u53c2\u8003\u8d44\u6599","text":"<p>\u3010\u200b\u5d4c\u5165\u5f0f\u200b\u7cfb\u7edf\u200b\u3011\u200b\u5b58\u50a8\u5668\u200b\u6620\u5c04\u200b\u4e0e\u200b\u5bc4\u5b58\u5668\u200b\u6620\u5c04\u200b\u539f\u7406\u200b-CSDN\u200b\u535a\u5ba2\u200b</p> <p>AXI\u200b\u603b\u7ebf\u200b\u4f60\u200b\u9700\u8981\u200b\u77e5\u9053\u200b\u7684\u200b\u4e8b\u513f\u200b - \u200b\u77e5\u4e4e\u200b (zhihu.com)</p> <p>119-\u200b\u7b2c\u4e09\u5341\u4e03\u200b\u8bb2\u200b-DDR3\u200b\u8bfb\u5199\u200b\u63a7\u5236\u5668\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u9a8c\u8bc1\u200b</p> <p>\u200b\u65f6\u949f\u200b\u5206\u6790\u200b_\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b_bilibili</p>"},{"location":"fpga/DHT11%E6%B8%A9%E6%B9%BF%E5%BA%A6%E6%98%BE%E7%A4%BA/","title":"DHT11\u200b\u6e29\u6e7f\u5ea6\u200b\u663e\u793a","text":""},{"location":"fpga/DHT11%E6%B8%A9%E6%B9%BF%E5%BA%A6%E6%98%BE%E7%A4%BA/#_1","title":"\u5b9e\u9a8c\u200b\u5c55\u793a","text":"<p>DHT11\u200b\u6e29\u6e7f\u5ea6\u200b\u6570\u7801\u7ba1\u200b\u663e\u793a\u200b.MP4 download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/4c7607b1dc9ab6b2cfc246a2fffc6624.mp4 </p>"},{"location":"fpga/DHT11%E6%B8%A9%E6%B9%BF%E5%BA%A6%E6%98%BE%E7%A4%BA/#dht11","title":"DHT11\u200b\u76f8\u5173\u200b\u6587\u6863","text":"<p>DHT11\u200b\u6570\u636e\u683c\u5f0f\u200b</p> <p></p> <p>\u200b\u65f6\u5e8f\u200b\u4ea4\u4e92\u200b</p> <p></p> <p>\u200b\u4fe1\u53f7\u200b\u6301\u7eed\u65f6\u95f4\u200b</p> <p></p> <p>\u200b\u7a0b\u5e8f\u6846\u56fe\u200b</p> <p></p> <p>\u200b\u72b6\u6001\u673a\u200b\u90e8\u5206\u200b\u7684\u200b\u72b6\u6001\u200b\u8f6c\u79fb\u200b\u56fe\u200b</p> <p></p> <p>\u200b\u6574\u4f53\u200b\u6ce2\u5f62\u56fe\u200b\u7ed8\u5236\u200b</p> <p></p> <p>\u200b\u65f6\u949f\u200b\u7684\u200b\u7ed8\u5236\u200b\uff0c\u200b\u91c7\u7528\u200bclk_us</p> <p></p>"},{"location":"fpga/DHT11%E6%B8%A9%E6%B9%BF%E5%BA%A6%E6%98%BE%E7%A4%BA/#_2","title":"\u7a0b\u5e8f\u200b\u90e8\u5206","text":"<p>\u200b\u9876\u5c42\u200b\u6a21\u5757\u200b\uff1a</p> <p>```verilog dht11.v module dht11(     input  wire sys_clk,     input  wire sys_rst_n,     inout  wire dht11,     input  wire key,</p> <pre><code>output wire [7:0]segdata,\noutput wire [2:0]segcs\n</code></pre> <p>); wire key_flag; wire [19:0] data_out;</p> <p>key_filter</p>"},{"location":"fpga/DHT11%E6%B8%A9%E6%B9%BF%E5%BA%A6%E6%98%BE%E7%A4%BA/#_3","title":"(","text":"<pre><code>.CNT_MAX(20'd999_999)\n</code></pre> <p>) key_filter_inst (     .sys_clk     (sys_clk)   ,     .sys_rst_n   (sys_rst_n) ,      .key_in      (key)    ,      .led_out(),     .key_flag(key_flag) ); dht11_ctrl dht11_ctrl_inst (     .sys_clk(sys_clk),     .sys_rst_n(sys_rst_n),     .key_flag(key_flag),     .dht11(dht11),     .data_out(data_out),     .sign() );</p> <p>seg seg_inst (     .clk(sys_clk),     .rst_n(sys_rst_n),     .tenvalue(data_out),  // \u200b\u8fd9\u91cc\u200b\u8fde\u63a5\u200b\u6ca1\u6709\u200b\u95ee\u9898\u200b     .segdata(segdata),     .segcs(segcs) );</p> <p>endmodule</p> <pre><code>\n\n\n6\u200b\u4f4d\u200b\u6570\u7801\u7ba1\u200b\u9a71\u52a8\u200b\u6a21\u5757\u200b\uff1a\n\n```verilog seg.v\n/*\n\u200b\u6570\u7801\u7ba1\u200b\u663e\u793a\u200b\u9a71\u52a8\u200b\uff0c\u200b\u76ee\u524d\u200b\u662f\u200b\u76f4\u63a5\u200b\u8bbe\u7f6e\u200b\u56fa\u5b9a\u200b\u6570\u636e\u200b\n\u200b\u901a\u8fc7\u200b\u5c06\u200btenvalue\u200b\u8bbe\u7f6e\u200b\u5230\u200b\u8f93\u5165\u200b\u7aef\u53e3\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f5c\u4e3a\u200b\u5b50\u200b\u6a21\u5757\u200b\uff0c\u200b\u901a\u8fc7\u200b\u4f20\u5165\u200b\u6570\u636e\u200b\u663e\u793a\u200b\u5728\u200b\u6570\u7801\u7ba1\u200b\u4e0a\u9762\u200b\n*/\nmodule seg(\n    input clk,\n    input rst_n,\n    input  [19:0]tenvalue,\n    output reg [7:0]segdata,\n    output reg [2:0]segcs\n);\n\n\n\nreg[31:0] count;\nreg[24:0]count1ms;\n\nreg[2:0]number;\n\nreg clk1ms;\n\nparameter sample=2'b00,\n          display=2'b01;\n\n//-----------\u200b\u6570\u7801\u7ba1\u200b\u9a71\u52a8\u200b\u65f6\u949f\u200b-----------\nalways@(posedge clk)\nbegin \n    if(count1ms &gt;= 25'd50000) // 1ms\u200b\u7684\u200b\u8ba1\u6570\u5668\u200b\n    begin\n        clk1ms &lt;= ~clk1ms;\n        count1ms &lt;= 1'd0;\n    end\n    else\n        count1ms &lt;= count1ms + 1'd1;\nend\n\n//-----------\u200b\u4ece\u200b0\u200b\u5f00\u59cb\u200b\u663e\u793a\u200b\u6570\u5b57\u200b-----------\n//assign tenvalue = 20'd99999; //\u200b\u56fa\u5b9a\u200b\u663e\u793a\u200b999\n\n//-----------\u200b\u6570\u7801\u7ba1\u200b\u8bd1\u7801\u200b-----------\nfunction [7:0] leddata;\ninput [3:0] datain;\nbegin\n    case(datain)\n        4'd0: leddata = 8'b11000000; // 0\n        4'd1: leddata = 8'b11111001; // 1\n        4'd2: leddata = 8'b10100100; // 2\n        4'd3: leddata = 8'b10110000; // 3\n        4'd4: leddata = 8'b10011001; // 4\n        4'd5: leddata = 8'b10010010; // 5\n        4'd6: leddata = 8'b10000010; // 6\n        4'd7: leddata = 8'b11111000; // 7\n        4'd8: leddata = 8'b10000000; // 8\n        4'd9: leddata = 8'b10010000; // 9\n        4'd10: leddata = 8'b10111111; // -\n        4'd11: leddata = 8'b01111111; // .\n        default: leddata = 8'b11111111;\n    endcase\nend\nendfunction\n\n//-----------\u200b\u6570\u7801\u7ba1\u200b\u626b\u63cf\u200b-----------\nalways@(posedge clk1ms or negedge rst_n)\nbegin\n    if(!rst_n)\n        number &lt;= 3'd0;\n    else if(number == 3'd5)\n        number &lt;= 3'd0;\n    else\n        number &lt;= number + 1;\n\n    case(number)\n        3'd0:\n        begin\n            segdata &lt;= leddata(tenvalue % 10); // \u200b\u4e2a\u200b\u4f4d\u200b\n            segcs &lt;= 3'b101;\n        end\n        3'd1:\n        begin\n            segdata &lt;= leddata((tenvalue / 10) % 10); // \u200b\u5341\u4f4d\u200b\n            segcs &lt;= 3'b100;\n        end\n        3'd2:\n        begin\n            segdata &lt;= leddata((tenvalue / 100) % 10); // \u200b\u767e\u4f4d\u200b\n            segcs &lt;= 3'b011;\n        end\n         4'd3:\n            begin\n                segdata&lt;=leddata((tenvalue/1000)%10);//\u200b\u5343\u4f4d\u200b          \n                segcs&lt;=3'b010;\n            end\n          4'd4:\n            begin\n                segdata&lt;=leddata((tenvalue/10000)%10);//\u200b\u4e07\u200b\u4f4d\u200b         \n                segcs&lt;=3'b001;\n            end\n          4'd5:\n            begin\n                segdata&lt;=leddata((tenvalue/100000)%10);//\u200b\u5341\u4e07\u200b\u4f4d\u200b           \n                segcs&lt;=3'b000;\n            end\n          default: \n              begin\n                segdata &lt;= 8'b11111111; // \u200b\u6216\u8005\u200b\u5176\u4ed6\u200b\u9ed8\u8ba4\u503c\u200b\n               segcs &lt;= 3'b111; // \u200b\u6216\u8005\u200b\u5176\u4ed6\u200b\u9ed8\u8ba4\u503c\u200b\n                end\n        endcase\nend    \n\nendmodule\n\n</code></pre> <p>dht11\u200b\u9a71\u52a8\u200b\u6a21\u5757\u200b</p> <p>```verilog dht11_ctrl.v module dht11_ctrl(     input  wire     sys_clk,     input  wire     sys_rst_n,     input  wire     key_flag,     inout  wire     dht11,</p> <pre><code>output reg   [19:0]  data_out,\noutput reg     sign\n</code></pre> <p>); // \u200b\u72b6\u6001\u200b\u8f6c\u79fb\u200b\u53d8\u91cf\u200b\u7684\u200b\u8d4b\u503c\u200b parameter   S_WAIT_1S  = 3'd1   ,   //\u200b\u4e0a\u7535\u200b\u7b49\u5f85\u200b1s\u200b\u72b6\u6001\u200b             S_LOW_18MS = 3'd2   ,   //\u200b\u4e3b\u673a\u200b\u62c9\u4f4e\u200b18ms\uff0c\u200b\u53d1\u9001\u200b\u5f00\u59cb\u200b\u4fe1\u53f7\u200b\u72b6\u6001\u200b             S_DLY1     = 3'd3   ,   //\u200b\u7b49\u5f85\u200b20-40us\u200b\u72b6\u6001\u200b             S_REPLY    = 3'd4   ,   //DHT11\u200b\u54cd\u5e94\u200b80us\u200b\u72b6\u6001\u200b             S_DLY2     = 3'd5   ,   //\u200b\u62c9\u9ad8\u200b\u7b49\u5f85\u200b80us\u200b\u72b6\u6001\u200b             S_RD_DATA  = 3'd6   ;   //\u200b\u63a5\u6536\u6570\u636e\u200b\u72b6\u6001\u200b</p> <p>parameter   T_1S_DATA    = 999999 ; //1s\u200b\u65f6\u95f4\u200b\u8ba1\u200b\u6570\u503c\u200b parameter   T_18MS_DATA  = 17999  ; //18ms\u200b\u65f6\u95f4\u200b\u8ba1\u200b\u6570\u503c\u200b // \u200b\u5185\u90e8\u200b\u53c2\u6570\u200b\u7684\u200b\u5b9a\u4e49\u200b reg         clk_us; reg [4:0]   cnt; reg [5:0]   state;      // \u200b\u72b6\u6001\u673a\u200b\u53d8\u91cf\u200b reg [19:0]  cnt_us ;    // \u200b\u8ba1\u6570\u5668\u200b reg [19:0]  cnt_low;    //  reg         dht11_reg1; // reg         dht11_reg2; // wire         dht11_rise; // wire         dht11_fall; // reg [5:0]   bit_cnt;    // \u200b\u53d1\u9001\u200b\u7684\u200bbit\u200b\u8ba1\u6570\u200b\uff0c\u200b\u603b\u5171\u200b\u53d1\u9001\u200b40bit\u200b\u7684\u200b\u6570\u636e\u200b reg [39:0]  data_temp; reg [31:0]  data; reg         data_flag;  // \u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u7684\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b reg         dht11_en;   // dht11\u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b wire         dht11_out;  // </p> <p>// \u200b\u751f\u6210\u200bus\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b always @(posedge sys_clk or negedge sys_rst_n) begin     if(!sys_rst_n)         cnt &lt;= 5'd0;     else if(cnt == 5'd24)         cnt &lt;= 5'd0;     else         cnt &lt;= cnt+1'd1; end always @(posedge sys_clk or negedge sys_rst_n) begin     if(!sys_rst_n)         clk_us &lt;= 1'd0;     else if(cnt == 5'd24)         clk_us &lt;= ~clk_us;     else         clk_us &lt;= clk_us; end</p> <p>//\u200b\u72b6\u6001\u673a\u200b\u72b6\u6001\u200b\u8df3\u8f6c\u200b always@(posedge clk_us or  negedge sys_rst_n)     if(sys_rst_n == 1'b0)         state   &lt;=  S_WAIT_1S   ;     else         case(state)         S_WAIT_1S:             if(cnt_us == T_1S_DATA) //\u200b\u4e0a\u7535\u200b1s\u200b\u540e\u200b\u8df3\u5165\u200b\u8d77\u59cb\u200b\u72b6\u6001\u200b                 state   &lt;=  S_LOW_18MS  ;             else                 state   &lt;=  S_WAIT_1S   ;         S_LOW_18MS:             if(cnt_us == T_18MS_DATA)                 state   &lt;=  S_DLY1     ;             else                 state   &lt;=  S_LOW_18MS  ;         S_DLY1:             if(cnt_us == 10)    //\u200b\u7b49\u5f85\u200b10us\u200b\u540e\u200b\u8fdb\u5165\u200b\u4e0b\u200b\u4e00\u200b\u72b6\u6001\u200b                 state   &lt;=  S_REPLY     ;             else                 state   &lt;=  S_DLY1     ;         S_REPLY:  //\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u5230\u6765\u200b\u4e14\u200b\u4f4e\u7535\u5e73\u200b\u4fdd\u6301\u200b\u65f6\u95f4\u200b\u5927\u4e8e\u200b70us\uff0c\u200b\u5219\u200b\u8df3\u8f6c\u200b\u5230\u200b\u4e0b\u200b\u4e00\u200b\u72b6\u6001\u200b             if(dht11_rise == 1'b1 &amp;&amp; cnt_low &gt;= 70)                 state   &lt;=  S_DLY2     ;                  //\u200b\u82e5\u200b1ms\u200b\u540e\u200b\uff0cdht11\u200b\u8fd8\u200b\u6ca1\u200b\u54cd\u5e94\u200b\uff0c\u200b\u5219\u200b\u56de\u53bb\u200b\u7ee7\u7eed\u200b\u53d1\u9001\u200b\u8d77\u59cb\u4fe1\u53f7\u200b             else    if(cnt_us &gt;= 1000)                 state   &lt;=  S_LOW_18MS ;             else                 state   &lt;=  S_REPLY    ;         S_DLY2: //\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u5230\u6765\u200b\u4e14\u200b\u8ba1\u6570\u5668\u200b\u503c\u200b\u5927\u4e8e\u200b70us\uff0c\u200b\u5219\u200b\u8df3\u8f6c\u200b\u5230\u200b\u4e0b\u200b\u4e00\u200b\u72b6\u6001\u200b             if(dht11_fall == 1'b1 &amp;&amp; cnt_us &gt;= 70)                 state   &lt;=  S_RD_DATA   ;             else                 state       &lt;=  S_DLY2  ;         S_RD_DATA:  //\u200b\u8bfb\u5b8c\u200b\u6570\u636e\u200b\u540e\u200b\uff0c\u200b\u56de\u5230\u200b\u8d77\u59cb\u200b\u72b6\u6001\u200b             if(bit_cnt == 40 &amp;&amp; dht11_rise == 1'b1)                 state   &lt;=  S_LOW_18MS  ;             else                 state   &lt;=  S_RD_DATA   ;         default:                 state   &lt;=  S_WAIT_1S   ;         endcase</p> <p>//\u200b\u5404\u200b\u72b6\u6001\u200b\u4e0b\u200b\u7684\u200b\u8ba1\u6570\u5668\u200b\u8d4b\u503c\u200b //cnt_us:\u200b\u6bcf\u5230\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u72b6\u6001\u200b\u5c31\u8ba9\u200b\u8be5\u200b\u8ba1\u6570\u5668\u200b\u91cd\u65b0\u200b\u8ba1\u6570\u200b always@(posedge clk_us or  negedge sys_rst_n)     if(sys_rst_n == 1'b0)         begin             cnt_low &lt;=  7'd0      ;             cnt_us   &lt;=  21'd0    ;         end     else         case(state)         S_WAIT_1S:             if(cnt_us == T_1S_DATA)                  cnt_us   &lt;=  21'd0  ;             else                 cnt_us   &lt;=  cnt_us + 1'b1;         S_LOW_18MS:             if(cnt_us == T_18MS_DATA)                 cnt_us   &lt;=  21'd0  ;             else                 cnt_us   &lt;=  cnt_us + 1'b1;         S_DLY1:             if(cnt_us == 10)                 cnt_us   &lt;=  21'd0  ;             else                 cnt_us   &lt;=  cnt_us + 1'b1;         S_REPLY:             if(dht11_rise == 1'b1 &amp;&amp; cnt_low &gt;= 70)                 begin                     cnt_low &lt;=  7'd0    ;                     cnt_us   &lt;=  21'd0  ;                 end             //\u200b\u5f53\u200bdht11\u200b\u53d1\u9001\u200b\u4f4e\u7535\u5e73\u200b\u56de\u5e94\u200b\u65f6\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u5176\u200b\u4f4e\u7535\u5e73\u200b\u7684\u200b\u6301\u7eed\u65f6\u95f4\u200b             else    if(dht11 == 1'b0)                 begin                     cnt_low  &lt;=  cnt_low + 1'b1 ;                     cnt_us   &lt;=  cnt_us + 1'b1  ;                 end             //\u200b\u82e5\u200b1ms\u200b\u540e\u200b\uff0cdht11\u200b\u8fd8\u200b\u6ca1\u200b\u54cd\u5e94\u200b\uff0c\u200b\u5219\u200b\u56de\u53bb\u200b\u7ee7\u7eed\u200b\u53d1\u9001\u200b\u8d77\u59cb\u4fe1\u53f7\u200b             else    if(cnt_us &gt;= 1000)                 begin                     cnt_low &lt;=  7'd0   ;                     cnt_us  &lt;=  21'd0  ;                 end             else                 begin                     cnt_low &lt;=  cnt_low        ;                     cnt_us  &lt;=  cnt_us + 1'b1  ;                 end         S_DLY2:             if(dht11_fall == 1'b1 &amp;&amp; cnt_us &gt;= 70)                 cnt_us   &lt;=  21'd0  ;             else                 cnt_us   &lt;=  cnt_us + 1'b1;         S_RD_DATA:             if(dht11_fall == 1'b1 || dht11_rise == 1'b1)                 cnt_us   &lt;=  21'd0  ;             else                 cnt_us   &lt;=  cnt_us + 1'b1;         default:             begin                 cnt_low  &lt;=  7'd0   ;                 cnt_us   &lt;=  21'd0  ;             end         endcase</p> <p>// \u200b\u6253\u200b\u4e24\u200b\u62cd\u200b\uff0c\u200b\u63d0\u53d6\u200bdht11\u200b\u7684\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u548c\u200b\u4e0b\u964d\u200b\u6cbf\u200b always @(posedge clk_us or negedge sys_rst_n) begin     if(!sys_rst_n)         begin             dht11_reg1  &lt;= 1'd1;             dht11_reg2  &lt;= 1'd1;         end     else         begin             dht11_reg1  &lt;= dht11;             dht11_reg2  &lt;= dht11_reg1;         end end assign dht11_rise = (~dht11_reg2) &amp;&amp; (dht11_reg1) ; assign dht11_fall = (dht11_reg2) &amp;&amp; (~dht11_reg1) ;</p> <p>// bit_cnt\u200b\u7684\u200b\u642d\u5efa\u200b always @(posedge clk_us or negedge sys_rst_n) begin     if(!sys_rst_n)         bit_cnt &lt;= 6'd0;     else if(bit_cnt == 6'd40 &amp;&amp; dht11_rise == 1'd1)         bit_cnt &lt;= 6'd0;     else if(state == S_RD_DATA &amp;&amp; dht11_fall == 1'd1)         bit_cnt &lt;= bit_cnt + 1'd1;     else         bit_cnt &lt;= bit_cnt; end</p> <p>// data_temp always @(posedge clk_us or negedge sys_rst_n) begin     if(!sys_rst_n)         data_temp &lt;= 40'd0;     else if(state == S_RD_DATA &amp;&amp; dht11_fall == 1'd1 &amp;&amp; cnt_us &lt;=50)         data_temp[39-bit_cnt] &lt;= 1'd0;     else if(state == S_RD_DATA &amp;&amp; dht11_fall == 1'd1 &amp;&amp; cnt_us &gt;50)         data_temp[39-bit_cnt] &lt;= 1'd1;     else         data_temp &lt;= data_temp; end //\u200b\u6570\u636e\u200b\u6821\u9a8c\u200b\u548c\u200b\u8d4b\u503c\u200b always@(posedge clk_us or negedge sys_rst_n) begin     if(!sys_rst_n)         data &lt;= 32'd0;     else if(data_temp[7:0] == data_temp[39:32] + data_temp[31:24] + data_temp[23:16] + data_temp[15:8])         data &lt;= data_temp[39:8];     else          data &lt;= data; end</p> <p>// dht11_en \u200b\u7684\u200b\u8d4b\u503c\u200b always @(posedge clk_us or negedge sys_rst_n) begin     if(!sys_rst_n)         dht11_en &lt;= 1'd0;     else if(state == S_LOW_18MS)         dht11_en &lt;= 1'd1;     else         dht11_en &lt;= 1'd0; end</p> <p>// dht11_out \u200b\u7684\u200b\u8d4b\u503c\u200b assign dht11_out = 1'd0 ;</p> <p>// data_flag \u200b\u7684\u200b\u8d4b\u503c\u200b always @(posedge sys_clk or negedge sys_rst_n) begin     if(!sys_rst_n)         data_flag &lt;= 1'd0;     else if(key_flag == 1'd0)         data_flag &lt;= ~data_flag;     else         data_flag &lt;= data_flag; end</p> <p>// \u200b\u8f93\u51fa\u200b\u4fe1\u53f7\u200b always @(posedge clk_us or negedge sys_rst_n) begin     if(!sys_rst_n)         data_out &lt;= 20'd0;     else if(data_flag == 1'd0)         data_out &lt;= data[31:24]10;     else if(data_flag == 1'd1)           data_out &lt;= (data[15:8]10) + data[3:0]; end</p> <p>// \u200b\u7b26\u53f7\u200b\u4f4d\u200b always @(posedge clk_us or negedge sys_rst_n) begin     if(!sys_rst_n)         sign &lt;= 1'd0;     else if(data_flag == 1'd1 &amp;&amp; data[7] == 1'd1)         sign &lt;= 1'd1;     else         sign &lt;= 1'd0; end</p> <p>// \u200b\u5982\u679c\u200b\u4f7f\u80fd\u200b\u662f\u200b\u9ad8\u7535\u5e73\u200b\uff0c\u200b\u5219\u200b\u5427\u200bdht11_out\u200b\u8d4b\u503c\u200b\u7ed9\u200bdht11\u200b\u8f93\u51fa\u200b\u7aef\u53e3\u200b\u3002\u200b\u5426\u5219\u200bdht11\u200b\u7aef\u53e3\u200b\u4f5c\u4e3a\u200b\u8f93\u5165\u200b\u7aef\u53e3\u200b\u4e3a\u200b\u9ad8\u200b\u963b\u6001\u200b\u72b6\u6001\u200b assign dht11 = (dht11_en == 1'd1) ? dht11_out : 1'bz;</p> <p>endmodule</p> <pre><code>\n\n\n\u200b\u6309\u952e\u200b\u6d88\u6296\u200b\u6a21\u5757\u200b\n\n```verilog key_filter.v\nmodule key_filter\n#(\n    parameter   CNT_MAX     =   32'd99999\n)\n\n(\n    input           wire            sys_clk         ,\n    input           wire            sys_rst_n       ,\n    input           wire            key_in          ,\n\n    output          reg             key_flag             ,\n     output           reg                  led_out\n);\nreg         [31:0]      cnt_20ms;\nalways @(posedge sys_clk or negedge sys_rst_n)\n    if(!sys_rst_n)\n        cnt_20ms&lt;=20'd0;\n     else if(key_in == 1'b1)\n        cnt_20ms&lt;=20'd0;\n    else if(cnt_20ms == CNT_MAX)\n        cnt_20ms&lt;=CNT_MAX;\n\n    else\n        cnt_20ms&lt;=cnt_20ms+20'd1;\n\n\nalways @(posedge sys_clk or negedge sys_rst_n) begin\n    if(!sys_rst_n)\n        key_flag&lt;=1'b0;\n    else if(cnt_20ms == (CNT_MAX-20'd1))\n        key_flag&lt;=1'b1;\n    else\n        key_flag&lt;=1'b0;\nend\nalways @(*) begin\n    if(!sys_rst_n)\n        led_out&lt;=1'b0;\n    else if(cnt_20ms == CNT_MAX)\n        led_out&lt;=1'b0;\n    else\n        led_out&lt;=1'b1;\nend\n\nendmodule\n</code></pre>"},{"location":"fpga/DHT11%E6%B8%A9%E6%B9%BF%E5%BA%A6%E6%98%BE%E7%A4%BA/#_4","title":"\u5f15\u811a\u200b\u914d\u7f6e","text":""},{"location":"fpga/DHT11%E6%B8%A9%E6%B9%BF%E5%BA%A6%E6%98%BE%E7%A4%BA/#_5","title":"\u53c2\u8003\u200b\u94fe\u63a5","text":"<p>[1] ChatGPT3.5</p> <p>[2] 128-\u200b\u7b2c\u4e09\u5341\u4e5d\u200b\u8bb2\u200b-DHT11\u200b\u6570\u5b57\u200b\u6e29\u6e7f\u5ea6\u200b\u4f20\u611f\u5668\u200b\uff08\u200b\u4e00\u200b\uff09_\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b_bilibili</p>"},{"location":"fpga/FFT%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/","title":"\u53c2\u8003\u200b\u94fe\u63a5","text":"<p>\u200b\u7b80\u4ecb\u200b \u2022 \u200b\u5feb\u901f\u200b\u5085\u91cc\u53f6\u200b\u53d8\u6362\u200b LogiCORE IP \u200b\u4ea7\u54c1\u200b\u6307\u5357\u200b \uff08PG109\uff09 \u2022 \u200b\u9605\u8bfb\u5668\u200b \u2022 AMD \u200b\u6280\u672f\u200b\u4fe1\u606f\u200b\u95e8\u6237\u200b --- Introduction \u2022 Fast Fourier Transform LogiCORE IP Product Guide (PG109) \u2022 \u200b\u9605\u8bfb\u5668\u200b \u2022 AMD \u200b\u6280\u672f\u200b\u4fe1\u606f\u200b\u95e8\u6237\u200b</p>"},{"location":"fpga/FFT%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#1-xilinx-fft-v90","title":"1. Xilinx FFT v9.0\u200b\u7b80\u4ecb","text":"<p>\u200b\u7248\u672c\u200b\uff1a9.1</p> <p>\u200b\u63a5\u53e3\u200b\uff08Interfaces\uff09\uff1aAXI4-Stream</p> <p>FFT IP\u200b\u6838\u200b\u7b80\u4ecb\u200b\uff1a\u200b\u5feb\u901f\u200b\u5085\u7acb\u53f6\u200b\u53d8\u6362\u200b\uff08FFT\uff09\u200b\u662f\u200b\u4e00\u79cd\u200b\u8ba1\u7b97\u200b\u79bb\u6563\u200b\u5085\u7acb\u53f6\u200b\u53d8\u6362\u200b\uff08DFT\uff09\u200b\u7684\u200b\u9ad8\u6548\u200b\u7b97\u6cd5\u200b\u3002FFT \u200b\u5185\u6838\u200b\u53ef\u200b\u5728\u200b\u591a\u8fbe\u200b 12 \u200b\u4e2a\u200b\u5e76\u884c\u200b\u901a\u9053\u200b\u4e0a\u200b\u8ba1\u7b97\u200b 8 \u200b\u81f3\u200b 65536 \u200b\u70b9\u200b\u7684\u200b\u6b63\u5411\u200b\u6216\u200b\u53cd\u5411\u200b\u590d\u53d8\u200b\u3002\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u662f\u200b\u590d\u200b\u6570\u503c\u200b\u77e2\u91cf\u200b\uff0c\u200b\u7528\u200b 8 \u200b\u81f3\u200b 34 \u200b\u4f4d\u200b\u5bbd\u200b\u7684\u200b\u4e8c\u200b\u4e58\u6570\u200b\u6216\u200b 32 \u200b\u4f4d\u200b\u5bbd\u200b\u7684\u200b\u5355\u7cbe\u5ea6\u200b\u6d6e\u70b9\u6570\u200b\u8868\u793a\u200b\u3002\u200b\u76f8\u4f4d\u200b\u7cfb\u6570\u200b\u53ef\u4ee5\u200b\u662f\u200b 8 \u200b\u81f3\u200b 34 \u200b\u4f4d\u200b\u5bbd\u200b\u3002\u200b\u6240\u6709\u200b\u5b58\u50a8\u5668\u200b\u90fd\u200b\u5728\u200b\u82af\u7247\u200b\u4e0a\u200b\uff0c\u200b\u4f7f\u7528\u200b\u5757\u200b RAM \u200b\u6216\u200b\u5206\u5e03\u5f0f\u200b RAM\u3002\u200b\u63d0\u4f9b\u200b\u4e09\u79cd\u200b\u7b97\u672f\u200b\u7c7b\u578b\u200b\uff1a\u200b\u5168\u200b\u7cbe\u5ea6\u200b\u65e0\u200b\u6807\u5ea6\u200b\u3001\u200b\u6807\u5ea6\u200b\u5b9a\u70b9\u200b\u548c\u200b\u5757\u200b\u6d6e\u70b9\u200b\u3002\u200b\u6709\u200b\u51e0\u4e2a\u200b\u53c2\u6570\u200b\u53ef\u200b\u5728\u200b\u8fd0\u884c\u200b\u65f6\u200b\u914d\u7f6e\u200b\uff1a\u200b\u70b9\u200b\u5927\u5c0f\u200b\u3001\u200b\u6b63\u5411\u200b\u6216\u200b\u53cd\u5411\u200b\u53d8\u6362\u200b\u7684\u200b\u9009\u62e9\u200b\u4ee5\u53ca\u200b\u7f29\u653e\u200b\u65f6\u95f4\u8868\u200b\u3002\u200b\u6709\u200b\u56db\u79cd\u200b\u67b6\u6784\u200b\u53ef\u200b\u4f9b\u9009\u62e9\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u5728\u200b\u5927\u5c0f\u200b\u548c\u200b\u8f6c\u6362\u200b\u65f6\u95f4\u200b\u4e4b\u95f4\u200b\u8fdb\u884c\u200b\u6743\u8861\u200b\u3002</p>"},{"location":"fpga/FFT%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#2vivadoip","title":"2.Vivado\u200b\u4e2d\u200bIP\u200b\u6838\u200b\u7684\u200b\u914d\u7f6e","text":"<p>\u200b\u4e3b\u8981\u200b\u914d\u7f6e\u200b\u901a\u9053\u200b\u6570\u200b\uff0c\u200b\u70b9\u6570\u200b\uff0c\u200b\u65f6\u949f\u200b\uff0c\u200b\u541e\u5410\u91cf\u200b\uff0c\u200b\u7ed3\u6784\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u8fd0\u884c\u200b\u65f6\u200b\u914d\u7f6e\u200b\uff0c\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\u7ed3\u6784\u200b\u7684\u200b\u914d\u7f6e\u200b\u4f1a\u200b\u5f71\u54cd\u200b\u8c03\u6574\u200b\u56e0\u5b50\u200b\u3002\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\uff1a</p>"},{"location":"fpga/FFT%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#_2","title":"\u7b2c\u4e00\u9875\u200b\uff1a","text":"<ol> <li> <p>number  of  channels :\u200b\u53d8\u6362\u200b\u901a\u9053\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u9009\u62e9\u200b\u591a\u901a\u9053\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u591a\u200b\u5e27\u200b\u6570\u636e\u200b\u540c\u65f6\u200b\u8fdb\u884c\u200bFFT\u200b\u8fd0\u7b97\u200b\uff1b</p> </li> <li> <p>transform  lenfgth : FFT\u200b\u53d8\u6362\u200b\u957f\u5ea6\u200b\uff08\u200b\u6700\u5927\u200bFFT\u200b\u70b9\u6570\u200b\uff09\uff0c\u200b\u5982\u679c\u200b\u9009\u62e9\u200b\u4e86\u200b\u6700\u200b\u4e0b\u9762\u200b\u7684\u200b\u2018run time configurable transdorm legth\u2019,\u200b\u5219\u200b\u8be5\u200b\u53c2\u6570\u200b\u662f\u200bFFT\u200b\u53d8\u5316\u200b\u7684\u200b\u6700\u5927\u200b\u957f\u5ea6\u200b\uff0c\u200b\u4e00\u822c\u200b\u4e0d\u9009\u200b\u3002</p> </li> <li> <p>Target Clock Frequency (MHz)\uff08\u200b\u76ee\u6807\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\uff09\uff1a\u200b\u6839\u636e\u200b\u5948\u200b\u594e\u65af\u7279\u200b\u91c7\u6837\u200b\u5b9a\u7406\u200b\uff0c\u200b\u91c7\u6837\u200b\u9891\u7387\u200b\u9700\u200b\u5927\u4e8e\u200b\u4fe1\u53f7\u200b\u9891\u7387\u200b\u7684\u200b\u4e24\u500d\u200b\uff1b</p> </li> <li> <p>Target Data Throughput(MSPS)\uff08\u200b\u76ee\u6807\u200b\u6570\u636e\u200b\u541e\u5410\u91cf\u200b\uff09\uff1aFFT\u200b\u91c7\u6837\u200b\u70b9\u6570\u200b\uff0c\u200b\u4ee3\u8868\u200b\u5bf9\u200b\u4fe1\u53f7\u200b\u5728\u200b\u9891\u57df\u200b\u7684\u200b\u91c7\u6837\u200b\u6570\u200b\uff1b</p> </li> <li> <p>architecure  choice : \u200b\u8fd9\u4e2a\u200b\u6807\u7b7e\u200b\u91cc\u200b\u4e3b\u8981\u200b\u662f\u200b\u7528\u6765\u200b\u5b9e\u73b0\u200b\uff0cFFT\u200b\u53d8\u6362\u200b\u6240\u200b\u9009\u7528\u200b\u7684\u200b\u67b6\u6784\u200b\uff1a</p> </li> <li> <p>Automatically  selected \uff1a \u200b\u81ea\u52a8\u200b\u9009\u62e9\u200b\u6240\u200b\u9700\u8981\u200b\u7684\u200b\uff0cFFT\u200b\u53d8\u5316\u200b\u67b6\u6784\u200b\u3002</p> </li> <li> <p>pipelined  streaming \uff1a\u200b\u5e76\u884c\u200b\u6d41\u6c34\u7ebf\u7ed3\u6784\u200b</p> </li> <li> <p>radix-4, burst i/o \uff1a \u200b\u57fa\u200b4 I/O\u200b\u7a81\u53d1\u200b\u7ed3\u6784\u200b\u3000</p> </li> <li> <p>radix-2, burst i/o \uff1a\u200b\u57fa\u200b2 I/O\u200b\u7a81\u53d1\u200b\u7ed3\u6784\u200b</p> </li> <li> <p>radix-2 life, burst i/o \uff1a\u200b\u57fa\u200b2 I/O\u200b\u7a81\u53d1\u200b\u7ed3\u6784\u200b</p> </li> </ol> <p>\u200b      \u200b\u5176\u4e2d\u200b\u6d41\u6c34\u7ebf\u200b\u7684\u200b\u7ed3\u6784\u200b\u53d8\u6362\u5904\u7406\u200b\u65f6\u95f4\u200b\u6700\u77ed\u200b\uff0c\u200b\u8d44\u6e90\u200b\u6d88\u8017\u200b\u6700\u5927\u200b\u3002</p> <p>run time configurable transdorm legth  \uff1a \u200b\u8be5\u200b\u9009\u9879\u200b\u53ef\u4ee5\u200b\u5728\u200bFFT\u200b\u53d8\u6362\u200b\u4e2d\u200b\u901a\u8fc7\u200b\u8bbe\u7f6e\u200bs_axis_config_tdata\u200b\u4e2d\u200bNFFT\u200b\u5b57\u6bb5\u200b\u7684\u200b\u957f\u5ea6\u200b\u6765\u200b\u6539\u53d8\u200bFFT\u200b\u53d8\u5316\u200b\u7684\u200b\u957f\u5ea6\u200b\u3002</p>"},{"location":"fpga/FFT%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#_3","title":"\u7b2c\u4e8c\u9875\u200b\uff1a","text":"<p>\u200b\u8fd9\u91cc\u200b\u4e3b\u8981\u200b\u662f\u200b\u914d\u7f6e\u200b \u200b\u6570\u636e\u200b\u5bbd\u5ea6\u200b\uff0c\u200b\u683c\u5f0f\u200b\uff0c\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u8f93\u51fa\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u548c\u200b\u53ef\u9009\u200b\u7684\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b\u3002</p> <p></p> <ol> <li> <p>data format;\u200b\u4e0b\u200b\u62c9\u200b\u6807\u7b7e\u200b\u4e2d\u200b\uff0c\u200b\u5bf9\u5e94\u200b\u7740\u200bFFT IP\u200b\u6838\u200b\u652f\u6301\u200b\u4e24\u79cd\u200b\u6570\u636e\u7c7b\u578b\u200b\uff1a </p> </li> <li> <p>\u200b\u5b9a\u70b9\u200b\u5168\u200b\u7cbe\u5ea6\u200b </p> </li> <li> <p>\u200b\u5b9a\u70b9\u200b\u7f29\u51cf\u200b\u4f4d\u200b\u5bbd\u200b </p> </li> <li> <p>scaling optios :\u200b\u7f29\u653e\u200b\u9009\u9879\u200b \uff1a</p> </li> <li> <p>block floating point :\u200b\u4e0d\u7ba1\u200b\u8f93\u5165\u200b\u7684\u200b\u683c\u5f0f\u200b\u5982\u4f55\u200b\uff0cFFT\u200b\u53d8\u5316\u200b\u5185\u90e8\u200b\u90fd\u200b\u91c7\u7528\u200b\u6d6e\u70b9\u200b\uff0c\u200b\u4f1a\u200b\u6839\u636e\u200b\u6bcf\u200b\u4e00\u7ea7\u200b\u7684\u200b\u7684\u200b\u6570\u636e\u200b\u60c5\u51b5\u200b\u81ea\u52a8\u200b\u7f29\u653e\u200b\u3002 \u200b\u8fd9\u4e2a\u200b\u6a21\u5f0f\u200b\u7684\u200b\u8f93\u5165\u8f93\u51fa\u200b\u4f4d\u200b\u5bbd\u200b\u4e00\u81f4\u200b\uff0c\u200b\u4fbf\u4e8e\u200b\u8c03\u7528\u200b\u3002</p> </li> <li> <p>scaled :\u200b\u5728\u200bm_axis_data_tuser\u200b\u4e2d\u4f1a\u200b\u6709\u200b5BIT\u200b\u8868\u793a\u200b\u6bcf\u200b\u4e00\u7ea7\u200b\u7684\u200b\u7f29\u653e\u200b\u60c5\u51b5\u200b,\u200b\u5728\u200bs_axis_config_data\u200b\u4e2d\u4f1a\u200b\u6709\u200b\u76f8\u5e94\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u914d\u7f6e\u200b\u914d\u7f6e\u200b\u7f29\u653e\u200b\u56e0\u5b50\u200b.\u200b\u6bcf\u4e00\u200b\u7ea7\u522b\u200b\u5305\u542b\u200b2\u200b\u4e2a\u200bstage \uff0c2\u200b\u4e2a\u200bbit \u200b\u8868\u793a\u200b\u4e00\u7ea7\u200b\u7f29\u653e\u200b\uff0c\u200b\u4e00\u822c\u200b0-3\u200b\u53ef\u200b\u9009\u200b\uff0c\u200b\u5982\u679c\u200blog(NFFT)\u200b\u4e0d\u662f\u200b2\u200b\u7684\u200b\u500d\u6570\u200b\uff0c\u200b\u5219\u200b\u6700\u9ad8\u200b\u4e00\u7ea7\u200b\u7684\u200b\u7f29\u653e\u200b\u53ea\u80fd\u200b\u5728\u200b0-1\u200b\u4e4b\u95f4\u200b\u9009\u53d6\u200b\u3002</p> </li> <li> <p>unscaled :\u200b\u4e0d\u7528\u200b\u62c5\u5fc3\u200b\u53d8\u5316\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u6ea2\u51fa\u200b\uff0c\u200b\u4f46\u662f\u200b\u8f93\u5165\u200b\u662f\u200b32bit\u200b\u7684\u8bdd\u200b\uff0c\u200b\u8f93\u51fa\u200b\u662f\u200b64bit\u3002</p> </li> <li> <p>Precision Options\uff1a\u200b\u7cbe\u5ea6\u200b\u9009\u9879\u200b</p> </li> <li>Input Data Width\uff1a\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u5bbd\u5ea6\u200b</li> <li>Phase Factor Width\uff1a\u200b\u76f8\u4f4d\u200b\u56e0\u5b50\u200b\u5bbd\u5ea6\u200b</li> <li>Control Signals:\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4e3b\u8981\u200b\u6709\u200b\u65f6\u949f\u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b\u548c\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\u7684\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b</li> <li>output odering options: \u200b\u8f93\u51fa\u200b\u987a\u5e8f\u200b\u9009\u9879\u200b\u3002</li> <li>nature order:\u200b\u5c31\u662f\u200bFFT\u200b\u53d8\u5316\u200b\u540e\u200b\u7684\u200b\u8f93\u51fa\u200b\u5df2\u7ecf\u200b\u8c03\u6574\u200b\u4e86\u200b\u987a\u5e8f\u200b\uff0c\u200b\u6309\u7167\u200bxk_index\u200b\u81ea\u7136\u200b\u987a\u5e8f\u200b\u5217\u51fa\u200b\u53d8\u5316\u200b\u7ed3\u679c\u200b\uff0c</li> <li> <p>bit/digital reserved oder\u200b\u5c31\u662f\u200b\u6309\u7167\u200b\u53d8\u5316\u200b\u540e\u200b\u7684\u200b\u987a\u5e8f\u200b\u76f4\u63a5\u200b\u8f93\u51fa\u200b\uff0c\u200b\u662f\u200b\u5012\u5e8f\u200b\u8f93\u51fa\u200b\uff0c\u200b\u9700\u8981\u200b\u81ea\u5df1\u200b\u540e\u7eed\u200b\u5904\u7406\u200b\uff0c</p> </li> <li> <p>optional output fileds :\u200b\u9009\u9879\u200b\u8f93\u51fa\u200b\u5b57\u200b\u6bb5\u200b</p> </li> <li>xk_index:FFT \u200b\u53d8\u5e7b\u200b\u7684\u200b\u7ed3\u679c\u200b\u7d22\u5f15\u200b\uff0c\u200b\u5728\u200bm_axis_data_user\u200b\u4e2d\u6709\u200b\u76f8\u5e94\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\u3002</li> <li>OVFLO\u200b\u662f\u200b\u53d8\u6362\u200b\u4e2d\u200b\u6ea2\u51fa\u200b\u7684\u200b\u6307\u793a\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u5bf9\u5e94\u200bevent_fft_overflow.</li> </ol>"},{"location":"fpga/FFT%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#_4","title":"\u7b2c\u4e09\u9875","text":"<p>\u200b\u4e00\u822c\u200b\u4e0d\u200b\u9700\u8981\u200b\u53d8\u52a8\u200b</p> <p>1: \u200b\u6570\u636e\u200b 2: \u200b\u76f8\u4f4d\u200b\u56e0\u5b50\u200b 3: \u200b\u91cd\u200b\u6392\u5e8f\u200b\u7f13\u51b2\u200b\u3002 4: \u200b\u590d\u6570\u200b\u4e58\u6cd5\u5668\u200b 5: \u200b\u8776\u5f62\u200b\u8fd0\u7b97\u200b\u5355\u5143\u200b\u3002</p>"},{"location":"fpga/FFT%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#3","title":"3.\u200b\u63a5\u53e3\u5b9a\u4e49","text":"\u540d\u79f0\u200b \u200b\u65b9\u5411\u200b \u200b\u8bf4\u660e\u200b aclk \u200b\u8f93\u5165\u200b \u200b\u6a21\u5757\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b\uff0c\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u6709\u6548\u200b aclken \u200b\u8f93\u5165\u200b \u200b\u65f6\u949f\u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u9ad8\u7535\u5e73\u200b\u6709\u6548\u200b\uff0c\u200b\u4f4e\u7535\u5e73\u200b\u65f6\u200b\u5185\u6838\u200b\u6682\u505c\u200b\u5de5\u4f5c\u200b\uff0c\u200b\u53ef\u200b\u901a\u8fc7\u200b\u6b64\u200b\u4fe1\u53f7\u200b\u964d\u4f4e\u200b\u5185\u6838\u200b\u8fd0\u884c\u200b\u7684\u200b\u6700\u5927\u200b\u65f6\u949f\u200b\u9891\u7387\u200b aresetn \u200b\u8f93\u5165\u200b \u200b\u4f4e\u7535\u5e73\u200b\u540c\u6b65\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f18\u5148\u7ea7\u200b\u9ad8\u4e8e\u200baclken,\u200b\u4f4e\u7535\u5e73\u200b\u81f3\u5c11\u200b\u6301\u7eed\u200b\u4e24\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b \u200b\u914d\u7f6e\u200b - s_axis_config_tvalid \u200b\u8f93\u5165\u200b \u200b\u914d\u7f6e\u200b\u901a\u9053\u200b\u7684\u200btvalid,\u200b\u7531\u200b\u5916\u90e8\u200b\u4e3b\u673a\u200b\u65ad\u8a00\u200b\u4ee5\u200b\u8868\u793a\u200b\u5b83\u200b\u80fd\u591f\u200b\u63d0\u4f9b\u6570\u636e\u200b s_axis_config_tready \u200b\u8f93\u51fa\u200b \u200b\u914d\u7f6e\u200b\u901a\u9053\u200b\u7684\u200btready,\u200b\u7531\u200b\u5185\u6838\u200b\u65ad\u8a00\u200b\u4ee5\u200b\u8868\u793a\u200b\u5b83\u200b\u5df2\u200b\u51c6\u5907\u200b\u597d\u200b\u63a5\u6536\u6570\u636e\u200b s_axis_config_tdata \u200b\u8f93\u5165\u200b \u200b\u914d\u7f6e\u200b\u901a\u9053\u200b\u7684\u200btdata,\u200b\u643a\u5e26\u200b\u914d\u7f6e\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5305\u62ec\u200bNFFT\u3001FWD/INV\u3001CP LENZ\u200b\u548c\u200bSCALE SCH \u200b\u8f93\u5165\u200b\u6570\u636e\u200b - s_axis_data_tvalid \u200b\u8f93\u5165\u200b \u200b\u8f93\u5165\u200b\u6570\u636e\u901a\u9053\u200btvalid,\u200b\u7531\u200b\u5916\u90e8\u200b\u4e3b\u673a\u200b\u65ad\u8a00\u200b\u4ee5\u200b\u8868\u793a\u200b\u5b83\u200b\u80fd\u591f\u200b\u63d0\u4f9b\u6570\u636e\u200b s_axis_data_tready \u200b\u8f93\u51fa\u200b \u200b\u8f93\u5165\u200b\u6570\u636e\u901a\u9053\u200btready,\u200b\u7531\u200b\u5185\u6838\u200b\u65ad\u8a00\u200b\u4ee5\u200b\u8868\u793a\u200b\u5b83\u200b\u80fd\u591f\u200b\u63a5\u6536\u6570\u636e\u200b s_axis_data_tdata \u200b\u8f93\u5165\u200b \u200b\u8f93\u5165\u200b\u6570\u636e\u901a\u9053\u200btdata,\u200b\u7531\u200b\u5916\u90e8\u200b\u4e3b\u673a\u200b\u63d0\u4f9b\u200b\u5f85\u5904\u7406\u200b\u7684\u200b\u6570\u636e\u200b s_axis_data_tlast \u200b\u8f93\u5165\u200b \u200b\u7531\u200b\u5916\u90e8\u200b\u4e3b\u673a\u200b\u65ad\u8a00\u200b\u8868\u793a\u200b\u6700\u540e\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b\uff0c\u200b\u53ea\u200b\u5728\u200b\u751f\u6210\u200b\u4e8b\u4ef6\u200bevent_tlast_unexpected\u200b\u548c\u200bevent tlast_missing\u200b\u65f6\u200b\uff0c\u200b\u5185\u6838\u200b\u624d\u200b\u4f7f\u7528\u200b\u5b83\u200b \u200b\u8f93\u51fa\u200b\u6570\u636e\u200b - m_axis_data_tvalid \u200b\u8f93\u51fa\u200b \u200b\u8f93\u51fa\u200b\u6570\u636e\u901a\u9053\u200btvalid,\u200b\u7531\u200b\u5185\u6838\u200b\u65ad\u8a00\u200b\u8868\u793a\u200b\u5b83\u200b\u80fd\u591f\u200b\u63d0\u4f9b\u6570\u636e\u200b m_axis_data_tready \u200b\u8f93\u5165\u200b \u200b\u8f93\u51fa\u200b\u6570\u636e\u901a\u9053\u200btready,\u200b\u7531\u200b\u5916\u90e8\u200b\u4e3b\u673a\u200b\u65ad\u8a00\u200b\u8868\u793a\u200b\u5b83\u200b\u80fd\u591f\u200b\u63a5\u6536\u6570\u636e\u200b m_axis_data_tdata \u200b\u8f93\u51fa\u200b \u200b\u8f93\u51fa\u200b\u6570\u636e\u901a\u9053\u200btdata,\u200b\u7531\u200b\u5185\u6838\u200b\u63d0\u4f9b\u200bFFT\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b m_axis_data_tuser \u200b\u8f93\u51fa\u200b \u200b\u8f93\u51fa\u200b\u6570\u636e\u901a\u9053\u200btuser,\u200b\u7531\u200b\u5185\u6838\u200b\u63d0\u4f9b\u200bXK INDEX, OVFLO, BLK EXP\u200b\u4fe1\u606f\u200b m_axis_data_tlast \u200b\u8f93\u51fa\u200b \u200b\u6570\u636e\u200b\u6570\u636e\u901a\u9053\u200btlast,\u200b\u7531\u200b\u5185\u6838\u200b\u65ad\u8a00\u200b\u8868\u793a\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u8f93\u51fa\u200b\u6570\u636e"},{"location":"fpga/FFT%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#4","title":"4. \u200b\u914d\u7f6e\u200b\u8bf4\u660e","text":"<p>FFT\uff08\u200b\u5feb\u901f\u200b\u5085\u91cc\u53f6\u200b\u53d8\u6362\u200b\uff09\u200b\u4ed6\u200b\u662f\u200b\u4e00\u79cd\u200b\u9ad8\u6548\u200b\u7684\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5c06\u200b\u4fe1\u53f7\u200b\u4ece\u200b\u65f6\u57df\u200b\u8f6c\u6362\u200b\u5230\u200b\u9891\u57df\u200b\u4e2d\u200b\uff0c\u200b\u5728\u200bFPGA\u200b\u5f00\u53d1\u200b\u4e2d\u200b\uff0cFFT IP\u200b\u6838\u200b\u901a\u5e38\u200b\u662f\u200b\u7531\u200bFPGA\u200b\u4f9b\u5e94\u5546\u200b\u63d0\u4f9b\u200b\u7684\u200b\u9884\u8bbe\u200b\u6a21\u5757\u200b\uff0c\u200b\u7406\u89e3\u200b\u548c\u200b\u914d\u7f6e\u200b\u8fd9\u4e2a\u200bIP\u200b\u6838\u200b\u5f53\u65f6\u200b\u5f88\u200b\u91cd\u8981\u200b\u7684\u200b\u4e00\u73af\u200b\u3002</p>"},{"location":"fpga/FFT%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#41-fft","title":"4.1 FFT\u200b\u70b9\u6570","text":"<ul> <li>\u200b\u5b9a\u4e49\u200b\uff1aFFT\u200b\u70b9\u6570\u200b\u51b3\u5b9a\u200b\u4e86\u200bFFT\u200b\u53d8\u6362\u200b\u7684\u200b\u5206\u8fa8\u7387\u200b\uff0c\u200b\u70b9\u6570\u200b\u8d8a\u9ad8\u200b\uff0c\u200b\u9891\u57df\u200b\u7684\u200b\u5206\u8fa8\u7387\u200b\u4e5f\u200b\u5c31\u200b\u8d8a\u200b\u9ad8\u200b\uff0c\u200b\u4f46\u662f\u200b\u8ba1\u7b97\u200b\u590d\u6742\u5ea6\u200b\u548c\u200b\u8d44\u6e90\u200b\u5144\u200b\u554a\u200b\u597d\u200b\u4e5f\u200b\u4f1a\u200b\u968f\u4e4b\u200b\u589e\u52a0\u200b\u3002</li> <li>\u200b\u914d\u7f6e\u200b\u65b9\u6cd5\u200b\uff1a</li> <li>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u6839\u636e\u200b\u4fe1\u53f7\u200b\u7684\u200b\u91c7\u6837\u7387\u200b\u548c\u200b\u6240\u200b\u9700\u8981\u200b\u7684\u200b\u9891\u7387\u200b\u5206\u8fa8\u7387\u200b\u6765\u200b\u9009\u62e9\u200bFFT\u200b\u7684\u200b\u70b9\u6570\u200b\uff0c\u200b\u4f8b\u5982\u200b\u5982\u679c\u200b\u91c7\u6837\u200b\u4e00\u4e2a\u200b100khz\u200b\u7684\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u6211\u897f\u200b\u9ec4\u200b\u9891\u7387\u200b\u5206\u8fa8\u7387\u200b\u4e3a\u200b1hz\uff0c\u200b\u90a3\u4e48\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b100k\u200b\u4e2a\u70b9\u200b\u7684\u200bFFT</li> </ul>"},{"location":"fpga/FFT%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#42","title":"4.2 \u200b\u91c7\u6837\u7387","text":"<ul> <li>\u200b\u5b9a\u4e49\u200b\uff1a\u200b\u91c7\u6837\u7387\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u4fe1\u53f7\u200b\u5728\u200b\u5355\u4f4d\u200b\u65f6\u95f4\u200b\u5185\u200b\u88ab\u200b\u91c7\u6837\u200b\u7684\u200b\u6b21\u6570\u200b\uff0c\u200b\u6211\u4eec\u200b\u6839\u636e\u200b\u6211\u4eec\u200b\u719f\u77e5\u200b\u7684\u200b\u5948\u200b\u594e\u65af\u7279\u200b\u91c7\u6837\u200b\u5b9a\u7406\u200b\u53ef\u4ee5\u200b\u77e5\u9053\u200b\uff0c\u200b\u91c7\u6837\u7387\u200b\u81f3\u5c11\u200b\u662f\u200b\u8be5\u200b\u4fe1\u53f7\u200b\u6700\u9ad8\u200b\u9891\u7387\u200b\u7684\u200b\u4e24\u500d\u200b</li> <li>\u200b\u914d\u7f6e\u200b\u65b9\u6cd5\u200b\uff1a</li> <li>\u200b\u786e\u5b9a\u200b\u4fe1\u53f7\u200b\u7684\u200b\u6700\u9ad8\u200b\u9891\u7387\u200b\u6210\u5206\u200b\uff0c\u200b\u7136\u540e\u200b\u9009\u62e9\u200b\u5408\u9002\u200b\u7684\u200b\u91c7\u6837\u7387\u200b</li> </ul>"},{"location":"fpga/FFT%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#43","title":"4.3 \u200b\u6570\u636e\u4f4d\u200b\u5bbd","text":"<ul> <li>\u200b\u5b9a\u4e49\u200b\uff1a\u200b\u6570\u636e\u4f4d\u200b\u5bbd\u200b\u51b3\u5b9a\u200b\u4e86\u200b\u8f93\u5165\u200b\u548c\u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\u7684\u200b\u7cbe\u5ea6\u200b\u3002\u200b\u4f4d\u200b\u5bbd\u200b\u8d8a\u200b\u9ad8\u200b\uff0c\u200b\u6570\u636e\u200b\u7684\u200b\u7cbe\u5ea6\u200b\u8d8a\u9ad8\u200b\uff0c\u200b\u4f46\u200b\u8d44\u6e90\u200b\u4e5f\u200b\u4f1a\u200b\u968f\u4e4b\u200b\u589e\u52a0\u200b</li> <li>\u200b\u914d\u7f6e\u200b\u65b9\u6cd5\u200b\uff1a</li> <li>\u200b\u6839\u636e\u200b\u4fe1\u53f7\u200b\u7684\u200b\u52a8\u6001\u200b\u8303\u56f4\u200b\u548c\u200b\u7cbe\u5ea6\u200b\u8981\u6c42\u200b\u9009\u62e9\u200b\u5408\u9002\u200b\u7684\u200b\u6570\u636e\u4f4d\u200b\u5bbd\u200b\uff0c\u200b\u4f8b\u5982\u200b\u5bf9\u4e8e\u200b\u4e00\u822c\u200b\u7684\u200b\u97f3\u9891\u200b\u4fe1\u53f7\u200b\uff0c16\u200b\u4f4d\u200b\u7684\u200b\u6570\u636e\u4f4d\u200b\u5bbd\u200b\u5c31\u200b\u5df2\u7ecf\u200b\u8db3\u591f\u200b\u4e86\u200b\uff0c\u200b\u4f46\u662f\u200b\u5bf9\u4e8e\u200b\u9ad8\u7cbe\u5ea6\u200b\u7684\u200b\u6d4b\u91cf\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b32\u200b\u4f4d\u200b\u6216\u8005\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u4f4d\u200b\u5bbd\u200b\u624d\u80fd\u200b\u6ee1\u8db3\u8981\u6c42\u200b</li> <li></li> </ul>"},{"location":"fpga/FPGA%E4%B8%8ECPLD%E7%9A%84%E5%8C%BA%E5%88%AB%E4%B8%8E%E8%81%94%E7%B3%BB/","title":"FPGA\u200b\u4e0e\u200bCPLD\u200b\u7684\u200b\u533a\u522b\u200b\u4e0e\u200b\u8054\u7cfb","text":"\u9879\u76ee\u200b FPGA CPLD \u200b\u5907\u6ce8\u200b \u200b\u7ed3\u6784\u200b\u5de5\u827a\u200b \u200b\u591a\u4f4d\u200bLUT\u200b\u52a0\u200b\u5bc4\u5b58\u5668\u200b\u7ed3\u6784\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u5de5\u827a\u200b\u591a\u4e3a\u200bSRAM\uff0c\u200b\u4e5f\u200b\u5305\u542b\u200bFlash\u3001Anti-Fuse\u200b\u7b49\u200b\u5de5\u827a\u200b \u200b\u591a\u4f4d\u200b\u4e58\u79ef\u200b\u9879\u200b\uff0c\u200b\u5de5\u827a\u200b\u591a\u4e3a\u200bE2CMOS\uff0c\u200b\u4e5f\u200b\u5305\u542b\u200bEEPROM\u3001Flash\u3001Anti-Fuse \u200b\u89e6\u53d1\u5668\u200b\u6570\u91cf\u200b \u200b\u591a\u200b \u200b\u5c11\u200b FPGA\u200b\u66f4\u200b\u9002\u5408\u200b\u5b9e\u73b0\u200b\u65f6\u5e8f\u200b\u903b\u8f91\u200b\uff0cCPLD\u200b\u591a\u200b\u7528\u4e8e\u200b\u5b9e\u73b0\u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b Pin to Pin \u200b\u5ef6\u65f6\u200b \u200b\u4e0d\u53ef\u200b\u9884\u6d4b\u200b \u200b\u56fa\u5b9a\u200b \u200b\u5bf9\u200bFPGA\u200b\u800c\u8a00\u200b\uff0c\u200b\u65f6\u5e8f\u200b\u7ea6\u675f\u200b\u548c\u200b\u4eff\u771f\u200b\u5341\u5206\u200b\u91cd\u8981\u200b \u200b\u89c4\u6a21\u200b\u4e0e\u200b\u903b\u8f91\u200b\u590d\u6742\u5ea6\u200b \u200b\u89c4\u6a21\u200b\u5927\u200b\uff0c\u200b\u903b\u8f91\u200b\u590d\u6742\u5ea6\u200b\u9ad8\u200b\uff0c\u200b\u65b0\u578b\u200b\u5668\u4ef6\u200b\u9ad8\u200b\u8fbe\u200b\u5343\u4e07\u200b\u95e8\u7ea7\u200b \u200b\u8fc7\u83ab\u7b11\u200b\uff0c\u200b\u903b\u8f91\u200b\u590d\u6742\u5ea6\u200b\u4f4e\u200b FPGA\u200b\u7528\u4ee5\u200b\u5b9e\u73b0\u200b\u590d\u6742\u200b\u8bbe\u8ba1\u200b\uff0cCPLD\u200b\u7528\u4ee5\u200b\u5b9e\u73b0\u200b\u7b80\u5355\u200b\u8bbe\u8ba1\u200b \u200b\u6210\u672c\u200b\u4e0e\u200b\u4ef7\u683c\u200b \u200b\u6210\u672c\u200b\u9ad8\u200b\u3001\u200b\u4ef7\u683c\u200b\u8d35\u200b \u200b\u6210\u672c\u4f4e\u200b\uff0c\u200b\u4ef7\u683c\u4f4e\u200b CPLD\u200b\u7528\u6765\u200b\u5b9e\u73b0\u200b\u4f4e\u6210\u672c\u200b\u8bbe\u8ba1\u200b \u200b\u7f16\u7a0b\u200b\u4e0e\u200b\u914d\u7f6e\u200b \u200b\u4e00\u822c\u200b\u5305\u542b\u200b\u4e24\u79cd\u200b\uff0c\u200b\u5916\u6302\u200bBootRom\u200b\u548c\u200b\u901a\u8fc7\u200bCPU\u200b\u6216\u200bDSP\u200b\u7b49\u200b\u5728\u7ebf\u200b\u7f16\u7a0b\u200b\u3002\u200b\u591a\u6570\u200b\u57fa\u672c\u200b\u5c5e\u4e8e\u200bRAM\u200b\u578b\u200b\uff0c\u200b\u6389\u7535\u200b\u540e\u200b\u7a0b\u5e8f\u200b\u4e22\u5931\u200b \u200b\u6709\u200b\u4e24\u79cd\u200b\u7f16\u7a0b\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u4e00\u79cd\u200b\u662f\u200b\u901a\u8fc7\u200b\u7f16\u7a0b\u5668\u200b\u70e7\u5199\u200bROM\uff0c\u200b\u53e6\u200b\u4e00\u79cd\u200b\u8f83\u200b\u65b9\u4fbf\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\u901a\u8fc7\u200bISP\u200b\u6a21\u5f0f\u200b\u3002\u200b\u4e00\u822c\u200b\u4e3a\u200bROM\u200b\u578b\u200b\uff0c\u200b\u6389\u7535\u200b\u540e\u200b\u7a0b\u5e8f\u200b\u4e0d\u4f1a\u200b\u4e22\u5931\u200b FPGA\u200b\u6389\u7535\u200b\u540e\u200b\u4f1a\u200b\u4e22\u5931\u200b\u539f\u6709\u200b\u903b\u8f91\u200b\u914d\u7f6e\u200b\u3002\u200b\u800c\u200b\u53cd\u200b\u7194\u4e1d\u200b\u5de5\u827a\u200b\u7684\u200bFPGA\uff0c\u200b\u5982\u200bActel\u200b\u7684\u200b\u67d0\u4e9b\u200b\u5668\u4ef6\u200b\u65cf\u200b\u548c\u200b\u76ee\u524d\u200b\u7684\u200b\u4e00\u4e9b\u200b\u5185\u5d4c\u200bFlash\u200b\u6216\u200bEECMOS\u200b\u7684\u200bFPGA\uff0c\u200b\u5982\u200bLattice\u200b\u7684\u200bXP\u200b\u5668\u4ef6\u200b\u65cf\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u975e\u6613\u5931\u200b\u914d\u7f6e\u200b\u65b9\u5f0f\u200b \u200b\u4fdd\u5bc6\u6027\u200b \u200b\u4e00\u822c\u200b\u4fdd\u5bc6\u6027\u200b\u8f83\u5dee\u200b \u200b\u597d\u200b \u200b\u4e00\u822c\u200bFPGA\u200b\u4e0d\u200b\u5bb9\u6613\u200b\u5b9e\u73b0\u200b\u52a0\u5bc6\u200b\uff0c\u200b\u4f46\u662f\u200b\u76ee\u524d\u200b\u4e00\u4e9b\u200b\u91c7\u7528\u200bFlash\u200b\u52a0\u200bSRAM\u200b\u5de5\u827a\u200b\u7684\u200b\u65b0\u578b\u200b\u5668\u4ef6\u200b\uff08\u200b\u5982\u200bLattice XP\u200b\u7cfb\u5217\u200b\uff09\uff0c\u200b\u5728\u200b\u5185\u90e8\u200b\u5d4c\u5165\u200b\u4e86\u200b\u52a0\u8f7d\u200bFlash\uff0c\u200b\u80fd\u591f\u200b\u63d0\u4f9b\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u4fdd\u5bc6\u6027\u200b \u200b\u4e92\u8054\u200b\u7ed3\u6784\u200b\u3001\u200b\u8fde\u7ebf\u200b\u8d44\u6e90\u200b \u200b\u5206\u5e03\u5f0f\u200b\uff0c\u200b\u4e30\u5bcc\u200b\u7684\u200b\u5e03\u7ebf\u200b\u8d44\u6e90\u200b \u200b\u96c6\u603b\u5f0f\u200b\uff0c\u200b\u76f8\u5bf9\u200b\u5e03\u7ebf\u200b\u8d44\u6e90\u200b\u6709\u9650\u200b FPGA\u200b\u5e03\u7ebf\u200b\u7075\u6d3b\u200b\uff0c\u200b\u4f46\u662f\u200b\u65f6\u5e8f\u200b\u66f4\u96be\u200b\u89c4\u5212\u200b\uff0c\u200b\u4e00\u822c\u200b\u901a\u8fc7\u200b\u65f6\u5e8f\u200b\u7ea6\u675f\u200b\uff0c\u200b\u9759\u6001\u200b\u65f6\u5e8f\u200b\u5206\u6790\u200b\uff0c\u200b\u65f6\u5e8f\u200b\u4eff\u771f\u200b\u7b49\u200b\u624b\u6bb5\u200b\u63d0\u9ad8\u200b\u5e76\u200b\u9a8c\u8bc1\u200b\u65f6\u5e8f\u200b\u6027\u80fd\u200b \u200b\u9002\u7528\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u7c7b\u578b\u200b \u200b\u590d\u6742\u200b\u7684\u200b\u65f6\u5e8f\u200b\u529f\u80fd\u200b \u200b\u7b80\u5355\u200b\u7684\u200b\u903b\u8f91\u200b\u529f\u80fd"},{"location":"fpga/FPGA%E4%B8%8ECPLD%E7%9A%84%E5%8C%BA%E5%88%AB%E4%B8%8E%E8%81%94%E7%B3%BB/#_1","title":"\u53c2\u8003\u8d44\u6599","text":"<p>Altrea FPGA/CPLD\u200b\u8bbe\u8ba1\u200b\uff08\u200b\u57fa\u7840\u200b\u7bc7\u200b\uff09-EDA\u200b\u5148\u950b\u200b\u5de5\u4f5c\u5ba4\u200b-\u200b\u738b\u8bda\u200b\u7f16\u8457\u200b</p> <p>Xilinx CPLD\u200b\u6559\u7a0b\u200b\uff0cVerilog\u200b\u5165\u95e8\u200b\uff1a\u200b\u70b9\u4eae\u200bLED\u200b\u706f\u200b_xilinx cpld \u200b\u914d\u7f6e\u200b\u5f15\u811a\u200b-CSDN\u200b\u535a\u5ba2\u200b</p>"},{"location":"fpga/FPGA%E5%AE%9E%E7%8E%B0CAN%E9%80%9A%E4%BF%A1/","title":"FPGA\u200b\u5b9e\u73b0\u200bCAN\u200b\u901a\u4fe1","text":"<p>https://www.parlezvoustech.com/bus-can-2024-technologie-avantages-evolutions/</p>"},{"location":"fpga/HDMI%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/","title":"\u6548\u679c\u200b\u6f14\u793a","text":""},{"location":"fpga/HDMI%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#_2","title":"\u7406\u8bba\u200b\u5b66\u4e60","text":"<p>\u200b\u5728\u200b\u524d\u9762\u200b\u6211\u4eec\u200b\u5b66\u4e60\u200b\u4e86\u200b\u4f7f\u7528\u200bVGA\u200b\u63a5\u53e3\u200b\u5b9e\u73b0\u200b\u7b49\u200b\u5bbd\u200b\u5f69\u6761\u200b\u548c\u200bRGB232\u200b\u56fe\u7247\u200b\u663e\u793a\u200b\u7684\u200b\u9a8c\u8bc1\u200b\u8bbe\u8ba1\u200b\uff0cVGA\u200b\u4f20\u8f93\u200b\u7684\u200b\u662f\u200b\u6a21\u62df\u4fe1\u53f7\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5728\u200b\u4f20\u8f93\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u6781\u6613\u200b\u53d7\u5230\u200b\u5916\u754c\u200b\u5e72\u6270\u6e90\u200b\u7684\u200b\u5f71\u54cd\u200b\uff0c\u200b\u4f20\u8f93\u200b\u7684\u200b\u4fe1\u53f7\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u7578\u53d8\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u6211\u4eec\u200b\u4f20\u8f93\u200b\u7684\u200b\u56fe\u50cf\u200b\u51fa\u73b0\u200b\u95ee\u9898\u200b\u3002</p> <p>HDMI--\u200b\u9ad8\u6e05\u200b\u591a\u5a92\u4f53\u200b\u63a5\u53e3\u200b\uff0c\u200b\u662f\u200b\u5728\u200b2002.12\uff0cHDMI1.0\u200b\u95ee\u4e16\u200b\uff0c\u200b\u6574\u4e2a\u200b\u4f20\u8f93\u200b\u7684\u200b\u539f\u7406\u200b\u4f7f\u7528\u200bTMDS\u200b\u7f16\u7801\u200b\u6280\u672f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b20m\u200b\u7684\u200b\u65e0\u200b\u4e89\u8bae\u200b\u4f20\u8f93\u200b\u3002\u200b\u9664\u6b64\u4e4b\u5916\u200b\uff0cHDMI\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e00\u6839\u200b\u7ebf\u4e0a\u200b\u5b9e\u73b0\u200b\u6570\u5b57\u4fe1\u53f7\u200b\u548c\u200b\u97f3\u9891\u200b\u4fe1\u53f7\u200b\u540c\u6b65\u200b\u4f20\u8f93\u200b</p>"},{"location":"fpga/HDMI%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#1-hdmi","title":"1. HDMI\u200b\u5f15\u811a","text":"<p>HDMI\u200b\u5f15\u811a\u200b\u90fd\u200b\u662f\u200b\u4f7f\u7528\u200b19Pin\u200b\u7684\u200b\u5f15\u811a\u200b\uff0c\u200b\u4e0b\u9762\u200b\u662f\u200b\u5b83\u200b\u7684\u200b\u5f15\u811a\u200b\u8bf4\u660e\u200b\uff0c\u200b\u6839\u636e\u200b\u5b83\u200b\u7684\u200b\u5f15\u811a\u200b\u529f\u80fd\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5212\u5206\u200b\u4e3a\u200b\u56db\u7c7b\u200b\uff1a\u200b\u6700\u200b\u91cd\u8981\u200b\u7684\u200b\u662f\u200b\u56db\u200b\u5bf9\u200b\u4f20\u8f93\u200b\u4fe1\u53f7\u200b\uff08\u200b\u56db\u5bf9\u200b\u5dee\u5206\u200b\u5bf9\u200b\uff09</p> <ol> <li>TMDS\uff1a Pin\uff081-12\uff09\uff0c\u200b\u8d1f\u8d23\u200b\u53d1\u9001\u200b\u97f3\u9891\u89c6\u9891\u200b\u4ee5\u53ca\u200b\u5404\u79cd\u200b\u8f85\u52a9\u200b\u6570\u636e\u200b\u7684\u200b\u3002\u200b\u9075\u5faa\u200bDVI\u200b\u63a5\u53e3\u200b1.0</li> <li>DDC\u200b\u901a\u9053\u200b\uff1aPin\uff0815,16,17\uff09\uff0c\u200b\u8fd9\u4e2a\u200b\u901a\u9053\u200b\u5b9e\u9645\u4e0a\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200bI2C\u200b\u63a5\u53e3\u200b\uff0cDDC\u200b\u65f6\u949f\u200b\u7ebf\u200b\u5bf9\u5e94\u200bSCL\uff0c\u200b\u6570\u636e\u7ebf\u200b\u5bf9\u5e94\u200bSDA\u3002\u200b\u4f5c\u7528\u200b\u662f\u200b\u83b7\u5f97\u200b\u53d1\u9001\u200b\u80fd\u529b\u200b\u548c\u200b\u63a5\u6536\u200b\u80fd\u529b\u200b\u3002\u200b\u5728\u200b\u6211\u4eec\u200bHDMI\u200b\u8bbe\u8ba1\u200b\u4e2d\u200b\u53ea\u200b\u9700\u8981\u200b\u5355\u5411\u200b\u83b7\u77e5\u200b\u63a5\u6536\u7aef\u200b\u7684\u200b\u80fd\u529b\u200b</li> <li>CEC\u200b\u901a\u9053\u200b\uff1aPin\uff0813,17\uff09\uff0c\u200b\u8fd9\u4e2a\u200b\u5f15\u811a\u200b\u662f\u200b\u590d\u7528\u200b\u7684\u200b\u5f15\u811a\u200b\uff0c\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u9884\u7559\u200b\u7684\u200b\u7ebf\u8def\u200b</li> <li>\u200b\u5176\u4ed6\u200b\u901a\u9053\u200b\uff1aPin\uff0814,18,19\uff09\uff0c\u200b\u7535\u6e90\u200b\u548c\u200b\u5730\u200b\u4ee5\u53ca\u200b\u70ed\u63d2\u62d4\u200b\u68c0\u6d4b\u200b</li> </ol> <p></p>"},{"location":"fpga/HDMI%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#2-hdmi","title":"2. HDMI\u200b\u663e\u793a\u200b\u539f\u7406","text":"<p>\u200b\u4ece\u56fe\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u200b\u5305\u542b\u200b\u56db\u5bf9\u200b\u5dee\u5206\u200b\u7ebf\u200b\uff0c\u200b\u5305\u542b\u200b\u4e09\u4e2a\u200b\u6570\u636e\u901a\u9053\u200b\u548c\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u901a\u9053\u200b\uff0c\u200b\u7528\u6765\u200b\u4f20\u8f93\u200b\u89c6\u9891\u200b\u3001\u200b\u97f3\u9891\u200b\u4ee5\u53ca\u200b\u8f85\u52a9\u200b\u6570\u636e\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u662f\u200bDDC\u200b\u901a\u9053\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u53d1\u9001\u200b\u7aef\u200b\uff0c\u200b\u53ef\u4ee5\u200b \u200b\u901a\u8fc7\u200b\u8fd9\u4e2a\u200b\u901a\u9053\u200b\u8bfb\u53d6\u200b\u63a5\u6536\u7aef\u200bIIC\u200b\u7684\u200b\u6a21\u5f0f\u200b\u76f8\u5173\u200b\u4fe1\u606f\u200b</p> <p>CEC\u200b\u901a\u9053\u200b\u662f\u200b\u5fc5\u987b\u200b\u9884\u7559\u200b\u7684\u200b\u901a\u9053\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e0d\u200b\u4f7f\u7528\u200b\u4f46\u662f\u200b\u8981\u200b\u6709\u200b</p> <p>\u200b\u63a5\u7740\u5c31\u662f\u200bHEAC\u200b\u901a\u9053\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u9009\u62e9\u200bhdmi\u200b\u7684\u200b\u4ee5\u592a\u7f51\u200b\u548c\u200b\u97f3\u9891\u200b\u8fd4\u56de\u200b\uff0c\u200b\u7f29\u5199\u200b\u5c31\u662f\u200bHEAC\uff0c\u200b\u4ed6\u200b\u5728\u200b\u8fde\u63a5\u200b\u7684\u200b\u8bbe\u5907\u200b\u4e2d\u200b\u63d0\u4f9b\u200b\u4ee5\u592a\u7f51\u200b\u517c\u5bb9\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7f51\u7edc\u200b\u6570\u636e\u200b\u548c\u200b\u4e00\u4e2a\u200bTMDS\u200b\u76f8\u5bf9\u200b\u65b9\u5411\u200b\u7684\u200b\u97f3\u9891\u200b\u8fd4\u56de\u200b\u901a\u9053\u200b\u3002\u200b\u8bf4\u200b\u4e86\u200b\u8fd9\u4e48\u200b\u591a\u200b\uff0c\u200b\u6211\u200b\u8fd8\u662f\u200b\u6ca1\u6709\u200b\u7406\u89e3\u200b\u8fd9\u200b\u5230\u5e95\u200b\u662f\u200b\u6709\u200b\u4ec0\u4e48\u200b\u7528\u200b</p> <p>\u200b\u6700\u540e\u200b\u8fd8\u6709\u200b\u4e00\u4e2a\u200b\u68c0\u6d4b\u200b\u70ed\u63d2\u62d4\u200b\u7684\u200b\u901a\u9053\u200bHPD\u3002</p> <p>\u200b\u603b\u5f97\u6765\u8bf4\u200b\uff0c\u200b\u8981\u200b\u4f7f\u5f97\u200bHDMI\u200b\u6b63\u786e\u200b\u663e\u793a\u200b\uff0c\u200b\u5176\u4e2d\u200b\u56db\u5bf9\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u5fc5\u4e0d\u53ef\u5c11\u200b\uff0c\u200b\u53e6\u5916\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u63d0\u4f9b\u200bRGB\u200b\u56fe\u50cf\u200b\u6570\u636e\u200b\u3001\u200b\u97f3\u9891\u200b\u4ee5\u53ca\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b\uff08\u200b\u884c\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b\uff09\uff0c\u200b\u63a5\u7740\u200b\uff0cHDMI\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u4fe1\u53f7\u200b\u8f6c\u5316\u6210\u200b\u56db\u5bf9\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u4f20\u8f93\u200b\u51fa\u53bb\u200b\uff0c\u200b\u90a3\u4e48\u200b\u662f\u200b\u600e\u4e48\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u200b\u8f6c\u5316\u6210\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u7528\u6765\u200b\u4f20\u8f93\u200b\u7684\u200b\u5450\u200b\uff1f\u200b\u8fd9\u200b\u5c31\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u5230\u200bTMDS\u200b\u4f20\u8f93\u200b\u539f\u7406\u200b\u4e86\u200b</p>"},{"location":"fpga/HDMI%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#3-tmds","title":"3. TMDS\u200b\u4f20\u8f93\u200b\u539f\u7406","text":"<p>TMDS\uff0c\u200b\u82f1\u6587\u200b\u5168\u79f0\u200b\u201cTransition Minimized Differential Signaling\u201d\uff0c\u200b\u8bd1\u200b\u4e3a\u200b\u201c\u200b\u6700\u5c0f\u5316\u200b\u4f20\u8f93\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u201d\u3002</p> <p>TMDS\u200b\u4f20\u8f93\u200b\u539f\u7406\u200b\uff1a\u200b\u8fd9\u91cc\u200b\u6211\u4eec\u200b\u4f20\u8f93\u200b\u7684\u200b\u56fe\u50cf\u200b\u6570\u636e\u200b\u662f\u200b\u5e76\u884c\u200b\u7684\u200b24\u200b\u4f4d\u200bRGB\u200b\u56fe\u50cf\u200b\u6570\u636e\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200bRGB888\uff0c \u200b\u7136\u540e\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u200b\u5728\u200b\u884c\u573a\u200b\u540c\u6b65\u200b\u4e0b\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u6211\u4eec\u200b\u7684\u200b\u662f\u200b\u80fd\u200b\u4fe1\u53f7\u200b\u548c\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u4e00\u8d77\u200b\u8fdb\u884c\u200b\u4e00\u4e2a\u200b\u7f16\u7801\u200b\uff0c\u200b\u7136\u540e\u200b\u8fdb\u884c\u200b\u5e76\u4e32\u200b\u8f6c\u6362\u200b\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u200b\u5206\u914d\u200b\u5230\u200b\u72ec\u7acb\u200b\u7684\u200b\u7aef\u53e3\u200b\u53d1\u9001\u200b\u51fa\u53bb\u200b\u3002\u200b\u968f\u540e\u200b\u63a5\u6536\u7aef\u200b\u63a5\u6536\u200b\u5230\u200b\u6765\u81ea\u200b\u53d1\u9001\u200b\u7aef\u200b\u53d1\u9001\u200b\u7684\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u540e\u200b\u8fdb\u884c\u200b\u89e3\u7801\u200b\u548c\u200b\u4e32\u200b\u5e76\u200b\u8f6c\u6362\u200b\uff0c\u200b\u63a5\u7740\u200b\u5c06\u200b\u6570\u636e\u200b\u53d1\u9001\u5230\u200b\u63a5\u6536\u7aef\u200b\u7684\u200b\u63a7\u5236\u200b\u7aef\u200b\uff0c\u200b\u4f7f\u7528\u200b\u6211\u4eec\u200b\u8f93\u5165\u200b\u7684\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u8fdb\u884c\u200b\u540c\u6b65\u200b\uff0c\u200b\u6700\u540e\u200b\u663e\u793a\u200b\u5728\u200b\u663e\u793a\u5668\u200b\u4e0a\u9762\u200b\u3002\u200b\u5176\u5b9e\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u5b9e\u73b0\u200b\u5de6\u8fb9\u200b\u4e00\u90e8\u5206\u200b\u7684\u200b\u529f\u80fd\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e86\u200b\uff08\u200b\u5b9e\u73b0\u200b\u7f16\u7801\u200b\u548c\u200b\u5e76\u200b\u4e32\u200b\u8f6c\u6362\u200b\uff09\uff0c\u200b\u63a5\u6536\u7aef\u200b\u4e0d\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u8003\u8651\u200b</p>"},{"location":"fpga/HDMI%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#tmds","title":"TMDS\u200b\u7f16\u7801","text":"<p>TMDS\u200b\u901a\u9053\u200b\u5305\u62ec\u200b 3 \u200b\u4e2a\u200bRGB \u200b\u6570\u636e\u4f20\u8f93\u200b\u901a\u9053\u200b\u548c\u200b 1 \u200b\u4e2a\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u4f20\u8f93\u200b\u901a\u9053\u200b\u3002\u200b\u6bcf\u4e00\u200b\u901a\u9053\u200b\u90fd\u200b\u901a\u8fc7\u200b\u7f16\u7801\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u5c06\u200b 8 \u200b\u4f4d\u200b\u7684\u200b\u89c6\u9891\u200b\u3001\u200b\u97f3\u9891\u200b\u6570\u636e\u200b\u8f6c\u6362\u6210\u200b\u6700\u5c0f\u5316\u200b\u4f20\u8f93\u200b\u3001\u200b\u76f4\u6d41\u200b\u5e73\u8861\u200b\u7684\u200b 10 \u200b\u4f4d\u200b\u6570\u636e\u200b\uff0c8 \u200b\u4f4d\u200b\u6570\u636e\u200b\u7ecf\u8fc7\u200b\u7f16\u7801\u200b\u548c\u200b\u76f4\u6d41\u200b\u5e73\u8861\u200b\u5f97\u5230\u200b 10 \u200b\u4f4d\u200b\u6700\u5c0f\u5316\u200b\u6570\u636e\u200b\uff0c\u200b\u770b\u4f3c\u200b\u589e\u52a0\u200b\u4e86\u200b\u5197\u4f59\u200b\u4f4d\u200b\uff0c\u200b\u5bf9\u200b\u4f20\u8f93\u200b\u94fe\u8def\u200b\u7684\u200b\u5e26\u5bbd\u200b\u8981\u6c42\u200b\u4f1a\u200b\u66f4\u200b\u9ad8\u200b\uff0c\u200b\u4f46\u200b\u4e8b\u5b9e\u4e0a\u200b\uff0c\u200b\u901a\u8fc7\u200b\u8fd9\u79cd\u200b\u7b97\u6cd5\u200b\u5f97\u5230\u200b\u7684\u200b 10 \u200b\u4f4d\u200b\u6570\u636e\u200b\u5728\u200b\u66f4\u957f\u200b\u7684\u200b\u540c\u8f74\u7535\u7f06\u200b\u4e2d\u200b\u4f20\u8f93\u200b\u7684\u200b\u53ef\u9760\u6027\u200b\u589e\u5f3a\u200b\u4e86\u200b\u3002\u200b\u6700\u5c0f\u5316\u200b\u4f20\u8f93\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u662f\u200b\u901a\u8fc7\u200b\u5f02\u6216\u200b\u53ca\u5f02\u200b\u6216\u975e\u200b\u7b49\u200b\u903b\u8f91\u200b\u7b97\u6cd5\u200b\u5c06\u200b\u539f\u59cb\u200b 8\u200b\u4f4d\u200b\u6570\u636e\u200b\u8f6c\u6362\u6210\u200b 10 \u200b\u4f4d\u200b\u6570\u636e\u200b\uff0c\u200b\u524d\u200b 8\u200b\u4f4d\u200b\u6570\u636e\u200b\u7531\u200b\u539f\u59cb\u200b\u4fe1\u53f7\u200b\u7ecf\u200b\u903b\u8f91\u8fd0\u7b97\u200b\u540e\u200b\u903b\u8f91\u200b\u5f97\u5230\u200b\uff0c\u200b\u7b2c\u200b 9 \u200b\u4f4d\u200b\u6307\u793a\u200b\u8fd0\u7b97\u200b\u7684\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u7b2c\u200b 10 \u200b\u4f4d\u200b\u7528\u6765\u200b\u5bf9\u5e94\u200b\u76f4\u6d41\u200b\u5e73\u8861\u200b\u3002</p> <p>\u200b\u8981\u200b\u5b9e\u73b0\u200bTMDS\u200b\u901a\u9053\u200b\u4f20\u8f93\u200b\uff0c\u200b\u9996\u5148\u200b\u8981\u200b\u5c06\u200b\u4f20\u5165\u200b\u7684\u200b8 \u200b\u4f4d\u200b\u7684\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u7f16\u7801\u200b\u3001\u200b\u5e76\u200b/\u200b\u4e32\u200b\u8f6c\u6362\u200b\uff0c\u200b\u6dfb\u52a0\u200b\u7b2c\u200b9\u200b\u4f4d\u200b\u7f16\u7801\u200b\u4f4d\u200b\uff0c\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\u3002</p> <p></p> <p>\u200b\u5c06\u200b 8 \u200b\u4f4d\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u53d1\u9001\u5230\u200b TMDS \u200b\u63a5\u6536\u7aef\u200b\uff1b\u200b\u5c06\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b8\u200b\u4f4d\u200b\u6570\u636e\u200b\u5e76\u200b/\u200b\u4e32\u200b\u8f6c\u6362\u200b\uff1b\u200b\u968f\u540e\u200b\u8fdb\u884c\u200b\u6700\u5c0f\u5316\u200b\u4f20\u8f93\u200b\u5904\u7406\u200b\uff0c\u200b\u52a0\u4e0a\u200b\u7b2c\u200b 9 \u200b\u4f4d\u200b\uff0c\u200b\u5373\u200b\u7f16\u7801\u200b\u8fc7\u7a0b\u200b\u3002</p> <p>\u200b\u6dfb\u52a0\u200b\u7f16\u7801\u200b\u4f4d\u200b\u7684\u200b\u6570\u636e\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u76f4\u6d41\u200b\u5747\u8861\u200b\u5904\u7406\u200b\u3002\u200b\u76f4\u6d41\u200b\u5e73\u8861\u200b\uff08DC-balanced\uff09\u200b\u5c31\u662f\u6307\u200b\u5728\u200b\u7f16\u7801\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u4fdd\u8bc1\u200b\u4fe1\u9053\u200b\u4e2d\u200b\u76f4\u6d41\u200b\u504f\u79fb\u200b\u4e3a\u200b\u96f6\u200b\uff0c\u200b\u4f7f\u200b\u4fe1\u9053\u200b\u4e2d\u200b\u4f20\u8f93\u6570\u636e\u200b\u5305\u542b\u200b\u7684\u200b1\u200b\u4e0e\u200b0\u200b\u7684\u200b\u4e2a\u6570\u200b\u76f8\u540c\u200b\u3002\u200b\u65b9\u6cd5\u200b\u662f\u200b\u5728\u200b\u6dfb\u52a0\u200b\u7f16\u7801\u200b\u4f4d\u200b\u7684\u200b 9 \u200b\u4f4d\u200b\u6570\u636e\u200b\u7684\u200b\u540e\u9762\u200b\u52a0\u4e0a\u200b\u7b2c\u200b 10 \u200b\u4f4d\u200b\u6570\u636e\u200b\uff0c\u200b\u4fdd\u8bc1\u200b10\u200b\u4f4d\u200b\u6570\u636e\u200b\u4e2d\u200b1\u200b\u4e0e\u200b0\u200b\u4e2a\u6570\u200b\u76f8\u540c\u200b\u3002\u200b\u8fd9\u6837\u200b\uff0c\u200b\u4f20\u8f93\u200b\u7684\u200b\u6570\u636e\u200b\u8d8b\u4e8e\u200b\u76f4\u6d41\u200b\u5e73\u8861\u200b\uff0c\u200b\u4f7f\u200b\u4fe1\u53f7\u200b\u5bf9\u200b\u4f20\u8f93\u7ebf\u200b\u7684\u200b\u7535\u78c1\u5e72\u6270\u200b\u51cf\u5c11\u200b\uff0c\u200b\u63d0\u9ad8\u200b\u4fe1\u53f7\u200b\u4f20\u8f93\u200b\u7684\u200b\u53ef\u9760\u6027\u200b\u3002</p> <p>\u200b\u76f4\u6d41\u200b\u5747\u8861\u200b\u5904\u7406\u200b\u540e\u200b\u7684\u200b10\u200b\u4f4d\u200b\u6570\u636e\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u5355\u7aef\u200b\u8f6c\u200b\u5dee\u5206\u200b\u5904\u7406\u200b\u3002TMDS\u200b\u5dee\u5206\u200b\u4f20\u52a8\u200b\u6280\u672f\u200b\u662f\u200b\u4e00\u79cd\u200b\u5229\u7528\u200b2\u200b\u4e2a\u200b\u5f15\u811a\u200b\u95f4\u200b\u7535\u538b\u200b\u5dee\u6765\u200b\u4f20\u9001\u200b\u4fe1\u53f7\u200b\u7684\u200b\u6280\u672f\u200b\u3002\u200b\u4f20\u8f93\u6570\u636e\u200b\u7684\u200b\u6570\u503c\u200b\uff08\u201c0\u201d\u200b\u6216\u8005\u200b\u201c1\u201d\uff09\u200b\u7531\u200b\u4e24\u811a\u95f4\u200b\u7535\u538b\u200b\u6b63\u8d1f\u6781\u200b\u6027\u200b\u548c\u200b\u5927\u5c0f\u200b\u51b3\u5b9a\u200b\u3002\u200b\u5373\u200b\u91c7\u7528\u200b 2 \u200b\u6839\u7ebf\u200b\u6765\u200b\u4f20\u8f93\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4e00\u6839\u200b\u7ebf\u4e0a\u200b\u4f20\u8f93\u200b\u539f\u6765\u200b\u7684\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u53e6\u200b\u4e00\u6839\u200b\u7ebf\u4e0a\u200b\u4f20\u8f93\u200b\u4e0e\u200b\u539f\u6765\u200b\u4fe1\u53f7\u200b\u76f8\u53cd\u200b\u7684\u200b\u4fe1\u53f7\u200b\u3002\u200b\u8fd9\u6837\u200b\u63a5\u6536\u7aef\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u8ba9\u200b\u4e00\u6839\u200b\u7ebf\u4e0a\u200b\u7684\u200b\u4fe1\u53f7\u200b\u51cf\u53bb\u200b\u53e6\u200b\u4e00\u6839\u200b\u7ebf\u4e0a\u200b\u7684\u200b\u4fe1\u53f7\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u5c4f\u853d\u200b\u7535\u78c1\u5e72\u6270\u200b\uff0c\u200b\u4ece\u800c\u200b\u5f97\u5230\u200b\u6b63\u786e\u200b\u7684\u200b\u4fe1\u53f7\u200b\u3002\u200b\u539f\u7406\u56fe\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b\u3002TMDS\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u539f\u7406\u200b</p> <p></p> <p>\u200b\u7ecf\u8fc7\u200b\u4e0a\u8ff0\u200b\u5904\u7406\u200b\uff0c\u200b\u6211\u4eec\u200b\u5f97\u5230\u200b\u4e86\u200b\u53ef\u4ee5\u200b\u8fdb\u884c\u200bTMDS\u200b\u901a\u9053\u200b\u4f20\u8f93\u200b\u7684\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f7f\u7528\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u5bf9\u200b24\u200b\u4f4d\u200b\u56fe\u50cf\u200b\u6570\u636e\u200b\uff088 \u200b\u4f4d\u200bR\u200b\u4fe1\u53f7\u200b\u30018 \u200b\u4f4d\u200bG \u200b\u4fe1\u53f7\u200b\u30018 \u200b\u4f4d\u200bB \u200b\u4fe1\u53f7\u200b\uff09\u200b\u548c\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b\uff0c\u200b\u5c06\u200b4\u200b\u5bf9\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u901a\u8fc7\u200bHDMI\u200b\u63a5\u53e3\u200b\u53d1\u5230\u200b\u63a5\u6536\u200b\u8bbe\u5907\u200b\uff1b\u200b\u63a5\u6536\u200b\u8bbe\u5907\u200b\u901a\u8fc7\u200b\u89e3\u7801\u200b\u7b49\u200b\u4e00\u7cfb\u5217\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u56fe\u50cf\u200b\u540e\u200b\u97f3\u9891\u200b\u518d\u73b0\u200b\u3002</p> <p>\u200b\u5728\u200b\u6211\u4eec\u200b\u5b9e\u9645\u200b\u4f7f\u7528\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u6709\u200b\u4e00\u90e8\u5206\u200b\u5f00\u53d1\u677f\u200b\u662f\u200b\u4f7f\u7528\u200b\u4e86\u200bVGA_HDMI\u200b\u7684\u200b\u786c\u4ef6\u200b\u82af\u7247\u200b\uff1aSII9134\u200b\u6216\u8005\u200b\u5176\u4ed6\u200b\uff0c\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u4e0d\u200b\u9700\u8981\u200b\u505a\u200bHDMI\u200b\u5b83\u200b\u7684\u200b\u4e00\u4e2a\u200b\u7f16\u7801\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u4ea4\u4ed8\u200bVGA\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u82af\u7247\u200b\u4e0a\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u4e86\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u82af\u7247\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5dee\u5206\u200b\u4e32\u884c\u200b\u4fe1\u53f7\u200b\u4e86\u200b\u3002</p>"},{"location":"fpga/HDMI%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#_3","title":"\u5b9e\u6218\u200b\u6f14\u7ec3","text":"<p>\u200b\u63a5\u7740\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u8981\u200b\u5f00\u59cb\u200b\u5b9e\u6218\u200b\u6f14\u7ec3\u200b\u4e86\u200b\uff0c\u200b\u8fd9\u6b21\u200b\u7684\u200b\u5b9e\u9a8c\u200b\u76ee\u6807\u200b\u5c31\u662f\u200b\u5728\u200b640*480@60\u200b\u7684\u200b\u663e\u793a\u5668\u200b\u4e0a\u200b\u663e\u793a\u200b\u7b49\u200b\u5bbd\u200b\u5f69\u6761\u200b\u7684\u200b\u3002</p> <p>\u200b\u5173\u4e8e\u200bVGA\u200b\u663e\u793a\u200b\u7684\u200b\u90e8\u5206\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b</p> <p>FPGA\uff1aVGA\u200b\u663e\u793a\u5668\u200b\u9a71\u52a8\u200b\u8bbe\u8ba1\u200b - quincy\u200b\u7684\u200b\u65e5\u8bb0\u200b (zikwq.github.io)</p> <p>FPGA\uff1aVGA\u200b\u663e\u793a\u5668\u200b\u9a71\u52a8\u200b--\u200b\u5b57\u7b26\u200b\u6e38\u8d70\u200b - quincy\u200b\u7684\u200b\u65e5\u8bb0\u200b (zikwq.github.io)</p>"},{"location":"fpga/HDMI%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#1","title":"1. \u200b\u82af\u7247\u200b\u539f\u7406\u56fe","text":"<p>\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b\u7c73\u200b\u8054\u5ba2\u200bmz7030fa\u200b\u5f00\u53d1\u677f\u200b\uff0c\u200b\u82af\u7247\u578b\u53f7\u200b\uff1axc7z030ffg676-2\uff0c\u200b\u5f00\u53d1\u200b\u73af\u5883\u200b\uff1avivado21.1</p> <p>\uff08\u200b\u4e0d\u200b\u5efa\u8bae\u200b\u8d2d\u4e70\u200b\uff0c\u200b\u914d\u5957\u200b\u7684\u200b\u8d44\u6599\u200b\u4e0d\u662f\u200b\u8fd9\u200b\u4e00\u6b3e\u200b\u82af\u7247\u578b\u53f7\u200b\uff0c\u200b\u91cc\u9762\u200b\u7684\u200b\u4f8b\u7a0b\u200b\u9700\u8981\u200b\u624b\u52a8\u200b\u91cd\u65b0\u200b\u8fdb\u884c\u200b\u7ba1\u811a\u200b\u7ea6\u675f\u200b\u5f88\u200b\u9ebb\u70e6\u200b\uff0c\u200b\u7279\u522b\u200b\u6d89\u53ca\u200b\u5230\u200b\u4f8b\u5982\u200bMIG IP\u200b\u6838\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u9700\u8981\u200b\u91cd\u65b0\u914d\u7f6e\u200bIP\u200b\u7684\u200b\u53c2\u6570\u200b~~\uff09</p>"},{"location":"fpga/HDMI%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#2","title":"2. \u200b\u7a0b\u5e8f\u200b\u6d41\u7a0b\u56fe","text":"<p>\u200b\u8fd9\u4e2a\u200b\u6d41\u7a0b\u56fe\u200b\u5f88\u200b\u6e05\u6670\u200b\u6613\u61c2\u200b\uff0c\u200b\u524d\u9762\u200b\u662f\u200b\u6211\u4eec\u200b\u8bbe\u8ba1\u200b\u7684\u200bVGA\u200b\u663e\u793a\u200b\uff0c\u200b\u540e\u9762\u200b\u4ec5\u4ec5\u200b\u8ddf\u4e0a\u200b\u4e86\u200bhdmi_ctrl\u200b\u6a21\u5757\u200b\u5c31\u200b\u5c06\u200bVGA\u200b\u5de5\u7a0b\u200b\u8fc1\u79fb\u200b\u5230\u200b\u4e86\u200bHDMI\u200b\u4e0a\u200b\u4e86\u200b\uff0c\u200b\u4f46\u662f\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200bhdmi_ctrl\u200b\u6a21\u5757\u200b\u4e2d\u6709\u200bclk_5x\u200b\u9700\u8981\u200b\u6211\u4eec\u200b\u63d0\u524d\u200b\u5728\u200b\u65f6\u949f\u200b\u7ba1\u7406\u200b\u6a21\u5757\u200b\u4e2d\u200b\u65b0\u589e\u200b\u4e00\u4e0b\u200b\uff0c\uff0c\u200b\u4e0b\u9762\u200b\u662f\u200b\u8be6\u7ec6\u200b\u7684\u200bhdmi_ctrl\u200b\u6a21\u5757\u200b\u6d41\u7a0b\u200b\u6846\u56fe\u200b\uff1a</p> <p></p> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200bhdmi_ctrl\u200b\u6a21\u5757\u200b\u6d41\u7a0b\u200b\u6846\u56fe\u200b\u4e2d\u200b\uff0c\u200b\u4e3b\u8981\u200b\u8fdb\u884c\u200b\u4e86\u200b\u4e24\u4e2a\u200b\u529f\u80fd\u200b\u7684\u200b\u7f16\u5199\u200b</p> <p>1\uff09. \u200b\u7f16\u7801\u200b\u6a21\u5757\u200b\uff1a\u200b\u5bf9\u200b\u8f93\u5165\u200b\u7684\u200b\u8272\u5f69\u200b\u4fe1\u606f\u200b\u548c\u200b\u884c\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\u4ee5\u53ca\u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b\u8fdb\u884c\u200b\u7f16\u7801\u200b</p> <p>2\uff09. \u200b\u5e76\u884c\u200b\u8f6c\u200b\u4e32\u884c\u200b\u8f93\u51fa\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u6a21\u5757\u200b\uff1a\u200b\u5c06\u200b\u7f16\u7801\u200b\u540e\u200b\u7684\u200b10bit\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8f6c\u6362\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u8f6c\u6362\u200b\u4f7f\u7528\u200bclk_5x\u200b\u65f6\u949f\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b\uff0c \u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u4e32\u884c\u200b\u7684\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b</p> <p>hdmi_ctrl.v \u200b\u8f93\u5165\u8f93\u51fa\u200b\u4fe1\u53f7\u200b\u529f\u80fd\u200b\u63cf\u8ff0\u200b</p> \u200b\u4fe1\u53f7\u200b \u200b\u4f4d\u200b\u5bbd\u200b \u200b\u7c7b\u578b\u200b \u200b\u529f\u80fd\u200b\u63cf\u8ff0\u200b clk_1x 1Bit Input \u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b\uff0c\u200b\u9891\u7387\u200b25MHz clk_5x 1Bit Input \u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b\uff0c\u200b\u9891\u7387\u200b125MHz sys_rst_n 1Bit Input \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b hsync 1Bit Input \u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b vsync 1Bit Input \u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b de 1Bit Input \u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b rgb_red 8Bit Input RGB\u200b\u56fe\u50cf\u200b\u8272\u5f69\u200b\u4fe1\u606f\u200b\u7ea2\u8272\u200b\u5206\u91cf\u200b rgb_green 8Bit Input RGB\u200b\u56fe\u50cf\u200b\u8272\u5f69\u200b\u4fe1\u606f\u200b\u7eff\u8272\u200b\u5206\u91cf\u200b rgb_blue 8Bit Input RGB\u200b\u56fe\u50cf\u200b\u8272\u5f69\u200b\u4fe1\u606f\u200b\u84dd\u8272\u200b\u5206\u91cf\u200b hdmi_clk_p 1Bit Output HDMI\u200b\u65f6\u949f\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b hdmi_clk_n 1Bit Output HDMI\u200b\u65f6\u949f\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b hdmi_r_p 1Bit Output HDMI\u200b\u7ea2\u8272\u200b\u5206\u91cf\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b hdmi_r_n 1Bit Output HDMI\u200b\u7ea2\u8272\u200b\u5206\u91cf\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b hdmi_g_p 1Bit Output HDMI\u200b\u7eff\u8272\u200b\u5206\u91cf\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b hdmi_g_n 1Bit Output HDMI\u200b\u7eff\u8272\u200b\u5206\u91cf\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b hdmi_b_p 1Bit Output HDMI\u200b\u84dd\u8272\u200b\u5206\u91cf\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b hdmi_b_n 1Bit Output HDMI\u200b\u84dd\u8272\u200b\u5206\u91cf\u200b\u5dee\u5206\u200b\u4fe1\u53f7"},{"location":"fpga/HDMI%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#_4","title":"\u7a0b\u5e8f\u8bbe\u8ba1","text":"<p><code>``verilog vga_pic.v</code>timescale  1ns/1ns //////////////////////////////////////////////////////////////////////// // Author        : EmbedFire // Create Date   : 2019/03/12 // Module Name   : vga_pic // Project Name  : hdmi_colorbar // Target Devices: Altera EP4CE10F17C8N // Tool Versions : Quartus 13.0 // Description   : \u200b\u56fe\u50cf\u200b\u6570\u636e\u200b\u751f\u6210\u200b\u6a21\u5757\u200b //  // Revision      : V1.0 // Additional Comments: //  // \u200b\u5b9e\u9a8c\u200b\u5e73\u53f0\u200b: \u200b\u91ce\u706b\u200b_\u200b\u5f81\u9014\u200bPro_FPGA\u200b\u5f00\u53d1\u677f\u200b // \u200b\u516c\u53f8\u200b    : http://www.embedfire.com // \u200b\u8bba\u575b\u200b    : http://www.firebbs.cn // \u200b\u6dd8\u5b9d\u200b    : https://fire-stm32.taobao.com ////////////////////////////////////////////////////////////////////////</p> <p>module  vga_pic (     input   wire            vga_clk     ,   //\u200b\u8f93\u5165\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b,\u200b\u9891\u7387\u200b25MHz     input   wire            sys_rst_n   ,   //\u200b\u8f93\u5165\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b     input   wire    [11:0]  pix_x       ,   //\u200b\u8f93\u5165\u200bVGA\u200b\u6709\u6548\u200b\u663e\u793a\u200b\u533a\u57df\u200b\u50cf\u7d20\u70b9\u200bX\u200b\u8f74\u200b\u5750\u6807\u200b     input   wire    [11:0]  pix_y       ,   //\u200b\u8f93\u5165\u200bVGA\u200b\u6709\u6548\u200b\u663e\u793a\u200b\u533a\u57df\u200b\u50cf\u7d20\u70b9\u200bY\u200b\u8f74\u200b\u5750\u6807\u200b</p> <pre><code>output  reg     [15:0]  pix_data        //\u200b\u8f93\u51fa\u200b\u50cf\u7d20\u70b9\u200b\u8272\u5f69\u200b\u4fe1\u606f\u200b\n</code></pre> <p>);</p> <p>//**********// //** Parameter and Internal Signal **// //***********// //parameter define parameter   H_VALID =   12'd640 ,   //\u200b\u884c\u200b\u6709\u6548\u200b\u6570\u636e\u200b             V_VALID =   12'd480 ;   //\u200b\u573a\u200b\u6709\u6548\u200b\u6570\u636e\u200b</p> <p>parameter   RED     =   16'hF800,   //\u200b\u7ea2\u8272\u200b             ORANGE  =   16'hFC00,   //\u200b\u6a59\u8272\u200b             YELLOW  =   16'hFFE0,   //\u200b\u9ec4\u8272\u200b             GREEN   =   16'h07E0,   //\u200b\u7eff\u8272\u200b             CYAN    =   16'h07FF,   //\u200b\u9752\u8272\u200b             BLUE    =   16'h001F,   //\u200b\u84dd\u8272\u200b             PURPPLE =   16'hF81F,   //\u200b\u7d2b\u8272\u200b             BLACK   =   16'h0000,   //\u200b\u9ed1\u8272\u200b             WHITE   =   16'hFFFF,   //\u200b\u767d\u8272\u200b             GRAY    =   16'hD69A;   //\u200b\u7070\u8272\u200b</p> <p>//**********// //***** Main Code ****// //*********// //pix_data:\u200b\u8f93\u51fa\u200b\u50cf\u7d20\u70b9\u200b\u8272\u5f69\u200b\u4fe1\u606f\u200b,\u200b\u6839\u636e\u200b\u5f53\u524d\u200b\u50cf\u7d20\u70b9\u200b\u5750\u6807\u200b\u6307\u5b9a\u200b\u5f53\u524d\u200b\u50cf\u7d20\u70b9\u200b\u989c\u8272\u200b\u6570\u636e\u200b always@(posedge vga_clk or negedge sys_rst_n)     if(sys_rst_n == 1'b0)         pix_data    &lt;= 16'd0;     else    if((pix_x &gt;= 0) &amp;&amp; (pix_x &lt; (H_VALID/10)1))         pix_data    &lt;=  RED;     else    if((pix_x &gt;= (H_VALID/10)1) &amp;&amp; (pix_x &lt; (H_VALID/10)2))         pix_data    &lt;=  ORANGE;     else    if((pix_x &gt;= (H_VALID/10)2) &amp;&amp; (pix_x &lt; (H_VALID/10)3))         pix_data    &lt;=  YELLOW;     else    if((pix_x &gt;= (H_VALID/10)3) &amp;&amp; (pix_x &lt; (H_VALID/10)4))         pix_data    &lt;=  GREEN;     else    if((pix_x &gt;= (H_VALID/10)4) &amp;&amp; (pix_x &lt; (H_VALID/10)5))         pix_data    &lt;=  CYAN;     else    if((pix_x &gt;= (H_VALID/10)5) &amp;&amp; (pix_x &lt; (H_VALID/10)6))         pix_data    &lt;=  BLUE;     else    if((pix_x &gt;= (H_VALID/10)6) &amp;&amp; (pix_x &lt; (H_VALID/10)7))         pix_data    &lt;=  PURPPLE;     else    if((pix_x &gt;= (H_VALID/10)7) &amp;&amp; (pix_x &lt; (H_VALID/10)8))         pix_data    &lt;=  BLACK;     else    if((pix_x &gt;= (H_VALID/10)8) &amp;&amp; (pix_x &lt; (H_VALID/10)9))         pix_data    &lt;=  WHITE;     else    if((pix_x &gt;= (H_VALID/10)*9) &amp;&amp; (pix_x &lt; H_VALID))         pix_data    &lt;=  GRAY;     else         pix_data    &lt;=  BLACK;</p> <p>endmodule</p> <pre><code>\n```verilog vga_ctrl.v\n`timescale  1ns/1ns\n////////////////////////////////////////////////////////////////////////\n// Author        : EmbedFire\n// Create Date   : 2019/03/12\n// Module Name   : vga_ctrl\n// Project Name  : hdmi_colorbar\n// Target Devices: Altera EP4CE10F17C8N\n// Tool Versions : Quartus 13.0\n// Description   : VGA\u200b\u63a7\u5236\u200b\u6a21\u5757\u200b\n// \n// Revision      : V1.0\n// Additional Comments:\n// \n// \u200b\u5b9e\u9a8c\u200b\u5e73\u53f0\u200b: \u200b\u91ce\u706b\u200b_\u200b\u5f81\u9014\u200bPro_FPGA\u200b\u5f00\u53d1\u677f\u200b\n// \u200b\u516c\u53f8\u200b    : http://www.embedfire.com\n// \u200b\u8bba\u575b\u200b    : http://www.firebbs.cn\n// \u200b\u6dd8\u5b9d\u200b    : https://fire-stm32.taobao.com\n////////////////////////////////////////////////////////////////////////\n\nmodule  vga_ctrl\n(\n    input   wire            vga_clk     ,   //\u200b\u8f93\u5165\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b,\u200b\u9891\u7387\u200b25MHz\n    input   wire            sys_rst_n   ,   //\u200b\u8f93\u5165\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\n    input   wire    [15:0]  pix_data    ,   //\u200b\u8f93\u5165\u200b\u50cf\u7d20\u70b9\u200b\u8272\u5f69\u200b\u4fe1\u606f\u200b\n\n    output  wire    [11:0]  pix_x       ,   //\u200b\u8f93\u51fa\u200bVGA\u200b\u6709\u6548\u200b\u663e\u793a\u200b\u533a\u57df\u200b\u50cf\u7d20\u70b9\u200bX\u200b\u8f74\u200b\u5750\u6807\u200b\n    output  wire    [11:0]  pix_y       ,   //\u200b\u8f93\u51fa\u200bVGA\u200b\u6709\u6548\u200b\u663e\u793a\u200b\u533a\u57df\u200b\u50cf\u7d20\u70b9\u200bY\u200b\u8f74\u200b\u5750\u6807\u200b\n    output  wire            hsync       ,   //\u200b\u8f93\u51fa\u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\n    output  wire            vsync       ,   //\u200b\u8f93\u51fa\u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\n    output  wire            rgb_valid   ,\n    output  wire    [15:0]  rgb             //\u200b\u8f93\u51fa\u200b\u50cf\u7d20\u70b9\u200b\u8272\u5f69\u200b\u4fe1\u606f\u200b\n);\n\n//********************************************************************//\n//****************** Parameter and Internal Signal *******************//\n//********************************************************************//\n//parameter define\nparameter H_SYNC    =   10'd96  ,   //\u200b\u884c\u200b\u540c\u6b65\u200b\n          H_BACK    =   10'd40  ,   //\u200b\u884c\u200b\u65f6\u5e8f\u200b\u540e\u200b\u6cbf\u200b\n          H_LEFT    =   10'd8   ,   //\u200b\u884c\u200b\u65f6\u5e8f\u200b\u5de6\u200b\u8fb9\u6846\u200b\n          H_VALID   =   10'd640 ,   //\u200b\u884c\u200b\u6709\u6548\u200b\u6570\u636e\u200b\n          H_RIGHT   =   10'd8   ,   //\u200b\u884c\u200b\u65f6\u5e8f\u200b\u53f3\u8fb9\u200b\u6846\u200b\n          H_FRONT   =   10'd8   ,   //\u200b\u884c\u200b\u65f6\u5e8f\u200b\u524d\u6cbf\u200b\n          H_TOTAL   =   10'd800 ;   //\u200b\u884c\u200b\u626b\u63cf\u200b\u5468\u671f\u200b\nparameter V_SYNC    =   10'd2   ,   //\u200b\u573a\u200b\u540c\u6b65\u200b\n          V_BACK    =   10'd25  ,   //\u200b\u573a\u200b\u65f6\u5e8f\u200b\u540e\u200b\u6cbf\u200b\n          V_TOP     =   10'd8   ,   //\u200b\u573a\u200b\u65f6\u5e8f\u200b\u4e0a\u200b\u8fb9\u6846\u200b\n          V_VALID   =   10'd480 ,   //\u200b\u573a\u200b\u6709\u6548\u200b\u6570\u636e\u200b\n          V_BOTTOM  =   10'd8   ,   //\u200b\u573a\u200b\u65f6\u5e8f\u200b\u4e0b\u200b\u8fb9\u6846\u200b\n          V_FRONT   =   10'd2   ,   //\u200b\u573a\u200b\u65f6\u5e8f\u200b\u524d\u6cbf\u200b\n          V_TOTAL   =   10'd525 ;   //\u200b\u573a\u200b\u626b\u63cf\u200b\u5468\u671f\u200b\n\n//wire  define\nwire            pix_data_req    ;   //\u200b\u50cf\u7d20\u70b9\u200b\u8272\u5f69\u200b\u4fe1\u606f\u200b\u8bf7\u6c42\u200b\u4fe1\u53f7\u200b\n\n//reg   define\nreg     [11:0]  cnt_h           ;   //\u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\u8ba1\u6570\u5668\u200b\nreg     [11:0]  cnt_v           ;   //\u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\u8ba1\u6570\u5668\u200b\n\n//********************************************************************//\n//***************************** Main Code ****************************//\n//********************************************************************//\n\n//cnt_h:\u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\u8ba1\u6570\u5668\u200b\nalways@(posedge vga_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        cnt_h   &lt;=  12'd0   ;\n    else    if(cnt_h == H_TOTAL - 1'd1)\n        cnt_h   &lt;=  12'd0   ;\n    else\n        cnt_h   &lt;=  cnt_h + 1'd1   ;\n\n//hsync:\u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\nassign  hsync = (cnt_h  &lt;=  H_SYNC - 1'd1) ? 1'b1 : 1'b0  ;\n\n//cnt_v:\u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\u8ba1\u6570\u5668\u200b\nalways@(posedge vga_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        cnt_v   &lt;=  12'd0 ;\n    else    if((cnt_v == V_TOTAL - 1'd1) &amp;&amp;  (cnt_h == H_TOTAL-1'd1))\n        cnt_v   &lt;=  12'd0 ;\n    else    if(cnt_h == H_TOTAL - 1'd1)\n        cnt_v   &lt;=  cnt_v + 1'd1 ;\n    else\n        cnt_v   &lt;=  cnt_v ;\n\n//vsync:\u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\nassign  vsync = (cnt_v  &lt;=  V_SYNC - 1'd1) ? 1'b1 : 1'b0  ;\n\n//rgb_valid:VGA\u200b\u6709\u6548\u200b\u663e\u793a\u200b\u533a\u57df\u200b\nassign  rgb_valid = (((cnt_h &gt;= H_SYNC + H_BACK + H_LEFT)\n                    &amp;&amp; (cnt_h &lt; H_SYNC + H_BACK + H_LEFT + H_VALID))\n                    &amp;&amp;((cnt_v &gt;= V_SYNC + V_BACK + V_TOP)\n                    &amp;&amp; (cnt_v &lt; V_SYNC + V_BACK + V_TOP + V_VALID)))\n                    ? 1'b1 : 1'b0;\n\n//pix_data_req:\u200b\u50cf\u7d20\u70b9\u200b\u8272\u5f69\u200b\u4fe1\u606f\u200b\u8bf7\u6c42\u200b\u4fe1\u53f7\u200b,\u200b\u8d85\u524d\u200brgb_valid\u200b\u4fe1\u53f7\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\nassign  pix_data_req = (((cnt_h &gt;= H_SYNC + H_BACK + H_LEFT - 1'b1)\n                    &amp;&amp; (cnt_h &lt; H_SYNC + H_BACK + H_LEFT + H_VALID - 1'b1))\n                    &amp;&amp;((cnt_v &gt;= V_SYNC + V_BACK + V_TOP)\n                    &amp;&amp; (cnt_v &lt; V_SYNC + V_BACK + V_TOP + V_VALID)))\n                    ? 1'b1 : 1'b0;\n\n//pix_x,pix_y:VGA\u200b\u6709\u6548\u200b\u663e\u793a\u200b\u533a\u57df\u200b\u50cf\u7d20\u70b9\u200b\u5750\u6807\u200b\nassign  pix_x = (pix_data_req == 1'b1)\n                ? (cnt_h - (H_SYNC + H_BACK + H_LEFT - 1'b1)) : 12'hfff;\nassign  pix_y = (pix_data_req == 1'b1)\n                ? (cnt_v - (V_SYNC + V_BACK + V_TOP)) : 12'hfff;\n\n//rgb:\u200b\u8f93\u51fa\u200b\u50cf\u7d20\u70b9\u200b\u8272\u5f69\u200b\u4fe1\u606f\u200b\nassign  rgb = (rgb_valid == 1'b1) ? pix_data : 16'b0 ;\n\nendmodule\n\n</code></pre> <p><code>``verilog hdmi_colorbar.v</code>timescale  1ns/1ns //////////////////////////////////////////////////////////////////////// // Author        : EmbedFire // Create Date   : 2019/11/01 // Module Name   : hdmi_colorbar // Project Name  : hdmi_colorbar // Target Devices: Altera EP4CE10F17C8N // Tool Versions : Quartus 13.0 // Description   : hdmi_colorbar\u200b\u9876\u5c42\u200b\u6a21\u5757\u200b //  // Revision      : V1.0 // Additional Comments: //  // \u200b\u5b9e\u9a8c\u200b\u5e73\u53f0\u200b: \u200b\u91ce\u706b\u200b_\u200b\u5f81\u200b\ufffd?\ufffdPro_FPGA\ufffd?\u200b\u53d1\u677f\u200b // \u200b\u516c\u53f8\u200b    : http://www.embedfire.com // \u200b\u8bba\u575b\u200b    : http://www.firebbs.cn // \u200b\u6dd8\u5b9d\u200b    : https://fire-stm32.taobao.com ////////////////////////////////////////////////////////////////////////</p> <p>module  hdmi_colorbar (     input   wire            sys_clk     ,   //\u200b\u8f93\u5165\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b,\u200b\u9891\u7387\u200b50MHz     input   wire            sys_rst_n   ,   //\u200b\u8f93\u5165\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u6709\u200b\ufffd?</p> <pre><code>output  wire            ddc_scl     ,\noutput  wire            ddc_sda     ,\noutput  wire            tmds_clk_p  ,\noutput  wire            tmds_clk_n  ,   //HDMI\u200b\u65f6\u949f\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\noutput  wire    [2:0]   tmds_data_p ,\noutput  wire    [2:0]   tmds_data_n     //HDMI\u200b\u56fe\u50cf\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\n</code></pre> <p>);</p> <p>//**********// //** Parameter and Internal Signal **// //***********// //wire define wire            vga_clk ;   //VGA\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b,\u200b\u9891\u7387\u200b25MHz wire            clk_5x  ; wire            locked  ;   //PLL locked\u200b\u4fe1\u53f7\u200b wire            rst_n   ;   //VGA\u200b\u6a21\u5757\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b wire    [11:0]  pix_x   ;   //VGA\u200b\u6709\u6548\u200b\u663e\u793a\u200b\u533a\u57df\u200bX\u200b\u8f74\u200b\u5750\u200b\ufffd? wire    [11:0]  pix_y   ;   //VGA\u200b\u6709\u6548\u200b\u663e\u793a\u200b\u533a\u57df\u200bY\u200b\u8f74\u200b\u5750\u200b\ufffd? wire    [15:0]  pix_data;   //VGA\u200b\u50cf\u7d20\u70b9\u200b\u8272\u5f69\u200b\u4fe1\u200b\ufffd? wire            hsync   ;   //\u200b\u8f93\u51fa\u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u200b\ufffd? wire            vsync   ;   //\u200b\u8f93\u51fa\u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u200b\ufffd? wire    [15:0]  rgb     ;   //\u200b\u8f93\u51fa\u200b\u50cf\u7d20\u200b\u4fe1\u606f\u200b wire            rgb_valid;</p> <p>//rst_n:VGA\u200b\u6a21\u5757\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b assign  rst_n   = (sys_rst_n &amp; locked); assign  ddc_scl = 1'b1; assign  ddc_sda = 1'b1;</p> <p>//**********// //**** Instantiation ***// //************//</p> <p>//------------- clk_gen_inst ------------- clk_wiz_0 instance_name    (     // Clock out ports     .clk_out1(vga_clk),     // output clk_out1     .clk_out2(clk_5x),     // output clk_out2     // Status and control signals     .resetn(sys_rst_n), // input resetn     .locked(locked),       // output locked    // Clock in ports     .clk_in1(sys_clk));      // input clk_in1</p> <p>//------------- vga_ctrl_inst ------------- vga_ctrl  vga_ctrl_inst (     .vga_clk    (vga_clk    ),  //\u200b\u8f93\u5165\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b,\u200b\u9891\u7387\u200b25MHz,1bit     .sys_rst_n  (rst_n      ),  //\u200b\u8f93\u5165\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u6709\u200b\ufffd?,1bit     .pix_data   (pix_data   ),  //\u200b\u8f93\u5165\u200b\u50cf\u7d20\u70b9\u200b\u8272\u5f69\u200b\u4fe1\u200b\ufffd?,16bit</p> <pre><code>.pix_x      (pix_x      ),  //\u200b\u8f93\u51fa\u200bVGA\u200b\u6709\u6548\u200b\u663e\u793a\u200b\u533a\u57df\u200b\u50cf\u7d20\u70b9\u200bX\u200b\u8f74\u200b\u5750\u200b\ufffd?,10bit\n.pix_y      (pix_y      ),  //\u200b\u8f93\u51fa\u200bVGA\u200b\u6709\u6548\u200b\u663e\u793a\u200b\u533a\u57df\u200b\u50cf\u7d20\u70b9\u200bY\u200b\u8f74\u200b\u5750\u200b\ufffd?,10bit\n.hsync      (hsync      ),  //\u200b\u8f93\u51fa\u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u200b\ufffd?,1bit\n.vsync      (vsync      ),  //\u200b\u8f93\u51fa\u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u200b\ufffd?,1bit\n.rgb_valid  (rgb_valid  ),\n.rgb        (rgb        )   //\u200b\u8f93\u51fa\u200b\u50cf\u7d20\u70b9\u200b\u8272\u5f69\u200b\u4fe1\u200b\ufffd?,16bit\n</code></pre> <p>);</p> <p>//------------- vga_pic_inst ------------- vga_pic vga_pic_inst (     .vga_clk    (vga_clk    ),  //\u200b\u8f93\u5165\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b,\u200b\u9891\u7387\u200b25MHz,1bit     .sys_rst_n  (rst_n      ),  //\u200b\u8f93\u5165\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u6709\u200b\ufffd?,1bit     .pix_x      (pix_x      ),  //\u200b\u8f93\u5165\u200bVGA\u200b\u6709\u6548\u200b\u663e\u793a\u200b\u533a\u57df\u200b\u50cf\u7d20\u70b9\u200bX\u200b\u8f74\u200b\u5750\u200b\ufffd?,10bit     .pix_y      (pix_y      ),  //\u200b\u8f93\u5165\u200bVGA\u200b\u6709\u6548\u200b\u663e\u793a\u200b\u533a\u57df\u200b\u50cf\u7d20\u70b9\u200bY\u200b\u8f74\u200b\u5750\u200b\ufffd?,10bit</p> <pre><code>.pix_data   (pix_data   )   //\u200b\u8f93\u51fa\u200b\u50cf\u7d20\u70b9\u200b\u8272\u5f69\u200b\u4fe1\u200b\ufffd?,16bit\n</code></pre> <p>);</p> <p>//------------- hdmi_ctrl_inst ------------- hdmi_ctrl   hdmi_ctrl_inst (     .clk_1x      (vga_clk           ),   //\u200b\u8f93\u5165\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b     .clk_5x      (clk_5x            ),   //\u200b\u8f93\u5165\u200b5\u200b\u500d\u200b\u7cfb\u7edf\u200b\u65f6\u200b\ufffd?     .sys_rst_n   (rst_n             ),   //\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u6709\u200b\ufffd?     .rgb_blue    ({rgb[4:0],3'b0}   ),   //\u200b\u84dd\u8272\u200b\u5206\u91cf\u200b     .rgb_green   ({rgb[10:5],2'b0}  ),   //\u200b\u7eff\u8272\u200b\u5206\u91cf\u200b     .rgb_red     ({rgb[15:11],3'b0} ),   //\u200b\u7ea2\u8272\u200b\u5206\u91cf\u200b     .hsync       (hsync             ),   //\u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u200b\ufffd?     .vsync       (vsync             ),   //\u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u200b\ufffd?     .de          (rgb_valid         ),   //\u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b     .hdmi_clk_p  (tmds_clk_p        ),     .hdmi_clk_n  (tmds_clk_n        ),   //\u200b\u65f6\u949f\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b     .hdmi_r_p    (tmds_data_p[2]    ),     .hdmi_r_n    (tmds_data_n[2]    ),   //\u200b\u7ea2\u8272\u200b\u5206\u91cf\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b     .hdmi_g_p    (tmds_data_p[1]    ),     .hdmi_g_n    (tmds_data_n[1]    ),   //\u200b\u7eff\u8272\u200b\u5206\u91cf\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b     .hdmi_b_p    (tmds_data_p[0]    ),     .hdmi_b_n    (tmds_data_n[0]    )    //\u200b\u84dd\u8272\u200b\u5206\u91cf\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b );</p> <p>endmodule</p> <pre><code>\n```verilog encode.v\n`timescale  1ns/1ns\n////////////////////////////////////////////////////////////////////////\n// Author        : EmbedFire\n// Create Date   : 2019/11/01\n// Module Name   : encode\n// Project Name  : hdmi_colorbar\n// Target Devices: Altera EP4CE10F17C8N\n// Tool Versions : Quartus 13.0\n// Description   : 8b\u200b\u8f6c\u200b10b\u200b\u7f16\u7801\u200b\u6a21\u5757\u200b\n// \n// Revision      : V1.0\n// Additional Comments:\n// \n// \u200b\u5b9e\u9a8c\u200b\u5e73\u53f0\u200b: \u200b\u91ce\u706b\u200b_\u200b\u5f81\u9014\u200bPro_FPGA\u200b\u5f00\u53d1\u677f\u200b\n// \u200b\u516c\u53f8\u200b    : http://www.embedfire.com\n// \u200b\u8bba\u575b\u200b    : http://www.firebbs.cn\n// \u200b\u6dd8\u5b9d\u200b    : https://fire-stm32.taobao.com\n////////////////////////////////////////////////////////////////////////\n\n\nmodule  encode\n(\n    input   wire            sys_clk     ,   //\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    input   wire            sys_rst_n   ,   //\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u200b\u6709\u6548\u200b\n    input   wire    [7:0]   data_in     ,   //\u200b\u8f93\u5165\u200b8bit\u200b\u5f85\u200b\u7f16\u7801\u6570\u636e\u200b\n    input   wire            c0          ,   //\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200bc0\n    input   wire            c1          ,   //\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200bc1\n    input   wire            de          ,   //\u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b\n\n    output  reg     [9:0]   data_out        //\u200b\u8f93\u51fa\u200b\u7f16\u7801\u200b\u540e\u200b\u7684\u200b10bit\u200b\u6570\u636e\u200b\n);\n\n//********************************************************************//\n//****************** Parameter and Internal Signal *******************//\n//********************************************************************//\n//parameter define\nparameter   DATA_OUT0   =   10'b1101010100,\n            DATA_OUT1   =   10'b0010101011,\n            DATA_OUT2   =   10'b0101010100,\n            DATA_OUT3   =   10'b1010101011;\n\n//wire  define\nwire            condition_1 ;   //\u200b\u6761\u4ef6\u200b1\nwire            condition_2 ;   //\u200b\u6761\u4ef6\u200b2\nwire            condition_3 ;   //\u200b\u6761\u4ef6\u200b3\nwire    [8:0]   q_m         ;   //\u200b\u7b2c\u4e00\u9636\u6bb5\u200b\u8f6c\u6362\u200b\u540e\u200b\u7684\u200b9bit\u200b\u6570\u636e\u200b\n\n//reg   define\nreg     [3:0]   data_in_n1  ;   //\u200b\u5f85\u200b\u7f16\u7801\u6570\u636e\u200b\u4e2d\u200b1\u200b\u7684\u200b\u4e2a\u6570\u200b\nreg     [7:0]   data_in_reg ;   //\u200b\u5f85\u200b\u7f16\u7801\u6570\u636e\u200b\u6253\u4e00\u200b\u62cd\u200b\nreg     [3:0]   q_m_n1      ;   //\u200b\u8f6c\u6362\u200b\u540e\u200b9bit\u200b\u6570\u636e\u200b\u4e2d\u200b1\u200b\u7684\u200b\u4e2a\u6570\u200b\nreg     [3:0]   q_m_n0      ;   //\u200b\u8f6c\u6362\u200b\u540e\u200b9bit\u200b\u6570\u636e\u200b\u4e2d\u200b0\u200b\u7684\u200b\u4e2a\u6570\u200b\nreg     [4:0]   cnt         ;   //\u200b\u89c6\u5dee\u200b\u8ba1\u6570\u5668\u200b,0-1\u200b\u4e2a\u6570\u200b\u5dee\u522b\u200b,\u200b\u6700\u9ad8\u200b\u4f4d\u4e3a\u200b\u7b26\u53f7\u200b\u4f4d\u200b\nreg             de_reg1     ;   //\u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b\u6253\u4e00\u200b\u62cd\u200b\nreg             de_reg2     ;   //\u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b\u6253\u200b\u4e24\u200b\u62cd\u200b\nreg             c0_reg1     ;   //\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200bc0\u200b\u6253\u4e00\u200b\u62cd\u200b\nreg             c0_reg2     ;   //\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200bc0\u200b\u6253\u200b\u4e24\u200b\u62cd\u200b\nreg             c1_reg1     ;   //\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200bc1\u200b\u6253\u4e00\u200b\u62cd\u200b\nreg             c1_reg2     ;   //\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200bc1\u200b\u6253\u200b\u4e24\u200b\u62cd\u200b\nreg     [8:0]   q_m_reg     ;   //q_m\u200b\u4fe1\u53f7\u200b\u6253\u4e00\u200b\u62cd\u200b\n\n//********************************************************************//\n//***************************** Main Code ****************************//\n//********************************************************************//\n//data_in_n1:\u200b\u5f85\u200b\u7f16\u7801\u6570\u636e\u200b\u4e2d\u200b1\u200b\u7684\u200b\u4e2a\u6570\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        data_in_n1  &lt;=  4'd0;\n    else\n        data_in_n1  &lt;=  data_in[0] + data_in[1] + data_in[2]\n                        + data_in[3] + data_in[4] + data_in[5]\n                        + data_in[6] + data_in[7];\n\n//data_in_reg:\u200b\u5f85\u200b\u7f16\u7801\u6570\u636e\u200b\u6253\u4e00\u200b\u62cd\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        data_in_reg &lt;=  8'b0;\n    else\n        data_in_reg &lt;=  data_in;\n\n//condition_1:\u200b\u6761\u4ef6\u200b1\nassign  condition_1 = ((data_in_n1 &gt; 4'd4) || ((data_in_n1 == 4'd4)\n                        &amp;&amp; (data_in_reg[0] == 1'b0)));\n\n//q_m:\u200b\u7b2c\u4e00\u9636\u6bb5\u200b\u8f6c\u6362\u200b\u540e\u200b\u7684\u200b9bit\u200b\u6570\u636e\u200b\nassign q_m[0] = data_in_reg[0];\nassign q_m[1] = (condition_1) ? (q_m[0] ^~ data_in_reg[1]) : (q_m[0] ^ data_in_reg[1]);\nassign q_m[2] = (condition_1) ? (q_m[1] ^~ data_in_reg[2]) : (q_m[1] ^ data_in_reg[2]);\nassign q_m[3] = (condition_1) ? (q_m[2] ^~ data_in_reg[3]) : (q_m[2] ^ data_in_reg[3]);\nassign q_m[4] = (condition_1) ? (q_m[3] ^~ data_in_reg[4]) : (q_m[3] ^ data_in_reg[4]);\nassign q_m[5] = (condition_1) ? (q_m[4] ^~ data_in_reg[5]) : (q_m[4] ^ data_in_reg[5]);\nassign q_m[6] = (condition_1) ? (q_m[5] ^~ data_in_reg[6]) : (q_m[5] ^ data_in_reg[6]);\nassign q_m[7] = (condition_1) ? (q_m[6] ^~ data_in_reg[7]) : (q_m[6] ^ data_in_reg[7]);\nassign q_m[8] = (condition_1) ? 1'b0 : 1'b1;\n\n//q_m_n1:\u200b\u8f6c\u6362\u200b\u540e\u200b9bit\u200b\u6570\u636e\u200b\u4e2d\u200b1\u200b\u7684\u200b\u4e2a\u6570\u200b\n//q_m_n0:\u200b\u8f6c\u6362\u200b\u540e\u200b9bit\u200b\u6570\u636e\u200b\u4e2d\u200b0\u200b\u7684\u200b\u4e2a\u6570\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        begin\n            q_m_n1  &lt;=  4'd0;\n            q_m_n0  &lt;=  4'd0;\n        end\n    else\n        begin\n            q_m_n1  &lt;=  q_m[0] + q_m[1] + q_m[2] + q_m[3] + q_m[4] + q_m[5] + q_m[6] + q_m[7];\n            q_m_n0  &lt;=  4'd8 - (q_m[0] + q_m[1] + q_m[2] + q_m[3] + q_m[4] + q_m[5] + q_m[6] + q_m[7]);\n        end\n\n//condition_2:\u200b\u6761\u4ef6\u200b2\nassign  condition_2 = ((cnt == 5'd0) || (q_m_n1 == q_m_n0));\n\n//condition_3:\u200b\u6761\u4ef6\u200b3\nassign  condition_3 = (((~cnt[4] == 1'b1) &amp;&amp; (q_m_n1 &gt; q_m_n0))\n                        || ((cnt[4] == 1'b1) &amp;&amp; (q_m_n0 &gt; q_m_n1)));\n\n//\u200b\u6570\u636e\u200b\u6253\u200b\u62cd\u200b,\u200b\u4e3a\u4e86\u200b\u5404\u200b\u6570\u636e\u200b\u540c\u6b65\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        begin\n            de_reg1 &lt;=  1'b0;\n            de_reg2 &lt;=  1'b0;\n            c0_reg1 &lt;=  1'b0;\n            c0_reg2 &lt;=  1'b0;\n            c1_reg1 &lt;=  1'b0;\n            c1_reg2 &lt;=  1'b0;\n            q_m_reg &lt;=  9'b0;\n        end\n    else\n        begin\n            de_reg1 &lt;=  de;\n            de_reg2 &lt;=  de_reg1;\n            c0_reg1 &lt;=  c0;\n            c0_reg2 &lt;=  c0_reg1;\n            c1_reg1 &lt;=  c1;\n            c1_reg2 &lt;=  c1_reg1;\n            q_m_reg &lt;=  q_m;\n        end\n\n//data_out:\u200b\u8f93\u51fa\u200b\u7f16\u7801\u200b\u540e\u200b\u7684\u200b10bit\u200b\u6570\u636e\u200b\n//cnt:\u200b\u89c6\u5dee\u200b\u8ba1\u6570\u5668\u200b,0-1\u200b\u4e2a\u6570\u200b\u5dee\u522b\u200b,\u200b\u6700\u9ad8\u200b\u4f4d\u4e3a\u200b\u7b26\u53f7\u200b\u4f4d\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        begin\n            data_out    &lt;=  10'b0;\n            cnt         &lt;=  5'b0;\n        end\n    else\n        begin\n            if(de_reg2 == 1'b1)\n                begin\n                    if(condition_2 == 1'b1)\n                        begin\n                            data_out[9]     &lt;=  ~q_m_reg[8]; \n                            data_out[8]     &lt;=  q_m_reg[8]; \n                            data_out[7:0]   &lt;=  (q_m_reg[8]) ? q_m_reg[7:0] : ~q_m_reg[7:0];\n                            cnt &lt;=  (~q_m_reg[8]) ? (cnt + q_m_n0 - q_m_n1) : (cnt + q_m_n1 - q_m_n0);\n                        end\n                    else\n                        begin\n                            if(condition_3 == 1'b1)\n                                begin\n                                    data_out[9]     &lt;= 1'b1;\n                                    data_out[8]     &lt;= q_m_reg[8];\n                                    data_out[7:0]   &lt;= ~q_m_reg[7:0];\n                                    cnt &lt;=  cnt + {q_m_reg[8], 1'b0} + (q_m_n0 - q_m_n1);\n                                end\n                            else\n                                begin\n                                    data_out[9]     &lt;= 1'b0;\n                                    data_out[8]     &lt;= q_m_reg[8];\n                                    data_out[7:0]   &lt;= q_m_reg[7:0];\n                                    cnt &lt;=  cnt - {~q_m_reg[8], 1'b0} + (q_m_n1 - q_m_n0);\n                                end\n\n                        end\n                end\n            else\n                begin\n                    case    ({c1_reg2, c0_reg2})\n                        2'b00:  data_out &lt;= DATA_OUT0;\n                        2'b01:  data_out &lt;= DATA_OUT1;\n                        2'b10:  data_out &lt;= DATA_OUT2;\n                        default:data_out &lt;= DATA_OUT3;\n                    endcase\n                    cnt &lt;=  5'b0;\n                end\n        end\n\nendmodule\n</code></pre> <p><code>``verilog hdmi_ctrl.v</code>timescale  1ns/1ns //////////////////////////////////////////////////////////////////////// // Author        : EmbedFire // Create Date   : 2019/11/01 // Module Name   : hdmi_ctrl // Project Name  : hdmi_colorbar // Target Devices: Altera EP4CE10F17C8N // Tool Versions : Quartus 13.0 // Description   : HDMI\u200b\u63a7\u5236\u200b\u6a21\u5757\u200b //  // Revision      : V1.0 // Additional Comments: //  // \u200b\u5b9e\u9a8c\u200b\u5e73\u53f0\u200b: \u200b\u91ce\u706b\u200b_\u200b\u5f81\u9014\u200bPro_FPGA\u200b\u5f00\u53d1\u677f\u200b // \u200b\u516c\u53f8\u200b    : http://www.embedfire.com // \u200b\u8bba\u575b\u200b    : http://www.firebbs.cn // \u200b\u6dd8\u5b9d\u200b    : https://fire-stm32.taobao.com ////////////////////////////////////////////////////////////////////////</p> <p>module  hdmi_ctrl (     input   wire            clk_1x      ,   //\u200b\u8f93\u5165\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b     input   wire            clk_5x      ,   //\u200b\u8f93\u5165\u200b5\u200b\u500d\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b     input   wire            sys_rst_n   ,   //\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u200b\u6709\u6548\u200b     input   wire    [7:0]   rgb_blue    ,   //\u200b\u84dd\u8272\u200b\u5206\u91cf\u200b     input   wire    [7:0]   rgb_green   ,   //\u200b\u7eff\u8272\u200b\u5206\u91cf\u200b     input   wire    [7:0]   rgb_red     ,   //\u200b\u7ea2\u8272\u200b\u5206\u91cf\u200b     input   wire            hsync       ,   //\u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b     input   wire            vsync       ,   //\u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b     input   wire            de          ,   //\u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b</p> <pre><code>output  wire            hdmi_clk_p  ,\noutput  wire            hdmi_clk_n  ,   //\u200b\u65f6\u949f\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\noutput  wire            hdmi_r_p    ,\noutput  wire            hdmi_r_n    ,   //\u200b\u7ea2\u8272\u200b\u5206\u91cf\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\noutput  wire            hdmi_g_p    ,\noutput  wire            hdmi_g_n    ,   //\u200b\u7eff\u8272\u200b\u5206\u91cf\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\noutput  wire            hdmi_b_p    ,\noutput  wire            hdmi_b_n        //\u200b\u84dd\u8272\u200b\u5206\u91cf\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\n</code></pre> <p>);</p> <p>//**********// //** Parameter and Internal Signal **// //***********// wire    [9:0]   red     ;   //8b\u200b\u8f6c\u200b10b\u200b\u540e\u200b\u7684\u200b\u7ea2\u8272\u200b\u5206\u91cf\u200b wire    [9:0]   green   ;   //8b\u200b\u8f6c\u200b10b\u200b\u540e\u200b\u7684\u200b\u7eff\u8272\u200b\u5206\u91cf\u200b wire    [9:0]   blue    ;   //8b\u200b\u8f6c\u200b10b\u200b\u540e\u200b\u7684\u200b\u84dd\u8272\u200b\u5206\u91cf\u200b</p> <p>//**********// //**** Instantiate ****// //***********// //------------- encode_inst0 ------------- encode  encode_inst0 (     .sys_clk    (clk_1x     ),     .sys_rst_n  (sys_rst_n  ),     .data_in    (rgb_blue   ),     .c0         (hsync      ),     .c1         (vsync      ),     .de         (de         ),     .data_out   (blue       ) );</p> <p>//------------- encode_inst1 ------------- encode  encode_inst1 (     .sys_clk    (clk_1x     ),     .sys_rst_n  (sys_rst_n  ),     .data_in    (rgb_green  ),     .c0         (hsync      ),     .c1         (vsync      ),     .de         (de         ),     .data_out   (green      ) );</p> <p>//------------- encode_inst2 ------------- encode  encode_inst2 (     .sys_clk    (clk_1x     ),     .sys_rst_n  (sys_rst_n  ),     .data_in    (rgb_red    ),     .c0         (hsync      ),     .c1         (vsync      ),     .de         (de         ),     .data_out   (red        ) );</p> <p>//------------- par_to_ser_inst0 ------------- par_to_ser  par_to_ser_inst0 (     .clk_5x      (clk_5x    ),     .par_data    (blue      ),</p> <pre><code>.ser_data_p  (hdmi_b_p  ),\n.ser_data_n  (hdmi_b_n  )\n</code></pre> <p>);</p> <p>//------------- par_to_ser_inst1 ------------- par_to_ser  par_to_ser_inst1 (     .clk_5x      (clk_5x    ),     .par_data    (green     ),</p> <pre><code>.ser_data_p  (hdmi_g_p  ),\n.ser_data_n  (hdmi_g_n  )\n</code></pre> <p>);</p> <p>//------------- par_to_ser_inst2 ------------- par_to_ser  par_to_ser_inst2 (     .clk_5x      (clk_5x    ),     .par_data    (red       ),</p> <pre><code>.ser_data_p  (hdmi_r_p  ),\n.ser_data_n  (hdmi_r_n  )\n</code></pre> <p>);</p> <p>//------------- par_to_ser_inst3 ------------- par_to_ser  par_to_ser_inst3 (     .clk_5x      (clk_5x        ),     .par_data    (10'b1111100000),</p> <pre><code>.ser_data_p  (hdmi_clk_p    ),\n.ser_data_n  (hdmi_clk_n    )\n</code></pre> <p>);</p> <p>endmodule</p> <pre><code>\n```verilog par_to_ser.v\n`timescale  1ns/1ns\n////////////////////////////////////////////////////////////////////////\n// Author        : EmbedFire\n// Create Date   : 2019/11/01\n// Module Name   : par_to_ser\n// Project Name  : hdmi_colorbar\n// Target Devices: Altera EP4CE10F17C8N\n// Tool Versions : Quartus 13.0\n// Description   : \u200b\u5e76\u884c\u200b\u8f6c\u200b\u4e32\u884c\u200b\ufffd?\ufffd\u200b\u5355\u7aef\u200b\u8f6c\u200b\u5dee\u5206\u200b\u3001\u200b\u5355\u6cbf\u200b\u8f6c\u53cc\u200b\u6cbf\u200b\n// \n// Revision      : V1.0\n// Additional Comments:\n// \n// \u200b\u5b9e\u9a8c\u200b\u5e73\u53f0\u200b: \u200b\u91ce\u706b\u200b_\u200b\u5f81\u200b\ufffd?\ufffdPro_FPGA\ufffd?\u200b\u53d1\u677f\u200b\n// \u200b\u516c\u53f8\u200b    : http://www.embedfire.com\n// \u200b\u8bba\u575b\u200b    : http://www.firebbs.cn\n// \u200b\u6dd8\u5b9d\u200b    : https://fire-stm32.taobao.com\n////////////////////////////////////////////////////////////////////////\n\nmodule par_to_ser\n(\n    input   wire            clk_5x      ,   //\u200b\u8f93\u5165\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\n    input   wire    [9:0]   par_data    ,   //\u200b\u8f93\u5165\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\n\n    output  wire            ser_data_p  ,   //\u200b\u8f93\u51fa\u200b\u4e32\u884c\u200b\u5dee\u5206\u200b\u6570\u636e\u200b\n    output  wire            ser_data_n      //\u200b\u8f93\u51fa\u200b\u4e32\u884c\u200b\u5dee\u5206\u200b\u6570\u636e\u200b\n);\n\n//********************************************************************//\n//****************** Parameter and Internal Signal *******************//\n//********************************************************************//\n//wire  define\nwire            data;\nwire    [4:0]   data_rise = {par_data[8],par_data[6],\n                            par_data[4],par_data[2],par_data[0]};\nwire    [4:0]   data_fall = {par_data[9],par_data[7],\n                            par_data[5],par_data[3],par_data[1]};\n\n//reg   define\nreg     [4:0]   data_rise_s = 0;\nreg     [4:0]   data_fall_s = 0;\nreg     [2:0]   cnt = 0;\n\n\nalways @ (posedge clk_5x)\n    begin\n        cnt &lt;= (cnt[2]) ? 3'd0 : cnt + 3'd1;\n        data_rise_s  &lt;= cnt[2] ? data_rise : data_rise_s[4:1];\n        data_fall_s  &lt;= cnt[2] ? data_fall : data_fall_s[4:1];\n\n    end\n\n//********************************************************************//\n//**************************** Instantiate ***************************//\n//********************************************************************//\n//------------- ddio_out_inst0 -------------\n\n\nODDR #(\n    .DDR_CLK_EDGE(\"SAME_EDGE\"), // \"OPPOSITE_EDGE\" or \"SAME_EDGE\" \n    .INIT(1'b0),    // Initial value of Q: 1'b0 or 1'b1\n    .SRTYPE(\"SYNC\") // Set/Reset type: \"SYNC\" or \"ASYNC\" \n ) ODDR_inst (\n    .Q(data),   // 1-bit DDR output\n    .C(clk_5x ),   // 1-bit clock input\n    .CE(1'd1), // 1-bit clock enable input\n    .D1(data_rise_s[0]), // 1-bit data input (positive edge)\n    .D2(data_fall_s[0]), // 1-bit data input (negative edge)\n    .R(1'd0),   // 1-bit reset\n    .S(1'd0)    // 1-bit set\n );\n // \ufffd\ufffd\ufffd\ufffdOBUFDS\u052d\ufffd\ufffd\n\n OBUFDS #(\n      .IOSTANDARD(\"TMDS_33\"), // Specify the output I/O standard\n      .SLEW(\"SLOW\")           // Specify the output slew rate\n   ) OBUFDS_inst (\n      .O(ser_data_p),     // Diff_p output (connect directly to top-level port)\n      .OB(ser_data_n),   // Diff_n output (connect directly to top-level port)\n      .I(data)      // Buffer input\n   );\nendmodule\n\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\uff1apar_to_ser.v\u200b\u6a21\u5757\u200b\u4e2d\u200b\u5305\u542b\u200b\u5e76\u884c\u200b\u8f6c\u200b\u4e32\u884c\u200b\u4ee5\u53ca\u200b\u5355\u7aef\u200b\u8f6c\u200b\u5dee\u5206\u200b\u529f\u80fd\u200b\uff0c\u200b\u5728\u200bhdmi_ctrl.v\u200b\u4e2d\u5c06\u200b\u5176\u200b\u6a21\u5757\u200b\u5206\u522b\u200b\u5bf9\u200bR\u3001G\u3001B\u3001CLK\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u4e86\u200b\u5171\u200b\u56db\u6b21\u200b\uff0c\u200b\u5176\u4e2d\u200bODDR\u200b\u548c\u200bOBUFDS\u200b\u7684\u200b\u539f\u8bed\u200b\u9700\u8981\u200b\u6839\u636e\u200b\u81ea\u5df1\u200b\u7684\u200b\u5f00\u53d1\u677f\u200b\u8fdb\u884c\u200b\u590d\u5236\u200b</p>"},{"location":"fpga/HDMI%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#_5","title":"\u7ba1\u811a\u200b\u914d\u7f6e","text":"<pre><code>set_property PACKAGE_PIN C8 [get_ports sys_clk]\nset_property PACKAGE_PIN V19 [get_ports sys_rst_n]\nset_property PACKAGE_PIN J14 [get_ports tmds_clk_p]\nset_property PACKAGE_PIN K15 [get_ports {tmds_data_p[2]}]\nset_property PACKAGE_PIN G14 [get_ports {tmds_data_p[1]}]\nset_property PACKAGE_PIN K13 [get_ports {tmds_data_p[0]}]\nset_property IOSTANDARD LVCMOS18 [get_ports ddc_sda]\nset_property IOSTANDARD SSTL135 [get_ports sys_clk]\nset_property IOSTANDARD LVCMOS33 [get_ports sys_rst_n]\nset_property IOSTANDARD LVDS [get_ports tmds_clk_p]\nset_property IOSTANDARD LVDS [get_ports tmds_clk_n]\nset_property PACKAGE_PIN J10 [get_ports ddc_scl]\nset_property PACKAGE_PIN B9 [get_ports ddc_sda]\nset_property IOSTANDARD LVDS [get_ports {tmds_data_p[2]}]\nset_property IOSTANDARD LVDS [get_ports {tmds_data_n[2]}]\nset_property IOSTANDARD LVDS [get_ports {tmds_data_p[1]}]\nset_property IOSTANDARD LVDS [get_ports {tmds_data_n[1]}]\nset_property IOSTANDARD LVDS [get_ports {tmds_data_p[0]}]\nset_property IOSTANDARD LVDS [get_ports {tmds_data_n[0]}]\nset_property IOSTANDARD LVCMOS18 [get_ports ddc_scl]\n\n\n</code></pre>"},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/","title":"I2C\u200b\u534f\u8bae","text":"<p>\u200b\u672c\u6b21\u200b\u4f7f\u7528\u200b\u5f00\u53d1\u200b\u73af\u5883\u200b\uff1a</p> <p>\u200b\u8f6f\u4ef6\u200b\uff1aQuartus II 64-Bit</p> <p>\u200b\u5f00\u53d1\u677f\u200b\u53ca\u200b\u82af\u7247\u578b\u53f7\u200b\uff1a\u200b\u81f3\u200b\u82af\u200b--EP4CE6E22C8N 1.2V</p> <p></p>"},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#_1","title":"\u534f\u8bae\u200b\u6838\u5fc3\u200b\u6982\u8ff0","text":"<ol> <li>\u200b\u7269\u7406\u5c42\u200b\u7279\u6027\u200b</li> <li>\u200b\u53cc\u7ebf\u200b\u5236\u200b\uff1a\u200b\u4ec5\u200b\u9700\u200bSCL\uff08\u200b\u65f6\u949f\u200b\u7ebf\u200b\uff09\u200b\u548c\u200bSDA\uff08\u200b\u6570\u636e\u7ebf\u200b\uff09\u200b\u4e24\u6839\u200b\u7ebf\u200b\uff0c\u200b\u5747\u200b\u9700\u5916\u200b\u63a5\u4e0a\u200b\u62c9\u200b\u7535\u963b\u200b\uff0c\u200b\u7a7a\u95f2\u200b\u65f6\u200b\u4fdd\u6301\u200b\u9ad8\u7535\u5e73\u200b</li> <li>\u200b\u591a\u4e3b\u591a\u200b\u4ece\u200b\uff1a\u200b\u652f\u6301\u200b\u591a\u4e2a\u200b\u4e3b\u673a\u200b\u548c\u200b\u4ece\u673a\u200b\uff0c\u200b\u901a\u8fc7\u200b\u8bbe\u5907\u200b\u5730\u5740\u200b\uff08\u200b\u901a\u5e38\u200b7\u200b\u4f4d\u200b\uff09\u200b\u533a\u5206\u200b\u4e0d\u540c\u200b\u5916\u8bbe\u200b\uff0c\u200b\u5730\u5740\u200b\u540e\u63a5\u200b1\u200b\u4f4d\u200b\u8bfb\u5199\u200b\u6807\u5fd7\u200b\u4f4d\u200b\uff080\u200b\u5199\u200b/1\u200b\u8bfb\u200b\uff09</li> <li>\u200b\u534a\u53cc\u5de5\u200b\u901a\u4fe1\u200b\uff1a\u200b\u6570\u636e\u7ebf\u200bSDA\u200b\u540c\u4e00\u200b\u65f6\u523b\u200b\u53ea\u80fd\u200b\u5355\u5411\u200b\u4f20\u8f93\u200b\uff0c\u200b\u7531\u200b\u4e3b\u673a\u200b\u63a7\u5236\u200b\u65f6\u5e8f\u200b</li> <li>\u200b\u5173\u952e\u200b\u65f6\u5e8f\u200b\u72b6\u6001\u200b</li> <li>\u200b\u8d77\u59cb\u200b\u6761\u4ef6\u200b\uff08Start\uff09\uff1aSCL\u200b\u9ad8\u7535\u5e73\u200b\u65f6\u200b\uff0cSDA\u200b\u7531\u200b\u9ad8\u200b\u2192\u200b\u4f4e\u200b\u8df3\u53d8\u200b\uff0c\u200b\u6807\u5fd7\u200b\u901a\u4fe1\u200b\u5f00\u59cb\u200b</li> <li>\u200b\u505c\u6b62\u200b\u6761\u4ef6\u200b\uff08Stop\uff09\uff1aSCL\u200b\u9ad8\u7535\u5e73\u200b\u65f6\u200b\uff0cSDA\u200b\u7531\u200b\u4f4e\u200b\u2192\u200b\u9ad8\u200b\u8df3\u53d8\u200b\uff0c\u200b\u6807\u5fd7\u200b\u901a\u4fe1\u200b\u7ed3\u675f\u200b</li> <li>\u200b\u6570\u636e\u4f20\u8f93\u200b\uff1aSCL\u200b\u4f4e\u7535\u5e73\u200b\u65f6\u200b\u66f4\u65b0\u200bSDA\u200b\u6570\u636e\u200b\uff0cSCL\u200b\u9ad8\u7535\u5e73\u200b\u65f6\u200b\u4fdd\u6301\u7a33\u5b9a\u200b\uff0c\u200b\u6570\u636e\u200b\u6309\u200b\u9ad8\u4f4d\u200b\u4f18\u5148\u200b\u4f20\u8f93\u200b</li> <li> <p>\u200b\u5e94\u7b54\u200b\u673a\u5236\u200b\uff08ACK/NACK\uff09\uff1a\u200b\u6bcf\u200b\u4f20\u8f93\u200b8\u200b\u4f4d\u200b\u6570\u636e\u200b\u540e\u200b\uff0c\u200b\u63a5\u6536\u200b\u65b9\u5728\u200b\u7b2c\u200b9\u200b\u4e2a\u200bSCL\u200b\u5468\u671f\u200b\u62c9\u4f4e\u200bSDA\uff08ACK\uff09\u200b\u6216\u200b\u4fdd\u6301\u200b\u9ad8\u7535\u5e73\u200b\uff08NACK\uff09</p> </li> <li> <p>\u200b\u72b6\u6001\u673a\u200b\u9a71\u52a8\u200b</p> </li> <li> <p>\u200b\u901a\u8fc7\u200b\u72b6\u6001\u673a\u200b\u5212\u5206\u200bIIC\u200b\u64cd\u4f5c\u200b\u9636\u6bb5\u200b\uff0c\u200b\u5178\u578b\u200b\u72b6\u6001\u200b\u5305\u62ec\u200b\uff1a</p> <p>\u200b\u7a7a\u95f2\u200b\u6001\u200b\uff08IDLE\uff09\u3001\u200b\u8d77\u59cb\u200b\u6001\u200b\uff08START\uff09\u3001\u200b\u5199\u200b\u6570\u636e\u200b\uff08WR_DATA\uff09\u3001\u200b\u8bfb\u6570\u636e\u200b\uff08RD_DATA\uff09\u3001\u200b\u5e94\u7b54\u200b\uff08ACK\uff09\u3001\u200b\u505c\u6b62\u200b\u6001\u200b\uff08STOP\uff09</p> </li> <li> <p>\u200b\u793a\u4f8b\u200b\u72b6\u6001\u673a\u200b\u8df3\u8f6c\u200b\u903b\u8f91\u200b\uff1a</p> <p><code>Verilogcase(state)      IDLE: \u200b\u68c0\u6d4b\u200b\u5230\u200b\u8bfb\u5199\u200b\u8bf7\u6c42\u200b\u2192\u200b\u8df3\u8f6c\u200bSTART\uff1b      START: \u200b\u751f\u6210\u200b\u8d77\u59cb\u4fe1\u53f7\u200b\u2192\u200b\u8df3\u8f6c\u200bWR_DATA\uff1b      WR_DATA: \u200b\u53d1\u9001\u200b8\u200b\u4f4d\u200b\u6570\u636e\u200b\u2192\u200b\u8df3\u8f6c\u200bACK\uff1b      ACK: \u200b\u68c0\u6d4b\u200b\u5e94\u7b54\u200b\u2192\u200b\u6839\u636e\u200b\u64cd\u4f5c\u200b\u7c7b\u578b\u200b\u8df3\u8f6c\u200bSTOP\u200b\u6216\u200b\u7ee7\u7eed\u200b\u4f20\u8f93\u200b\uff1b      STOP: \u200b\u7ed3\u675f\u200b\u901a\u4fe1\u200b\u2192\u200b\u8fd4\u56de\u200bIDLE\uff1b  endcase</code></p> </li> <li> <p>\u200b\u65f6\u949f\u200b\u5206\u9891\u200b\u4e0e\u200b\u65f6\u5e8f\u200b\u63a7\u5236\u200b</p> </li> <li> <p>\u200b\u5c06\u200bFPGA\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\uff08\u200b\u5982\u200b50MHz\uff09\u200b\u5206\u9891\u200b\u81f3\u200bIIC\u200b\u901f\u7387\u200b\uff08\u200b\u5982\u200b100kHz\u200b\u6216\u200b400kHz\uff09\uff0c\u200b\u9700\u200b\u8ba1\u7b97\u200b\u5206\u9891\u200b\u53c2\u6570\u200b\uff08\u200b\u4f8b\u5982\u200b50MHz/100kHz=500\u200b\u5206\u9891\u200b\uff09</p> </li> <li> <p>\u200b\u5728\u200bSCL\u200b\u4f4e\u7535\u5e73\u200b\u4e2d\u200b\u70b9\u200b\uff08\u200b\u5982\u200b\u5206\u9891\u200b\u8ba1\u6570\u5668\u200b\u7684\u200b65/250\u200b\u4f4d\u7f6e\u200b\uff09\u200b\u66f4\u65b0\u200bSDA\u200b\u6570\u636e\u200b\uff0c\u200b\u786e\u4fdd\u200b\u65f6\u5e8f\u200b\u7a33\u5b9a\u200b</p> </li> <li> <p>\u200b\u6570\u636e\u200b\u6536\u53d1\u200b\u903b\u8f91\u200b\u53ca\u200b\u6570\u636e\u200b\u5e27\u200b\u7ed3\u6784\u200b</p> </li> </ol> <p></p> <ul> <li>\u200b\u5199\u200b\u64cd\u4f5c\u200b\uff1a\u200b\u4e3b\u673a\u200b\u4f9d\u6b21\u200b\u53d1\u9001\u200b\u8bbe\u5907\u200b\u5730\u5740\u200b\uff08+\u200b\u5199\u200b\u6807\u5fd7\u200b\uff09\u3001\u200b\u5bc4\u5b58\u5668\u200b\u5730\u5740\u200b\u3001\u200b\u6570\u636e\u200b\uff0c\u200b\u6bcf\u200b\u5b57\u8282\u200b\u540e\u200b\u68c0\u6d4b\u200bACK</li> <li>\u200b\u8bfb\u200b\u64cd\u4f5c\u200b\uff1a\u200b\u4e3b\u673a\u200b\u53d1\u9001\u200b\u8bbe\u5907\u200b\u5730\u5740\u200b\uff08+\u200b\u5199\u200b\u6807\u5fd7\u200b\uff09\u2192\u200b\u5bc4\u5b58\u5668\u200b\u5730\u5740\u200b\u2192\u200b\u91cd\u65b0\u200b\u53d1\u9001\u200b\u8d77\u59cb\u4fe1\u53f7\u200b\u2192\u200b\u8bbe\u5907\u200b\u5730\u5740\u200b\uff08+\u200b\u8bfb\u200b\u6807\u5fd7\u200b\uff09\u2192\u200b\u63a5\u6536\u6570\u636e\u200b\u5e76\u200b\u53d1\u9001\u200bACK/NACK</li> </ul>"},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#1","title":"1. \u200b\u57fa\u7840\u77e5\u8bc6","text":""},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#1-i2ciic","title":"1. I2C\uff08IIC\uff09\u200b\u901a\u8baf\u200b\u534f\u8bae","text":"<p>I2C\u200b\u901a\u8baf\u200b\u534f\u8bae\u200b\uff08Inter - Intergrated Circuit\uff09\u200b\u662f\u200b\u7531\u200bPhilips\u200b\u516c\u53f8\u200b\u5f00\u53d1\u200b\u7684\u200b\u4e00\u79cd\u200b\u7b80\u5355\u200b\u3001\u200b\u53cc\u5411\u200b\u4e8c\u7ebf\u200b\u540c\u6b65\u200b\u4e32\u884c\u603b\u7ebf\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u4e24\u6839\u200b\u5148\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8fde\u63a5\u200b\u4e8e\u200b\u603b\u7ebf\u200b\u4e0a\u200b\u7684\u200b\u5668\u4ef6\u200b\u4e4b\u95f4\u200b\u4f20\u9001\u200b\u4fe1\u606f\u200b\u3002</p> <p>I2C\u200b\u901a\u8baf\u200b\u534f\u8bae\u200b\u548c\u200b\u901a\u4fe1\u63a5\u53e3\u200b\u5728\u200b\u5f88\u591a\u200b\u5de5\u7a0b\u200b\u4e2d\u200b\u4e0e\u200b\u5e7f\u6cdb\u200b\u7684\u200b\u5e94\u7528\u200b\uff0c\u200b\u5982\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\u9886\u57df\u200b\u7684\u200b\u4e32\u884c\u200bAD\uff0c\u200b\u56fe\u50cf\u5904\u7406\u200b\u9886\u57df\u200b\u7684\u200b\u6444\u50cf\u5934\u200b\u914d\u7f6e\u200b\uff0c\u200b\u5de5\u4e1a\u200b\u63a7\u5236\u200b\u9886\u57df\u200b\u7684\u200bX\u200b\u5c04\u7ebf\u7ba1\u200b\u914d\u7f6e\u200b\u7b49\u7b49\u200b\u3002\u200b\u9664\u6b64\u4e4b\u5916\u200b\uff0c\u200b\u7531\u4e8e\u200bI2C\u200b\u534f\u8bae\u200b\u5360\u7528\u200b\u7684\u200b\u5f15\u811a\u200b\u7279\u522b\u200b\u5c11\u200b\uff0c\u200b\u786c\u4ef6\u200b\u5b9e\u73b0\u200b\u7b80\u5355\u200b\uff0c\u200b\u53ef\u6269\u5c55\u6027\u200b\u5f3a\u200b\uff0c\u200b\u73b0\u5728\u200b\u88ab\u200b\u5e7f\u6cdb\u200b\u4f7f\u7528\u200b\u5728\u200b\u7cfb\u7edf\u200b\u5185\u200b\u591a\u4e2a\u200b\u96c6\u6210\u7535\u8def\u200b\uff08IC\uff09\u200b\u95f4\u200b\u7684\u200b\u901a\u8baf\u200b\u3002\u200b\u540c\u65f6\u200b\u4e5f\u200b\u901a\u5e38\u200b\u7528\u4e8e\u200b\u8fde\u63a5\u200b\u4f4e\u901f\u200b\u8bbe\u5907\u200b\uff0c\u200b\u5982\u200b\u4f20\u611f\u5668\u200b\u3001\u200b\u5b58\u50a8\u5668\u200b\u548c\u200b\u5176\u4ed6\u200b\u5916\u8bbe\u200b\u3002\u200b\u5b83\u200b\u4f7f\u7528\u200b\u4e24\u6839\u200b\u7ebf\u200b\uff08SCL\u200b\u548c\u200bSDA\uff09\u200b\u6765\u200b\u5b9e\u73b0\u200b\u53cc\u5411\u901a\u4fe1\u200b\uff0c\u200b\u5177\u6709\u200b\u5730\u5740\u200b\u5b9a\u5411\u200b\u6027\u200b\u548c\u200b\u4e3b\u4ece\u200b\u6a21\u5f0f\u200b\u3002</p> <p></p> <p>\u200b\u4f18\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u591a\u200b\u8bbe\u5907\u200b\u652f\u6301\u200b\uff1aI2C\u200b\u652f\u6301\u200b\u591a\u4e2a\u200b\u8bbe\u5907\u200b\u8fde\u63a5\u200b\u5230\u200b\u540c\u4e00\u200b\u603b\u7ebf\u200b\u4e0a\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u8bbe\u5907\u200b\u90fd\u200b\u6709\u200b\u552f\u4e00\u200b\u7684\u200b\u5730\u5740\u200b\u3002</li> <li>\u200b\u7b80\u5355\u200b\uff1aI2C\u200b\u534f\u8bae\u200b\u76f8\u5bf9\u200b\u7b80\u5355\u200b\uff0c\u200b\u6613\u4e8e\u200b\u5b9e\u73b0\u200b\u548c\u200b\u8c03\u8bd5\u200b\u3002</li> <li>\u200b\u4f4e\u529f\u8017\u200b\uff1a\u200b\u5728\u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b\u65f6\u200b\uff0c\u200b\u663e\u793a\u200b\u9ad8\u200b\u963b\u6001\u200b\uff0cI2C\u200b\u603b\u7ebf\u200b\u4e0a\u200b\u7684\u200b\u5668\u4ef6\u200b\u53ef\u4ee5\u200b\u8fdb\u5165\u200b\u4f4e\u529f\u8017\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u8282\u7701\u200b\u80fd\u91cf\u200b\u3002\uff08\u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b\u4e0b\u200b\uff0cIIC\u200b\u8bbe\u5907\u200b\u7aef\u53e3\u200b\u5904\u4e8e\u200b\u9ad8\u200b\u963b\u6001\u200b\uff0c\u200b\u6240\u4ee5\u200bIIC\u200b\u603b\u7ebf\u200b\u7a7a\u95f2\u200b\u65f6\u523b\u200b\u4e5f\u200b\u5c31\u662f\u200b\u9ad8\u7535\u5e73\u200b</li> <li>\u200b\u4ef2\u88c1\u200b\uff1a\u200b\u603b\u7ebf\u200b\u4e0a\u200b\u53ef\u4ee5\u200b\u8fde\u63a5\u200b\u591a\u4e2a\u200b\u4ece\u673a\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u8fde\u63a5\u200b\u591a\u4e2a\u200b\u4e3b\u673a\u200b\uff0c\u200b\u5f53\u200b\u591a\u4e2a\u200b\u4e3b\u673a\u200b\u540c\u65f6\u200b\u4f7f\u7528\u200b\u603b\u7ebf\u200b\u65f6\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u9632\u6b62\u200b\u6570\u636e\u200b\u53d1\u751f\u51b2\u7a81\u200b\uff0c\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u4ef2\u88c1\u200b\u7684\u200b\u65b9\u5f0f\u200b\u6765\u200b\u51b3\u5b9a\u200b\u54ea\u4e2a\u200b\u8bbe\u5907\u200b\u4f7f\u7528\u200b\u603b\u7ebf\u200b</li> <li>\u200b\u901f\u5ea6\u200b\uff1aIIC\u200b\u5177\u6709\u200b3\u200b\u4e2a\u200b\u4f20\u8f93\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u5728\u200b\u6807\u51c6\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\uff0c\u200b\u4f20\u8f93\u901f\u5ea6\u200b\u4e3a\u200b100kb/s\u3002\u200b\u5728\u200b\u5feb\u901f\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\uff0c\u200b\u901f\u5ea6\u200b\u4e3a\u200b400kb/s\u3002\u200b\u6700\u540e\u200b\u662f\u200b\u9ad8\u901f\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u901f\u5ea6\u200b\u53ef\u4ee5\u200b\u8fbe\u5230\u200b3.4MB/s\u3002\u200b\u5f53\u524d\u200b\u7684\u200b\u5927\u591a\u6570\u200bIIC\u200b\u8bbe\u5907\u200b\u4ec5\u200b\u652f\u6301\u200b\u6807\u51c6\u200b\u6a21\u5f0f\u200b\u548c\u200b\u5feb\u901f\u200b\u6a21\u5f0f\u200b\u3002</li> </ul> <p>\u200b\u7f3a\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u901f\u5ea6\u200b\u8f83\u6162\u200b\uff1aI2C\u200b\u901a\u4fe1\u200b\u901f\u5ea6\u200b\u8f83\u200b\u4f4e\u200b\uff0c\u200b\u9002\u7528\u200b\u4e8e\u200b\u4f4e\u901f\u200b\u8bbe\u5907\u200b\u3002</li> <li>\u200b\u53d7\u9650\u5236\u200b\uff1aI2C\u200b\u7684\u200b\u603b\u7ebf\u200b\u957f\u5ea6\u200b\u548c\u200b\u8bbe\u5907\u200b\u6570\u91cf\u200b\u53d7\u5230\u9650\u5236\u200b\uff0c\u200b\u8fc7\u957f\u200b\u7684\u200b\u603b\u7ebf\u200b\u53ef\u80fd\u200b\u5bfc\u81f4\u200b\u901a\u4fe1\u200b\u95ee\u9898\u200b\u3002</li> <li>\u200b\u51b2\u7a81\u200b\uff1a\u200b\u5f53\u200b\u591a\u4e2a\u200b\u8bbe\u5907\u200b\u5c1d\u8bd5\u200b\u540c\u65f6\u200b\u53d1\u9001\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u53d1\u751f\u51b2\u7a81\u200b\uff0c\u200b\u9700\u8981\u200b\u989d\u5916\u200b\u7684\u200b\u51b2\u7a81\u68c0\u6d4b\u200b\u548c\u200b\u5904\u7406\u200b\u673a\u5236\u200b\u3002</li> </ul> <p>\u200b\u5e94\u7528\u200b\u6848\u4f8b\u200b\uff1a</p> <p>\u200b\u5c31\u200b\u5176\u200b\u5e94\u7528\u200b\u800c\u8a00\u200b\uff0c\u200b\u8fde\u63a5\u200b\u65b9\u9762\u200b\uff0cI2C\u200b\u5728\u200b\u9700\u8981\u200b\u7b80\u5355\u200b\u4e14\u200b\u7ecf\u6d4e\u200b\u7684\u200b\u901a\u4fe1\u200b\u73af\u5883\u200b\u4e2d\u200b\u8868\u73b0\u51fa\u8272\u200b\u3002\u200b\u5b83\u200b\u5c24\u5176\u200b\u64c5\u957f\u200b\u5728\u200b\u5c0f\u578b\u200b\u4f20\u611f\u5668\u200b\u3001LCD \u200b\u5c4f\u5e55\u200b\u548c\u200b RTC\uff08\u200b\u5b9e\u65f6\u200b\u65f6\u949f\u200b\uff09\u200b\u6a21\u5757\u200b\u4e2d\u200b\u4f7f\u7528\u200b\u3002\u200b\u6b64\u5916\u200b\uff0cI2C \u200b\u7531\u4e8e\u200b\u5176\u200b\u5728\u200b\u7d27\u51d1\u200b\u7535\u8def\u200b\u4e2d\u200b\u7684\u200b\u6548\u7387\u200b\uff0c\u200b\u5728\u200b\u6e29\u5ea6\u63a7\u5236\u200b\u8bbe\u5907\u200b\u3001\u200b\u7535\u6c60\u200b\u7ba1\u7406\u7cfb\u7edf\u200b\u548c\u200b LED \u200b\u63a7\u5236\u5668\u200b\u4e2d\u200b\u5f88\u200b\u6709\u7528\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u5728\u200b\u9700\u8981\u200b\u5feb\u901f\u200b\u6216\u200b\u957f\u8ddd\u79bb\u200b\u6570\u636e\u4f20\u8f93\u200b\u7684\u200b\u9879\u76ee\u200b\u4e2d\u200b\uff0c\u200b\u6700\u597d\u200b\u9009\u62e9\u200b\u5176\u4ed6\u200b\u534f\u8bae\u200b\u3002</p> <p>\u200b\u8bfb\u5199\u200b\u7b49\u200b\u8be6\u7ec6\u200b\u7684\u200b\u901a\u4fe1\u200b\u8fc7\u7a0b\u200b\u53ef\u200b\u53c2\u8003\u200b\u4e0b\u6587\u200b\uff1a</p> <p>\u200b\u8001\u5b87\u54e5\u200b\u5e26\u200b\u4f60\u200b\u73a9\u8f6c\u200b ESP32\uff1a07 I2C\u200b\u534f\u8bae\u200b\uff0c\u200b\u770b\u200b\u8fd9\u200b\u4e00\u7bc7\u200b\u5c31\u591f\u200b\u4e86\u200b \uff08\u200b\u70b9\u51fb\u200b\u9605\u8bfb\u200b\uff09</p> <p>### 2. I2C\u200b\u7269\u7406\u5c42\u200b</p> <p></p> <p>I2C_SCL\uff1a\u200b\u4e32\u884c\u200b\u65f6\u949f\u200b\u7ebf\u200b\uff0c\u200b\u7528\u4e8e\u200b\u540c\u6b65\u200b\u901a\u8baf\u200b\u6570\u636e\u200b\uff1b</p> <p>I2C_SDA\uff1a \u200b\u53cc\u5411\u200b\u4e32\u884c\u200b\u6570\u636e\u7ebf\u200b\uff0c\u200b\u4f20\u8f93\u200b\u901a\u8baf\u200b\u6570\u636e\u200b\uff1b</p>"},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#3-i2c","title":"3. I2C\u200b\u534f\u8bae\u200b\u5c42","text":"<p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u793a\u610f\u56fe\u200b\u4e2d\u200b\uff0c\u200b\u5305\u542b\u200b4\u200b\u4e2a\u200b\u72b6\u6001\u200b\uff1a</p> <p>1\uff1a \u200b\u603b\u7ebf\u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b</p> <p>2\uff1a \u200b\u8d77\u59cb\u4fe1\u53f7\u200b</p> <p>3\uff1a \u200b\u6570\u636e\u200b\u8bfb\u5199\u200b\u72b6\u6001\u200b</p> <p>4\uff1a \u200b\u505c\u6b62\u200b\u4fe1\u53f7\u200b</p> <p></p> <p>\u200b\u5728\u200bSCL\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u7684\u200b\u5199\u5165\u200b\uff0c\u200b\u4f4e\u7535\u5e73\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u7684\u200b\u66f4\u65b0\u200b\u3002</p> <p>\u200b\u5f53\u200b\u6211\u4eec\u200b\u7684\u200b\u4ece\u200b\u673a\u8bbe\u5907\u200b\u6b63\u786e\u200b\u63a5\u53d7\u200b\u5230\u200b\u6211\u4eec\u200b\u53d1\u9001\u200b\u7684\u200b\u4fe1\u53f7\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4f1a\u200b\u628a\u200bSDA\u200b\u6570\u636e\u7ebf\u200b\u62c9\u4f4e\u200b\uff0c\u200b\u79f0\u4e3a\u200b\u54cd\u5e94\u200b\u4f4d\u200b\uff0c\u200b\u8868\u793a\u200b\u5411\u200b\u4e3b\u673a\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u5355\u200b\u6bd4\u7279\u200b\u7684\u200b\u5e94\u7b54\u200b\u4fe1\u53f7\u200b\u3002</p>"},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#_2","title":"\u5173\u4e8e\u200b\u5668\u4ef6\u200b\u7684\u200b\u5730\u5740\u200b\u7684\u200b\u5185\u5bb9","text":"<p>\u200b\u5668\u4ef6\u200b\u5730\u5740\u200b\u88ab\u200b\u5b9a\u4e49\u200b\u4e3a\u200b7Bit\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5668\u4ef6\u200b\u5382\u5546\u200b\u5728\u200b\u51fa\u5382\u200b\u7684\u200b\u65f6\u5019\u200b\u5c31\u200b\u5c06\u200b\u5730\u5740\u200b\u8bbe\u7f6e\u200b\u597d\u200b\u4e86\u200b\uff0c\u200b\u7528\u6237\u200b\u4e0d\u80fd\u200b\u8fdb\u884c\u200b\u81ea\u5df1\u200b\u66f4\u6539\u200b\uff0c\u200b\u4f46\u662f\u200b\u6709\u200b\u7684\u200b\u5382\u5546\u200b\u5982\u4e0a\u56fe\u200b\u6240\u793a\u200b\uff0c\u200b\u5176\u4e2d\u200b\u9ad8\u200b4\u200b\u4f4d\u662f\u200b\u56fa\u5b9a\u200b\u7684\u200b\uff0c\u200b\u4f46\u662f\u200b\u540e\u200b3\u200b\u4f4d\u200b\u6ca1\u6709\u200b\u88ab\u200b\u5199\u5165\u200b\uff0c\u200b\u8fd9\u6837\u200b\u7684\u200b\u60c5\u51b5\u200b\u662f\u200b\u5141\u8bb8\u200b\u7528\u6237\u200b\u81ea\u884c\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u3002</p> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u5728\u200b\u8fd9\u91cc\u200b\u770b\u5230\u200b\uff0c\u200b\u6839\u636e\u200b\u4e0a\u9762\u200b\u7684\u200b\u4e24\u884c\u200b\u56fe\u50cf\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u786e\u5b9a\u200b\u8fd9\u4e2a\u200b\u82af\u7247\u200b\u7684\u200bI2C\u200b\u5730\u5740\u200b\u4e3a\u200b10100_000\uff0c\u200b\u56e0\u4e3a\u200bA0\u3001A1\u3001A2\u200b\u90fd\u200b\u662f\u200b\u4f4e\u7535\u5e73\u200b\u3002</p> <p>\u200b\u6700\u540e\u200b\u4e00\u4f4d\u200b\u4e3a\u200b\u8bfb\u5199\u200b\u63a7\u5236\u200b\u4f4d\u200b\uff0c0\u200b\u8868\u793a\u200b\u5199\u5165\u200b\uff0c1\u200b\u8868\u793a\u200b\u8bfb\u53d6\u200b\u3002</p> <p>\u200b\u4e3e\u4f8b\u200b\uff1a\u200b\u5982\u679c\u200b\u8981\u200b\u8ba9\u200b\u8fd9\u4e2a\u200b\u82af\u7247\u200b\u5904\u4e8e\u200b\u8bfb\u53d6\u200b\u72b6\u6001\u200b\uff0c\u200b\u4f7f\u7528\u200bI2C\u200b\u534f\u8bae\u200b\u7684\u200b\u5730\u5740\u200b\u5219\u200b\u4e3a\u200b\uff1a10100_000_1</p>"},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#4","title":"4. \u200b\u6570\u636e\u4f20\u8f93\u200b\u6d41\u7a0b","text":"<p>I\u00b2C\u200b\u534f\u8bae\u200b\u4e2d\u200b\u5224\u65ad\u200b\u6570\u636e\u200b\u63a5\u6536\u200b\u8bbe\u5907\u200b\u7684\u200b\u57fa\u672c\u200b\u6b65\u9aa4\u200b\uff1a</p> <ol> <li>\u200b\u5730\u5740\u200b\u5206\u914d\u200b\uff1a\u200b\u6bcf\u4e2a\u200b\u8fde\u63a5\u200b\u5230\u200bI\u00b2C\u200b\u603b\u7ebf\u200b\u7684\u200b\u8bbe\u5907\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u552f\u4e00\u200b\u7684\u200b\u5730\u5740\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u5730\u5740\u200b\u5728\u200b\u8bbe\u5907\u200b\u5236\u9020\u200b\u65f6\u200b\u88ab\u200b\u8bbe\u5b9a\u200b\uff0c\u200b\u5e76\u4e14\u200b\u901a\u5e38\u200b\u901a\u8fc7\u200b\u786c\u4ef6\u200b\u65b9\u5f0f\u200b\u8bbe\u7f6e\u200b\u3002</li> <li>\u200b\u5f00\u59cb\u200b\u6761\u4ef6\u200b\uff1a\u200b\u5728\u200b\u6570\u636e\u4f20\u8f93\u200b\u5f00\u59cb\u200b\u4e4b\u524d\u200b\uff0c\u200b\u4e3b\u673a\u200b\u8bbe\u5907\u200b\u4f1a\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u5f00\u59cb\u200b\u6761\u4ef6\u200b\uff0c\u200b\u8fd9\u200b\u901a\u5e38\u200b\u6d89\u53ca\u200b\u5230\u200bSDA\uff08\u200b\u6570\u636e\u7ebf\u200b\uff09\u200b\u548c\u200bSCL\uff08\u200b\u65f6\u949f\u200b\u7ebf\u200b\uff09\u200b\u7684\u200b\u7279\u5b9a\u200b\u7535\u5e73\u200b\u53d8\u5316\u200b\u3002</li> <li>\u200b\u53d1\u9001\u200b\u5730\u5740\u200b\uff1a\u200b\u4e3b\u673a\u200b\u8bbe\u5907\u200b\u968f\u540e\u200b\u4f1a\u200b\u5728\u200bSDA\u200b\u7ebf\u4e0a\u200b\u53d1\u9001\u200b\u76ee\u6807\u200b\u8bbe\u5907\u200b\u7684\u200b7\u200b\u4f4d\u200b\u5730\u5740\u200b\uff0c\u200b\u52a0\u4e0a\u200b\u4e00\u4e2a\u200b\u989d\u5916\u200b\u7684\u200b\u8bfb\u200b/\u200b\u5199\u4f4d\u200b\uff08R/W\u200b\u4f4d\u200b\uff09\u3002\u200b\u8fd9\u4e2a\u200b\u4f4d\u200b\u6307\u793a\u200b\u4e86\u200b\u63a5\u4e0b\u6765\u200b\u7684\u200b\u64cd\u4f5c\u200b\u662f\u200b\u8bfb\u53d6\u200b\uff081\uff09\u200b\u8fd8\u662f\u200b\u5199\u5165\u200b\uff080\uff09\u3002</li> <li>\u200b\u786e\u8ba4\u200b\u5e94\u7b54\u200b\uff1a\u200b\u5f53\u200b\u5730\u5740\u200b\u548c\u200bR/W\u200b\u4f4d\u200b\u88ab\u200b\u53d1\u9001\u200b\u540e\u200b\uff0c\u200b\u76ee\u6807\u200b\u8bbe\u5907\u200b\u9700\u8981\u200b\u5728\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u8109\u51b2\u200b\u7684\u200b\u5f00\u59cb\u200b\u65f6\u200b\u5c06\u200bSDA\u200b\u7ebf\u62c9\u4f4e\u200b\uff0c\u200b\u4ee5\u200b\u8868\u793a\u200b\u5b83\u200b\u5df2\u7ecf\u200b\u63a5\u6536\u200b\u5230\u200b\u4e86\u200b\u5730\u5740\u200b\u5e76\u4e14\u200b\u51c6\u5907\u200b\u597d\u200b\u8fdb\u884c\u200b\u901a\u4fe1\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u8fc7\u7a0b\u200b\u79f0\u4e3a\u200b\u5e94\u7b54\u200b\uff08ACK\uff09\u3002</li> <li>\u200b\u6570\u636e\u4f20\u8f93\u200b\uff1a\u200b\u4e00\u65e6\u200b\u63a5\u6536\u200b\u5230\u200b\u5e94\u7b54\u200b\uff0c\u200b\u4e3b\u673a\u200b\u8bbe\u5907\u200b\u5c31\u200b\u4f1a\u200b\u5f00\u59cb\u200b\u53d1\u9001\u6570\u636e\u200b\u3002\u200b\u5982\u679c\u200b\u662f\u200b\u5199\u5165\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4e3b\u673a\u200b\u53d1\u9001\u6570\u636e\u200b\uff1b\u200b\u5982\u679c\u200b\u662f\u200b\u8bfb\u53d6\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4ece\u200b\u8bbe\u5907\u200b\u53d1\u9001\u6570\u636e\u200b\u3002</li> <li>\u200b\u975e\u200b\u5e94\u7b54\u200b\uff08NACK\uff09\uff1a\u200b\u5982\u679c\u200b\u76ee\u6807\u200b\u8bbe\u5907\u200b\u4e0d\u662f\u200b\u9884\u671f\u200b\u7684\u200b\u63a5\u6536\u8005\u200b\uff0c\u200b\u6216\u8005\u200b\u7531\u4e8e\u200b\u5176\u4ed6\u200b\u539f\u56e0\u200b\u65e0\u6cd5\u200b\u63a5\u6536\u6570\u636e\u200b\uff0c\u200b\u5b83\u4f1a\u200b\u5728\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u8109\u51b2\u200b\u7684\u200b\u5f00\u59cb\u200b\u65f6\u4e0d\u62c9\u4f4e\u200bSDA\u200b\u7ebf\u200b\uff0c\u200b\u8868\u793a\u200b\u975e\u200b\u5e94\u7b54\u200b\u3002</li> <li>\u200b\u505c\u6b62\u200b\u6761\u4ef6\u200b\uff1a\u200b\u6570\u636e\u4f20\u8f93\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0c\u200b\u4e3b\u673a\u200b\u8bbe\u5907\u200b\u4f1a\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u505c\u6b62\u200b\u6761\u4ef6\u200b\uff0c\u200b\u8fd9\u200b\u6d89\u53ca\u200b\u5230\u200bSDA\u200b\u548c\u200bSCL\u200b\u7ebf\u200b\u7684\u200b\u7279\u5b9a\u200b\u7535\u5e73\u200b\u53d8\u5316\u200b\uff0c\u200b\u4ee5\u200b\u7ed3\u675f\u200b\u6570\u636e\u4f20\u8f93\u200b\u3002</li> <li>\u200b\u591a\u200b\u4e3b\u673a\u200b\u73af\u5883\u200b\uff1a\u200b\u5728\u200b\u591a\u200b\u4e3b\u673a\u200b\u73af\u5883\u200b\u4e2d\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u200b\u591a\u4e2a\u200b\u4e3b\u673a\u200b\u5c1d\u8bd5\u200b\u540c\u65f6\u200b\u63a7\u5236\u200b\u603b\u7ebf\u200b\uff0c\u200b\u5b83\u4eec\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u4ef2\u88c1\u200b\u673a\u5236\u200b\u6765\u200b\u51b3\u5b9a\u200b\u54ea\u4e2a\u200b\u4e3b\u673a\u200b\u83b7\u5f97\u200b\u63a7\u5236\u6743\u200b\u3002\u200b\u4ef2\u88c1\u200b\u662f\u200b\u57fa\u4e8e\u200b\u53d1\u9001\u200b\u7684\u200b\u6570\u636e\u4f4d\u200b\uff0c\u200b\u5982\u679c\u200b\u4e24\u4e2a\u200b\u4e3b\u673a\u200b\u5c1d\u8bd5\u200b\u53d1\u9001\u200b\u4e0d\u540c\u200b\u7684\u200b\u4f4d\u200b\uff0c\u200b\u53d1\u9001\u200b0\u200b\u7684\u200b\u4e3b\u200b\u673a\u4f1a\u200b\u653e\u5f03\u200b\u63a7\u5236\u6743\u200b\u3002</li> </ol>"},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#2-iic7pin-096-oled","title":"2. IIC\u200b\u9a71\u52a8\u200b7Pin 0.96\u200b\u5bf8\u200b OLED\u200b\u663e\u793a\u5c4f\u200b\u5b9e\u4f8b","text":""},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#1_1","title":"1. \u200b\u786c\u4ef6\u200b\u4fee\u6539","text":"<p>\u200b\u5728\u200b\u9a71\u52a8\u200b\u663e\u793a\u5c4f\u200b\u65f6\u200b\uff0c\u200b\u663e\u793a\u5c4f\u200b\u9ed8\u8ba4\u200b\u4f7f\u7528\u200bSPI\u200b\u534f\u8bae\u200b\u9a71\u52a8\u200b\uff0c\u200b\u8981\u200b\u6539\u4e3a\u200bIIC\u200b\u534f\u8bae\u200b\u9a71\u52a8\u200b\u9700\u8981\u200b\u5c06\u200b\u786c\u4ef6\u200b\u7535\u8def\u200b\u8fdb\u884c\u200b\u7b80\u5355\u200b\u7684\u200b\u4fee\u6539\u200b\uff0c\u200b\u5177\u4f53\u200b\u5c31\u662f\u200b\uff1a</p> <ol> <li> <p>\u200b\u5c06\u200b\u80cc\u9762\u200bR3\u200b\u7535\u963b\u200b\u79fb\u52a8\u200b\u5230\u200bR4\u200b\u7684\u200b \u200b\u4f4d\u7f6e\u200b</p> </li> <li> <p>\u200b\u77ed\u63a5\u200bR8\u200b\u7535\u963b\u200b</p> </li> </ol> <p>\u200b\u6539\u9020\u200b\u597d\u200b\u4e4b\u540e\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u8c61\u200b\u539f\u751f\u200b\u7684\u200bIIC\u200b\u5c4f\u5e55\u200b\u90a3\u6837\u200b\u63a5\u200b4\u200b\u6839\u7ebf\u200b\u5373\u53ef\u200b\uff0c\u200b\u5fc5\u987b\u200b\u5c06\u200b7\u200b\u4e2a\u200b\u7ba1\u811a\u200b\u90fd\u200b\u8981\u200b\u63a5\u7ebf\u200b\uff0c\u200b\u5426\u5219\u200b\u53ef\u80fd\u200b\u6ca1\u6709\u200b\u4efb\u4f55\u200b\u663e\u793a\u200b\u3002\u200b\u7ba1\u811a\u200b\u5904\u7406\u200b\uff1a</p> <p>1\u3001CS \u200b\u811a\u200b\u63a5\u5730\u200b\u3002</p> <p>2\u3001DC \u200b\u811a\u200b\u7684\u200b\u5904\u7406\u200b:\u200b\u5728\u200b IIC \u200b\u901a\u4fe1\u200b\u4e2d\u200b DC \u200b\u7684\u200b\u9ad8\u200b\u4f4e\u7535\u5e73\u200b\u662f\u200b\u7528\u6765\u200b\u9009\u62e9\u200b IIC \u200b\u901a\u4fe1\u5730\u5740\u200b\u7684\u200b;\u200b\u5f53\u200b DC \u200b\u63a5\u5730\u200b\u65f6\u200b IIC\u200b\u4ece\u673a\u200b\u5730\u5740\u200b\u4e3a\u200b:0x78,\u200b\u5f53\u200b DC \u200b\u63a5\u200b\u9ad8\u7535\u5e73\u200b\u65f6\u200b IIC \u200b\u5730\u5740\u200b\u4e3a\u200b 0x7A;\u200b\u6d4b\u8bd5\u7a0b\u5e8f\u200b\u4e2d\u200b\u6240\u7528\u200b\u7684\u200b\u4e3a\u200b 0x78; \u200b\u901a\u5e38\u200b\u76f4\u63a5\u200b\u5c06\u200b DC \u200b\u63a5\u5730\u200b</p> <p>3\u3001\u200b\u5173\u4e8e\u200b RES \u200b\u7684\u200b\u5904\u7406\u200b\u3002RES \u200b\u8fd9\u4e2a\u200b\u811a\u662f\u200b OLED \u200b\u5c4f\u200b\u7684\u200b\u590d\u4f4d\u200b\u811a\u200b;\u200b\u5927\u5bb6\u200b\u5728\u200b\u7528\u200b OLED \u200b\u5c4f\u200b\u7684\u200b\u65f6\u5019\u200b\u4f1a\u200b\u53d1\u73b0\u200b;\u200b\u6240\u200b</p> <p>\u200b\u6709\u200b OLED \u200b\u672c\u8eab\u200b\u90fd\u200b\u4f1a\u200b\u6709\u200b\u4e00\u4e2a\u200b\u590d\u4f4d\u200b\u811a\u200b;\u200b\u56e0\u4e3a\u200b OLED \u200b\u5728\u200b\u88ab\u200b\u64cd\u4f5c\u200b\u4e4b\u524d\u200b\u9700\u8981\u200b\u5728\u200b\u5c06\u200b\u5bc4\u5b58\u200b\u4f5c\u200b\u4e00\u6b21\u200b\u590d\u4f4d\u200b;\u200b\u7136\u540e\u200b\u624d\u80fd\u200b\u5bf9\u671f\u200b\u8fdb\u884c\u200b\u521d\u59cb\u200b\u8d27\u200b\u64cd\u4f5c\u200b;\u200b\u5426\u5219\u200b OLED \u200b\u53ef\u80fd\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u6c34\u200b\u7a33\u5b9a\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002RES \u200b\u5904\u7406\u200b\u65b9\u6848\u200b\uff1a\u3000\u3000</p> <p>1&gt;  \u200b\u7b80\u5355\u200b\u7684\u200b\u9a8c\u8bc1\u200b\u529e\u6cd5\u200b:\u200b\u5c06\u200bRES\u200b\u63a5\u7535\u6e90\u200b\u6b63\u200b;\u200b\u8fd9\u6837\u200b\u53ef\u4ee5\u200b\u628a\u200b\u5c4f\u200b\u70b9\u4eae\u200b;\u200b\u4f46\u662f\u200b\u4f1a\u200b\u4e0d\u200b\u7a33\u5b9a\u200b\uff0c\u200b\u5728\u200b\u5feb\u901f\u200b\u6d4b\u8bd5\u200b\u65f6\u200b\u53ef\u4ee5\u200b\u8fd9\u4e48\u200b\u64cd\u4f5c\u200b</p> <p>2&gt;  \u200b\u5c06\u200bRES\u200b\u811a\u200b\u4e0e\u200b\u5f00\u53d1\u677f\u200b\u7684\u200b\u590d\u4f4d\u200b\u811a\u200b\u8fde\u63a5\u200b;\u200b\u901a\u8fc7\u200b\u5f00\u53d1\u677f\u200b\u7684\u200b\u590d\u4f4d\u200b\u6765\u200b\u5bf9\u200bOLED\u200b\u8fdb\u884c\u200b\u590d\u4f4d\u200b</p> <p>3&gt;  \u200b\u901a\u8fc7\u200b\u4e00\u4e2a\u200bIO\u200b\u811a\u6765\u200b\u5bf9\u200bOLED\u200b\u8fdb\u884c\u200b\u590d\u4f4d\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u64cd\u4f5c\u200b\u653e\u5728\u200b\u5bf9\u5c4f\u200b\u521d\u59cb\u5316\u200b\u4e4b\u524d\u200b;\u200b\u5148\u200b\u5c06\u200bRES\u200b\u62c9\u4f4e\u200b\u5ef6\u8fdf\u200b 200ms \u200b\u5de6\u53f3\u200b;\u200b\u7136\u540e\u200b\u518d\u200b\u62c9\u9ad8\u200b\u4e00\u76f4\u200b\u5904\u4e8e\u200b\u9ad8\u7535\u5e73\u200b\u72b6\u6001\u200b</p> <p>4&gt;  \u200b\u901a\u8fc7\u200b\u4e00\u4e2a\u200bRC\u200b\u590d\u4f4d\u200b\u7535\u8def\u200b\u6765\u200b\u63a7\u5236\u200bRES</p> <p>4\u3001D0 \u200b\u4e3a\u200b IIC \u200b\u65f6\u949f\u200b\u7ebf\u200b\u6216\u8005\u200bSCK\u200b\u4e3a\u200b\u65f6\u949f\u200b\u7ebf\u200b\uff0c</p> <p>5\u3001D1 \u200b\u4e3a\u200b IIC \u200b\u6570\u636e\u7ebf\u200b\u6216\u8005\u200bSDA\u200b\u4e3a\u200b\u6570\u636e\u7ebf\u200b\uff1b</p> <p>6\u3001GND \u200b\u4e3a\u200b\u63a5\u5730\u7ebf\u200b\uff0c</p> <p>7\u3001VDD \u200b\u4e3a\u200b\u7535\u6e90\u7ebf\u200b\uff1b</p>"},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#2oled","title":"2.OLED\u200b\u4e0a\u200b\u7684\u200b\u9a71\u52a8\u200b\u90e8\u5206\u200b:","text":"<p>OLED\u200b\u5c4f\u5e55\u200b\u6709\u200b\u4e09\u79cd\u200b\u5237\u65b0\u200b\u65b9\u5f0f\u200b\u5206\u522b\u200b\u4e3a\u9875\u200b\u5730\u5740\u200b\u6a21\u5f0f\u200b, \u200b\u6c34\u5e73\u200b\u5730\u5740\u200b\u6a21\u5f0f\u200b\u548c\u200b\u5782\u76f4\u200b\u5730\u5740\u200b\u6a21\u5f0f\u200b,\u3002 \u200b\u6c34\u5e73\u200b\u5730\u5740\u200b\u6a21\u5f0f\u200b\u548c\u200b\u5782\u76f4\u200b\u5730\u5740\u200b\u6a21\u5f0f\u200b\u53ef\u4ee5\u200b\u5728\u200b\u4e00\u9875\u200b(\u200b\u4e00\u5217\u200b)\u200b\u5199\u200b\u5b8c\u540e\u200b\u81ea\u52a8\u200b\u6362\u9875\u200b(\u200b\u5217\u200b) \u200b\u6240\u4ee5\u200b\u5728\u200b\u6c34\u5e73\u200b\u5730\u5740\u200b\u5bfb\u5740\u200b\u6216\u8005\u200b\u5782\u76f4\u200b\u5730\u5740\u200b\u5bfb\u5740\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\uff0c\u200b\u53ea\u8981\u200b\u6e90\u6e90\u4e0d\u65ad\u200b\u7684\u200b\u53d1\u9001\u6570\u636e\u200b\u5373\u53ef\u200b</p> <p>\u200b\u9875\u200b\u5730\u5740\u200b\u6a21\u5f0f\u200b</p> <p></p> <p>\u200b\u6c34\u5e73\u200b\u5730\u5740\u200b\u6a21\u5f0f\u200b</p> <p></p> <p>\u200b\u5782\u76f4\u200b\u5730\u5740\u200b\u6a21\u5f0f\u200b</p> <p></p>"},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#3-oled","title":"3. OLED\u200b\u5173\u952e\u200b\u547d\u4ee4\u200b\u4ecb\u7ecd","text":"<p>0xAE/0xAF: \u200b\u5bf9\u5e94\u200b\u7740\u200b\u5f00\u542f\u200bOLED\u200b\u663e\u793a\u200b\u548c\u200b\u5173\u95ed\u200bOLED\u200b\u663e\u793a\u200b 0x20-0x22: \u200b\u5bf9\u5e94\u200b\u7740\u200b\u4e0a\u9762\u200b\u7684\u200b\u4e09\u79cd\u200bOLED\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b0x22\uff0c\u200b\u6a21\u5f0f\u200b\u4e00\u200b 0x00-0x0F: \u200b\u8bbe\u7f6e\u200b\u5217\u200b\u5730\u5740\u200b\u7684\u200b\u4f4e\u200b\u56db\u4f4d\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b0x00\uff0c 0x10-0x1F: \u200b\u8bbe\u7f6e\u200b\u5217\u200b\u5730\u5740\u200b\u7684\u200b\u9ad8\u200b\u56db\u4f4d\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b0x10\uff0c 0xB0-0xB7: \u200b\u8bbe\u7f6e\u200bpage\uff0c\u200b\u7b2c\u56db\u4f4d\u200b\u8868\u793a\u200bpage\u3002</p> <p>IIC\u200b\u6570\u636e\u683c\u5f0f\u200b \uff1aOLED\u200b\u5730\u5740\u200b + \u200b\u547d\u4ee4\u200b / \u200b\u6570\u636e\u200b + \u200b\u503c\u200b\u3002</p> <p>OLED\u200b\u5730\u5740\u200b\uff0c\u200b\u5c31\u662f\u200bIIC\u200b\u534f\u8bae\u200b\u4e2d\u200b\u7684\u200b\u4ece\u673a\u200b\u5730\u5740\u200b\uff0c\u200b\u6211\u200b\u8fd9\u91cc\u200b\u662f\u200b0x78\u3002</p> <p>\u200b\u547d\u4ee4\u200b/\u200b\u6570\u636e\u200b\u4e2d\u200b\uff0c0x00\u200b\u8868\u793a\u200b\u63a5\u4e0b\u6765\u200b\u7684\u200b\u503c\u200b\u4ee3\u8868\u200b\u547d\u4ee4\u200b\uff0c0x40\u200b\u8868\u793a\u200b\u63a5\u4e0b\u200b\u7684\u200b\u503c\u200b\u8868\u793a\u200b\u6570\u636e\u200b\uff0c\u200b\u5b58\u5165\u200bGRMA\u3002</p> <p>\u200b\u503c\u200b\uff0c\u200b\u5177\u4f53\u200b\u7684\u200b\u547d\u4ee4\u200b\u6216\u8005\u200b\u6570\u636e\u200b</p> <pre><code>always@(*)\nbegin\n    case(Init_index)\n        'd0:        Init_data_reg &lt;= {8'h78,8'h00,8'hAE};  //OLED\u200b\u5730\u5740\u200b + \u200b\u547d\u4ee4\u200b  +  \u200b\u503c\u200b\u3002**\n        'd1:        Init_data_reg &lt;= {8'h78,8'h00,8'h00};\n        'd2:        Init_data_reg &lt;= {8'h78,8'h00,8'h10};\n        'd3:        Init_data_reg &lt;= {8'h78,8'h00,8'h40};\n        'd4:        Init_data_reg &lt;= {8'h78,8'h00,8'hB0};\n        'd5:        Init_data_reg &lt;= {8'h78,8'h00,8'h81};\n        'd6:        Init_data_reg &lt;= {8'h78,8'h00,8'hFF};\n        'd7:        Init_data_reg &lt;= {8'h78,8'h00,8'hA1};\n        'd8:        Init_data_reg &lt;= {8'h78,8'h00,8'hA6};\n        'd9:        Init_data_reg &lt;= {8'h78,8'h00,8'hA8};\n        'd10:       Init_data_reg &lt;= {8'h78,8'h00,8'h3F};\n        'd11:       Init_data_reg &lt;= {8'h78,8'h00,8'hC8};\n        'd12:       Init_data_reg &lt;= {8'h78,8'h00,8'hD3};\n        'd13:       Init_data_reg &lt;= {8'h78,8'h00,8'h00};\n        'd14:       Init_data_reg &lt;= {8'h78,8'h00,8'hD5};\n        'd15:       Init_data_reg &lt;= {8'h78,8'h00,8'h80};\n        'd16:       Init_data_reg &lt;= {8'h78,8'h00,8'hD8};\n        'd17:       Init_data_reg &lt;= {8'h78,8'h00,8'h05};\n        'd18:       Init_data_reg &lt;= {8'h78,8'h00,8'hD9};\n        'd19:       Init_data_reg &lt;= {8'h78,8'h00,8'hF1};\n        'd20:       Init_data_reg &lt;= {8'h78,8'h00,8'hDA};\n        'd21:       Init_data_reg &lt;= {8'h78,8'h00,8'h12};\n        'd22:       Init_data_reg &lt;= {8'h78,8'h00,8'hDB};\n        'd23:       Init_data_reg &lt;= {8'h78,8'h00,8'h30};\n        'd24:       Init_data_reg &lt;= {8'h78,8'h00,8'h8D};\n        'd25:       Init_data_reg &lt;= {8'h78,8'h00,8'h14};\n        'd26:       Init_data_reg &lt;= {8'h78,8'h00,8'hAF};\n        default:\n            Init_data_reg &lt;= {8'h78,8'h00,8'hAE};\n        endcase\nend\n\n</code></pre>"},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#3-iic4pin-oleddht11","title":"3. IIC\u200b\u9a71\u52a8\u200b4Pin OLED\u200b\u663e\u793a\u5668\u200b\u663e\u793a\u200bDHT11\u200b\u6e29\u6e7f\u5ea6\u200b\u6570\u636e","text":""},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#31","title":"3.1 \u200b\u5b57\u6a21\u200b\u8bbe\u8ba1","text":""},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#32","title":"3.2 \u200b\u7a0b\u5e8f\u8bbe\u8ba1","text":"<p>```verilog main.v</p> <p>module main(</p> <pre><code>input           sys_clk,\ninput           rst_n,\n\ninout           dht11,\n\noutput      OLED_SCL,\ninout           OLED_SDA\n</code></pre> <p>);</p> <p>wire dht11_done; reg  dht11_req; wire[7:0]  tempH; wire[7:0]  tempL;  wire[7:0]  humidityH; wire[7:0]  humidityL;</p> <p>localparam S_DELAY  =   'd55_000_000; reg[35:0]   delay;</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         delay &lt;= 'd0;     else if(dht11_done == 1'b1)         delay &lt;= 'd0;     else if(delay == S_DELAY)         delay &lt;= delay;     else          delay &lt;= delay + 1'b1; end</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)          dht11_req &lt;= 1'b0;     else if(delay == S_DELAY)         dht11_req &lt;= 1'b1;     else         dht11_req &lt;= 1'b0;</p> <p>end</p> <p>DHT11 DHT11HP(</p> <pre><code>.sys_clk            (sys_clk),\n.rst_n          (rst_n),\n\n.dht11_req      (dht11_req),   //dht11\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\u8bf7\u6c42\u200b\n.dht11_done     (dht11_done),    //dht11\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\u7ed3\u675f\u200b\n.dht11_error    (), //dht11\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\u6b63\u786e\u200b\u4e0e\u5426\u200b\u5224\u65ad\u200b   1\u200b\u4e3a\u200b\u9519\u8bef\u200b\n\n.tempH          (tempH),            //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u6574\u6570\u200b\n.tempL          (tempL),            //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u5c0f\u6570\u200b\n.humidityH      (humidityH),        //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u6574\u6570\u200b\n.humidityL      (humidityL),        //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u5c0f\u6570\u200b\n\n\n.dht11          (dht11)\n</code></pre> <p>);</p> <p>OLED_Top OLED_TopHP(</p> <pre><code>.sys_clk        (sys_clk),\n.rst_n      (rst_n),\n\n.dht11_done     (dht11_done),\n.tempH          (tempH),            //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u6574\u6570\u200b\n.tempL          (tempL),            //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u5c0f\u6570\u200b\n.humidityH      (humidityH),        //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u6574\u6570\u200b\n.humidityL      (humidityL),        //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u5c0f\u6570\u200b\n\n//OLED IIC\n.OLED_SCL   (OLED_SCL),\n.OLED_SDA   (OLED_SDA)\n</code></pre> <p>);</p> <p>endmodule </p> <pre><code>\n\n\n```verilog iic.v\n`timescale 1ns/1ps\n\n\nmodule  IIC_Driver(\n    input       sys_clk,           /*\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b*/\n    input       rst_n,             /*\u200b\u7cfb\u7edf\u200b\u590d\u4f4d\u200b*/\n\n    output      IICSCL,            /*IIC \u200b\u65f6\u949f\u200b\u8f93\u51fa\u200b*/\n    inout       IICSDA,             /*IIC \u200b\u6570\u636e\u7ebf\u200b*/\n\n\n    input[15:0] IICSlave,           /*\u200b\u4ece\u673a\u200b 8bit\u200b\u7684\u200b\u5bc4\u5b58\u5668\u200b\u5730\u5740\u200b + 8bit\u200b\u7684\u200b\u4ece\u673a\u200b\u5730\u5740\u200b*/\n\n    input       IICWriteReq,       /*IIC\u200b\u5199\u200b\u5bc4\u5b58\u5668\u200b\u8bf7\u6c42\u200b*/\n    output      IICWriteDone,      /*IIC\u200b\u5199\u200b\u5bc4\u5b58\u5668\u200b\u5b8c\u6210\u200b*/\n    input[7:0]  IICWriteData,       /*IIC\u200b\u53d1\u9001\u6570\u636e\u200b  8bit\u200b\u7684\u200b\u6570\u636e\u200b*/\n\n    input       IICReadReq,        /*IIC\u200b\u8bfb\u200b\u5bc4\u5b58\u5668\u200b\u8bf7\u6c42\u200b*/\n    output      IICReadDone,       /*IIC\u200b\u8bfb\u200b\u5bc4\u5b58\u5668\u200b\u5b8c\u6210\u200b*/\n    output[7:0] IICReadData        /*IIC\u200b\u8bfb\u53d6\u6570\u636e\u200b*/\n);\n\n\n/*IIC \u200b\u72b6\u6001\u200b*/\nlocalparam IIC_IDLE       =   6'b000_001;  /*\u200b\u7a7a\u95f2\u200b\u6001\u200b*/\nlocalparam IIC_START      =   6'b000_010;  /*\u200b\u8d77\u59cb\u200b\u6001\u200b*/\nlocalparam IIC_WRDATA     =   6'b000_100;  /*\u200b\u5199\u200b\u6570\u636e\u200b\u6001\u200b*/\nlocalparam IIC_RDDATA     =   6'b001_000;  /*\u200b\u8bfb\u6570\u636e\u200b\u6001\u200b*/\nlocalparam IIC_ACK        =   6'b010_000;  /*\u200b\u5e94\u7b54\u200b\u6001\u200b*/\nlocalparam IIC_STOP       =   6'b100_000;  /*\u200b\u505c\u6b62\u200b\u6001\u200b*/\n\n\n\nlocalparam  IIC_Pre       =   'd100;     /*iiC\u200b\u5206\u9891\u200b*/\n\nreg[5:0]   state , next_state;\nreg[21:0]  IICCnt;              /*IIC\u200b\u8ba1\u6570\u5668\u200b*/\nreg[3:0]   IICBitCnt;           /*IIC\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u4e2a\u6570\u200b\u8ba1\u6570\u200b*/\nreg[1:0]   IICACKStopCnt;       /*IIC ack stop\u200b\u5e94\u7b54\u200b\u8ba1\u6570\u200b*/\nreg[2:0]   IICSendBytes;        /*IIC \u200b\u53d1\u9001\u200b\u5b57\u8282\u200b\u8ba1\u6570\u200b*/ \n\n\nreg[15:0]   IICSlaveReg;           /*\u200b\u4ece\u673a\u200b\u5730\u5740\u200b+\u200b\u5bc4\u5b58\u5668\u200b\u6570\u636e\u200b*/\nreg[7:0]   IICReadDataReg;         /*\u200b\u8bfb\u53d6\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u200b*/\n\n\nreg     IICWriteReqReg;\n\nreg   iictx;     /*iic\u200b\u53d1\u9001\u6570\u636e\u200b\u5f15\u811a\u200b*/\nreg   iicCLK;    /*iic\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u5f15\u811a\u200b*/\n\nassign IICSDA = (state == IIC_RDDATA || (state == IIC_ACK)) ? 1'bz : iictx;  /*iic\u200b\u4e3a\u200b\u8bfb\u6570\u636e\u200b\u6216\u8005\u200b\u5e94\u7b54\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u8f93\u51fa\u200b\u4e3a\u200b\u9ad8\u200b\u963b\u6001\u200b*/\nassign IICSCL =  iicCLK;\n\nassign IICReadData = IICReadDataReg;\n\nassign IICReadDone  = (state != next_state &amp;&amp; state == IIC_STOP) ? 1'b1 : 1'b0;\nassign IICWriteDone = (state != next_state &amp;&amp; state == IIC_STOP) ? 1'b1 : 1'b0;\n\n\n\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n        IICWriteReqReg &lt;= 1'b0;\n    else if(IICWriteDone == 1'b1)\n        IICWriteReqReg &lt;= 1'b0;\n    else if(IICWriteReq == 1'b1)\n       IICWriteReqReg &lt;= 1'b1;\n    else\n        IICWriteReqReg &lt;= IICWriteReqReg;\n\nend\n\nalways @(posedge sys_clk or negedge rst_n) \nbegin\n    if(rst_n == 1'b0)\n        state &lt;= IIC_IDLE;\n    else\n        state &lt;= next_state;   \nend\n\n/*\u200b\u72b6\u6001\u673a\u200b*/\nalways @(*)\nbegin\n    case(state)\n    IIC_IDLE: \n        if(IICWriteReq == 1'b1 || IICReadReq == 1'b1)\n            next_state &lt;= IIC_START;\n        else\n            next_state &lt;= IIC_IDLE;\n    IIC_START:\n        if(IICCnt == (IIC_Pre * 'd2))\n            next_state &lt;= IIC_WRDATA;\n        else\n            next_state &lt;= IIC_START;\n    IIC_WRDATA:\n        if(IICBitCnt == 'd8 /*&amp;&amp; IICCnt == IIC_Pre /4 */&amp;&amp; iicCLK == 1'b0)\n            next_state &lt;= IIC_ACK;\n        else\n            next_state &lt;= IIC_WRDATA;\n    IIC_RDDATA:\n        if(IICBitCnt == 'd8 &amp;&amp; IICCnt == IIC_Pre /4 &amp;&amp; iicCLK == 1'b0)\n            next_state &lt;= IIC_ACK;\n        else\n            next_state &lt;= IIC_RDDATA;\n    IIC_ACK:\n        if(IICACKStopCnt == 'd1 /*&amp;&amp; IICCnt == IIC_Pre /4 */&amp;&amp; iicCLK == 1'b0)\n            if(IICSendBytes == 'd2) \n                if(/*IICWriteReq*/IICWriteReqReg == 1'b1)             /*\u200b\u4e09\u4e2a\u200b\u5b57\u8282\u200b\u53d1\u9001\u200b\u5b8c\u6210\u200b\uff0c\u200b\u8fdb\u5165\u200b\u505c\u6b62\u200b\u6001\u200b*/\n                    next_state &lt;= IIC_STOP;\n                else \n                    next_state &lt;= IIC_RDDATA;\n            else if(IICSendBytes == 'd2 &amp;&amp; IICReadReq == 1'b1)\n                next_state &lt;= IIC_START;\n            else if(IICSendBytes == 'd4)\n                next_state &lt;= IIC_STOP;\n            else\n                next_state &lt;= IIC_WRDATA;\n        else\n            next_state &lt;= IIC_ACK;\n    IIC_STOP:\n        if(IICACKStopCnt == 'd1 &amp;&amp; IICCnt == IIC_Pre/4 &amp;&amp; iicCLK == 1'b1)\n            next_state &lt;= IIC_IDLE;\n        else\n            next_state &lt;= IIC_STOP;\n    default:  next_state &lt;= IIC_IDLE;\n    endcase\nend\n\n\n\n/*IIC \u200b\u53d1\u9001\u200b\u5b57\u8282\u200b\u8ba1\u6570\u200b*/\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n        IICSendBytes &lt;= 'd0;\n    else if(state == IIC_IDLE)\n        IICSendBytes &lt;= 'd0;\n    else if(state == IIC_ACK)\n        if(next_state != state)\n            IICSendBytes &lt;= IICSendBytes + 1'b1;\n        else\n            IICSendBytes &lt;= IICSendBytes;\n    else\n        IICSendBytes &lt;= IICSendBytes;\n\nend\n\n/*IIC\u200b\u5206\u9891\u200b\u8ba1\u6570\u200b*/\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n        IICCnt &lt;= 'd0;\n    else if(IICCnt == IIC_Pre &amp;&amp; state != IIC_START)\n        IICCnt &lt;= 'd0;\n    else if(IICCnt == (IIC_Pre *'d2) &amp;&amp; state != IIC_START)\n        IICCnt &lt;= 'd0;\n    else if(state != next_state)\n        IICCnt &lt;= 'd0;\n    else if(state == IIC_START)\n        IICCnt &lt;= IICCnt + 1'b1;\n    else if(state == IIC_WRDATA )\n        IICCnt &lt;= IICCnt + 1'b1;\n    else if(state == IIC_RDDATA)\n        IICCnt &lt;= IICCnt + 1'b1;\n    else if(state == IIC_ACK)\n        IICCnt &lt;= IICCnt + 1'b1;\n    else if(state == IIC_STOP)\n        IICCnt &lt;= IICCnt + 1'b1;\nend\n\n/*IIC\u200b\u53d1\u9001\u200bbit\u200b\u8ba1\u6570\u200b*/\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n        IICBitCnt &lt;= 'd0;\n    else if(state == IIC_IDLE || state == IIC_ACK)\n        IICBitCnt &lt;= 'd0;\n    else if(state == IIC_WRDATA &amp;&amp; IICCnt == (IIC_Pre /2))\n        if(iicCLK == 1'b1)\n            IICBitCnt &lt;= IICBitCnt + 1'b1;\n        else\n            IICBitCnt &lt;= IICBitCnt;\n    else if(state == IIC_RDDATA &amp;&amp; IICCnt == (IIC_Pre /2))\n        if(iicCLK == 1'b1)\n            IICBitCnt &lt;= IICBitCnt + 1'b1;\n        else\n            IICBitCnt &lt;= IICBitCnt;\n    else\n        IICBitCnt &lt;= IICBitCnt;\nend\n\n\n/*IIC ack stop\u200b\u5e94\u7b54\u200b\u8ba1\u6570\u200b*/\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n        IICACKStopCnt &lt;= 'd0;\n    else if(state != next_state)\n        IICACKStopCnt &lt;= 'd0;\n    else if((state == IIC_ACK || state == IIC_STOP) &amp;&amp; IICCnt == (IIC_Pre /2))\n        if(iicCLK == 1'b1)\n            IICACKStopCnt &lt;= IICACKStopCnt + 1'b1;\n        else\n            IICACKStopCnt &lt;= IICACKStopCnt;\n    else if(state == IIC_ACK || state == IIC_STOP)\n        IICACKStopCnt &lt;= IICACKStopCnt;\n    else\n        IICACKStopCnt &lt;= 'd0;\nend\n\n/*IIC\u200b\u4ece\u200b\u673a\u4fe1\u606f\u200b\u63a7\u5236\u200b*/\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n        IICSlaveReg &lt;= 'd0;\n    else if((IICWriteReq == 1'b1 || IICReadReq == 1'b1) &amp;&amp; state == IIC_IDLE)  /*\u200b\u8bf7\u6c42\u200b\u6765\u65f6\u200b\uff0c\u200b\u4fdd\u5b58\u4fe1\u606f\u200b*/\n        IICSlaveReg &lt;= IICSlave;\n    else if(state == IIC_ACK &amp;&amp; state != next_state)   /*\u200b\u6bcf\u200b\u53d1\u9001\u200b\u5b8c\u6210\u200b\u4e00\u200b\u5b57\u8282\u200b\uff0c\u200b\u5c31\u200b\u8c03\u6362\u200b\u6570\u636e\u200b\uff0c\u200b\u59cb\u7ec8\u200b\u53d1\u9001\u200b\u7684\u200b\u662f\u200b\u4f4e\u200b8\u200b\u4f4d\u200b*/\n        if(IICSendBytes == 'd2)\n            IICSlaveReg &lt;= {IICSlaveReg[7:0],IICSlaveReg[15:8]} + 1'b1;\n        else\n            IICSlaveReg &lt;= {IICSlaveReg[7:0],IICSlaveReg[15:8]};\n    else\n        IICSlaveReg &lt;= IICSlaveReg;\nend\n\n\n/*IIC \u200b\u65f6\u949f\u200b\u63a7\u5236\u200b*/\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n        iicCLK &lt;= 1'b1;\n    else if(state == IIC_START &amp;&amp; IICCnt == (IIC_Pre*2))      /*\u200b\u5f00\u59cb\u200b\u7ed3\u675f\u200b\u65f6\u200b\uff0c\u200b\u62c9\u200b\u4f4e\u65f6\u949f\u200b\u7ebf\u200b*/\n        iicCLK &lt;= 1'b0;\n    else if(state == IIC_START &amp;&amp; IICCnt &gt; IIC_Pre)\n        iicCLK &lt;= 1'b1;\n    else if(state == IIC_START &amp;&amp; IICCnt == IIC_Pre)\n        iicCLK &lt;= iicCLK;\n    else if(state == IIC_WRDATA &amp;&amp; IICCnt == IIC_Pre)     /*\u200b\u53d1\u9001\u6570\u636e\u200b\uff0c\u200b\u4f9d\u6b21\u200b\u53d6\u53cd\u200b\u65f6\u949f\u200b\u7ebf\u200b*/\n        iicCLK &lt;= ~iicCLK;\n    else if(state == IIC_RDDATA &amp;&amp; IICCnt == IIC_Pre)     /*\u200b\u63a5\u6536\u6570\u636e\u200b\uff0c\u200b\u4f9d\u6b21\u200b\u53d6\u53cd\u200b\u65f6\u949f\u200b\u7ebf\u200b*/\n        iicCLK &lt;= ~iicCLK;\n    else if(state == IIC_ACK &amp;&amp; IICCnt == IIC_Pre)\n        iicCLK &lt;= ~iicCLK;\n    else if(state == IIC_STOP &amp;&amp; IICCnt == IIC_Pre)  /*\u200b\u5728\u200b\u505c\u6b62\u200b\u6001\u65f6\u200b\uff0cIICCnt\u200b\u65f6\u200b\uff0c\u200b\u76f4\u63a5\u200b\u62c9\u9ad8\u200biicCLK*/\n        iicCLK &lt;= 1'b1;\nend\n\n\n/*iic \u200b\u53d1\u9001\u200b\u63a7\u5236\u200b*/\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)   \n        iictx &lt;= 1'b1;\n    else if(state == IIC_START &amp;&amp; IICCnt == (IIC_Pre/2))      /*\u200b\u5f00\u59cb\u200b\uff0ciic\u200b\u6570\u636e\u7ebf\u200b\u62c9\u4f4e\u200b*/\n        iictx &lt;= 1'b0;\n    else if(state == IIC_START &amp;&amp; IICCnt == IIC_Pre/4)      /*\u200b\u5f00\u59cb\u200b\uff0ciic\u200b\u6570\u636e\u7ebf\u200b\u62c9\u4f4e\u200b*/\n        iictx &lt;= 1'b1;\n    else if(state == IIC_WRDATA &amp;&amp; IICCnt == IIC_Pre / 2)     /*iic\u200b\u53d1\u9001\u6570\u636e\u200b*/\n        if(iicCLK == 1'b0 &amp;&amp; IICSendBytes == 'd2 &amp;&amp; (IICWriteReq == 1'b1 || IICWriteReqReg == 1'b1))\n            iictx &lt;= IICWriteData['d7-IICBitCnt];\n        else if(iicCLK == 1'b0)\n            iictx &lt;= IICSlaveReg['d7-IICBitCnt];\n        else\n            iictx &lt;= iictx;\n    else if(state == IIC_ACK)\n        iictx &lt;= 1'b0;\n\n    else if(state == IIC_STOP &amp;&amp; IICCnt == (IIC_Pre))\n        if(iicCLK == 1'b1)\n            iictx &lt;= 1'b1;\n        else\n            iictx &lt;= iictx;\n    else if(state == IIC_IDLE)\n        iictx &lt;= 1'b1;\nend\n\n\n/*iic \u200b\u8bfb\u53d6\u6570\u636e\u200b\u63a7\u5236\u200b*/\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n        IICReadDataReg &lt;= 'd0;\n    else if(state == IIC_RDDATA &amp;&amp; IICCnt == IIC_Pre / 2)\n        if(iicCLK == 1'b1)\n            IICReadDataReg &lt;= {IICReadDataReg[6:0],IICSDA};\n        else\n            IICReadDataReg &lt;= IICReadDataReg;\n    else\n        IICReadDataReg &lt;= IICReadDataReg;\nend\n\n\nendmodule\n\n\n</code></pre> <p>```verilog dht11.v</p> <p>/dht11\u200b\u6e29\u6e7f\u5ea6\u200b\u6570\u636e\u200b\u83b7\u53d6\u200b\u6a21\u5757\u200b/ module DHT11(</p> <pre><code>input               sys_clk,\ninput               rst_n,\n\ninput               dht11_req,   //dht11\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\u8bf7\u6c42\u200b\noutput          dht11_done,  //dht11\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\u7ed3\u675f\u200b\noutput          dht11_error, //dht11\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\u6b63\u786e\u200b\u4e0e\u5426\u200b\u5224\u65ad\u200b   1\u200b\u4e3a\u200b\u9519\u8bef\u200b\n\noutput[7:0]     tempH,          //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u6574\u6570\u200b\noutput[7:0]     tempL,          //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u5c0f\u6570\u200b\noutput[7:0]     humidityH,      //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u6574\u6570\u200b\noutput[7:0]     humidityL,      //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u5c0f\u6570\u200b\n\n\ninout               dht11\n</code></pre> <p>);</p> <p>//\u200b\u65f6\u949f\u200b\u4e3a\u200b50MHZ\uff0c20ns localparam  TIME18ms = 'd1000_099;    //\u200b\u5f00\u59cb\u200b\u6001\u200b\u7684\u200b\u62c9\u200b\u4f4e\u200b18ms,900_000\u200b\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u9002\u5f53\u200b\u7684\u200b\u5ef6\u957f\u200b\u4e86\u200b\u62c9\u200b\u4f4e\u200b\u65f6\u95f4\u200b\u3002 localparam  TIME35us = 'd1_750;  //\u200b\u6570\u636e\u4f20\u8f93\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u6570\u636e\u200b0\u200b\u62c9\u9ad8\u200b\u7684\u200b\u51fa\u73b0\u200b</p> <p>localparam S_IDLE            =      'd0;  //\u200b\u7a7a\u95f2\u200b\u6001\u200b localparam S_START_FPGA  =      'd1;  //FPGA\u200b\u8bf7\u6c42\u200b\u91c7\u96c6\u200b\u6570\u636e\u200b\u5f00\u59cb\u200b localparam S_START_DHT11 =    'd2;  //DHT11\u200b\u5f00\u59cb\u200b\u8bf7\u6c42\u200b\u5e94\u7b54\u200b localparam S_DATA            =      'd3;    //\u200b\u6570\u636e\u4f20\u8f93\u200b localparam S_STOP            =      'd4;  //\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b localparam S_DOEN            =      'd5;  //\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\u5b8c\u6210\u200b</p> <p>reg[2:0]        state , next_state;</p> <p>reg[22:0]   DHT11_Cnt;      //\u200b\u8ba1\u65f6\u5668\u200b reg[5:0]        DHT11Bit_Cnt;  // \u200b\u63a5\u6536\u200bdht11\u200b\u4f20\u8f93\u200bbit\u200b\u6570\u200b\u8ba1\u6570\u200b</p> <p>reg[39:0]   dht11_data;</p> <p>reg             dht11_d0 , dht11_d1; wire            dht11_negedge;  </p> <p>//\u200b\u68c0\u6d4b\u200bdht11\u200b\u7684\u200b\u4e0a\u4e0b\u200b\u8fb9\u6cbf\u200b  assign dht11_negedge = (~dht11_d0) &amp; dht11_d1;</p> <p>assign dht11 = (state == S_START_FPGA &amp;&amp; (DHT11_Cnt &lt;= TIME18ms)) ? 1'b0 : 1'bz; assign dht11_done = (state == S_DOEN) ? 1'b1 : 1'b0;</p> <p>assign tempH        = dht11_data[23:16]; assign tempL        = dht11_data[15:8];</p> <p>assign humidityH    = dht11_data[39:32]; assign humidityL    = dht11_data[31:24];</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)     begin         dht11_d0 &lt;= 1'b1;         dht11_d1 &lt;= 1'b1;     end     else      begin         dht11_d0 &lt;= dht11;         dht11_d1 &lt;= dht11_d0;     end end</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         state &lt;= S_IDLE;     else         state &lt;= next_state; end</p> <p>always@(*) begin     case(state)     S_IDLE:         if(dht11_req == 1'b1)   //\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\u8bf7\u6c42\u200b\u8fc7\u6765\u200b\u8fdb\u5165\u200b\u5f00\u59cb\u200b\u6001\u200b             next_state &lt;= S_START_FPGA;         else             next_state &lt;= S_IDLE;     S_START_FPGA:                               if((DHT11_Cnt &gt;= TIME18ms) &amp;&amp; dht11_negedge == 1'b1)   //FPGA\u200b\u8bf7\u6c42\u200b\u7ed3\u675f\u200b\u7ed3\u675f\u200b             next_state &lt;= S_START_DHT11;         else             next_state &lt;= S_START_FPGA;     S_START_DHT11:         if((DHT11_Cnt &gt; TIME35us) &amp;&amp; dht11_negedge == 1'b1)  //\u200b\u5ef6\u65f6\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\u540e\u200b\uff0c\u200b\u901a\u8fc7\u200b\u5224\u65ad\u200bdht11\u200b\u603b\u7ebf\u200b\u7684\u200b\u4e0b\u964d\u200b\u6cbf\u200b\uff0c\u200b\u662f\u5426\u200b\u7ed3\u675f\u200b\u54cd\u5e94\u200b             next_state &lt;= S_DATA;         else             next_state &lt;= S_START_DHT11;     S_DATA:         if(DHT11Bit_Cnt == 'd39 &amp;&amp; dht11_negedge == 1'b1)  //\u200b\u63a5\u6536\u200b\u5230\u200b40bit\u200b\u6570\u636e\u200b\u540e\u200b\uff0c\u200b\u8fdb\u5165\u200b\u505c\u6b62\u200b\u6001\u200b             next_state &lt;= S_STOP;         else             next_state &lt;= S_DATA;     S_STOP:         if(DHT11_Cnt == TIME35us + TIME35us)  //\u200b\u6570\u636e\u4f20\u8f93\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0c\u200b\u7b49\u5f85\u200b\u603b\u7ebf\u200b\u62c9\u4f4e\u200b50us,\u200b\u8fd9\u91cc\u200b\u662f\u200b70us             next_state &lt;= S_DOEN;         else             next_state &lt;= S_STOP;     S_DOEN:         next_state &lt;= S_IDLE;</p> <pre><code>default: next_state &lt;= S_IDLE;\nendcase\n</code></pre> <p>end</p> <p>/\u200b\u8ba1\u6570\u200b\u6a21\u5757\u200b/ always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         DHT11_Cnt &lt;= 'd0;     else if(state != next_state)      //\u200b\u72b6\u6001\u200b\u53d8\u6362\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u8ba1\u65f6\u5668\u200b\u7f6e\u200b0         DHT11_Cnt &lt;= 'd0;      else if(state == S_START_FPGA)          DHT11_Cnt &lt;= DHT11_Cnt + 1'b1;     else if(state == S_START_DHT11)         DHT11_Cnt &lt;= DHT11_Cnt + 1'b1;     else if(state == S_DATA &amp;&amp; dht11_negedge == 1'b0)   //\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u53ea\u200b\u9700\u8981\u200b\u5728\u200b\u9ad8\u7535\u5e73\u200b\u7684\u200b\u65f6\u5019\u200b\u8ba1\u6570\u200b         DHT11_Cnt &lt;= DHT11_Cnt + 1'b1;     else if(state == S_STOP)         DHT11_Cnt &lt;= DHT11_Cnt + 1'b1;     else         DHT11_Cnt &lt;= 'd0;      end</p> <p>/\u200b\u63a5\u6536\u6570\u636e\u200b\u5b58\u50a8\u200b/ always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         dht11_data &lt;= 'd0;     else if(state == S_DATA)         if((DHT11_Cnt &lt;= (TIME35us + 'd2500)) &amp;&amp; dht11_negedge == 1'b1) //'d3000\u200b\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\u65f6\u95f4\u200b\uff0c\u200b\u9ad8\u7535\u5e73\u200b\u6301\u7eed\u65f6\u95f4\u200b\u4f4e\u4e8e\u200b35us\u200b\u8ba4\u4e3a\u200b\u662f\u200b\u6570\u636e\u200b0             dht11_data &lt;= {dht11_data[38:0],1'b0};         else if(dht11_negedge == 1'b1)             dht11_data &lt;= {dht11_data[38:0],1'b1};         else             dht11_data &lt;= dht11_data;     else         dht11_data &lt;= dht11_data; end</p> <p>/\u200b\u63a5\u6536\u200bbit\u200b\u8ba1\u6570\u200b/ always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         DHT11Bit_Cnt &lt;= 'd0;     else if(state == S_DATA &amp;&amp; dht11_negedge == 1'b1)         DHT11Bit_Cnt &lt;= DHT11Bit_Cnt + 1'b1;     else if(state == S_DOEN)   //\u200b\u7ed3\u675f\u200b\u540e\u200b\uff0cbit\u200b\u8ba1\u6570\u200b\u6e05\u96f6\u200b         DHT11Bit_Cnt &lt;= 'd0;     else         DHT11Bit_Cnt &lt;= DHT11Bit_Cnt; end</p> <p>endmodule </p> <pre><code>\n\u200b\u4e0b\u9762\u200b\u662f\u200boled\u200b\u7684\u200b\u7a0b\u5e8f\u200b\n\n\n\n```verilog OLED_FontData.v\n\n\n\n\n//\u200b\u4e2d\u6587\u200b16*16 \u200b\u6570\u5b57\u200b\u548c\u200b\u5b57\u6bcd\u200b8*16\nmodule OLED_FontData(\n\n    input           sys_clk,\n    input           rst_n,\n\n    input           font_row,\n    input[5:0]  font_sel,\n    input[8:0]  index,\n\n    output reg[7:0]  data\n);\n\n\nreg[7:0] data0[15:0];   //F\nreg[7:0] data1[15:0];   //G\nreg[7:0] data2[15:0];   //P\nreg[7:0] data3[15:0];   //A\nreg[7:0] data4[31:0];   //\u200b\u4e4b\u200b\nreg[7:0] data5[31:0];   //\u200b\u65c5\u200b\n\nreg[7:0] data6[31:0];   //\u200b\u6e29\u200b\nreg[7:0] data7[31:0];   //\u200b\u5ea6\u200b\nreg[7:0] data8[31:0];   //\u200b\u6e7f\u200b\nreg[7:0] data9[31:0];   //\u200b\u5ea6\u200b\nreg[7:0] data10[15:0];   //.\nreg[7:0] data11[31:0];   //\u2103\nreg[7:0] data12[15:0];   //R\nreg[7:0] data13[15:0];   //H\n\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 'd0)\n        data &lt;= 'd0;\n    else if(font_sel == 'd0)\n        data &lt;= data0[index + 'd8 * font_row];\n    else if(font_sel == 'd1)\n        data &lt;= data1[index + 'd8 * font_row];\n    else if(font_sel == 'd2)\n        data &lt;= data2[index + 'd8 * font_row];\n    else if(font_sel == 'd3)\n        data &lt;= data3[index + 'd8 * font_row];\n    else if(font_sel == 'd4)\n        data &lt;= data4[index + 'd16 * font_row];\n    else if(font_sel == 'd5)\n        data &lt;= data5[index + 'd16 * font_row];\n    else if(font_sel == 'd6)\n        data &lt;= data6[index + 'd16 * font_row];\n    else if(font_sel == 'd7)\n        data &lt;= data7[index + 'd16 * font_row];\n    else if(font_sel == 'd8)\n        data &lt;= data8[index + 'd16 * font_row];\n    else if(font_sel == 'd9)\n        data &lt;= data9[index + 'd16 * font_row];\n    else if(font_sel == 'd10)\n        data &lt;= data10[index + 'd8 * font_row];\n    else if(font_sel == 'd11)\n        data &lt;= data11[index + 'd16 * font_row];\n    else if(font_sel == 'd12)\n        data &lt;= data12[index + 'd8 * font_row];\n    else if(font_sel == 'd13)\n        data &lt;= data13[index + 'd8 * font_row];\n    else if(font_sel == 'd14)\n        data &lt;= data10[index + 'd8 * font_row];\n    else\n        data &lt;= data;\nend\n\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data0[0] = 8'h08;\n        data0[1] = 8'hF8;\n        data0[2] = 8'h88;\n        data0[3] = 8'h88;\n        data0[4] = 8'hE8;\n        data0[5] = 8'h08;\n        data0[6] = 8'h10;\n        data0[7] = 8'h00;\n        data0[8] = 8'h20;\n        data0[9] = 8'h3F;\n        data0[10] = 8'h20;\n        data0[11] = 8'h00;\n        data0[12] = 8'h03;\n        data0[13] = 8'h00;\n        data0[14] = 8'h00;\n        data0[15] = 8'h00;\n    end\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data1[0] = 8'h08;\n        data1[1] = 8'hF8;\n        data1[2] = 8'h08;\n        data1[3] = 8'h08;\n        data1[4] = 8'h08;\n        data1[5] = 8'h08;\n        data1[6] = 8'hF0;\n        data1[7] = 8'h00;\n        data1[8] = 8'h20;\n        data1[9] = 8'h3F;\n        data1[10] = 8'h21;\n        data1[11] = 8'h01;\n        data1[12] = 8'h01;\n        data1[13] = 8'h01;\n        data1[14] = 8'h00;\n        data1[15] = 8'h00;\n    end\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data2[0] = 8'hC0;\n        data2[1] = 8'h30;\n        data2[2] = 8'h08;\n        data2[3] = 8'h08;\n        data2[4] = 8'h08;\n        data2[5] = 8'h38;\n        data2[6] = 8'h00;\n        data2[7] = 8'h00;\n        data2[8] = 8'h07;\n        data2[9] = 8'h18;\n        data2[10] = 8'h20;\n        data2[11] = 8'h20;\n        data2[12] = 8'h22;\n        data2[13] = 8'h1E;\n        data2[14] = 8'h02;\n        data2[15] = 8'h00;\n    end\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data3[0] = 8'h00;\n        data3[1] = 8'h00;\n        data3[2] = 8'hC0;\n        data3[3] = 8'h38;\n        data3[4] = 8'hE0;\n        data3[5] = 8'h00;\n        data3[6] = 8'h00;\n        data3[7] = 8'h00;\n        data3[8] = 8'h20;\n        data3[9] = 8'h3C;\n        data3[10] = 8'h23;\n        data3[11] = 8'h02;\n        data3[12] = 8'h02;\n        data3[13] = 8'h27;\n        data3[14] = 8'h38;\n        data3[15] = 8'h20;\n    end\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data4[0] = 8'h10;\n        data4[1] = 8'h0C;\n        data4[2] = 8'h04;\n        data4[3] = 8'h84;\n        data4[4] = 8'h14;\n        data4[5] = 8'h64;\n        data4[6] = 8'h05;\n        data4[7] = 8'h06;\n        data4[8] = 8'hF4;\n        data4[9] = 8'h04;\n        data4[10] = 8'h04;\n        data4[11] = 8'h04;\n        data4[12] = 8'h04;\n        data4[13] = 8'h14;\n        data4[14] = 8'h0C;\n        data4[15] = 8'h00;\n        data4[16] = 8'h04;\n        data4[17] = 8'h84;\n        data4[18] = 8'h84;\n        data4[19] = 8'h44;\n        data4[20] = 8'h47;\n        data4[21] = 8'h24;\n        data4[22] = 8'h14;\n        data4[23] = 8'h0C;\n        data4[24] = 8'h07;\n        data4[25] = 8'h0C;\n        data4[26] = 8'h14;\n        data4[27] = 8'h24;\n        data4[28] = 8'h44;\n        data4[29] = 8'h84;\n        data4[30] = 8'h04;\n        data4[31] = 8'h00;\n    end\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data5[0] = 8'h02;\n        data5[1] = 8'hFA;\n        data5[2] = 8'h82;\n        data5[3] = 8'h82;\n        data5[4] = 8'hFE;\n        data5[5] = 8'h80;\n        data5[6] = 8'h40;\n        data5[7] = 8'h20;\n        data5[8] = 8'h50;\n        data5[9] = 8'h4C;\n        data5[10] = 8'h43;\n        data5[11] = 8'h4C;\n        data5[12] = 8'h50;\n        data5[13] = 8'h20;\n        data5[14] = 8'h40;\n        data5[15] = 8'h00;\n        data5[16] = 8'h08;\n        data5[17] = 8'h18;\n        data5[18] = 8'h48;\n        data5[19] = 8'h84;\n        data5[20] = 8'h44;\n        data5[21] = 8'h3F;\n        data5[22] = 8'h40;\n        data5[23] = 8'h44;\n        data5[24] = 8'h58;\n        data5[25] = 8'h41;\n        data5[26] = 8'h4E;\n        data5[27] = 8'h60;\n        data5[28] = 8'h58;\n        data5[29] = 8'h47;\n        data5[30] = 8'h40;\n        data5[31] = 8'h00;\n    end\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data6[0] = 8'h10;\n        data6[1] = 8'h60;\n        data6[2] = 8'h02;\n        data6[3] = 8'h8C;\n        data6[4] = 8'h00;\n        data6[5] = 8'h00;\n        data6[6] = 8'hFE;\n        data6[7] = 8'h92;\n        data6[8] = 8'h92;\n        data6[9] = 8'h92;\n        data6[10] = 8'h92;\n        data6[11] = 8'h92;\n        data6[12] = 8'hFE;\n        data6[13] = 8'h00;\n        data6[14] = 8'h00;\n        data6[15] = 8'h00;\n        data6[16] = 8'h04;\n        data6[17] = 8'h04;\n        data6[18] = 8'h7E;\n        data6[19] = 8'h01;\n        data6[20] = 8'h40;\n        data6[21] = 8'h7E;\n        data6[22] = 8'h42;\n        data6[23] = 8'h42;\n        data6[24] = 8'h7E;\n        data6[25] = 8'h42;\n        data6[26] = 8'h7E;\n        data6[27] = 8'h42;\n        data6[28] = 8'h42;\n        data6[29] = 8'h7E;\n        data6[30] = 8'h40;\n        data6[31] = 8'h00;\n    end\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data7[0] = 8'h00;\n        data7[1] = 8'h00;\n        data7[2] = 8'hFC;\n        data7[3] = 8'h24;\n        data7[4] = 8'h24;\n        data7[5] = 8'h24;\n        data7[6] = 8'hFC;\n        data7[7] = 8'h25;\n        data7[8] = 8'h26;\n        data7[9] = 8'h24;\n        data7[10] = 8'hFC;\n        data7[11] = 8'h24;\n        data7[12] = 8'h24;\n        data7[13] = 8'h24;\n        data7[14] = 8'h04;\n        data7[15] = 8'h00;\n        data7[16] = 8'h40;\n        data7[17] = 8'h30;\n        data7[18] = 8'h8F;\n        data7[19] = 8'h80;\n        data7[20] = 8'h84;\n        data7[21] = 8'h4C;\n        data7[22] = 8'h55;\n        data7[23] = 8'h25;\n        data7[24] = 8'h25;\n        data7[25] = 8'h25;\n        data7[26] = 8'h55;\n        data7[27] = 8'h4C;\n        data7[28] = 8'h80;\n        data7[29] = 8'h80;\n        data7[30] = 8'h80;\n        data7[31] = 8'h00;\n    end\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data8[0] = 8'h10;\n        data8[1] = 8'h60;\n        data8[2] = 8'h02;\n        data8[3] = 8'h8C;\n        data8[4] = 8'h00;\n        data8[5] = 8'hFE;\n        data8[6] = 8'h92;\n        data8[7] = 8'h92;\n        data8[8] = 8'h92;\n        data8[9] = 8'h92;\n        data8[10] = 8'h92;\n        data8[11] = 8'h92;\n        data8[12] = 8'hFE;\n        data8[13] = 8'h00;\n        data8[14] = 8'h00;\n        data8[15] = 8'h00;\n        data8[16] = 8'h04;\n        data8[17] = 8'h04;\n        data8[18] = 8'h7E;\n        data8[19] = 8'h01;\n        data8[20] = 8'h44;\n        data8[21] = 8'h48;\n        data8[22] = 8'h50;\n        data8[23] = 8'h7F;\n        data8[24] = 8'h40;\n        data8[25] = 8'h40;\n        data8[26] = 8'h7F;\n        data8[27] = 8'h50;\n        data8[28] = 8'h48;\n        data8[29] = 8'h44;\n        data8[30] = 8'h40;\n        data8[31] = 8'h00;\n    end\n\n\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data9[0] = 8'h00;\n        data9[1] = 8'h00;\n        data9[2] = 8'hFC;\n        data9[3] = 8'h24;\n        data9[4] = 8'h24;\n        data9[5] = 8'h24;\n        data9[6] = 8'hFC;\n        data9[7] = 8'h25;\n        data9[8] = 8'h26;\n        data9[9] = 8'h24;\n        data9[10] = 8'hFC;\n        data9[11] = 8'h24;\n        data9[12] = 8'h24;\n        data9[13] = 8'h24;\n        data9[14] = 8'h04;\n        data9[15] = 8'h00;\n        data9[16] = 8'h40;\n        data9[17] = 8'h30;\n        data9[18] = 8'h8F;\n        data9[19] = 8'h80;\n        data9[20] = 8'h84;\n        data9[21] = 8'h4C;\n        data9[22] = 8'h55;\n        data9[23] = 8'h25;\n        data9[24] = 8'h25;\n        data9[25] = 8'h25;\n        data9[26] = 8'h55;\n        data9[27] = 8'h4C;\n        data9[28] = 8'h80;\n        data9[29] = 8'h80;\n        data9[30] = 8'h80;\n        data9[31] = 8'h00;\n    end\n\n\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data10[0] = 8'h00;\n        data10[1] = 8'h00;\n        data10[2] = 8'h00;\n        data10[3] = 8'h00;\n        data10[4] = 8'h00;\n        data10[5] = 8'h00;\n        data10[6] = 8'h00;\n        data10[7] = 8'h00;\n        data10[8] = 8'h00;\n        data10[9] = 8'h30;\n        data10[10] = 8'h30;\n        data10[11] = 8'h00;\n        data10[12] = 8'h00;\n        data10[13] = 8'h00;\n        data10[14] = 8'h00;\n        data10[15] = 8'h00;\n    end\n\n\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data11[0] = 8'h06;\n        data11[1] = 8'h09;\n        data11[2] = 8'h09;\n        data11[3] = 8'hE6;\n        data11[4] = 8'hF8;\n        data11[5] = 8'h0C;\n        data11[6] = 8'h04;\n        data11[7] = 8'h02;\n        data11[8] = 8'h02;\n        data11[9] = 8'h02;\n        data11[10] = 8'h02;\n        data11[11] = 8'h02;\n        data11[12] = 8'h04;\n        data11[13] = 8'h1E;\n        data11[14] = 8'h00;\n        data11[15] = 8'h00;\n        data11[16] = 8'h00;\n        data11[17] = 8'h00;\n        data11[18] = 8'h00;\n        data11[19] = 8'h07;\n        data11[20] = 8'h1F;\n        data11[21] = 8'h30;\n        data11[22] = 8'h20;\n        data11[23] = 8'h40;\n        data11[24] = 8'h40;\n        data11[25] = 8'h40;\n        data11[26] = 8'h40;\n        data11[27] = 8'h40;\n        data11[28] = 8'h20;\n        data11[29] = 8'h10;\n        data11[30] = 8'h00;\n        data11[31] = 8'h00;\n    end\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data12[0] = 8'h08;\n        data12[1] = 8'hF8;\n        data12[2] = 8'h88;\n        data12[3] = 8'h88;\n        data12[4] = 8'h88;\n        data12[5] = 8'h88;\n        data12[6] = 8'h70;\n        data12[7] = 8'h00;\n        data12[8] = 8'h20;\n        data12[9] = 8'h3F;\n        data12[10] = 8'h20;\n        data12[11] = 8'h00;\n        data12[12] = 8'h03;\n        data12[13] = 8'h0C;\n        data12[14] = 8'h30;\n        data12[15] = 8'h20;\n    end\n\n\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data13[0] = 8'h08;\n        data13[1] = 8'hF8;\n        data13[2] = 8'h08;\n        data13[3] = 8'h00;\n        data13[4] = 8'h00;\n        data13[5] = 8'h08;\n        data13[6] = 8'hF8;\n        data13[7] = 8'h08;\n        data13[8] = 8'h20;\n        data13[9] = 8'h3F;\n        data13[10] = 8'h21;\n        data13[11] = 8'h01;\n        data13[12] = 8'h01;\n        data13[13] = 8'h21;\n        data13[14] = 8'h3F;\n        data13[15] = 8'h20;\n    end\n\nend\n\nendmodule \n</code></pre> <p>```verilog OLED_Init.v</p> <p>//oled_init  \u200b\u521d\u59cb\u5316\u200b\u6a21\u5757\u200b module OLED_Init(</p> <pre><code>input                   sys_clk,\ninput                   rst_n,\n\ninput                   init_req,               //\u200b\u521d\u59cb\u5316\u200b\u8bf7\u6c42\u200b\ninput                   write_done,             //\u200b\u4e00\u7ec4\u200b\u521d\u59cb\u5316\u200b\u6570\u636e\u200b\u5b8c\u6210\u200b\u4fe1\u53f7\u200b\n\noutput              init_finish,            //\u200b\u521d\u59cb\u5316\u200b\u5b8c\u6210\u200b\u8f93\u51fa\u200b\n\noutput[23:0]        Init_data       //\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u6570\u636e\u200b\n</code></pre> <p>);</p> <p>localparam          RST_T           =   1'b0;               //\u200b\u590d\u4f4d\u200b\u6709\u6548\u200b</p> <p>reg[23:0]       Init_data_reg; reg[4:0]            Init_index;</p> <p>assign Init_data  = Init_data_reg; assign init_finish = (Init_index &gt;= 'd26 &amp;&amp; write_done == 1'b1) ? 1'b1 : 1'b0;//\u200b\u521d\u59cb\u5316\u200b\u5b8c\u6210\u200b\u4fe1\u53f7\u200b</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == RST_T)         Init_index &lt;= 'd0;     else if(Init_index == 'd26 &amp;&amp; write_done == 1'b1 )         Init_index &lt;= 'd0;     else if(write_done == 1'b1 &amp;&amp; init_req == 1'b1)         Init_index &lt;= Init_index + 1'b1;     else         Init_index &lt;= Init_index; end</p> <p>always@(*) begin     case(Init_index)         'd0:        Init_data_reg &lt;= {8'h78,8'h00,8'hAE};         'd1:        Init_data_reg &lt;= {8'h78,8'h00,8'h00};         'd2:        Init_data_reg &lt;= {8'h78,8'h00,8'h10};         'd3:        Init_data_reg &lt;= {8'h78,8'h00,8'h40};         'd4:        Init_data_reg &lt;= {8'h78,8'h00,8'hB0};         'd5:        Init_data_reg &lt;= {8'h78,8'h00,8'h81};         'd6:        Init_data_reg &lt;= {8'h78,8'h00,8'hFF};         'd7:        Init_data_reg &lt;= {8'h78,8'h00,8'hA1};         'd8:        Init_data_reg &lt;= {8'h78,8'h00,8'hA6};         'd9:        Init_data_reg &lt;= {8'h78,8'h00,8'hA8};         'd10:   Init_data_reg &lt;= {8'h78,8'h00,8'h3F};         'd11:   Init_data_reg &lt;= {8'h78,8'h00,8'hC8};         'd12:   Init_data_reg &lt;= {8'h78,8'h00,8'hD3};         'd13:   Init_data_reg &lt;= {8'h78,8'h00,8'h00};         'd14:   Init_data_reg &lt;= {8'h78,8'h00,8'hD5};         'd15:   Init_data_reg &lt;= {8'h78,8'h00,8'h80};         'd16:   Init_data_reg &lt;= {8'h78,8'h00,8'hD8};         'd17:   Init_data_reg &lt;= {8'h78,8'h00,8'h05};         'd18:   Init_data_reg &lt;= {8'h78,8'h00,8'hD9};         'd19:   Init_data_reg &lt;= {8'h78,8'h00,8'hF1};         'd20:   Init_data_reg &lt;= {8'h78,8'h00,8'hDA};         'd21:   Init_data_reg &lt;= {8'h78,8'h00,8'h12};         'd22:   Init_data_reg &lt;= {8'h78,8'h00,8'hDB};         'd23:   Init_data_reg &lt;= {8'h78,8'h00,8'h30};         'd24:   Init_data_reg &lt;= {8'h78,8'h00,8'h8D};         'd25:   Init_data_reg &lt;= {8'h78,8'h00,8'h14};         'd26:   Init_data_reg &lt;= {8'h78,8'h00,8'hAF};         default:             Init_data_reg &lt;= {8'h78,8'h00,8'hAE};         endcase end</p> <p>endmodule</p> <pre><code>\n```verilog OLED_NumData.v\n\n\n\n\n\n/*\u200b\u6570\u5b57\u200b\u6570\u636e\u200b0-9*/\nmodule  OLED_NumData(\n\n    input           sys_clk,\n    input           rst_n,\n\n    input           font_row,\n    input[4:0]  font_sel,\n    input[4:0]  index,\n\n    output reg[7:0]  data\n\n);\n\n\n\n\n/*0-9*/\nreg[7:0]    data0[15:0];\nreg[7:0]    data1[15:0];\nreg[7:0]    data2[15:0];\nreg[7:0]    data3[15:0];\nreg[7:0]    data4[15:0];\nreg[7:0]    data5[15:0];\nreg[7:0]    data6[15:0];\nreg[7:0]    data7[15:0];\nreg[7:0]    data8[15:0];\nreg[7:0]    data9[15:0];\n\n\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n        data &lt;= 'd0;\n    else if(font_sel == 'd0)\n        data &lt;= data0[index + 'd8 * font_row];\n    else if(font_sel == 'd1)\n        data &lt;= data1[index + 'd8 * font_row];\n    else if(font_sel == 'd2)\n        data &lt;= data2[index + 'd8 * font_row];\n    else if(font_sel == 'd3)\n        data &lt;= data3[index + 'd8 * font_row];\n    else if(font_sel == 'd4)\n        data &lt;= data4[index + 'd8 * font_row];\n    else if(font_sel == 'd5)\n        data &lt;= data5[index + 'd8 * font_row];\n    else if(font_sel == 'd6)\n        data &lt;= data6[index + 'd8 * font_row];\n    else if(font_sel == 'd7)\n        data &lt;= data7[index + 'd8 * font_row];\n    else if(font_sel == 'd8)\n        data &lt;= data8[index + 'd8 * font_row];\n    else if(font_sel == 'd9)\n        data &lt;= data9[index + 'd8 * font_row];\nend\n\n\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data0[0] = 8'h00;\n        data0[1] = 8'hE0;\n        data0[2] = 8'h10;\n        data0[3] = 8'h08;\n        data0[4] = 8'h08;\n        data0[5] = 8'h10;\n        data0[6] = 8'hE0;\n        data0[7] = 8'h00;\n        data0[8] = 8'h00;\n        data0[9] = 8'h0F;\n        data0[10] = 8'h10;\n        data0[11] = 8'h20;\n        data0[12] = 8'h20;\n        data0[13] = 8'h10;\n        data0[14] = 8'h0F;\n        data0[15] = 8'h00;\n    end\n\n\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data1[0] = 8'h00;\n        data1[1] = 8'h00;\n        data1[2] = 8'h10;\n        data1[3] = 8'h10;\n        data1[4] = 8'hF8;\n        data1[5] = 8'h00;\n        data1[6] = 8'h00;\n        data1[7] = 8'h00;\n        data1[8] = 8'h00;\n        data1[9] = 8'h00;\n        data1[10] = 8'h20;\n        data1[11] = 8'h20;\n        data1[12] = 8'h3F;\n        data1[13] = 8'h20;\n        data1[14] = 8'h20;\n        data1[15] = 8'h00;\n    end\n\n\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data2[0] = 8'h00;\n        data2[1] = 8'h70;\n        data2[2] = 8'h08;\n        data2[3] = 8'h08;\n        data2[4] = 8'h08;\n        data2[5] = 8'h08;\n        data2[6] = 8'hF0;\n        data2[7] = 8'h00;\n        data2[8] = 8'h00;\n        data2[9] = 8'h30;\n        data2[10] = 8'h28;\n        data2[11] = 8'h24;\n        data2[12] = 8'h22;\n        data2[13] = 8'h21;\n        data2[14] = 8'h30;\n        data2[15] = 8'h00;\n    end\n\n\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data3[0] = 8'h00;\n        data3[1] = 8'h30;\n        data3[2] = 8'h08;\n        data3[3] = 8'h08;\n        data3[4] = 8'h08;\n        data3[5] = 8'h88;\n        data3[6] = 8'h70;\n        data3[7] = 8'h00;\n        data3[8] = 8'h00;\n        data3[9] = 8'h18;\n        data3[10] = 8'h20;\n        data3[11] = 8'h21;\n        data3[12] = 8'h21;\n        data3[13] = 8'h22;\n        data3[14] = 8'h1C;\n        data3[15] = 8'h00;\n    end\n\n\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data4[0] = 8'h00;\n        data4[1] = 8'h00;\n        data4[2] = 8'h80;\n        data4[3] = 8'h40;\n        data4[4] = 8'h30;\n        data4[5] = 8'hF8;\n        data4[6] = 8'h00;\n        data4[7] = 8'h00;\n        data4[8] = 8'h00;\n        data4[9] = 8'h06;\n        data4[10] = 8'h05;\n        data4[11] = 8'h24;\n        data4[12] = 8'h24;\n        data4[13] = 8'h3F;\n        data4[14] = 8'h24;\n        data4[15] = 8'h24;\n    end\n\n\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data5[0] = 8'h00;\n        data5[1] = 8'hF8;\n        data5[2] = 8'h88;\n        data5[3] = 8'h88;\n        data5[4] = 8'h88;\n        data5[5] = 8'h08;\n        data5[6] = 8'h08;\n        data5[7] = 8'h00;\n        data5[8] = 8'h00;\n        data5[9] = 8'h19;\n        data5[10] = 8'h20;\n        data5[11] = 8'h20;\n        data5[12] = 8'h20;\n        data5[13] = 8'h11;\n        data5[14] = 8'h0E;\n        data5[15] = 8'h00;\n    end\n\n\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data6[0] = 8'h00;\n        data6[1] = 8'hE0;\n        data6[2] = 8'h10;\n        data6[3] = 8'h88;\n        data6[4] = 8'h88;\n        data6[5] = 8'h90;\n        data6[6] = 8'h00;\n        data6[7] = 8'h00;\n        data6[8] = 8'h00;\n        data6[9] = 8'h0F;\n        data6[10] = 8'h11;\n        data6[11] = 8'h20;\n        data6[12] = 8'h20;\n        data6[13] = 8'h20;\n        data6[14] = 8'h1F;\n        data6[15] = 8'h00;\n    end\n\n\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data7[0] = 8'h00;\n        data7[1] = 8'h18;\n        data7[2] = 8'h08;\n        data7[3] = 8'h08;\n        data7[4] = 8'h88;\n        data7[5] = 8'h68;\n        data7[6] = 8'h18;\n        data7[7] = 8'h00;\n        data7[8] = 8'h00;\n        data7[9] = 8'h00;\n        data7[10] = 8'h00;\n        data7[11] = 8'h3E;\n        data7[12] = 8'h01;\n        data7[13] = 8'h00;\n        data7[14] = 8'h00;\n        data7[15] = 8'h00;\n    end\n\n\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data8[0] = 8'h00;\n        data8[1] = 8'h70;\n        data8[2] = 8'h88;\n        data8[3] = 8'h08;\n        data8[4] = 8'h08;\n        data8[5] = 8'h88;\n        data8[6] = 8'h70;\n        data8[7] = 8'h00;\n        data8[8] = 8'h00;\n        data8[9] = 8'h1C;\n        data8[10] = 8'h22;\n        data8[11] = 8'h21;\n        data8[12] = 8'h21;\n        data8[13] = 8'h22;\n        data8[14] = 8'h1C;\n        data8[15] = 8'h00;\n    end\n\n\nend\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n    begin\n        data9[0] = 8'h00;\n        data9[1] = 8'hF0;\n        data9[2] = 8'h08;\n        data9[3] = 8'h08;\n        data9[4] = 8'h08;\n        data9[5] = 8'h10;\n        data9[6] = 8'hE0;\n        data9[7] = 8'h00;\n        data9[8] = 8'h00;\n        data9[9] = 8'h01;\n        data9[10] = 8'h12;\n        data9[11] = 8'h22;\n        data9[12] = 8'h22;\n        data9[13] = 8'h11;\n        data9[14] = 8'h0F;\n        data9[15] = 8'h00;\n    end\n\n\nend\nendmodule \n</code></pre> <p>```verilog OLED_Refresh.v</p> <p>//\u200b\u5237\u65b0\u200b\u6a21\u5757\u200b\uff0c\u200b\u5c06\u200boled\u200b\u5c4f\u5e55\u200b\u5168\u90e8\u200b\u53d8\u4e3a\u200b\u9ed1\u8272\u200b module OLED_Refresh(     input                   sys_clk,     input                   rst_n,</p> <pre><code>input                   refresh_req,                //\u200b\u521d\u59cb\u5316\u200b\u8bf7\u6c42\u200b\ninput                   write_done,             //\u200b\u4e00\u7ec4\u200b\u521d\u59cb\u5316\u200b\u6570\u636e\u200b\u5b8c\u6210\u200b\u4fe1\u53f7\u200b\n\noutput              refresh_finish,         //\u200b\u521d\u59cb\u5316\u200b\u5b8c\u6210\u200b\u8f93\u51fa\u200b\n\noutput[23:0]        refresh_data        //\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u6570\u636e\u200b\n</code></pre> <p>);</p> <p>reg[23:0]   refresh_data_reg; reg[10:0]   refresh_index; reg[2:0]        page; assign refresh_data = refresh_data_reg; assign refresh_finish = (page == 'd7 &amp;&amp; refresh_index == 'd130 &amp;&amp; write_done == 1'b1) ? 1'b1 : 1'b0;</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         refresh_index &lt;= 'd0;     else if(refresh_index == 'd130 &amp;&amp; write_done == 1'b1)         refresh_index &lt;= 'd0;     else if(write_done == 1'b1)         refresh_index &lt;= refresh_index + 1'b1;     else         refresh_index &lt;= refresh_index; end</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         page &lt;= 'd0;     else if(refresh_index == 'd130 &amp;&amp; write_done == 1'b1)         page &lt;= page + 1'b1;     else         page &lt;= page; end</p> <p>always@(*) begin     case(refresh_index)     'd0:  refresh_data_reg &lt;= {8'h78,8'h00,8'hB0 + page};     'd1:  refresh_data_reg &lt;= {8'h78,8'h00,8'h00};     'd2:  refresh_data_reg &lt;= {8'h78,8'h00,8'h10};     default: refresh_data_reg &lt;= {8'h78,8'h40,8'h00};     endcase end</p> <p>endmodule </p> <pre><code>\n```verilog OLED_SelData.v\n\n\n\n\n\n\nmodule OLED_SelData(\n\n    input               sys_clk,\n    input               rst_n,\n\n\n    input               init_req,\n    input[23:0]     init_data,\n\n    input               refresh_req,\n    input[23:0]     refresh_data,\n\n    input               showfont_req,\n    input[23:0]    showfont_data,\n\n    input               showdata_req,\n    input[23:0]     showdata_data, \n\n    output          IICWriteReq,\n    output[23:0]    IICWriteData\n);\n\nreg       IICWriteReqReg;\nreg[23:0] IICWriteDataReg; \n\nassign IICWriteReq  = init_req | showfont_req | refresh_req | showdata_req;\nassign IICWriteData = (init_req == 1'b1) ? init_data : (refresh_req == 1'b1) ? refresh_data : (showfont_req == 1'b1) ? showfont_data : showdata_data;\n\n\nendmodule \n</code></pre> <p>```verilog OLED_ShowData.v</p> <p>module OLED_ShowData(</p> <pre><code>input               sys_clk,\ninput               rst_n,\n\n\ninput               dht11_done,\ninput[7:0]     tempH,   \ninput[7:0]     tempL,\ninput[7:0]     humidityH,\ninput[7:0]     humidityL,\n\n\ninput               ShowData_req,        //\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u8bf7\u6c42\u200b\ninput               write_done,          //iic\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b\u5199\u200b\u5b8c\u6210\u200b\n\noutput[23:0]    ShowData_Data,       //\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u6570\u636e\u200b\n\noutput          ShowData_finish   //\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u5b8c\u6210\u200b\n</code></pre> <p>);</p> <p>// //reg[3:0]      tempHH; //tempH\u200b\u7684\u200b\u9ad8\u4f4d\u200b //reg[3:0]      tempHL; //tempH\u200b\u7684\u200b\u4f4e\u4f4d\u200b //reg[3:0]      tempLH; //reg[3:0]      tempLL; // //reg[3:0]      humidityHH; //reg[3:0]      humidityHL; //reg[3:0]      humidityLH; //reg[3:0]      humidityLL;</p> <p>reg[7:0]        tempHREG; reg[7:0]        tempLREG; reg[7:0]        humidityHREG; reg[7:0]        humidityLREG;</p> <p>reg[4:0]    font;</p> <p>reg[4:0]            font_sel; reg[4:0]        font_index; reg             font_row;</p> <p>reg[7:0]            show_x; reg[3:0]            show_y; reg[23:0]       showfont_data_reg; wire                onefont_finish; wire[7:0]       fontdata;</p> <p>assign onefont_finish  = (font_row == 1'b1 &amp;&amp; font_index == 'd10 &amp;&amp; write_done == 1'b1) ? 1'b1 : 1'b0; assign ShowData_finish = (onefont_finish == 1'b1 &amp;&amp; font_sel == 'd7) ? 1'b1 : 1'b0; assign ShowData_Data = showfont_data_reg;</p> <p>always@(*) begin     case(font_index)     'd0:    showfont_data_reg &lt;= {8'h78,8'h00,8'hB0 + show_y + font_row};     'd1:  showfont_data_reg &lt;= {8'h78,8'h00,8'h00 + show_x[3:0]};     'd2:  showfont_data_reg &lt;= {8'h78,8'h00,8'h10 + show_x[7:4]};     default:    showfont_data_reg &lt;= {8'h78,8'h40,fontdata}; //fontdata     endcase end</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         font_index &lt;= 'd0;     else if(write_done == 1'b1 &amp;&amp; font_index == 'd10)         font_index &lt;= 'd0;     else if(write_done == 1'b1 &amp;&amp; ShowData_req == 1'b1)         font_index &lt;= font_index + 1'b1;     else         font_index &lt;= font_index; end</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         font_row &lt;= 1'b0;     else if(onefont_finish == 1'b1)         font_row &lt;= 1'b0;     else if(write_done == 1'b1 &amp;&amp; font_index == 'd10)         font_row &lt;= 1'b1;     else         font_row &lt;= font_row; end</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         font_sel &lt;= 'd0;     else if(ShowData_finish == 1'b1)         font_sel &lt;= 'd0;     else if(onefont_finish == 1'b1)         font_sel &lt;= font_sel + 1'b1;     else         font_sel &lt;= font_sel; end</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)     begin         show_x &lt;= 'd0;         show_y &lt;= 'd0;     end     else if(font_sel == 'd0)     begin         show_x &lt;= 'd54;         show_y &lt;= 'd3;     end     else if(font_sel == 'd1)     begin         show_x &lt;= 'd62;         show_y &lt;= 'd3;     end     else if(font_sel == 'd2)     begin         show_x &lt;= 'd79;         show_y &lt;= 'd3;     end     else if(font_sel == 'd3)     begin         show_x &lt;= 'd88;         show_y &lt;= 'd3;     end</p> <pre><code>else if(font_sel == 'd4)\nbegin\n    show_x &lt;= 'd54;\n    show_y &lt;= 'd5;\nend\nelse if(font_sel == 'd5)\nbegin\n    show_x &lt;= 'd62;\n    show_y &lt;= 'd5;\nend\nelse if(font_sel == 'd6)\nbegin\n    show_x &lt;= 'd79;\n    show_y &lt;= 'd5;\nend\nelse if(font_sel == 'd7)\nbegin\n    show_x &lt;= 'd88;\n    show_y &lt;= 'd5;\nend\n\nelse\nbegin\n    show_x &lt;= 'd0;\n    show_y &lt;= 'd0;\nend\n</code></pre> <p>end</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         font &lt;= 'd0;     else if(font_sel == 'd0)         font &lt;= tempHREG / 10;     else if(font_sel == 'd1)         font &lt;= tempHREG % 10;     else if(font_sel == 'd2)         font &lt;= tempLREG / 10;     else if(font_sel == 'd3)         font &lt;= tempLREG % 10;</p> <pre><code>else if(font_sel == 'd4)\n    font &lt;= humidityHREG / 10;\nelse if(font_sel == 'd5)\n    font &lt;= humidityHREG % 10;\nelse if(font_sel == 'd6)\n    font &lt;= humidityLREG / 10;\nelse if(font_sel == 'd7)\n    font &lt;= humidityLREG % 10;\nelse\n    font &lt;= font;\n</code></pre> <p>end</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         tempHREG &lt;= 'd0;     else if(dht11_done == 1'b1)         tempHREG &lt;= tempH;     else         tempHREG &lt;= tempHREG; end</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         tempLREG &lt;= 'd0;     else if(dht11_done == 1'b1)         tempLREG &lt;= tempL;     else         tempLREG &lt;= tempLREG; end</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         humidityHREG &lt;= 'd0;     else if(dht11_done == 1'b1)         humidityHREG &lt;= humidityH;     else         humidityHREG &lt;= humidityHREG; end</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         humidityLREG &lt;= 'd0;     else if(dht11_done == 1'b1)         humidityLREG &lt;= humidityL;     else         humidityLREG &lt;= humidityLREG; end</p> <p>OLED_NumData OLED_NumDataHP(</p> <pre><code>.sys_clk        (sys_clk),\n.rst_n      (rst_n),\n\n.font_row   (font_row),\n.font_sel   (font),\n.index      (font_index - 'd3),\n\n.data           (fontdata)\n</code></pre> <p>);</p> <p>endmodule </p> <pre><code>\n```verilog OLED_ShowFont.v\n\n\n\n\n\n\n\nmodule OLED_ShowFont(\n\n    input               sys_clk,\n    input               rst_n,\n\n    input               ShowFont_req,        //\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u8bf7\u6c42\u200b\n    input               write_done,          //iic\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b\u5199\u200b\u5b8c\u6210\u200b\n\n    output[23:0]    ShowFont_Data,       //\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u6570\u636e\u200b\n\n    output          ShowFont_finish   //\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u5b8c\u6210\u200b\n);\n\nreg[8:0]       showfont_index;\nreg[23:0]   showfont_data_reg;\n\nwire[7:0]   fontdata;\n\n\nreg[5:0]        font_index; //\u200b\u5f53\u524d\u200b\u663e\u793a\u200b\u7b2c\u51e0\u4e2a\u200b\u5b57\u7b26\u200b\nreg[1:0]        font_size; //1 :16*16   0 : 8*16\nreg[7:0]        show_x;\nreg[3:0]        show_y;\nreg         font_row;\n\nwire onefont_finish;\n\n\nassign onefont_finish = ((showfont_index == ('d10 + 'd8 * font_size)) &amp;&amp; (font_row == 1'b1) &amp;&amp; write_done == 1'b1) ? 1'b1 : 1'b0;\nassign ShowFont_finish = (onefont_finish == 1'b1 &amp;&amp; font_index == 'd14) ? 1'b1 : 1'b0;\n\nassign ShowFont_Data = showfont_data_reg;\n\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n        showfont_index &lt;= 'd0;\n    else if(onefont_finish == 1'b1)\n        showfont_index &lt;= 'd0;\n    else if(font_size == 'd0 &amp;&amp; showfont_index == 'd10 &amp;&amp; write_done == 1'b1)\n        showfont_index &lt;= 'd0;\n    else if(font_size == 'd1 &amp;&amp; showfont_index == 'd18 &amp;&amp; write_done == 1'b1)\n        showfont_index &lt;= 'd0;\n    else if(write_done == 1'b1 &amp;&amp; ShowFont_req == 1'b1)\n        showfont_index &lt;= showfont_index + 1'b1;\n    else\n        showfont_index &lt;= showfont_index;\nend\n\nalways@(*)\nbegin\n    case(showfont_index)\n    'd0:    showfont_data_reg &lt;= {8'h78,8'h00,8'hB0 + show_y + font_row};\n    'd1:  showfont_data_reg &lt;= {8'h78,8'h00,8'h00 + show_x[3:0]};\n    'd2:  showfont_data_reg &lt;= {8'h78,8'h00,8'h10 + show_x[7:4]};\n    default:    showfont_data_reg &lt;= {8'h78,8'h40,fontdata}; //fontdata\n    endcase\nend\n\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n        font_row &lt;= 1'b0;\n    else if(onefont_finish == 1'b1)\n        font_row &lt;= 1'b0;\n    else if(font_size == 'd0 &amp;&amp; showfont_index == 'd10 &amp;&amp; write_done == 1'b1)\n        font_row &lt;= 1'b1;\n    else if(font_size == 'd1 &amp;&amp; showfont_index == 'd18 &amp;&amp; write_done == 1'b1)\n        font_row &lt;= 1'b1;\n    else\n        font_row &lt;= font_row;\nend\n\n\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n        font_size &lt;= 'd0;\n    else if(font_index &lt;= 'd3)\n        font_size &lt;= 'd0;\n    else if(font_index == 'd10 || font_index == 'd12 || font_index == 'd13 || font_index == 'd14)\n        font_size &lt;= 'd0;\n    else\n        font_size &lt;= 'd1;\nend\n\n\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)\n        font_index &lt;= 'd0;\n    else if(ShowFont_finish == 1'b1)\n        font_index &lt;= 'd0;\n    else if(onefont_finish == 1'b1)\n        font_index &lt;= font_index + 1'b1;\n    else\n        font_index &lt;= font_index;\nend\n\nalways@(posedge sys_clk or negedge rst_n)\nbegin\n    if(rst_n == 1'b0)                                   //F\n    begin\n        show_x &lt;= 'd8;\n        show_y &lt;= 'd0;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd0) //P\n    begin\n        show_x &lt;= 'd24;\n        show_y &lt;= 'd0;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd1)  //G\n    begin\n        show_x &lt;= 'd40;\n        show_y &lt;= 'd0;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd2)  //A\n    begin\n        show_x &lt;= 'd56;\n        show_y &lt;= 'd0;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd3) //\u200b\u4e4b\u200b\n    begin\n        show_x &lt;= 'd77;\n        show_y &lt;= 'd0;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd4) //\u200b\u65c5\u200b\n    begin\n        show_x &lt;= 'd100;\n        show_y &lt;= 'd0;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd5)    //\u200b\u6e29\u200b\n    begin\n        show_x &lt;= 'd10;\n        show_y &lt;= 'd3;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd6)     //\u200b\u5ea6\u200b\n    begin\n        show_x &lt;= 'd30;\n        show_y &lt;= 'd3;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd7)    //\u200b\u6e7f\u200b\n    begin\n        show_x &lt;= 'd10;\n        show_y &lt;= 'd5;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd8)     //\u200b\u5ea6\u200b\n    begin\n        show_x &lt;= 'd30;\n        show_y &lt;= 'd5;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd9)     //.\n    begin\n        show_x &lt;= 'd70;\n        show_y &lt;= 'd3;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd10)    //\u2103\n    begin\n        show_x &lt;= 'd100;\n        show_y &lt;= 'd3;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd11)    //R\n    begin\n        show_x &lt;= 'd100;\n        show_y &lt;= 'd5;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd12)    //H\n    begin\n        show_x &lt;= 'd108;\n        show_y &lt;= 'd5;\n    end\n    else if(onefont_finish == 1'b1 &amp;&amp; font_index == 'd13)    //.\n    begin\n        show_x &lt;= 'd70;\n        show_y &lt;= 'd5;\n    end\n    else\n    begin\n        show_x &lt;= show_x;\n        show_y &lt;= show_y;\n    end\n\nend\n\nOLED_FontData OLED_FontData_HP(\n\n    .sys_clk            (sys_clk),\n    .rst_n          (rst_n),\n    .font_row       (font_row),\n    .font_sel       (font_index),\n    .index          (showfont_index - 'd3),\n    .data               (fontdata)\n);\n\n\nendmodule \n</code></pre> <p>```verilog OLED_Top.v</p> <p>//OLED\u200b\u9876\u5c42\u200b\u6a21\u5757\u200b module OLED_Top(</p> <pre><code>input           sys_clk,\ninput           rst_n,\n\n//DHT11\u200b\u6570\u503c\u200b\u663e\u793a\u200b\ninput               dht11_done,\ninput[7:0]     tempH,   \ninput[7:0]     tempL,\ninput[7:0]     humidityH,\ninput[7:0]     humidityL,\n\n\n\n//OLED IIC\noutput      OLED_SCL,\ninout           OLED_SDA\n</code></pre> <p>);</p> <p>localparam  OLED_INIT       =  'd0;         //\u200b\u521d\u59cb\u5316\u200b localparam  OLED_Refresh    =  'd1;         //\u200b\u5237\u65b0\u200b\uff0c\u200b\u5c06\u200boled\u200b\u5168\u90e8\u200b\u5199\u200b0 localparam  OLED_ShowFont   =   'd2;            //\u200b\u663e\u793a\u5b57\u7b26\u200b localparam  OLED_IDLE       =  'd3;         //\u200b\u7a7a\u95f2\u200b localparam  OLED_ShowData   =   'd4;            //\u200b\u663e\u793a\u200b\u6570\u636e\u200b</p> <p>reg[4:0]    state , next_state;</p> <p>//IIC\u200b\u76f8\u5173\u200b\u4fe1\u53f7\u200b wire            IICWriteReq; wire[23:0]  IICWriteData; wire            IICWriteDone;</p> <p>//\u200b\u521d\u59cb\u5316\u200b\u76f8\u5173\u200b\u4fe1\u53f7\u200b wire            init_finish; wire[23:0]  Init_data; wire            init_req;</p> <p>//refresh\u200b\u76f8\u5173\u200b\u4fe1\u53f7\u200b wire            refresh_finish; wire[23:0]  refresh_data; wire           refresh_req;</p> <p>//\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u76f8\u5173\u200b\u4fe1\u53f7\u200b wire            showfont_finish; wire[23:0]  showfont_data; wire            showfont_req;</p> <p>//\u200b\u663e\u793a\u200b\u6570\u636e\u200b\u76f8\u5173\u200b\u4fe1\u53f7\u200b wire            showdata_finish; wire[23:0]  showdata_data; wire            showdata_req;</p> <p>assign init_req     = (state == OLED_INIT)     ? 1'b1 : 1'b0;</p> <p>assign refresh_req  = (state == OLED_Refresh)  ? 1'b1 : 1'b0;</p> <p>assign showfont_req = (state == OLED_ShowFont) ? 1'b1 : 1'b0;</p> <p>assign showdata_req = (state == OLED_ShowData) ? 1'b1 : 1'b0;</p> <p>always@(posedge sys_clk or negedge rst_n) begin     if(rst_n == 1'b0)         state &lt;= OLED_INIT;     else         state &lt;= next_state; end</p> <p>always@(*) begin     case(state)     OLED_INIT:         if(init_finish == 1'b1)             next_state &lt;= OLED_Refresh;         else             next_state &lt;= OLED_INIT;     OLED_Refresh:         if(refresh_finish == 1'b1)             next_state &lt;= OLED_ShowFont;         else             next_state &lt;= OLED_Refresh;     OLED_ShowFont:         if(showfont_finish == 1'b1)             next_state &lt;= OLED_IDLE;         else             next_state &lt;= OLED_ShowFont;     OLED_IDLE:         if(dht11_done == 1'b1)             next_state &lt;= OLED_ShowData;         else             next_state &lt;= OLED_IDLE;     OLED_ShowData:         if(showdata_finish == 1'b1)             next_state &lt;= OLED_IDLE;         else             next_state &lt;= OLED_ShowData;     default: next_state &lt;= OLED_INIT;     endcase end</p> <p>OLED_Init OLED_InitHP(</p> <pre><code>.sys_clk                (sys_clk),\n.rst_n              (rst_n),\n\n.init_req           (init_req),             //\u200b\u521d\u59cb\u5316\u200b\u8bf7\u6c42\u200b\n.write_done         (IICWriteDone),         //\u200b\u4e00\u7ec4\u200b\u521d\u59cb\u5316\u200b\u6570\u636e\u200b\u5b8c\u6210\u200b\u4fe1\u53f7\u200b\n\n.init_finish        (init_finish),          //\u200b\u521d\u59cb\u5316\u200b\u5b8c\u6210\u200b\u8f93\u51fa\u200b\n\n.Init_data          (Init_data)//\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u6570\u636e\u200b\n</code></pre> <p>);</p> <p>OLED_Refresh(     .sys_clk                (sys_clk),     .rst_n              (rst_n),</p> <pre><code>.refresh_req        (refresh_req),              //\u200b\u521d\u59cb\u5316\u200b\u8bf7\u6c42\u200b\n.write_done         (IICWriteDone),             //\u200b\u4e00\u7ec4\u200b\u521d\u59cb\u5316\u200b\u6570\u636e\u200b\u5b8c\u6210\u200b\u4fe1\u53f7\u200b\n\n.refresh_finish (refresh_finish),           //\u200b\u521d\u59cb\u5316\u200b\u5b8c\u6210\u200b\u8f93\u51fa\u200b\n\n.refresh_data       (refresh_data)  //\u200b\u521d\u59cb\u5316\u200b\u7684\u200b\u6570\u636e\u200b\n</code></pre> <p>);</p> <p>OLED_ShowFont OLED_ShowFont_HP(</p> <pre><code>.sys_clk            (sys_clk),\n.rst_n          (rst_n),\n\n.ShowFont_req   (showfont_req),         //\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u8bf7\u6c42\u200b\n.write_done     (IICWriteDone),          //iic\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b\u5199\u200b\u5b8c\u6210\u200b\n\n.ShowFont_Data      (showfont_data),         //\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u6570\u636e\u200b\n\n.ShowFont_finish(showfont_finish)       //\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u5b8c\u6210\u200b\n</code></pre> <p>);</p> <p>OLED_ShowData OLED_ShowDataHP(</p> <pre><code>.sys_clk            (sys_clk),\n.rst_n          (rst_n),\n\n.dht11_done     (dht11_done),\n.tempH          (tempH),            //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u6574\u6570\u200b\n.tempL          (tempL),            //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u5c0f\u6570\u200b\n.humidityH      (humidityH),        //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u6574\u6570\u200b\n.humidityL      (humidityL),        //\u200b\u6e29\u5ea6\u200b\u6570\u636e\u200b\u5c0f\u6570\u200b\n\n\n.ShowData_req   (showdata_req),      //\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u8bf7\u6c42\u200b\n.write_done     (IICWriteDone),          //iic\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b\u5199\u200b\u5b8c\u6210\u200b\n\n.ShowData_Data  (showdata_data),         //\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u6570\u636e\u200b\n\n.ShowData_finish    (showdata_finish)   //\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u5b8c\u6210\u200b\n</code></pre> <p>);</p> <p>//\u200b\u6570\u636e\u200b\u9009\u62e9\u200b OLED_SelData OLED_SelDataHP(</p> <pre><code>.sys_clk            (sys_clk),\n.rst_n          (rst_n),\n\n\n.init_req       (init_req),\n.init_data      (Init_data),\n\n.refresh_req    (refresh_req),\n.refresh_data   (refresh_data),\n\n.showfont_req   (showfont_req),\n.showfont_data  (showfont_data),\n\n.showdata_req   (showdata_req),\n.showdata_data  (showdata_data),\n\n\n.IICWriteReq    (IICWriteReq),  \n.IICWriteData   (IICWriteData)\n</code></pre> <p>);</p> <p>IIC_Driver IIC_DriverHP_OLED(    .sys_clk             (sys_clk),           /\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b/    .rst_n               (rst_n),             /\u200b\u7cfb\u7edf\u200b\u590d\u4f4d\u200b/</p> <pre><code>.IICSCL             (OLED_SCL),            /*IIC \u200b\u65f6\u949f\u200b\u8f93\u51fa\u200b*/\n.IICSDA             (OLED_SDA),             /*IIC \u200b\u6570\u636e\u7ebf\u200b*/\n\n\n.IICSlave           ({IICWriteData[15:8],IICWriteData[23:16]}),           /*\u200b\u4ece\u673a\u200b 8bit\u200b\u7684\u200b\u5bc4\u5b58\u5668\u200b\u5730\u5740\u200b + 8bit\u200b\u7684\u200b\u4ece\u673a\u200b\u5730\u5740\u200b*/\n\n.IICWriteReq        (IICWriteReq),       /*IIC\u200b\u5199\u200b\u5bc4\u5b58\u5668\u200b\u8bf7\u6c42\u200b*/\n.IICWriteDone       (IICWriteDone),      /*IIC\u200b\u5199\u200b\u5bc4\u5b58\u5668\u200b\u5b8c\u6210\u200b*/\n.IICWriteData       (IICWriteData[7:0]),       /*IIC\u200b\u53d1\u9001\u6570\u636e\u200b  8bit\u200b\u7684\u200b\u6570\u636e\u200b*/\n\n.IICReadReq         (1'b0),        /*IIC\u200b\u8bfb\u200b\u5bc4\u5b58\u5668\u200b\u8bf7\u6c42\u200b*/\n.IICReadDone            (),       /*IIC\u200b\u8bfb\u200b\u5bc4\u5b58\u5668\u200b\u5b8c\u6210\u200b*/\n.IICReadData            ()    /*IIC\u200b\u8bfb\u53d6\u6570\u636e\u200b*/\n</code></pre> <p>);</p> <p>endmodule  ```</p>"},{"location":"fpga/I2C%E5%8D%8F%E8%AE%AE/#_3","title":"\u53c2\u8003\u200b\u94fe\u63a5","text":"<p>[1] STM32 7\u200b\u9488\u200b0.96\u200b\u5bf8\u200bOLED\u200b\u663e\u793a\u5c4f\u200b\uff08\u200b\u786c\u4ef6\u200bSPI+DMA\uff09\u200b\u65e0\u9700\u200b\u5185\u6838\u200b\u54cd\u5e94\u200b \u200b\u8d85\u9ad8\u200b\u5237\u65b0\u7387\u200b\uff01_0.96oled\u200b\u901f\u7387\u200b-CSDN\u200b\u535a\u5ba2\u200b</p> <p>[2] 7\u200b\u811a\u200bspi OLED\u200b\u5c4f\u5e55\u200b\u6539\u9020\u200b\u6210\u200bIIC\u200b\u5c4f\u5e55\u200b_7\u200b\u9488\u200bspioled\u200b\u6539\u200b4\u200b\u9488\u200biic-CSDN\u200b\u535a\u5ba2\u200b</p> <p>[3] FPGA\u200b\u4e4b\u65c5\u200b\u8bbe\u8ba1\u200b99\u200b\u4f8b\u200b\u4e4b\u200b\u7b2c\u4e5d\u200b\u4f8b\u200b-----\u200b\u9a71\u52a8\u200b0.96\u200b\u5bf8\u200bOLED\u200b\u5c4f\u200b_fpga oled 12864-CSDN\u200b\u535a\u5ba2\u200b</p>"},{"location":"fpga/RAM%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/","title":"RAM IP\u200b\u6838\u200b\u4f7f\u7528\u200b\u65b9\u6cd5","text":""},{"location":"fpga/RAM%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#_1","title":"\u53c2\u8003\u200b\u94fe\u63a5","text":""},{"location":"fpga/RAM%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#1-ram-ip","title":"1. RAM IP","text":""},{"location":"fpga/RAM%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#2-rom-ip","title":"2. ROM IP\u200b\u6838\u200b\u7684\u200b\u4f7f\u7528\u200b\u65b9\u6cd5","text":""},{"location":"fpga/RAM%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#21","title":"2.1 \u200b\u4eff\u771f\u200b\u7ed3\u679c","text":"<p>```verilog rom_ip.v</p> <pre><code>\n\n\n```verilog tlc5620.v\n\n</code></pre>"},{"location":"fpga/ROM%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/","title":"ROM IP\u200b\u6838\u200b\u4f7f\u7528\u200b\u65b9\u6cd5","text":""},{"location":"fpga/ROM%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#_1","title":"\u53c2\u8003\u200b\u94fe\u63a5","text":"<p>FPGA\u200b\u5b9e\u9a8c\u8bfe\u200b8\uff1aROM\uff08IP\u200b\u6838\u200b\uff09\u200b\u4f7f\u7528\u200b\u5b9e\u4f8b\u200b_fpga\u200b\u7684\u200brom\u200b\u7684\u200bip\u200b\u5982\u4f55\u200b\u8c03\u7528\u200b-CSDN\u200b\u535a\u5ba2\u200b</p> <p>Kimi\u200b\u4eba\u5de5\u667a\u80fd\u200b</p>"},{"location":"fpga/ROM%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#1-fpga","title":"1. FPGA\u200b\u4e2d\u4f4d\u200b\u5bbd\u200b\u548c\u200b\u6df1\u5ea6\u200b\u7684\u200b\u6982\u5ff5","text":"<ol> <li>\u200b\u4f4d\u200b\u5bbd\u200b\uff08Bit Width\uff09\uff1a</li> <li>\u200b\u60f3\u8c61\u200b\u4e00\u4e0b\u200b\uff0c\u200b\u4f60\u200b\u6709\u200b\u4e00\u6761\u200b\u9ad8\u901f\u516c\u8def\u200b\uff0c\u200b\u8fd9\u200b\u6761\u200b\u9ad8\u901f\u516c\u8def\u200b\u6709\u200b\u591a\u4e2a\u200b\u8f66\u9053\u200b\u3002\u200b\u4f4d\u200b\u5bbd\u200b\u5c31\u662f\u6307\u200b\u8fd9\u4e9b\u200b\u8f66\u9053\u200b\u7684\u200b\u6570\u91cf\u200b\u3002\u200b\u6bd4\u5982\u200b\uff0c\u200b\u4e00\u4e2a\u200b32\u200b\u4f4d\u200b\u5bbd\u200b\u7684\u200b\u5bc4\u5b58\u5668\u200b\u5c31\u200b\u50cf\u662f\u200b\u6709\u200b32\u200b\u4e2a\u200b\u8f66\u9053\u200b\u7684\u200b\u9ad8\u901f\u516c\u8def\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u8ba9\u200b32\u200b\u8f86\u8f66\u200b\u5e76\u6392\u200b\u884c\u9a76\u200b\u3002\u200b\u5728\u200bFPGA\u200b\u4e2d\u200b\uff0c\u200b\u4f4d\u200b\u5bbd\u200b\u8d8a\u200b\u5927\u200b\uff0c\u200b\u610f\u5473\u7740\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u5904\u7406\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u4ece\u800c\u200b\u63d0\u9ad8\u200b\u8ba1\u7b97\u901f\u5ea6\u200b\u3002</li> <li>\u200b\u6df1\u5ea6\u200b\uff08Depth\uff09\uff1a</li> <li>\u200b\u73b0\u5728\u200b\uff0c\u200b\u60f3\u8c61\u200b\u4f60\u200b\u6709\u200b\u4e00\u5ea7\u200b\u591a\u5c42\u200b\u7684\u200b\u505c\u8f66\u573a\u200b\u3002\u200b\u6df1\u5ea6\u200b\u5c31\u662f\u6307\u200b\u8fd9\u5ea7\u200b\u505c\u8f66\u573a\u200b\u6709\u200b\u591a\u5c11\u200b\u5c42\u200b\u3002\u200b\u6bd4\u5982\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u6df1\u5ea6\u200b\u4e3a\u200b1024\u200b\u7684\u200b\u5b58\u50a8\u5668\u200b\u5c31\u200b\u50cf\u662f\u200b\u6709\u200b1024\u200b\u5c42\u200b\u7684\u200b\u505c\u8f66\u573a\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u505c\u653e\u200b\u4e00\u8f86\u8f66\u200b\u3002\u200b\u5728\u200bFPGA\u200b\u4e2d\u200b\uff0c\u200b\u6df1\u5ea6\u200b\u8d8a\u5927\u200b\uff0c\u200b\u610f\u5473\u7740\u200b\u53ef\u4ee5\u200b\u5b58\u50a8\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u6570\u636e\u200b\u3002</li> </ol> <p>\u200b\u603b\u7ed3\u200b\u4e00\u4e0b\u200b\uff1a</p> <ul> <li>\u200b\u4f4d\u200b\u5bbd\u200b\uff1a\u200b\u4e00\u6b21\u200b\u64cd\u4f5c\u200b\u53ef\u4ee5\u200b\u5904\u7406\u200b\u7684\u200b\u6570\u636e\u91cf\u200b\u3002\u200b\u4f4d\u200b\u5bbd\u200b\u8d8a\u200b\u5927\u200b\uff0c\u200b\u6570\u636e\u5904\u7406\u200b\u80fd\u529b\u200b\u8d8a\u5f3a\u200b\u3002</li> <li>\u200b\u6df1\u5ea6\u200b\uff1a\u200b\u53ef\u4ee5\u200b\u5b58\u50a8\u200b\u7684\u200b\u6570\u636e\u200b\u603b\u91cf\u200b\u3002\u200b\u6df1\u5ea6\u200b\u8d8a\u5927\u200b\uff0c\u200b\u5b58\u50a8\u5bb9\u91cf\u200b\u8d8a\u5927\u200b\u3002</li> </ul>"},{"location":"fpga/ROM%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#2-rom-ip","title":"2. ROM IP\u200b\u6838\u200b\u7684\u200b\u4f7f\u7528\u200b\u65b9\u6cd5","text":""},{"location":"fpga/ROM%20IP%E6%A0%B8%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/#21","title":"2.1 \u200b\u4eff\u771f\u200b\u7ed3\u679c","text":"<p>rom_ip.v</p> <pre><code>module ROM_IP(\n    input sys_clk,\n    input sys_rst_n,\n\n    // TLC5620\u200b\u7684\u200b\u5f15\u811a\u200b\n    output  wire            da_clk      ,   // \u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    output  wire            da_data     ,   // \u200b\u6570\u636e\u4fe1\u53f7\u200b\n    output  wire            da_ldac     ,   // LDAC\u200b\u4fe1\u53f7\u200b\n    output  wire            da_load     ,   // LOAD\u200b\u4fe1\u53f7\u200b\n     output  wire    [7:0]    wave\n\n);\n\n\n// rom\u200b\u5730\u5740\u200b\u63a7\u5236\u200b\u6a21\u5757\u200b\nreg [12:0] addr;\nalways @(posedge sys_clk or negedge sys_rst_n) begin\n    if(!sys_rst_n)\n        addr &lt;= 13'd0;\n    else if(addr == 13'd4095)\n        addr &lt;= 13'd0;\n    else \n        addr &lt;= addr + 1'd1;\nend\n\n// \u200b\u5b9e\u4f8b\u200b\u5316\u200bROM IP\u200b\u6838\u200b\nrom rom_inst (\n    .address ( addr ),\n    .clock   ( sys_clk ),\n    .q       ( wave )\n    );\n\n\n// \u200b\u5b9e\u4f8b\u200b\u5316\u200btlc5620\u200b\u9a71\u52a8\u200b\u6a21\u5757\u200b\ntlc_5620 tlc_5620_inst\n(\n    .CLOCK_50(sys_clk),     // \u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\n    .RST_N(sys_rst_n),      // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n    .da_enable(1'b1),       // \u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u59cb\u7ec8\u200b\u4f7f\u80fd\u200b\n    .da_range(1'b0),        // \u200b\u8f93\u51fa\u200b\u8303\u56f4\u200b\u9009\u62e9\u200b\uff0c\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b\n    .da0_data(wave),        // \u200b\u5c06\u200bdac_data\u200b\u8fde\u63a5\u200b\u5230\u200bDA0\u200b\u901a\u9053\u200b\n    .da1_data(8'b0),        // \u200b\u5176\u4ed6\u200b\u901a\u9053\u200b\u6682\u65f6\u200b\u4e0d\u200b\u4f7f\u7528\u200b\uff0c\u200b\u7f6e\u200b\u4e3a\u200b0\n    .da2_data(8'b0),        // \u200b\u5176\u4ed6\u200b\u901a\u9053\u200b\u6682\u65f6\u200b\u4e0d\u200b\u4f7f\u7528\u200b\uff0c\u200b\u7f6e\u200b\u4e3a\u200b0\n    .da3_data(8'b0),        // \u200b\u5176\u4ed6\u200b\u901a\u9053\u200b\u6682\u65f6\u200b\u4e0d\u200b\u4f7f\u7528\u200b\uff0c\u200b\u7f6e\u200b\u4e3a\u200b0\n    .SCK(da_clk),           // \u200b\u8fde\u63a5\u200b\u5230\u200b\u5916\u90e8\u200b\u5f15\u811a\u200b\n    .SDI(da_data),          // \u200b\u8fde\u63a5\u200b\u5230\u200b\u5916\u90e8\u200b\u5f15\u811a\u200b\n    .LOAD(da_load)          // \u200b\u8fde\u63a5\u200b\u5230\u200b\u5916\u90e8\u200b\u5f15\u811a\u200b\n);\n// TLC5620\u200b\u7684\u200bLDAC\u200b\u4fe1\u53f7\u200b\u901a\u5e38\u200b\u9700\u8981\u200b\u4fdd\u6301\u200b\u4f4e\u7535\u5e73\u200b\u4ee5\u200b\u66f4\u65b0\u200b\u8f93\u51fa\u200b\u7535\u538b\u200b\nassign da_ldac = 1'b0;\nendmodule\n</code></pre> <p>tlc_5620.v</p> <pre><code>module tlc_5620\n(\n    input CLOCK_50,\n    input RST_N,\n    //\n    input da_enable,\n    input da_range, // 0, 1\u200b\u500d\u200b\u53c2\u8003\u200b\u7535\u538b\u200b; 1, 2\u200b\u500d\u200b\u53c2\u8003\u200b\u7535\u538b\u200b\n    input [7:0] da0_data, // 0~255\n    input [7:0] da1_data, // 0~255\n    input [7:0] da2_data, // 0~255\n    input [7:0] da3_data, // 0~255\n    // \n    output reg SCK,\n    output reg SDI,\n    output reg LOAD\n);\n\nfunction integer log2(input integer n);\n    integer i;\n    for(i=0; 2**i &lt;=n; i=i+1) log2=i+1;\nendfunction\n\n/**************************************\n* \u200b\u751f\u6210\u200b140ns\u200b\u7684\u200btick\u200b\u65f6\u949f\u200b\n**************************************/\nreg [log2(7):1]cnt_140ns;\nalways@(posedge CLOCK_50, negedge RST_N) \n    if(!RST_N) cnt_140ns &lt;= 0;\n    else begin\n        if(cnt_140ns &lt; 6) \n            cnt_140ns &lt;= cnt_140ns + 1'b1;\n        else cnt_140ns &lt;= 0;\n    end\nwire tick_140ns = (cnt_140ns == 6) ? 1 : 0;\n\n/**************************************\n* \u200b\u6839\u636e\u200btick\u200b\u65f6\u949f\u200b\u751f\u6210\u200bda\u200b\u57fa\u51c6\u200b\u8ba1\u6570\u5668\u200b\n**************************************/\nreg [log2(48):1] da_ref_cnt; // [0,47]\nalways@(posedge CLOCK_50, negedge RST_N)\n    if(!RST_N) da_ref_cnt &lt;= 0;\n    else begin\n        if(!da_enable) da_ref_cnt &lt;= 0;\n        else begin\n            if(tick_140ns) begin\n                if(da_ref_cnt &lt; 47) \n                    da_ref_cnt &lt;= da_ref_cnt + 1'b1;\n                else da_ref_cnt &lt;= 0;\n            end\n        end\n    end\nwire tick_6720ns = (da_ref_cnt == 47) ? 1 : 0;\n\nreg [1:0] da_sel_cnt;\nalways@(posedge CLOCK_50, negedge RST_N)\n    if(!RST_N) da_sel_cnt &lt;= 2'b0;\n    else if (tick_6720ns) begin\n        if(da_sel_cnt &lt; 3)\n            da_sel_cnt &lt;= da_sel_cnt + 1'b1;\n        else da_sel_cnt &lt;= 2'b0;\n    end\n\n/**************************************\n* \u200b\u6839\u636e\u200b\u57fa\u51c6\u200b\u8ba1\u6570\u5668\u200b\u751f\u6210\u200b\u4e32\u884c\u200b\u4fe1\u53f7\u200b\n**************************************/\nreg [7:0] da_data;\nalways@(posedge CLOCK_50, negedge RST_N)\n    if(!RST_N) da_data &lt;= 8'b0;\n    else begin\n        case(da_sel_cnt)\n            2'b00: da_data &lt;= da0_data;\n            2'b01: da_data &lt;= da1_data;\n            2'b10: da_data &lt;= da2_data;\n            2'b11: da_data &lt;= da3_data;\n        endcase\n    end\n\nalways@(posedge CLOCK_50, negedge RST_N)\n    if(!RST_N) begin\n        SCK &lt;= 0;\n        SDI &lt;= 0;\n        LOAD &lt;= 0;\n    end\n    else begin\n        if(tick_140ns) begin\n            // \u200b\u751f\u6210\u200bSCK\u200b\u4fe1\u53f7\u200b\n            case(da_ref_cnt)\n                2,6,10,14,18,22,26,30,34,38,42: SCK &lt;= 1;\n                4,8,12,16,20,24,28,32,36,40,44: SCK &lt;= 0;\n                default : ; // \u200b\u7f3a\u7701\u200b\u4e0d\u200b\u64cd\u4f5c\u200b\n            endcase\n            // \u200b\u751f\u6210\u200bLOAD\u200b\u4fe1\u53f7\u200b\n            case(da_ref_cnt)\n                0: LOAD &lt;= 1;\n                46: LOAD &lt;= 0;\n                default : ; // \u200b\u7f3a\u7701\u200b\u4e0d\u200b\u64cd\u4f5c\u200b\n            endcase\n            // \u200b\u9001\u5165\u200b\u4e32\u578b\u200b\u6570\u636e\u200b\n            case(da_ref_cnt)\n                3,4: SDI &lt;= da_sel_cnt[1];\n                7,8: SDI &lt;= da_sel_cnt[0];\n                11,12: SDI &lt;= da_range;\n                15,16: SDI &lt;= da_data[7];\n                19,20: SDI &lt;= da_data[6];\n                23,24: SDI &lt;= da_data[5];\n                27,28: SDI &lt;= da_data[4];\n                31,32: SDI &lt;= da_data[3];\n                35,36: SDI &lt;= da_data[2];\n                39,40: SDI &lt;= da_data[1];\n                43,44: SDI &lt;= da_data[0];\n                default : SDI &lt;= 1'b1;\n            endcase\n        end\n    end\n\nendmodule\n</code></pre>"},{"location":"fpga/ROM%E3%80%81RAM%E3%80%81FIFO%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86%E3%80%81%E5%8C%BA%E5%88%86%E3%80%81%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/","title":"ROM\u3001RAM\u3001FIFO\u200b\u77e5\u8bc6\u70b9\u200b\u6574\u7406\u200b\u3001\u200b\u533a\u5206\u200b\u3001\u200b\u5e94\u7528\u200b\u6848\u4f8b","text":"<p>\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u00b7\u00b7\u00b7ROM\u3001RAM\u3001FIFO\u200b\u77e5\u8bc6\u70b9\u200b\u6574\u7406\u200b\u3001\u200b\u533a\u5206\u200b\u3001\u200b\u5e94\u7528\u200b\u6848\u4f8b\u200b.md</p>"},{"location":"fpga/RS485%E4%B8%B2%E5%8F%A3%E5%8D%8F%E8%AE%AE/","title":"RS485\u200b\u4e32\u53e3\u200b\u534f\u8bae","text":"<p>uart\u200b\u901a\u4fe1\u534f\u8bae\u200b\u6709\u200brx\u200b\u548c\u200btx\u200b\u4e24\u6839\u200b\u7ebf\u200b\uff0c\u200b\u6ca1\u6709\u200b\u65f6\u949f\u200b\u7ebf\u200b\uff0c\u200b\u6570\u636e\u4f20\u8f93\u200b\u65f6\u200b\u4e24\u6839\u200b\u7ebf\u200b\u4ea4\u53c9\u200b\u8fde\u63a5\u200b\u5373\u53ef\u200b\u3002\u200b\u5728\u200b\u6570\u636e\u4f20\u8f93\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u56e0\u4e3a\u200b\u6ca1\u6709\u200b\u65f6\u949f\u200b\uff0c\u200b\u6570\u636e\u200b\u901a\u8fc7\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u6ce2\u7279\u7387\u200b\u548c\u200b\u8d77\u59cb\u200b\u4f4d\u200b\uff08\u200b\u4f4e\u7535\u5e73\u200b\uff09\u200b\u548c\u200b\u505c\u6b62\u200b\u4f4d\u200b\uff08\u200b\u9ad8\u7535\u5e73\u200b\uff09\u200b\u4ee5\u53ca\u200b\u6821\u9a8c\u4f4d\u200b\u63d0\u524d\u200b\u7ea6\u5b9a\u200b\u597d\u200b\uff0c\u200b\u6570\u636e\u5305\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u5bf9\u9f50\u200b\u3002\u200b\u5176\u4e2d\u200b\u6d89\u53ca\u200b\u5230\u200b\u53d1\u9001\u200b\u6570\u636e\u5305\u200b\u7684\u200b\u5e27\u200b\u7ed3\u6784\u200b\u4ee5\u53ca\u200b\u6ce2\u7279\u7387\u200b\u3001\u200b\u6ce2\u7279\u7387\u200b\u3001\u200b\u6ce2\u7279\u200b\u7b49\u200b\u6982\u5ff5\u200b</p>"},{"location":"fpga/SPI%E5%8D%8F%E8%AE%AE/","title":"SPI\u200b\u534f\u8bae","text":""},{"location":"fpga/SPI%E5%8D%8F%E8%AE%AE/#_1","title":"\u524d\u8a00","text":"<p>\u200b\u4e32\u884c\u63a5\u53e3\u200b\u5404\u6709\u5343\u79cb\u200b\uff0c\u200b\u5e76\u884c\u200b\u901a\u4fe1\u200b\u5343\u7bc7\u4e00\u5f8b\u200b</p>"},{"location":"fpga/SPI%E5%8D%8F%E8%AE%AE/#_2","title":"\u57fa\u7840\u77e5\u8bc6","text":""},{"location":"fpga/SPI%E5%8D%8F%E8%AE%AE/#1-spi","title":"1. SPI\u200b\u901a\u4fe1\u534f\u8bae","text":"<p>SPI\uff08\u200b\u4e32\u884c\u200b\u5916\u8bbe\u200b\u63a5\u53e3\u200b\uff09\u200b\u4ee5\u200b\u5176\u200b\u9ad8\u901f\u5ea6\u200b\u800c\u200b\u8457\u79f0\u200b\uff0c\u200b\u4f7f\u200b\u5176\u200b\u6210\u4e3a\u200b\u5feb\u901f\u200b\u901a\u4fe1\u200b\u7684\u200b\u9996\u9009\u200b\u3002SPI\u200b\u901a\u8baf\u200b\u534f\u8bae\u200b\u662f\u200b\u4e00\u79cd\u200b\u4e3b\u4ece\u200b\u901a\u4fe1\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u662f\u200bMotorola\u200b\u516c\u53f8\u200b\u63d0\u51fa\u200b\u7684\u200b\u4e00\u79cd\u200b\u540c\u6b65\u200b\u4e32\u884c\u63a5\u53e3\u200b\u6280\u672f\u200b\uff0c\u200b\u662f\u200b\u4e00\u79cd\u200b\u9ad8\u901f\u200b\u3001\u200b\u5168\u53cc\u5de5\u200b\u3001\u200b\u540c\u6b65\u200b\u901a\u4fe1\u200b\u603b\u7ebf\u200b\uff0c\u200b\u5728\u200b\u82af\u7247\u200b\u4e2d\u200b\u53ea\u200b\u5360\u7528\u200b\u56db\u6839\u200b\u7ba1\u811a\u200b\u7528\u6765\u200b\u63a7\u5236\u200b\u53ca\u200b\u6570\u636e\u4f20\u8f93\u200b\u3002\u200b\u4e0e\u200b I2C \u200b\u4e0d\u540c\u200b\uff0cSPI \u200b\u4f7f\u7528\u200b\u56db\u7ebf\u200b\u5de5\u4f5c\u200b\uff1aMISO\uff08\u200b\u4e3b\u200b\u8f93\u5165\u200b\u4ece\u200b\u8f93\u51fa\u200b\uff09\u3001MOSI\uff08\u200b\u4e3b\u200b\u8f93\u51fa\u200b\u4ece\u200b\u8f93\u5165\u200b\uff09\u3001SCK\uff08\u200b\u4e32\u884c\u200b\u65f6\u949f\u200b\uff09\u200b\u548c\u200b SS\uff08\u200b\u4ece\u200b\u9009\u62e9\u200b\uff09\uff0c\u200b\u5141\u8bb8\u200b\u5168\u53cc\u5de5\u200b\u901a\u4fe1\u200b\uff08\u200b\u53d1\u9001\u200b\u548c\u200b\u540c\u65f6\u200b\u63a5\u6536\u200b\uff09\u3002\u200b\u5c3d\u7ba1\u200b\u7b80\u5355\u200b\u4e14\u200b\u901f\u5ea6\u200b\u5feb\u200b\uff0c\u200b\u4f46\u200b SPI \u200b\u6bd4\u200b I2C \u200b\u9700\u8981\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u5f15\u811a\u200b\uff0c\u200b\u8fd9\u200b\u53ef\u80fd\u200b\u662f\u200b\u7535\u8def\u8bbe\u8ba1\u200b\u4e2d\u200b\u9700\u8981\u200b\u8003\u8651\u200b\u7684\u200b\u4e00\u4e2a\u200b\u56e0\u7d20\u200b\u3002</p> <p>\u200b\u4f18\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u9ad8\u901f\u200b\uff1aSPI\u200b\u901a\u4fe1\u200b\u901f\u5ea6\u200b\u8f83\u200b\u5feb\u200b\uff0c\u200b\u9002\u7528\u200b\u4e8e\u200b\u5bf9\u200b\u901f\u5ea6\u200b\u8981\u6c42\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u5e94\u7528\u200b\u3002</li> <li>\u200b\u5168\u53cc\u5de5\u200b\uff1aSPI\u200b\u652f\u6301\u200b\u5168\u53cc\u5de5\u200b\u901a\u4fe1\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u548c\u200b\u63a5\u6536\u200b\u3002</li> <li>\u200b\u7b80\u5355\u200b\uff1aSPI\u200b\u7684\u200b\u901a\u4fe1\u534f\u8bae\u200b\u76f8\u5bf9\u200b\u7b80\u5355\u200b\uff0c\u200b\u9002\u7528\u200b\u4e8e\u200b\u5feb\u901f\u200b\u5f00\u53d1\u200b\u548c\u200b\u5b9e\u73b0\u200b\u3002</li> </ul> <p></p> <p>\u200b\u7f3a\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u8fde\u7ebf\u200b\u590d\u6742\u200b\uff1aSPI\u200b\u9700\u8981\u200b\u591a\u6839\u200b\u7ebf\u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b\uff0c\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u589e\u52a0\u200b\u786c\u4ef6\u200b\u8bbe\u8ba1\u200b\u7684\u200b\u590d\u6742\u6027\u200b\u3002</li> <li>\u200b\u957f\u8ddd\u79bb\u200b\u4f20\u8f93\u200b\u53d7\u9650\u200b\uff1aSPI\u200b\u7684\u200b\u4f20\u8f93\u200b\u8ddd\u79bb\u200b\u53d7\u5230\u9650\u5236\u200b\uff0c\u200b\u8fc7\u957f\u200b\u7684\u200b\u7ebf\u8def\u200b\u53ef\u80fd\u200b\u5bfc\u81f4\u200b\u4fe1\u53f7\u200b\u8870\u51cf\u200b\u548c\u200b\u5e72\u6270\u200b\u3002</li> <li>\u200b\u4e3b\u4ece\u200b\u6a21\u5f0f\u200b\u9650\u5236\u200b\uff1aSPI\u200b\u901a\u5e38\u200b\u91c7\u7528\u200b\u4e3b\u4ece\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u4e3b\u200b\u8bbe\u5907\u200b\u6570\u91cf\u200b\u53d7\u9650\u200b\uff0c\u200b\u4e0d\u9002\u200b\u7528\u4e8e\u200b\u591a\u4e3b\u200b\u8bbe\u5907\u200b\u573a\u666f\u200b\u3002</li> <li>\u200b\u6ca1\u6709\u200b\u5e94\u7b54\u200b\u673a\u5236\u200b\u548c\u200b\u786e\u8ba4\u200b\u6570\u636e\u200b\u662f\u5426\u200b\u63a5\u6536\u200b\uff0c\u200b\u5728\u200b\u6570\u636e\u200b\u53ef\u9760\u6027\u200b\u4e0a\u200b\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u7f3a\u9677\u200b\uff08\u200b\u4e0e\u200bI2C\u200b\u76f8\u6bd4\u200b\uff09</li> </ul> <p>\u200b\u5e94\u7528\u200b\u6848\u4f8b\u200b\uff1a</p> <p>SPI \u200b\u975e\u5e38\u9002\u5408\u200b\u9700\u8981\u200b\u5feb\u901f\u200b\u53ef\u9760\u200b\u7684\u200b\u6570\u636e\u4f20\u8f93\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u4f8b\u5982\u200b TFT \u200b\u663e\u793a\u5668\u200b\u3001SD \u200b\u5b58\u50a8\u5361\u200b\u548c\u200b\u65e0\u7ebf\u901a\u4fe1\u200b\u6a21\u5757\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u5728\u200b\u5177\u6709\u200b\u8bb8\u591a\u200b\u4ece\u200b\u7ad9\u200b\u7684\u200b\u590d\u6742\u200b\u7cfb\u7edf\u200b\u4e2d\u200b\uff0c\u200b\u5176\u200b\u6709\u6548\u6027\u200b\u4f1a\u200b\u964d\u4f4e\u200b\u3002\u200b\u540c\u65f6\u200b\u4e5f\u200b\u5e94\u7528\u200b\u4e8e\u200b\u4f8b\u5982\u200bEEPROM\u3001Flash\u3001RTC\u3001ADC\u3001DSP\u200b\u7b49\u200b\u6a21\u5757\u200b\u4e2d\u200b\u3002</p>"},{"location":"fpga/SPI%E5%8D%8F%E8%AE%AE/#2","title":"2. \u200b\u8bbe\u5907\u200b\u5f15\u811a\u200b\u7684\u200b\u529f\u80fd\u200b\u63cf\u8ff0","text":"<p>SCK\uff08Serial Clock\uff09\uff1a\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u7ebf\u200b\uff0c\u200b\u7528\u4e8e\u200b\u540c\u6b65\u200b\u901a\u8baf\u200b\u6570\u636e\u200b\uff1b</p> <p>MOSI\uff08Master Output ,Slave Input\uff09:\u200b\u4e3b\u200b\u8bbe\u5907\u200b\u8f93\u51fa\u200b/\u200b\u4ece\u200b\u8bbe\u5907\u200b\u8f93\u5165\u200b\u5f15\u811a\u200b\uff1b</p> <p>MISO\uff08Master Input,Slave Output\uff09\uff1a\u200b\u4e3b\u200b\u8bbe\u5907\u200b\u8f93\u5165\u200b/\u200b\u4ece\u200b\u8bbe\u5907\u200b\u8f93\u51fa\u200b\u5f15\u811a\u200b\uff1b</p> <p>CS_N\uff1a\u200b\u7247\u9009\u200b\u4fe1\u53f7\u7ebf\u200b;\u200b\u9009\u4e2d\u200b\u6211\u4eec\u200b\u7684\u200b\u4ece\u200b\u8bbe\u5907\u200b\uff0c\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b</p> <p></p>"},{"location":"fpga/SPI%E5%8D%8F%E8%AE%AE/#3-spi","title":"3. SPI\u200b\u534f\u8bae\u200b\u5c42","text":"<p>\u200b\u5728\u200b\u901a\u4fe1\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0cI2C\u200b\u662f\u200b\u4f7f\u7528\u200b\u5730\u5740\u200b\u8fdb\u884c\u200b\u5bfb\u5740\u200b\uff0c\u200b\u800c\u200b\u6211\u4eec\u200b\u8fd9\u91cc\u200b\u7684\u200bSPI\u200b\u6ca1\u6709\u200b\u5730\u5740\u200b\uff0c\u200b\u800c\u662f\u200b\u91c7\u7528\u200b\u7247\u9009\u200b\u4fe1\u53f7\u7ebf\u200b\u6765\u200b\u9009\u62e9\u200b\u4e0e\u200b\u54ea\u200b\u4e00\u4e2a\u200b\u4ece\u673a\u200b\u8fdb\u884c\u200b\u901a\u4fe1\u200b\uff0c\u200b\u7247\u9009\u200b\u4fe1\u53f7\u7ebf\u200b\u88ab\u62c9\u4f4e\u200b\u5219\u200b\u8868\u793a\u200b\u88ab\u200b\u9009\u4e2d\u200b\u3002</p> <p>SPI\u200b\u4e00\u5171\u200b\u4e0e\u200b4\u200b\u4e2d\u200b\u901a\u4fe1\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u8fd9\u200b\u56db\u79cd\u200b\u901a\u4fe1\u200b\u6a21\u5f0f\u200b\u662f\u200b\u7531\u200bCPOL\uff08\u200b\u65f6\u949f\u200b\u6781\u6027\u200b\uff09\u200b\u548c\u200bCPHA\uff08\u200b\u65f6\u949f\u200b\u76f8\u4f4d\u200b\uff09\u200b\u5171\u540c\u200b\u51b3\u5b9a\u200b\u7684\u200b\uff1a</p> <ol> <li>SCK(CPOL=0,CPHA=0)</li> <li>SCK(CPOL=0,CPHA=1)</li> <li>SCK(CPOL=1,CPHA=0)</li> <li>SCK(CPOL=1,CPHA=1)</li> </ol> <p>CPOL: \u200b\u8868\u793a\u200b\u5f53\u7247\u200b\u9009\u200b\u4fe1\u53f7\u200b\u5904\u4e8e\u200b\u9ad8\u7535\u5e73\u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b\u7684\u200b\u65f6\u5019\u200b\uff0cSCK\u200b\u7684\u200b\u7535\u5e73\u200b\u3002\u200b\u5f53\u4e3a\u200b0\u200b\u7684\u200b\u65f6\u5019\u200b\uff0cSCK\u200b\u5728\u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\uff0c\u200b\u53cd\u4e4b\u200b\u5219\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b</p> <p>CPHA\uff1a\u200b\u8868\u793a\u200b\u662f\u200b\u5728\u200b\u5947\u6570\u200b\u8fd8\u662f\u200b\u5076\u6570\u200b\u4f4d\u200b\u91c7\u6837\u200b\uff0c\u200b\u5f53\u4e3a\u200b0\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5728\u200b\u5947\u6570\u200b\u4f4d\u200b\u91c7\u6837\u200b\uff0c\u200b\u53cd\u4e4b\u200b\u5219\u200b\u5728\u200b\u5076\u6570\u200b\u4f4d\u7f6e\u200b\u91c7\u6837\u200b</p> <p>\u200b\u5177\u4f53\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b</p> <p></p>"},{"location":"fpga/TestBench%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7/","title":"TestBench\u200b\u7f16\u5199\u200b\u6280\u5de7","text":""},{"location":"fpga/TestBench%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7/#1","title":"1. \u200b\u53c2\u8003\u200b\u94fe\u63a5","text":"<p>FPGA\u200b\u4eff\u771f\u200b\uff1atestbench\uff08\u200b\u6fc0\u52b1\u200b\uff09\u200b\u6587\u4ef6\u200b\u7684\u200b\u7f16\u5199\u200b\uff08\u200b\u4ee5\u53ca\u200bRobei\u200b\u4e2d\u200b\u4e00\u4e9b\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u70b9\u200b\uff09_fpga\u200b\u6fc0\u52b1\u200b\u6587\u4ef6\u200b\u600e\u4e48\u200b\u5199\u200b-CSDN\u200b\u535a\u5ba2\u200b</p> <p></p> <p>\u200b\u7f16\u5199\u200bTestBench\u200b\u6587\u4ef6\u200b\u7684\u200b\u4e3b\u8981\u200b\u76ee\u7684\u200b\u662f\u200b\u4e3a\u200b\u6211\u4eec\u200b\u5efa\u7acb\u200b\u7684\u200b\u786c\u4ef6\u200b\u7535\u8def\u200b\u8fdb\u884c\u200b\u4eff\u771f\u200b\u9a8c\u8bc1\u200b\uff0c\u200b\u67e5\u770b\u200b\u5404\u4e2a\u200b\u6a21\u5757\u200b\u7684\u200b\u529f\u80fd\u200b\u662f\u5426\u200b\u8fbe\u5230\u200b\u9884\u671f\u200b\u7684\u200b\u76ee\u6807\u200b\uff0c\u200b\u5426\u5219\u200b\u4ec5\u4ec5\u200b\u4e00\u6b21\u200b\u7efc\u5408\u200b+\u200b\u751f\u6210\u200b\u6bd4\u7279\u6d41\u200b\u8fdb\u884c\u200b\u4e0a\u677f\u200b\u9a8c\u8bc1\u200b\u4e00\u6b21\u200b\u5c31\u200b\u6d88\u8017\u200b\u5c0f\u200b\u5219\u200b\u5341\u51e0\u200b\u4e8c\u5341\u5206\u949f\u200b\uff0c\u200b\u5927\u5219\u200b\u82b1\u8d39\u200b\u6389\u200b\u534a\u4e2a\u200b\u751a\u81f3\u200b\u4e00\u4e2a\u591a\u200b\u5c0f\u65f6\u200b\u7684\u200b\u65f6\u95f4\u200b\uff0c\u200b\u800c\u4e14\u200b\u5982\u679c\u200b\u51fa\u73b0\u200b\u4e00\u4e2a\u200b\u5c0f\u200b\u95ee\u9898\u200b\uff0c\u200b\u8fd8\u200b\u4e0d\u200b\u5bb9\u6613\u200b\u5bdf\u89c9\u5230\u200b\u90a3\u4e2a\u200b\u6a21\u5757\u200b\u51fa\u73b0\u200b\u4e86\u200b\u9519\u8bef\u200b\u3002</p> <p>\u200b\u6240\u4ee5\u200b\u5728\u200b\u6211\u4eec\u200b\u7f16\u5199\u200b\u597d\u200b\u786c\u4ef6\u200b\u7535\u8def\u200b\u540e\u200b\uff0c\u200b\u8fdb\u884c\u200b\u4eff\u771f\u200b\u6765\u200b\u67e5\u770b\u200b\u751f\u6210\u200b\u7684\u200b\u6ce2\u5f62\u200b\u6570\u636e\u200b\u662f\u200b\u76f8\u5bf9\u6765\u8bf4\u200b\u975e\u5e38\u200b\u65b9\u4fbf\u200b\u7684\u200b\u9009\u62e9\u200b\u3002</p>"},{"location":"fpga/TestBench%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7/#2","title":"2. \u200b\u5982\u4f55\u200b\u5199\u200b\u597d\u200b\u4eff\u771f\u200b\u6d4b\u8bd5\u200b\u6587\u4ef6","text":""},{"location":"fpga/TestBench%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7/#1_1","title":"1. \u200b\u57fa\u672c\u200b\u7ed3\u6784","text":"<pre><code>`timescale \u200b\u4eff\u771f\u200b\u5355\u4f4d\u200b/\u200b\u4eff\u771f\u200b\u7cbe\u5ea6\u200b\nmodule test_bench();\n//\u200b\u901a\u5e38\u200b testbench\u200b\u6ca1\u6709\u200b\u8f93\u5165\u200b\u4e0e\u200b\u8f93\u51fa\u200b\u7aef\u53e3\u200b\n\u200b\u4fe1\u53f7\u200b\u6216\u200b\u53d8\u91cf\u200b\u5b9a\u4e49\u200b\u58f0\u660e\u200b\n\u200b\u4f7f\u7528\u200binitial\u200b\u6216\u200balways\u200b\u8bed\u53e5\u200b\u4ea7\u751f\u200b\u6fc0\u52b1\u200b\u6ce2\u5f62\u200b\n\u200b\u4f8b\u5316\u200b\u8bbe\u8ba1\u200b\u6a21\u5757\u200b\nendmodule\n</code></pre>"},{"location":"fpga/TestBench%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7/#2_1","title":"2. \u200b\u8be6\u7ec6\u200b\u5185\u5bb9","text":""},{"location":"fpga/TestBench%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7/#a","title":"a. \u200b\u5173\u4e8e\u200b\u4eff\u771f\u200b\u65f6\u95f4\u200b\u5355\u4f4d\u200b\u548c\u200b\u7cbe\u5ea6","text":"<p>\u200b   \u200b\u9996\u5148\u200b\u58f0\u660e\u200b\u6211\u4eec\u200b\u7684\u200b\u4eff\u771f\u200b\u65f6\u95f4\u200b\u5355\u4f4d\u200b\u548c\u200b\u7cbe\u5ea6\u200b\uff0c\u200b\u6ce8\u610f\u200b\u7ed3\u5c3e\u200b\u4e0d\u200b\u9700\u8981\u200b\u6dfb\u52a0\u200b\u201c;\u201d</p> <p>\u200b   \u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c`timescale \u200b\u58f0\u660e\u200b\u4eff\u771f\u200b\u5355\u4f4d\u200b\u548c\u200b\u7cbe\u5ea6\u200b\uff0c\u200b\u6bd4\u5982\u200b\u6211\u4eec\u200b\u60f3\u8981\u200b\u5ef6\u65f6\u200b10ns\uff0c\u200b\u5728\u200b\u4ee3\u7801\u200b\u91cc\u9762\u200b\u53ea\u200b\u9700\u8981\u200b\u5982\u4e0b\u200b\u7f16\u5199\u200b\uff1a</p> <pre><code>`timescale 1ns/1ns\nmodule test_beach();\nwire rst_n;\nrst_n = 1'b1; //\u200b\u4e0a\u200b\u7535\u4fe1\u53f7\u200b\u62c9\u4f4e\u200b\n#10 rst_n = 1'b0;//\u200b\u7ecf\u8fc7\u200b10ns\u200b\u540e\u200b\uff0crst_n\u200b\u4fe1\u53f7\u200b\u62c9\u4f4e\u200b\n#20 rst_n = 1'b1;//\u200b\u5728\u200b10ns\u200b\u540e\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u603b\u5171\u200b20ns\u200b\u7684\u200b\u65f6\u5019\u200b\uff0crst_n\u200b\u4fe1\u53f7\u200b\u62c9\u9ad8\u200b\nendmodule\n</code></pre>"},{"location":"fpga/TestBench%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7/#b","title":"b. \u200b\u53d8\u91cf\u200b\u7684\u200b\u5b9a\u4e49\u200b\u8d4b\u503c\u200b\u53ca\u200b\u4fe1\u53f7\u200b\u7c7b\u578b\u200b\u7684\u200b\u5b9a\u4e49","text":""},{"location":"fpga/TestBench%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7/#_1","title":"\u00b7 \u200b\u4fe1\u53f7\u200b\u7c7b\u578b","text":"<ul> <li><code>wire</code>\uff1a\u200b\u7528\u4e8e\u200b\u8868\u793a\u200b\u6a21\u5757\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8fde\u63a5\u7ebf\u200b\uff0c\u200b\u7531\u200b\u5176\u4ed6\u200b\u7684\u200b\u4fe1\u53f7\u200b\u6216\u8005\u200b\u6a21\u5757\u200b\u8f93\u51fa\u200b\u9a71\u52a8\u200b\u6216\u8005\u200b\u4f7f\u7528\u200b<code>assign</code>\u200b\u8fdb\u884c\u200b\u8d4b\u503c\u200b</li> <li><code>reg</code>\uff1a\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u503c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b<code>always</code>\u200b\u5757\u200b\u6216\u200b<code>initial</code>\u200b\u5757\u200b\u4e2d\u200b\u88ab\u200b\u8d4b\u503c\u200b\u3002</li> </ul> <p>\u200b\u5728\u200b\u6211\u4eec\u200b\u7f16\u5199\u200b\u6d4b\u8bd5\u200b\u6a21\u5757\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u901a\u5e38\u200b\u9700\u8981\u200b\u6a21\u62df\u200b\u5916\u90e8\u200b\u4fe1\u53f7\u200b\u6765\u200b\u9a71\u52a8\u200b\u529f\u80fd\u6a21\u5757\u200b\u7684\u200b\u8f93\u5165\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u4fe1\u53f7\u200b\u901a\u5e38\u200b\u90fd\u200b\u8981\u200b\u88ab\u200b\u5b9a\u4e49\u200b\u4e3a\u200b<code>reg</code>\u200b\u7c7b\u578b\u200b</p> <p>\u200b\u4f46\u662f\u200b\u5bf9\u4e8e\u200b\u529f\u80fd\u6a21\u5757\u200b\u7684\u200b\u8f93\u51fa\u200b\uff0c\u200b\u5728\u200b\u6d4b\u8bd5\u200b\u6a21\u5757\u200b\u4e2d\u200b\u9700\u8981\u200b\u5b9a\u4e49\u200b\u4e3a\u200b<code>wire</code>\u200b\u7c7b\u578b\u200b</p> <p>\u200b\u603b\u7684\u6765\u8bf4\u200b\uff0c<code>reg</code> \u200b\u662f\u200b\u5bc4\u5b58\u5668\u200b\u7c7b\u578b\u200b\uff0c\u200b\u7528\u4e8e\u200b\u4fe1\u53f7\u200b\u8fde\u7eed\u200b\u6216\u8005\u200b\u65f6\u5e8f\u200b\u8d4b\u503c\u200b\uff0c<code>wire</code>\u200b\u662f\u200b\u7f51\u7ebf\u200b\u7c7b\u578b\u200b\uff0c\u200b\u7528\u6765\u200b\u5404\u4e2a\u200b\u6a21\u5757\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8fde\u7ebf\u200b\u3002</p>"},{"location":"fpga/TestBench%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7/#_2","title":"\u00b7 \u200b\u5728\u200b\u4fe1\u53f7\u200b\u7684\u200b\u8d4b\u503c","text":"<p>\u200b\u5728\u200b<code>initial</code>\u200b\u6216\u8005\u200b<code>always</code>\u200b\u5757\u200b\u4e2d\u200b\uff0c\u200b\u4f7f\u7528\u200b&lt;=\u200b\u64cd\u4f5c\u7b26\u200b\u8fdb\u884c\u200b\u5bf9\u200b<code>reg</code>\u200b\u7c7b\u578b\u200b\u4fe1\u53f7\u200b\u8d4b\u503c\u200b</p>"},{"location":"fpga/TestBench%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7/#_3","title":"\u00b7 \u200b\u5b9a\u4e49\u200b\u53c2\u6570\u200b\u5f62\u5f0f","text":"<p>\u200b\u5728\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u4e00\u4e9b\u200b\u9891\u7e41\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u6216\u8005\u200b\u5728\u200b\u591a\u5904\u200b\u4f7f\u7528\u200b\u540c\u4e00\u4e2a\u200b\u53c2\u6570\u503c\u200b\u7684\u200b\u5730\u65b9\u200b\u5b9a\u4e49\u200b\u6210\u200b\u53c2\u6570\u200b\u7684\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u4f8b\u5982\u200b\u5728\u200b\u58f0\u660e\u200b\u4e00\u4e2a\u200b\u8ba1\u6570\u5668\u200b\u7684\u200b\u65f6\u5019\u200b</p> <pre><code>parameter CNT_MAX = 999_999;\nalways (posedge clk)\n    if(!rst_n)\n        cnt &lt;= 20'd0;\n    else if(cnt == CNT_MAX)\n        cnt &lt;= 20'd0;\n    else\n        cnt &lt;= cnt + 1'd1;\n</code></pre>"},{"location":"fpga/TestBench%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7/#3","title":"3. \u200b\u7b80\u5355\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u6a21\u5757\u200b\u793a\u4f8b","text":"<pre><code>module test_module;\n  reg clk;\n  reg reset_n;\n  reg enable;\n  wire output;\n\n  // \u200b\u529f\u80fd\u6a21\u5757\u200b\u5b9e\u4f8b\u200b\u5316\u200b\n  my_functional_module uut (\n    .clk(clk),\n    .reset_n(reset_n),\n    .enable(enable),\n    .output(output)\n  );\n\n  // \u200b\u521d\u59cb\u5316\u200b\u4fe1\u53f7\u200b\n  initial begin\n    clk = 0;\n    reset_n = 0;\n    enable = 0;\n\n    // \u200b\u7b49\u5f85\u200b\u4e00\u4e9b\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u6765\u200b\u7a33\u5b9a\u200b\n    #100;\n\n    // \u200b\u590d\u4f4d\u200b\u6a21\u5757\u200b\n    reset_n = 1;\n\n    // \u200b\u4f7f\u80fd\u200b\u6a21\u5757\u200b\u5e76\u200b\u89c2\u5bdf\u200b\u8f93\u51fa\u200b\n    #10 enable = 1;\n    #100 enable = 0;\n\n    // \u200b\u68c0\u67e5\u200b\u8f93\u51fa\u200b\u662f\u5426\u200b\u7b26\u5408\u200b\u9884\u671f\u200b\n    if (output === expected_value) begin\n      $display(\"Test passed.\");\n    end else begin\n      $display(\"Test failed.\");\n    end\n\n    // \u200b\u7ed3\u675f\u200b\u4eff\u771f\u200b\n    #100 $finish;\n  end\n\n  // \u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u751f\u6210\u200b\n  always #10 clk = ~clk;\nendmodule\n</code></pre>"},{"location":"fpga/TestBench%E7%BC%96%E5%86%99%E6%8A%80%E5%B7%A7/#1_2","title":"\u4f8b\u200b1\uff1a\u200b\u6a21\u62df\u200b\u6444\u50cf\u5934\u200b\u8f93\u5165","text":"<pre><code>`timescale 1ns / 1ps\n\nmodule test_camera_input;\n\n  // \u200b\u5047\u8bbe\u200b\u7684\u200bRGB565\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\n  wire [15:0] rgb565_data;\n\n  // \u200b\u6444\u50cf\u5934\u200b\u6a21\u5757\u200b\u7684\u200b\u8f93\u5165\u200b\u5f15\u811a\u200b\n  reg [7:0] data_in;    // 8\u200b\u4e2a\u200b\u6570\u636e\u200b\u5f15\u811a\u200b\n  reg en;               // \u200b\u6570\u636e\u200b\u4f7f\u80fd\u200b\u5f15\u811a\u200b\n  reg clk;              // \u200b\u65f6\u949f\u200b\u5f15\u811a\u200b\n\n  // \u200b\u5b9e\u4f8b\u200b\u5316\u200b\u6444\u50cf\u5934\u200b\u6a21\u5757\u200b\n  camera_module uut (\n    .data_in(data_in),\n    .en(en),\n    .clk(clk),\n    .rgb565_data(rgb565_data)\n  );\n\n  // \u200b\u6444\u50cf\u5934\u200b\u6570\u636e\u200b\u6a21\u62df\u200b\n  always #10 clk = ~clk; // \u200b\u4ea7\u751f\u200b50Mhz\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n\n  initial begin\n    // \u200b\u521d\u59cb\u5316\u200b\u4fe1\u53f7\u200b\n    data_in = 8'b0;\n    en = 0;\n    clk = 0;\n\n    // \u200b\u7b49\u5f85\u200b\u4e00\u4e9b\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u6765\u200b\u7a33\u5b9a\u200b\n    #100;\n\n    // \u200b\u5f00\u59cb\u200b\u6a21\u62df\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\n    en = 1; // \u200b\u4f7f\u80fd\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\n    data_in = 8'b10001; // \u200b\u6a21\u62df\u200b\u4e00\u4e9b\u200b\u6570\u636e\u200b\n    #20; // \u200b\u4fdd\u6301\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\n\n    // \u200b\u6539\u53d8\u200b\u6570\u636e\u200b\n    data_in = 8'b11010; // \u200b\u6a21\u62df\u200b\u65b0\u200b\u6570\u636e\u200b\n    #20; // \u200b\u4fdd\u6301\u200b\u4e00\u6bb5\u65f6\u95f4\u200b\n\n    // \u200b\u7981\u7528\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\n    en = 0;\n  end\n\nendmodule\n</code></pre>"},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8--%E5%AD%97%E7%AC%A6%E6%B8%B8%E8%B5%B0/","title":"\u8d77\u56e0","text":"<p>\u200b\u9879\u76ee\u200b\u7684\u200b\u8d77\u56e0\u200b\u662f\u200b\u5728\u200b\u5237\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\u7684\u200b\u65f6\u5019\u200b\u770b\u5230\u200b\u4e86\u200b\u4e00\u4e2a\u200b\u89c6\u9891\u200b</p> <p>\u30102023\u200b\u5168\u56fd\u200b\u5927\u5b66\u751f\u200bFPGA\u200b\u521b\u65b0\u200b\u8bbe\u8ba1\u200b\u5927\u8d5b\u200b-\u200b\u56fd\u200b\u4e00\u200b\u3011\u200b\u7d2b\u5149\u200b\u540c\u521b\u200b-\u200b\u89c6\u9891\u200b\u5904\u7406\u200b\u9b54\u76d2\u200b_\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b_bilibili</p> <p>\u200b\u5f53\u65f6\u200b\u5bf9\u4e8e\u200b\u6211\u200b\u8fd9\u4e2a\u200b\u5c0f\u767d\u200b\u6765\u8bf4\u200b\uff0c\u200b\u7fa1\u6155\u200b\u7684\u200b\u6b7b\u6b7b\u7684\u200b~~~</p> <p>\u200b\u5f53\u5373\u200b\u5c31\u200b\u5728\u200b\u6211\u200b\u7684\u200b\u65e5\u8bb0\u672c\u200b\u4e0a\u200b\u8bb0\u4e0b\u200b\u4e86\u200b\u8fd9\u4e2a\u200b\u9879\u76ee\u200b\uff0c\u200b\u7acb\u8a93\u200b\u8981\u200bCopy\u200b\u4e00\u4e2a\u200b~\uff0c\u200b\u4f46\u200b\u5b9e\u5728\u200b\u662f\u200b\u592a\u200b\u5389\u5bb3\u200b\u4e86\u200b\uff0c\u200b\u6211\u200b\u8ba1\u5212\u200b\u4e00\u70b9\u4e00\u70b9\u200b\u7684\u200b\u5206\u200b\u6a21\u5757\u200b\u6765\u200b\u5b8c\u6210\u200b\u5427\u200b\uff0c\u200b\u6bd5\u7adf\u200b\u6211\u200b\u73b0\u5728\u200b\u4e5f\u200b\u521a\u200b\u5f00\u59cb\u200b\u5b66\u4e60\u200bFPGA\u200b\u624d\u200b2\u200b\u4e2a\u200b\u591a\u6708\u200b\uff0c\u200b\u6162\u6162\u6765\u200b\u5427\u200b</p>"},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8--%E5%AD%97%E7%AC%A6%E6%B8%B8%E8%B5%B0/#_2","title":"\u5c55\u793a","text":"<p>{% video https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/5630e01c6f5abda94114e0795bbfc825.mp4 %}</p> <p>\u200b\u8d77\u59cb\u200b\u8fd9\u4e2a\u200b\u529f\u80fd\u200b\u5e76\u200b\u4e0d\u96be\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u5177\u4f53\u200b\u7684\u200b\u5b9e\u73b0\u200b\u601d\u8def\u200b\u90fd\u200b\u5728\u200b\u8fd9\u200b\u7bc7\u6587\u7ae0\u200b\u91cc\u9762\u200b\u5199\u200b\u7684\u200b\u5f88\u200b\u6e05\u695a\u200b\u4e86\u200b\uff0c\u200b\u611f\u5174\u8da3\u200b\u7684\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u70b9\u200b\u8fdb\u53bb\u200b\u6162\u6162\u200b\u770b\u200b\u3002FPGA\uff1aVGA\u200b\u663e\u793a\u5668\u200b\u9a71\u52a8\u200b\u8bbe\u8ba1\u200b - quincy\u200b\u7684\u200b\u65e5\u8bb0\u200b</p> <p>\u200b\u5982\u679c\u200b\u5f88\u200b\u96be\u770b\u200b\u61c2\u200b\u7684\u8bdd\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u4e0b\u200b\u6211\u200b\u6587\u7ae0\u200b\u672b\u5c3e\u200b\u7684\u200b\u4e00\u4e2a\u200b\u53c2\u8003\u200b\u94fe\u63a5\u200b\uff0cFPGA\u200b\u5c31\u662f\u200b\u4ed6\u200b\u5e26\u200b\u6211\u200b\u5165\u95e8\u200b\u7684\u200b\u3002</p> <p>\u200b\u8fd9\u91cc\u200b\u53ea\u200b\u8bf4\u200b\u4e00\u4e0b\u200b\u6ce8\u610f\u200b\u7684\u200b\u70b9\u200b\u5427\u200b\uff1a</p> <ol> <li>\u200b\u9996\u5148\u200b\u8fd9\u4e2a\u200b\u7a0b\u5e8f\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7eaf\u200bverilog\u200b\u7a0b\u5e8f\u5b9e\u73b0\u200b\u7684\u200b\uff0c\u200b\u5f53\u7136\u200b\u8fd9\u91cc\u200b\u7528\u5230\u200b\u4e86\u200b\u4e00\u4e2a\u200bPLL\u200b\u9501\u76f8\u73af\u200b\uff0c\u200b\u5c06\u200b\u6211\u200b\u7684\u200b50MHZ\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u8fdb\u884c\u200b\u5206\u9891\u200b\uff0c\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b25MHZ\u200b\u7684\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u3002\uff08\u200b\u4e3a\u4ec0\u4e48\u200b\u8bf7\u200b\u770b\u200b\u4e0a\u9762\u200b\u7684\u200b\u90a3\u200b\u7bc7\u6587\u7ae0\u200b\uff09</li> <li>\u200b\u5b57\u6a21\u200b\u662f\u200b\u4f7f\u7528\u200b\u7684\u200b\u5b57\u6a21\u200b\u63d0\u53d6\u200b\u7684\u200b\u8f6f\u4ef6\u200b\u6765\u200b\u63d0\u53d6\u200b\u7684\u200b16\u200b\u8fdb\u5236\u200b\u6570\u636e\u200b</li> <li>\u200b\u6ce8\u610f\u200b\u5b57\u4f53\u200b\u663e\u793a\u200b\u7684\u200b\u533a\u57df\u200b\u548c\u200b\u4f60\u200b\u663e\u793a\u5668\u200b\u7684\u200b\u5206\u8fa8\u7387\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u662f\u200b640*480\u200b\u7684\u200b\u663e\u793a\u200b\u5206\u8fa8\u7387\u200b</li> </ol>"},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8--%E5%AD%97%E7%AC%A6%E6%B8%B8%E8%B5%B0/#_3","title":"\u4ee3\u7801","text":"<p>```verilog vga_colorb.v module vga_colorb(     input   wire    clk,     input   wire    rstn,</p> <pre><code>output  wire    hsync,\noutput  wire    vsync,\noutput  wire    [7:0]  vga_rgb\n</code></pre> <p>);</p> <p>wire    vga_clk ; wire    locked  ; wire    rst_n   ; wire [9:0]    pix_x   ; wire [9:0]    pix_y  ; wire [7:0]   pix_data;</p> <p>assign  rst_n = (rstn &amp;&amp; locked); // \u200b\u5b9e\u4f8b\u200b\u5316\u200bPLL clk_gen clk_gen_inst  (     .areset     ( ~rstn ),     .inclk0     ( clk ),     .c0         ( vga_clk ),     .locked     ( locked ) ); // \u200b\u5b9e\u4f8b\u200b\u5316\u200b\u63a7\u5236\u200b\u6a21\u5757\u200b vga_ctrl vga_ctrl_init(     .vga_clk   (vga_clk)  ,     .rstn      (rst_n)  ,     .pix_data  (pix_data)  , // \u200b\u663e\u793a\u200b\u6570\u636e\u200b</p> <pre><code>.pix_x     (pix_x  )  , // x\u200b\u8f74\u200b\u6709\u6548\u200b\u5750\u6807\u200b\u4f4d\u7f6e\u200b\n.pix_y     (pix_y  )  , // y\u200b\u8f74\u200b\u6709\u6548\u200b\u5750\u6807\u200b\u4f4d\u7f6e\u200b\n.hsync     (hsync  )  , // \u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\n.vsync     (vsync  )  , // \u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\n.vga_rgb   (vga_rgb)\n</code></pre> <p>); vga_pic vga_pic_inst(     . vga_clk(vga_clk)   ,     . rst_n  (rst_n)   ,     . pix_x  (pix_x)   ,     . pix_y  (pix_y)   ,    </p> <pre><code>.pix_data(pix_data)\n</code></pre> <p>);</p> <p>endmodule</p> <pre><code>\n\n\n```verilog vga_pic.v\nmodule vga_pic(\n    input           wire        vga_clk ,//25MHZ\n    input           wire        rst_n,\n    input           wire  [9:0] pix_x,\n    input           wire  [9:0] pix_y,\n\n    output          reg  [7:0]pix_data\n);\nreg         [255:0]         char [63:0];\nwire     [9:0]       char_x;\nwire     [9:0]       char_y;\nreg         [9:0]       CHAR_B_H, CHAR_B_V; // \u200b\u5b57\u7b26\u200b\u9700\u8981\u200b\u663e\u793a\u200b\u7684\u200b\u4f4d\u7f6e\u200b\n\nparameter       CHAR_W      =   10'd256,        // \u200b\u5b57\u7b26\u200b\u7684\u200b\u5bbd\u5ea6\u200b\n                CHAR_H      =   10'd64;         // \u200b\u5b57\u7b26\u200b\u7684\u200b\u9ad8\u5ea6\u200b\nparameter       BLACK       =   8'b00000000;    // RGB332\u200b\u8272\u5f69\u200b\u683c\u5f0f\u200b\nparameter       RED         =   8'b11100000;    // \n\nassign  char_x = (((pix_x &gt;= CHAR_B_H) &amp;&amp; (pix_x &lt; (CHAR_B_H + CHAR_W)))\n                &amp;&amp; ((pix_y &gt;= CHAR_B_V) &amp;&amp; (pix_y &lt; (CHAR_B_V +CHAR_H)))) \n                ? (pix_x - CHAR_B_H) : 10'h3ff;\nassign char_y = (((pix_x &gt;= CHAR_B_H) &amp;&amp; (pix_x &lt; (CHAR_B_H + CHAR_W)))\n                &amp;&amp; ((pix_y &gt;= CHAR_B_V) &amp;&amp; (pix_y &lt; (CHAR_B_V +CHAR_H)))) \n                ? (pix_y - CHAR_B_V) : 10'h3ff;\n\n// \u200b\u5206\u9891\u200b\u65f6\u949f\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u524d\u9762\u200b\u7684\u200b\u7a0b\u5e8f\u200b\u7528\u5230\u200b\u4e86\u200bPLL\u200b\u9501\u76f8\u73af\u200b\uff0c\u200b\u6240\u4ee5\u200b\u65e0\u6cd5\u200b\u4f7f\u7528\u200b50MHZ\u200b\u7684\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u8fdb\u884c\u200b\u5206\u9891\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u4f7f\u7528\u200b\u9501\u76f8\u73af\u200b\u8f93\u51fa\u200b\u7684\u200b25MHZ\u200b\u8fdb\u884c\u200b\u5206\u9891\u200b\nreg [27:0] cnt_500;\nreg    clk_500;\nalways @(posedge vga_clk or negedge rst_n) begin\n    if(!rst_n) begin\n        cnt_500 &lt;= 28'd0;\n        clk_500 &lt;= 1'd0;\n    end else if(cnt_500 == 28'd200000) begin\n        cnt_500 &lt;= 28'd0;\n        clk_500 &lt;= ~clk_500;\n    end else begin\n        cnt_500 &lt;= cnt_500 + 1'd1;\n    end\nend\n\n// \u200b\u5178\u578b\u200b\u9519\u8bef\u200b\u7684\u200b\u8fd0\u52a8\u200b\u7a0b\u5e8f\u200b\uff0c\n// always @(posedge clk_500 or negedge rst_n) begin\n//     if(!rst_n) begin\n//         CHAR_B_H &lt;= 10'd0;\n//         CHAR_B_V &lt;= 10'd0;\n//      EN_work &lt;= 1'd0;\n//     end else if(EN_work == 1'd0) begin\n//         CHAR_B_H &lt;= CHAR_B_H + 1'd1;\n//         CHAR_B_V &lt;= CHAR_B_V + 1'd1;\n//     end else if(EN_work == 1'd1) begin\n//         CHAR_B_H &lt;=CHAR_B_H -1'd1;\n//         CHAR_B_V &lt;=CHAR_B_V -1'd1;\n//     end else if((CHAR_B_H == 10'd382) || (CHAR_B_V == 10'd412)) begin\n//         EN_work &lt;= 1'd1;\n//     end else if((CHAR_B_H == 10'd0) || (CHAR_B_V == 10'd0)) begin\n//         EN_work &lt;= 1'd0;\n//     end\n// end\n\nreg [1:0] dir_h; // 0\u200b\u7684\u200b\u65f6\u5019\u200b\u53f3\u79fb\u200b\uff0c1\u200b\u7684\u200b\u65f6\u5019\u200b\u5de6\u8fb9\u200b=\u200b\u79fb\u200b\nreg [1:0] dir_v; // 0\u200b\u7684\u200b\u65f6\u5019\u200b\u4e0a\u79fb\u200b\uff0c1\u200b\u7684\u200b\u65f6\u5019\u200b\u4e0b\u79fb\u200b\n\nalways @(posedge clk_500 or negedge rst_n) begin\n    if(!rst_n) begin\n        CHAR_B_H &lt;= 10'd0;  // \u200b\u521d\u59cb\u5316\u200b\u5b57\u7b26\u200b\u6c34\u5e73\u200b\u4f4d\u7f6e\u200b\n        CHAR_B_V &lt;= 10'd0;  // \u200b\u521d\u59cb\u5316\u200b\u5b57\u7b26\u200b\u5782\u76f4\u200b\u4f4d\u7f6e\u200b\n        dir_h &lt;= 2'b0;      // \u200b\u521d\u59cb\u5316\u200b\u6c34\u5e73\u200b\u65b9\u5411\u200b\n        dir_v &lt;= 2'b0;      // \u200b\u521d\u59cb\u5316\u200b\u5782\u76f4\u200b\u65b9\u5411\u200b\n    end else begin\n        if (dir_h == 2'b0) begin // \u200b\u5411\u200b\u53f3\u200b\u8fd0\u52a8\u200b\n            CHAR_B_H &lt;= CHAR_B_H + 1'd1;\n            if (CHAR_B_H == 10'd382) begin\n                dir_h &lt;= 2'b1; // \u200b\u5230\u8fbe\u200b\u8fb9\u754c\u200b\uff0c\u200b\u6539\u53d8\u200b\u8fd0\u52a8\u200b\u65b9\u5411\u200b\n            end\n        end else begin  // \u200b\u5de6\u200b\u79fb\u52a8\u200b\n            CHAR_B_H &lt;= CHAR_B_H - 1'd1;\n            if (CHAR_B_H == 10'd0) begin\n                dir_h &lt;= 2'b0; // \u200b\u5230\u8fbe\u200b\u8fb9\u754c\u200b\uff0c\u200b\u6539\u53d8\u200b\u8fd0\u52a8\u200b\u65b9\u5411\u200b\n            end\n        end\n\n        if (dir_v == 2'b0) begin // \u200b\u5411\u4e0b\u200b\u8fd0\u52a8\u200b\n            CHAR_B_V &lt;= CHAR_B_V + 1'd1;\n            if (CHAR_B_V == 10'd412) begin\n                dir_v &lt;= 2'b1; // \u200b\u5230\u8fbe\u200b\u8fb9\u754c\u200b\uff0c\u200b\u6539\u53d8\u200b\u8fd0\u52a8\u200b\u65b9\u5411\u200b\n            end\n        end else begin // \u200b\u5411\u4e0a\u200b\u8fd0\u52a8\u200b\n            CHAR_B_V &lt;= CHAR_B_V - 1'd1;\n            if (CHAR_B_V == 10'd0) begin\n                dir_v &lt;= 2'b0; // \u200b\u5230\u8fbe\u200b\u8fb9\u754c\u200b\uff0c\u200b\u6539\u53d8\u200b\u8fd0\u52a8\u200b\u65b9\u5411\u200b\n            end\n        end\n    end\nend\n\n\n// \u200b\u4f7f\u7528\u200b\u5b57\u7b26\u200b\u53d6\u6a21\u200b\u8f6f\u4ef6\u200b\uff0c\u200b\u63d0\u53d6\u200b\u201c\u200b\u521b\u65b0\u200b\u79d1\u6280\u200b\u201d\u200b\u7684\u200b16\u200b\u8fdb\u5236\u200b\u5b57\u6a21\u200b\u6570\u636e\u200b\nalways @ (posedge vga_clk)\nbegin\n    char[0]       &lt;= 256'h 0000000000000000000000000000000000000000000000000000000000000000;\n    char[1]       &lt;= 256'h 0000000000000000000000000000000000000000000000000000000000000000;\n    char[2]       &lt;= 256'h 0000000000000000000000000000000000000000000000000000000000000000;\n    char[3]       &lt;= 256'h 0000000000000000000000000000000000000000000000000000000000000000;\n    char[4]       &lt;= 256'h 000000000000000000003C000000000000000000070000000001C00040000000;\n    char[5]       &lt;= 256'h 000000000038000000001F00000000000000000003E000000000F00078000000;\n    char[6]       &lt;= 256'h 00003800003E000000000F00000000000000060003E000000000F8007E000000;\n    char[7]       &lt;= 256'h 00003C00001F000000000700007000000000078001E000000000F0003E000000;\n    char[8]       &lt;= 256'h 00003E00001F000000000300007C000000000FC001E000000000F0003C000000;\n    char[9]       &lt;= 256'h 00003E00000F00000000000000FE000000001F8001C000000000F0003C000000;\n    char[10]      &lt;= 256'h00003C00000F0000000000E001FC000000003E0001C000000000E0003C000000;\n    char[11]      &lt;= 256'h00003C00000F0000000007F807C000000000780001C000000000E0003C000000;\n    char[12]      &lt;= 256'h00007800000E000000003FE00F0000000000E00001C000000000E00038000000;\n    char[13]      &lt;= 256'h00007C00000E0000000FFE003C0000000003C001C1C000000000E00038000000;\n    char[14]      &lt;= 256'h0000F780000E0000000FC301F000000000077001F1C000000000E000387C0000;\n    char[15]      &lt;= 256'h0000F3E0000E000000000381E000000000187800F1C000000000E0003FFC0000;\n    char[16]      &lt;= 256'h0001E1F83C0E0000000003C1E00000000000700071C000000000E0007FF00000;\n    char[17]      &lt;= 256'h0001C0FC1E0E000000030380E00000000000700011C000000000E007FFC00000;\n    char[18]      &lt;= 256'h0003C07C1E0E000000038300E00000000000700001C000000000FF1FFE000000;\n    char[19]      &lt;= 256'h0003803E1E06000000038600E0000000000033C001C00000000FFE0FF8000000;\n    char[20]      &lt;= 256'h0007001C1E06000000018600E003E00000003FE001C0000000FFF00030000000;\n    char[21]      &lt;= 256'h000700000E06000000008FF8E03FF0000001FE0781C0000000FFE00030000000;\n    char[22]      &lt;= 256'h000E00000E06000000007FE0E3FFF000001FF003C1C000000000E00030000000;\n    char[23]      &lt;= 256'h001C00000E060000000FF800FFE0000003FF7001E1C000000000E00030000000;\n    char[24]      &lt;= 256'h003803000E0600000FFF7000E0E000001FF8F000E1C000000000E00030000000;\n    char[25]      &lt;= 256'h00300FC00E0600000FF07800E0F000000FE0F00041C000000000E20033800000;\n    char[26]      &lt;= 256'h006FFFE00E06000003003800E0F000000301F00001C0F8000000EC003FE00000;\n    char[27]      &lt;= 256'h00C7C1F00E07000000003860C0F000000003F80001DFFC000000F801FFE00000;\n    char[28]      &lt;= 256'h018701E00E07000000003FF1C07000000003FF0003FFFC000000F07FE3E00000;\n    char[29]      &lt;= 256'h030701C00E0700000000FF81C0700000000777807FF800000001E07F03C00000;\n    char[30]      &lt;= 256'h060701C01E07000001FFF801C0700000000E73BFFFC000000003E00003C00000;\n    char[31]      &lt;= 256'h080701C01E07000000FE3801C0700000001C707FE1C000000007E00003800000;\n    char[32]      &lt;= 256'h000701C01E07000000003801C0700000001C700C01C00000001EE03C03800000;\n    char[33]      &lt;= 256'h000701C01E07000000003F01C07000000038700001C00000007CE01E03800000;\n    char[34]      &lt;= 256'h00071FC01C07000000303BC1807000000070700001C0000001F8E00707000000;\n    char[35]      &lt;= 256'h00070F800C070000003039E38070000000E0700001C000000FF0E00387000000;\n    char[36]      &lt;= 256'h000707800C070000007038E38070000001C0700001C000000FC0E001C7000000;\n    char[37]      &lt;= 256'h000707800007000000703863807000000300700001C000000780E000EE000000;\n    char[38]      &lt;= 256'h000703000007000000F03807007000000600700001C000000300E0007E000000;\n    char[39]      &lt;= 256'h000702040007000000E03807007000000800700001C000000000E0003C000000;\n    char[40]      &lt;= 256'h000700060007000000E03806006000001000700001C000000000E0007E000000;\n    char[41]      &lt;= 256'h000700060007000000E3780E006000000000700001C000000000E000FF800000;\n    char[42]      &lt;= 256'h00030006000F000000C1F81C006000000000700001C000000000E001F7C00000;\n    char[43]      &lt;= 256'h0003800E020F00000000F818006000000000700001C000000000E007C3F00000;\n    char[44]      &lt;= 256'h0003C03E01FF000000007830006000000000F00001C00000001FE01F81FC0000;\n    char[45]      &lt;= 256'h0003FFFE00FF000000003060006000000000F00001C000000007E0FC00FF8000;\n    char[46]      &lt;= 256'h0001FFFE007F000000000000006000000000700001C000000003E3E0007FF000;\n    char[47]      &lt;= 256'h00007FF8007E000000000000006000000000600001C000000001C000003FFC00;\n    char[48]      &lt;= 256'h00000000003E000000000000006000000000600001C000000001C00000000000;\n    char[49]      &lt;= 256'h00000000003C000000000000006000000000200001C000000000800000000000;\n    char[50]      &lt;= 256'h0000000000180000000000000040000000000000018000000000000000000000;\n    char[51]      &lt;= 256'h0000000000000000000000000040000000000000008000000000000000000000;\n    char[52]      &lt;= 256'h0000000000000000000000000000000000000000008000000000000000000000;\n    char[53]      &lt;= 256'h0000000000000000000000000000000000000000000000000000000000000000;\n    char[54]      &lt;= 256'h0000000000000000000000000000000000000000000000000000000000000000;\n    char[55]      &lt;= 256'h0000000000000000000000000000000000000000000000000000000000000000;\n    char[56]      &lt;= 256'h0000000000000000000000000000000000000000000000000000000000000000;\n    char[57]      &lt;= 256'h0000000000000000000000000000000000000000000000000000000000000000;\n    char[58]      &lt;= 256'h0000000000000000000000000000000000000000000000000000000000000000;\n    char[59]      &lt;= 256'h0000000000000000000000000000000000000000000000000000000000000000;\n    char[60]      &lt;= 256'h0000000000000000000000000000000000000000000000000000000000000000;\n    char[61]      &lt;= 256'h0000000000000000000000000000000000000000000000000000000000000000;\n    char[62]      &lt;= 256'h0000000000000000000000000000000000000000000000000000000000000000;\n    char[63]      &lt;= 256'h0000000000000000000000000000000000000000000000000000000000000000;\nend\n\n// \u200b\u5982\u679c\u200b\u626b\u63cf\u200b\u5230\u200b\u4e86\u200b\u8981\u200b\u663e\u793a\u200b\u7684\u200b\u50cf\u7d20\u200b\uff0c\u200b\u5219\u200b\u8d4b\u503c\u200b\u7ed9\u200b\u7ea2\u8272\u200b\uff0c\u200b\u5426\u5219\u200b\u8d4b\u503c\u200b\u7ed9\u200b\u9ed1\u8272\u200b\nalways@(posedge vga_clk or negedge rst_n)\n    if(rst_n == 1'b0)\n        pix_data    &lt;= BLACK;\n    else    if((((pix_x &gt;= (CHAR_B_H - 1'b1))\n                &amp;&amp; (pix_x &lt; (CHAR_B_H + CHAR_W -1'b1)))\n                &amp;&amp; ((pix_y &gt;= CHAR_B_V) &amp;&amp; (pix_y &lt; (CHAR_B_V + CHAR_H))))\n                &amp;&amp; (char[char_y][10'd255 - char_x] == 1'b1))\n        pix_data    &lt;=  RED;\n    else\n        pix_data    &lt;=  BLACK;\n\nendmodule\n</code></pre> <p>```verilog vga_ctrl.v module vga_ctrl(     input       wire                vga_clk     ,     input       wire                rstn        ,     input       wire     [15:0]     pix_data    , // \u200b\u663e\u793a\u200b\u6570\u636e\u200b</p> <pre><code>output      wire     [9:0]      pix_x       , // x\u200b\u8f74\u200b\u6709\u6548\u200b\u5750\u6807\u200b\u4f4d\u7f6e\u200b\noutput      wire     [9:0]      pix_y       , // y\u200b\u8f74\u200b\u6709\u6548\u200b\u5750\u6807\u200b\u4f4d\u7f6e\u200b\noutput      wire                hsync       , // \u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\noutput      wire                vsync       , // \u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\noutput      wire     [7:0]     vga_rgb\n</code></pre> <p>);</p> <p>parameter   H_SYNC  = 10'd96    ,             H_BACK  = 10'd40    ,             H_LEFT  = 10'd8     ,             H_VALID = 10'd640   ,             H_RIGHT = 10'd8     ,             H_FRONT = 10'd8     ,             H_TOTAL = 10'd800   ;</p> <p>parameter   V_SYNC  = 10'd2     ,             V_BACK  = 10'd25    ,             V_TOP   = 10'd8     ,             V_VALID = 10'd480   ,             V_BOTTOM= 10'd8     ,             V_FRONT = 10'd2     ,             V_TOTAL = 10'd525   ;</p> <p>reg     [9:0]       cnt_h ; reg     [9:0]       cnt_v ; wire                 rgb_valid ; wire                 pix_data_req ;</p> <p>// cnt_h\u200b\u884c\u200b\u8ba1\u6570\u5668\u200b\uff0c\u200b\u8ba1\u6570\u200b\u8303\u56f4\u200b0-799 always @(posedge vga_clk or negedge rstn) begin     if(!rstn)         cnt_h       &lt;=      10'd0;     else if (cnt_h == H_TOTAL-1'd1)         cnt_h       &lt;=      10'd0;     else         cnt_h       &lt;=      cnt_h + 1'd1; end</p> <p>// cnt_v\u200b\u5217\u200b\u8ba1\u6570\u5668\u200b\uff0c\u200b\u8ba1\u6570\u200b\u8303\u56f4\u200b0-524\u200b\u5e76\u4e14\u200b\u884c\u200b\u8ba1\u6570\u5668\u200b\u8ba1\u6570\u200b\u5230\u200b799 always @(posedge vga_clk or negedge rstn) begin     if(!rstn)         cnt_v       &lt;=      10'd0;     else if ((cnt_h == H_TOTAL-1'd1) &amp;&amp; (cnt_v == V_TOTAL - 1'd1))         cnt_v       &lt;=      10'd0;     else if(cnt_h == H_TOTAL-1'd1)         cnt_v       &lt;=      cnt_v + 1'd1;     else         cnt_v       &lt;=      cnt_v; end</p> <p>// \u200b\u5b9a\u4e49\u200b\u6709\u6548\u200b\u6570\u636e\u200b\u8303\u56f4\u200b\uff0c assign rgb_valid = ((cnt_h &gt;= H_SYNC + H_BACK + H_LEFT)                   &amp;&amp;  (cnt_h &lt; H_SYNC + H_BACK + H_LEFT + H_VALID)                  &amp;&amp;  (cnt_v &gt;= V_SYNC + V_BACK + V_TOP)                  &amp;&amp;  (cnt_v &lt; V_SYNC + V_BACK + V_TOP + V_VALID)) ? 1'd1 : 1'd0;</p> <p>assign pix_data_req = ((cnt_h &gt;= H_SYNC + H_BACK + H_LEFT - 1'd1)                   &amp;&amp;  (cnt_h &lt; H_SYNC + H_BACK + H_LEFT + H_VALID -1'd1)                  &amp;&amp;  (cnt_v &gt;= V_SYNC + V_BACK + V_TOP)                  &amp;&amp;  (cnt_v &lt; V_SYNC + V_BACK + V_TOP + V_VALID)) ? 1'd1 : 1'd0;</p> <p>assign pix_x = (pix_data_req == 1'd1) ? (cnt_h - (H_SYNC + H_BACK + H_LEFT - 1'd1)) : 10'h3ff; assign pix_y = (pix_data_req == 1'd1) ? (cnt_v - (V_SYNC + V_BACK + V_TOP)) : 10'h3ff; assign hsync = (cnt_h &lt;= H_SYNC - 1'd1) ? 1'd1 : 1'd0; assign vsync = (cnt_v &lt;= V_SYNC - 1'd1) ? 1'd1 : 1'd0; assign vga_rgb = (rgb_valid == 1'd1) ? pix_data : 8'h0000;</p> <p>endmodule ```</p>"},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8--%E5%AD%97%E7%AC%A6%E6%B8%B8%E8%B5%B0/#_4","title":"\u53c2\u8003\u200b\u94fe\u63a5","text":"<ol> <li>66-\u200b\u7b2c\u4e8c\u5341\u4e5d\u200b\u8bb2\u200b-VGA\u200b\u663e\u793a\u5668\u200b\u9a71\u52a8\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u9a8c\u8bc1\u200b\uff08\u200b\u4e00\u200b\uff09_\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b_bilibili</li> </ol>"},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/","title":"VGA\u200b\u663e\u793a\u5668\u200b\u9a71\u52a8\u200b\u8bbe\u8ba1","text":"<p>{% image https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504182942.png \u200b\u5b9e\u9a8c\u200b\u7ed3\u679c\u200b1 download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504182942.png  bg:white %}</p> <p>{% image https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504190807.png \u200b\u4eff\u771f\u200b\u6ce2\u5f62\u200b download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504190807.png  bg:white %}</p> <p>\u200b\u6240\u6709\u200b\u5de5\u7a0b\u200b\u6587\u4ef6\u200b\u5747\u200b\u5df2\u200b\u5f00\u6e90\u200b\uff0c\u200b\u83b7\u53d6\u200b\u5730\u5740\u200b\uff1azikwq/FPGA_prj: FPGA_prj (github.com)</p>"},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#vga","title":"VGA\u200b\u4ecb\u7ecd","text":""},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#1","title":"1. \u200b\u80cc\u666f","text":"<p>VGA(\u200b\u89c6\u9891\u200b\u56fe\u5f62\u200b\u9635\u5217\u200b)\uff0c\u200b\u662f\u200b\u4e00\u79cd\u200b\u7535\u8111\u200b\u663e\u793a\u200b\u6807\u51c6\u200b\uff0c\u200b\u662f\u200bIBM\u200b\u5728\u200b1987\u200b\u5e74\u200b\u63d0\u51fa\u200b\u7684\u200b\u4e00\u4e2a\u200b\u4f7f\u7528\u200b\u7c7b\u6bd4\u200b\u8baf\u53f7\u200b\u7684\u200b\u7535\u8111\u200b\u663e\u793a\u200b\u6807\u51c6\u200b\u3002\u200b\u4e2a\u4eba\u7535\u8111\u200b\u5728\u200b\u52a0\u8f7d\u200b\u81ea\u5df1\u200b\u72ec\u7279\u200b\u7684\u200b\u9a71\u52a8\u7a0b\u5e8f\u200b\u4e4b\u524d\u200b\uff0c\u200b\u90fd\u200b\u5fc5\u987b\u200b\u652f\u6301\u200bVGA\u200b\u7684\u200b\u6807\u51c6\u200b\uff0c\u200b\u7edd\u5927\u591a\u6570\u200b\u663e\u5361\u200b\u90fd\u200b\u5e26\u6709\u200b\u8fd9\u79cd\u200b\u63a5\u53e3\u200b\u3002</p> <p>\u200b\u8bf4\u200b\u5230\u200bVGA\u200b\u63a5\u53e3\u200b\uff0c\u200b\u76f8\u4fe1\u200b\u5f88\u591a\u200b\u670b\u53cb\u200b\u90fd\u200b\u4e0d\u4f1a\u200b\u964c\u751f\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8fd9\u79cd\u200b\u63a5\u53e3\u200b\u662f\u200b\u7535\u8111\u200b\u663e\u793a\u5668\u200b\u4e0a\u200b\u6700\u200b\u4e3b\u8981\u200b\u7684\u200b\u63a5\u53e3\u200b\uff0c\u200b\u4ece\u200b\u5757\u5934\u200b\u5de8\u5927\u200b\u7684\u200bCRT\u200b\u663e\u793a\u5668\u200b\u65f6\u4ee3\u200b\u5f00\u59cb\u200b\uff0cVGA\u200b\u63a5\u53e3\u200b\u5c31\u200b\u88ab\u200b\u4f7f\u7528\u200b\uff0c\u200b\u5e76\u4e14\u200b\u4e00\u76f4\u200b\u6cbf\u7528\u81f3\u4eca\u200b\uff0c\u200b\u53e6\u5916\u200bVGA\u200b\u63a5\u53e3\u200b\u8fd8\u200b\u88ab\u200b\u79f0\u4e3a\u200bD-Sub\u200b\u63a5\u53e3\u200b\u3002</p> <p>{% image https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504174047.png VGA\u200b\u793a\u610f\u56fe\u200b download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504174047.png  bg:white %}</p> <p>VGA\u200b\u652f\u6301\u200b\u5728\u200b640x480\u200b\u7684\u200b\u8f83\u200b\u9ad8\u5206\u8fa8\u7387\u200b\u4e0b\u200b\u540c\u65f6\u200b\u663e\u793a\u200b16\u200b\u79cd\u200b\u8272\u5f69\u200b\u6216\u200b256\u200b\u79cd\u200b\u7070\u5ea6\u200b\u3002\u200b\u540c\u65f6\u200b\u5728\u200b320x240\u200b\u5206\u8fa8\u7387\u200b\u4e0b\u200b\u53ef\u4ee5\u200b\u540c\u65f6\u200b\u663e\u793a\u200b256\u200b\u79cd\u989c\u8272\u200b\u3002</p> <p>VGA\u200b\u63a5\u53e3\u200b\u5171\u6709\u200b15\u200b\u9488\u200b\uff0c\u200b\u5206\u6210\u200b3\u200b\u6392\u200b\uff0c\u200b\u6bcf\u6392\u200b5\u200b\u9488\u200b\u3002\u200b\u4f20\u8f93\u200b\u7ea2\u7eff\u84dd\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u4ee5\u53ca\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\uff08\u200b\u573a\u200b\u540c\u6b65\u200b\u548c\u884c\u200b\u540c\u6b65\u200b\uff09\u3002\u200b\u4f7f\u7528\u200bVGA\u200b\u8fde\u63a5\u200b\u8bbe\u5907\u200b\uff0c\u200b\u7ebf\u7f06\u200b\u957f\u5ea6\u200b\u6700\u597d\u200b\u4e0d\u8981\u200b\u8d85\u8fc7\u200b10\u200b\u7c73\u200b\u3002</p> <p>{% image https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504174547.png VGA\u200b\u7ba1\u811a\u200b\u5b9a\u4e49\u200b\u56fe\u200b download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504174547.png  bg:white %}</p>"},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#2","title":"2. \u200b\u7279\u5f81","text":"<p>1\u3001\u200b\u662f\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u7684\u200b\u4f20\u8f93\u200b\uff0c\u200b\u968f\u7740\u200b\u663e\u793a\u5668\u200b\u7684\u200b\u5206\u8fa8\u7387\u200b\u8d8a\u9ad8\u200b\u753b\u9762\u200b\u5c31\u200b\u4f1a\u200b\u8d8a\u200b\u6a21\u7cca\u200b\u3002\u200b\u4e00\u822c\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u5728\u200b\u8d85\u8fc7\u200b1280\u00d71024\u200b\u5206\u8fa8\u7387\u200b\u4ee5\u4e0a\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u5c31\u200b\u4f1a\u200b\u51fa\u73b0\u200b\u660e\u663e\u200b\u7684\u200b\u8bef\u5dee\u200b\u3002</p> <p>2\u3001\u200b\u56e0\u4e3a\u200b\u662f\u200b\u6a21\u62df\u200b\u4fe1\u606f\u200b\uff0c\u200b\u4fe1\u53f7\u200b\u6781\u5176\u200b\u5bb9\u6613\u200b\u53d7\u200b\u5e72\u6270\u200b\u3002</p> <p>3\u3001\u200b\u4e0d\u80fd\u200b\u4f20\u8fbe\u200b\u97f3\u9891\u200b\u3002</p> <p>4\u3001\u200b\u4e00\u822c\u200b\u4e0d\u200b\u52a0\u200b\u653e\u5927\u5668\u200b\u548c\u200b\u8f6c\u6362\u5668\u200b\u5728\u200b30\u200b\u7c73\u5de6\u53f3\u200b\uff0c\u200b\u52a0\u200b\u653e\u5927\u5668\u200b\u548c\u200b\u653e\u5927\u200b\u8f6c\u6362\u5668\u200b\u53ef\u4ee5\u200b\u5230\u200b150\u200b\u7c73\u200b\u3002</p>"},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#3","title":"3. \u200b\u539f\u7406\u56fe","text":"<p>\u200b\u6211\u200b\u5728\u200b\u8fdb\u884c\u200bVGA\u200b\u663e\u793a\u5668\u200b\u9a71\u52a8\u200b\u65f6\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6211\u200b\u4f7f\u7528\u200b\u7684\u200bFPGA\u200b\u5f00\u53d1\u677f\u200b\u662f\u200b\u81f3\u200b\u82af\u200bz1\u200b\u5f00\u53d1\u677f\u200b\uff0c\u200b\u800c\u200b\u6211\u200b\u770b\u5230\u200b\u89c6\u9891\u6559\u7a0b\u200b\u662f\u200b\u5728\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\u4e2d\u200b\u91ce\u706b\u200bFPGA\u200b\u7684\u200b\u6559\u7a0b\u200b\u3002\u200b\u5f53\u65f6\u200b\u6211\u200b\u5728\u200b\u8ddf\u7740\u200b\u89c6\u9891\u200b\u505a\u200b\u5b8c\u200b\u7a0b\u5e8f\u200b\u540e\u200b\uff0c\u200b\u5728\u200b\u914d\u7f6e\u200b\u5f15\u811a\u200b\u7684\u200b\u65f6\u5019\u200b\u53d1\u73b0\u200b\u6211\u8981\u200b\u4f20\u8f93\u200b\u51fa\u53bb\u200b\u7684\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u91ce\u706b\u200b\u5b9a\u4e49\u200b\u4e86\u200b16\u200b\u4f4d\u200b\u5bbd\u200b\uff0c\u200b\u800c\u200b\u6211\u200b\u7684\u200b\u5f00\u53d1\u677f\u200b\u539f\u7406\u56fe\u200b\u53ea\u7559\u200b\u51fa\u6765\u200b8\u200b\u4e2a\u200b\u5f15\u811a\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u6211\u200b\u4f20\u8f93\u200b\u51fa\u200b\u7684\u200b\u6570\u636e\u200b\u5fc5\u987b\u200b\u662f\u200b8\u200b\u4f4d\u200b\u5bbd\u200b\u7684\u200b\u6570\u636e\u200b\u624d\u884c\u200b\u3002</p> <p>\u200b\u540e\u6765\u200b\u6211\u200b\u627e\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u8d44\u6599\u200b\u624d\u200b\u53d1\u73b0\u200b\uff0c\u200b\u91ce\u706b\u200b\u6559\u7a0b\u200b\u91cc\u9762\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200bRGB565\u200b\u534f\u8bae\u200b\uff0c\u200b\u800c\u200b\u6211\u200b\u7684\u200b\u539f\u7406\u56fe\u200b\u662f\u200bRGB332\u200b\u534f\u8bae\u200b\uff0c\u200b\u6240\u4ee5\u200b\u9700\u8981\u200b\u4fee\u6539\u200b\u5bf9\u5e94\u200b\u7684\u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\u7684\u200b\u4f4d\u200b\u5bbd\u200b\u4ee5\u53ca\u200b\u91cd\u65b0\u200b\u4f7f\u7528\u200b8\u200b\u4f4d\u200b\u5bbd\u200b\u5b9a\u4e49\u200b\u8f93\u51fa\u200b\u4e0d\u540c\u200b\u7684\u200b\u989c\u8272\u200b\u3002\u200b\u5176\u5b9e\u200b\u4e5f\u200b\u5f88\u200b\u7b80\u5355\u200b\uff0c\u200b\u53ea\u4e0d\u8fc7\u200b\u60f3\u200b\u5728\u200b\u8fd9\u91cc\u200b\u8bb0\u5f55\u200b\u4e00\u4e0b\u200b\u3002\u200b\u56e0\u4e3a\u200b\u5f53\u5929\u200b\u665a\u4e0a\u200b\u6211\u200b\u56de\u5230\u200b\u5bbf\u820d\u200b\u8fd8\u200b\u786c\u200b\u60f3\u200b\u4e86\u200b\u4e00\u200b\u665a\u4e0a\u200b\u4e3a\u5565\u200b\u4e0d\u200b\u4e00\u6837\u200b\u561e\u200b\u3002\u200b\u4eca\u5929\u200b\u56de\u5230\u200b\u5b9e\u9a8c\u5ba4\u200b\u6211\u200b\u91cd\u65b0\u200b\u4e86\u200b\u539f\u7406\u56fe\u200b\u624d\u200b\u660e\u767d\u200b\u54c8\u54c8\u200b</p> <p>{% image https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504182633.png RGB332\u200b\u539f\u7406\u56fe\u200b download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504182633.png  bg:white %}</p> <p>{% image https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504182743.png RGB565\u200b\u539f\u7406\u56fe\u200b download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504182743.png  bg:white %}</p> <p>\u200b\u53ef\u4ee5\u200b\u5bf9\u6bd4\u200b\u770b\u200b\u51fa\u6765\u200b\uff0cRGB332\u200b\u548c\u200bRGB565\u200b\u7684\u200b\u4e00\u4e9b\u200b\u4e0d\u200b\u4e00\u6837\u200b\u7684\u200b\u5730\u65b9\u200b\uff0c\u200b\u4f46\u662f\u200b\u5728\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u539f\u7406\u56fe\u200b\u4e2d\u200b\uff0c\u200b\u90fd\u200b\u662f\u200b\u4f7f\u7528\u6743\u200b\u7535\u963b\u200b\u7f51\u7edc\u200b\u6765\u200b\u9a71\u52a8\u200bVGA\u200b\u7684\u200b\uff0c\u200b\u8fd8\u6709\u200b\u4e00\u79cd\u200b\u65b9\u6cd5\u200b\u5c31\u662f\u200b\u4f7f\u7528\u200bAD\u200b\u6a21\u6570\u8f6c\u6362\u200b\u82af\u7247\u200b\u6765\u200b\u8f93\u51fa\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u9a71\u52a8\u200bVGA\uff0c\u200b\u5e38\u89c1\u200b\u7684\u200bAD\u200b\u82af\u7247\u200b\u5982\u200b\uff1aAD7123</p> <p>RGB\u200b\u4fe1\u53f7\u200b\u5728\u200b\u4f7f\u7528\u200b\u65f6\u200b\u7684\u200b\u4f4d\u200b\u5bbd\u200b\u6709\u200b\u4e09\u79cd\u200b\u5e38\u89c1\u200b\u683c\u5f0f\u200b\uff0c\u200b\u4ee5\u200b\u4f60\u200b\u7684\u200bVGA\u200b\u89e3\u7801\u200b\u82af\u7247\u200b\u7684\u200b\u914d\u7f6e\u200b\u6709\u5173\u200b\u3002 \u3000\u30001. RGB_8\uff0cR\uff1aG\uff1aB = 3\uff1a3\uff1a2\uff0c\u200b\u5373\u200bRGB332 \u3000\u30002. RGB_16\uff0cR\uff1aG\uff1aB = 5\uff1a6\uff1a5\uff0c\u200b\u5373\u200bRGB565 \u3000\u30003. RGB_24\uff0cR\uff1aG\uff1aB = 8\uff1a8\uff1a8\uff0c\u200b\u5373\u200bRGB888</p>"},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#4","title":"4. \u200b\u65f6\u5e8f\u200b\u56fe","text":"<p>VGA\u200b\u663e\u793a\u5668\u200b\u626b\u63cf\u200b\u65b9\u5f0f\u200b\u5206\u4e3a\u200b\u9010\u884c\u626b\u63cf\u200b\u548c\u200b\u9694\u884c\u626b\u63cf\u200b\uff1a\u200b\u9010\u884c\u626b\u63cf\u200b\u662f\u200b\u626b\u63cf\u200b\u4ece\u200b\u5c4f\u5e55\u200b\u5de6\u4e0a\u89d2\u200b\u4e00\u70b9\u200b\u5f00\u59cb\u200b\uff0c\u200b\u4ece\u200b\u5de6\u200b\u50cf\u200b\u53f3\u200b\u9010\u70b9\u200b\u626b\u63cf\u200b\uff0c\u200b\u6bcf\u200b\u626b\u63cf\u200b\u5b8c\u200b\u4e00\u884c\u200b,\u200b\u7535\u5b50\u675f\u200b\u56de\u5230\u200b\u5c4f\u5e55\u200b\u7684\u200b\u5de6\u8fb9\u200b\u4e0b\u200b\u4e00\u884c\u200b\u7684\u200b\u8d77\u59cb\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u5728\u200b\u8fd9\u200b\u671f\u95f4\u200b\uff0cCRT\u200b\u5bf9\u200b\u7535\u5b50\u675f\u200b\u8fdb\u884c\u200b\u6d88\u9690\u200b\uff0c\u200b\u6bcf\u884c\u200b\u7ed3\u675f\u200b\u65f6\u200b\uff0c\u200b\u7528\u884c\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\u8fdb\u884c\u200b\u540c\u6b65\u200b\uff1b\u200b\u5f53\u200b\u626b\u63cf\u200b\u5b8c\u200b\u6240\u6709\u200b\u7684\u200b\u884c\u200b\uff0c\u200b\u5f62\u6210\u200b\u4e00\u5e27\u200b\uff0c\u200b\u7528\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\u8fdb\u884c\u200b\u573a\u200b\u540c\u6b65\u200b\uff0c\u200b\u5e76\u200b\u4f7f\u200b\u626b\u63cf\u200b\u56de\u5230\u200b\u5c4f\u5e55\u200b\u5de6\u4e0a\u65b9\u200b\uff0c\u200b\u540c\u65f6\u200b\u8fdb\u884c\u200b\u573a\u200b\u6d88\u9690\u200b,\u200b\u5f00\u59cb\u200b\u4e0b\u200b\u4e00\u5e27\u200b\u3002\u200b\u9694\u884c\u626b\u63cf\u200b\u662f\u200b\u6307\u200b\u7535\u5b50\u675f\u200b\u626b\u63cf\u200b\u65f6\u200b\u6bcf\u9694\u200b\u4e00\u884c\u200b\u626b\u200b\u4e00\u7ebf\u200b\uff0c\u200b\u5b8c\u6210\u200b\u4e00\u5c4f\u200b\u540e\u200b\u5728\u200b\u8fd4\u56de\u200b\u6765\u200b\u626b\u63cf\u200b\u5269\u4e0b\u200b\u7684\u200b\u7ebf\u200b\uff0c\u200b\u9694\u884c\u626b\u63cf\u200b\u7684\u200b\u663e\u793a\u5668\u200b\u95ea\u70c1\u200b\u7684\u200b\u5389\u5bb3\u200b\uff0c\u200b\u4f1a\u200b\u8ba9\u200b\u4f7f\u7528\u8005\u200b\u7684\u200b\u773c\u775b\u200b\u75b2\u52b3\u200b\u3002\u200b\u56e0\u6b64\u200b\u6211\u4eec\u200b\u4e00\u822c\u200b\u90fd\u200b\u91c7\u7528\u200b\u9010\u884c\u626b\u63cf\u200b\u7684\u200b\u65b9\u5f0f\u200b\u3002</p> <p>{% image https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504181854.png \u200b\u626b\u63cf\u200b\u65b9\u5f0f\u200b download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504181854.png  bg:white %}</p> <p>VGA\u200b\u65f6\u5e8f\u200b\u6807\u51c6\u200b\uff0c\u200b\u4e3b\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u70b9\u200b\u5c31\u662f\u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\u548c\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5728\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\u5f00\u59cb\u200b\u4e4b\u540e\u200b\u5e76\u200b\u4e0d\u200b\u76f4\u63a5\u200b\u662f\u200b\u6709\u6548\u200b\u56fe\u50cf\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u5728\u200b\u4e00\u4e2a\u200b\u5b8c\u6574\u200b\u7684\u200b\u626b\u63cf\u200b\u5468\u671f\u200b\u4e2d\u200b\uff0c\u200b\u5206\u4e3a\u200b\u540c\u6b65\u200b\u3001\u200b\u540e\u200b\u6cbf\u200b\u3001\u200b\u5de6\u200b\u8fb9\u6846\u200b\u3001\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u3001\u200b\u53f3\u8fb9\u200b\u6846\u200b\u3001\u200b\u524d\u6cbf\u200b\u3002\u200b\u53ea\u6709\u200b\u5728\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u7684\u200b\u90e8\u5206\u200b\u624d\u200b\u662f\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\uff08\u200b\u8bf4\u200b\u4e86\u200b\u8ddf\u200b\u6ca1\u200b\u8bf4\u200b\u4e00\u6837\u200b\uff09</p> <p>{% image https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504184545.png 20240504184545 download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504184545.png  bg:white %}</p> <p>{% image https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504182857.png VGA\u200b\u663e\u793a\u200b\u6a21\u5f0f\u200b\u53ca\u200b\u76f8\u5173\u200b\u53c2\u6570\u200b download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504182857.png bg:white %}</p> <p>{% image https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504183727.png VGA\u200b\u65f6\u5e8f\u200b\u6807\u51c6\u200b download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504183727.png  bg:white %}</p> <p>\u200b\u884c\u200b\u626b\u63cf\u200b\u5468\u671f\u200b\u7684\u200b\u5355\u4f4d\u200b\u662f\u200b\u50cf\u7d20\u200b\uff01</p> <p>{% image https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504184250.png \u200b\u884c\u200b\u626b\u63cf\u200b\u5468\u671f\u200b download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504184250.png  bg:white %}</p> <p>\u200b\u573a\u200b\u626b\u63cf\u200b\u5468\u671f\u200b\u7684\u200b\u5355\u4f4d\u200b\u662f\u200b\u884c\u200b\uff01</p> <p>{% image https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504184444.png 20240504184444 download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504184444.png  bg:white %}</p>"},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#_1","title":"\u7a0b\u5e8f\u8bbe\u8ba1","text":""},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#1_1","title":"1. \u200b\u7cfb\u7edf\u200b\u6846\u56fe","text":"<p>{% image https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504184723.png 20240504184723 download:https://cdn.jsdelivr.net/gh/zikwq/Blog_Pic/20240504184723.png  bg:white %}</p> <p>\u200b\u4e00\u4e2a\u200b\u9879\u76ee\u200b\u7684\u200b\u8bbe\u8ba1\u200b\uff0c\u200b\u6211\u4eec\u200b\u9996\u5148\u200b\u9700\u8981\u200b\u8bbe\u8ba1\u200b\u597d\u200b\u6574\u4e2a\u200b\u7cfb\u7edf\u200b\u7684\u200b\u6846\u56fe\u200b\uff0c\u200b\u5c06\u200b\u529f\u80fd\u200b\u5206\u6210\u200b\u6a21\u5757\u200b\uff0c\u200b\u7136\u540e\u200b\u81ea\u4e0b\u800c\u4e0a\u200b\u4e00\u6b65\u200b\u4e00\u6b65\u200b\u5206\u6790\u200b\u3002\u200b\u5b8c\u6210\u200b\u4e00\u4e2a\u200b\u6a21\u5757\u200b\u540e\u200b\uff0c\u200b\u8fdb\u884c\u200b\u4eff\u771f\u200b\u9a8c\u8bc1\u200b</p> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u7cfb\u7edf\u200b\u6846\u56fe\u200b\u91cc\u9762\u200b\uff0c\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200bPLL\u200b\u9501\u76f8\u73af\u200bIP\u200b\u6838\u5206\u200b\u51fa\u6765\u200b\u4e00\u4e2a\u200b25MHZ\u200b\u7684\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u4f5c\u4e3a\u200bVGA\u200b\u7684\u200b\u65f6\u949f\u200b\uff0c\u200b\u5e76\u4e14\u200b\u8f93\u51fa\u200b\u4e00\u4e2a\u200b\u9501\u5b9a\u200b\u4fe1\u53f7\u200blocked\uff0c\u200b\u5c06\u200b\u9501\u5b9a\u200b\u4fe1\u53f7\u200b\u548c\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\u4f7f\u7528\u200b\u4e0e\u200b\u95e8\u200b\u8fde\u63a5\u200b\uff0c\u200b\u5176\u200b\u8f93\u51fa\u200b\u4f5c\u4e3a\u200b\u5176\u4ed6\u200b\u6a21\u5757\u200b\u7684\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\u3002</p> <p>\u200b\u5728\u200bvga_pic\u200b\u6a21\u5757\u200b\u4e2d\u200b\uff0c\u200b\u4e3b\u8981\u200b\u662f\u200b\u4ea7\u751f\u200b8\u200b\u4f4d\u200b\u5bbd\u200b\u7684\u200b\u56fe\u50cf\u200b\u6570\u636e\u200b\uff0c\u200b\u662f\u200b\u6839\u636e\u200b\u8f93\u5165\u200b\u7684\u200b\uff08x,y\uff09\u200b\u5750\u6807\u200b\u8fdb\u884c\u200b\u786e\u5b9a\u200b\u7684\u200b\u3002\u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u8981\u200b\u5728\u200b\u4e00\u4e2a\u200b\u663e\u793a\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b10\u200b\u79cd\u200b\u4e0d\u540c\u200b\u7684\u200b\u989c\u8272\u200b\u561b\u200b\uff0c</p> <p>vga_ctrl\u200b\u6a21\u5757\u200b\uff0c\u200b\u987e\u540d\u601d\u4e49\u200b\uff0c\u200b\u5c31\u662f\u200b\u4e00\u4e2a\u200b\u63a7\u5236\u200b\u6a21\u5757\u200b\uff0c\u200b\u7528\u6765\u200b\u8f93\u51fa\u200b\u884c\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\u548c\u200b\u56fe\u50cf\u200b\u6570\u636e\u4fe1\u53f7\u200b</p>"},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#2_1","title":"2. \u200b\u7a0b\u5e8f\u8bbe\u8ba1","text":"<p>vga_pic\u200b\u6587\u4ef6\u200b</p> <pre><code>module vga_pic(\n    input           wire        vga_clk ,\n    input           wire        rst_n,\n    input           wire  [9:0] pix_x,\n    input           wire  [9:0] pix_y,\n\n    output          reg  [7:0]pix_data\n);\n\nparameter       H_VALID =   10'd640,\n                V_VALID =   10'd480;\n\n// RGB565\u200b\u534f\u8bae\u200b\u751f\u6210\u200b\u989c\u8272\u200b\n// parameter       RED     =   16'hF800    ,\n//                 ORANGE  =   16'hFC00    ,    \n//                 YELLOW  =   16'hFFE0    ,    \n//                 GREEN   =   16'h07E0    ,    \n//                 CYAN    =   16'h07EF    ,    \n//                 BLUE    =   16'h001F    ,    \n//                 PURPPLE =   16'hF81F    ,    \n//                 BLACK   =   16'h0000    ,    \n//                 WHITE   =   16'hFFFF    ,    \n//                 GRAY    =   16'hD69A    ;   \n// RGB332\u200b\u534f\u8bae\u200b\u751f\u6210\u200b\u989c\u8272\u200b \nparameter RED     =   8'b11100000; // 16'hF800 -&gt; 8'b11100000\nparameter ORANGE  =   8'b11111000; // 16'hFC00 -&gt; 8'b11111000\nparameter YELLOW  =   8'b11111010; // 16'hFFE0 -&gt; 8'b11111010\nparameter GREEN   =   8'b00100000; // 16'h07E0 -&gt; 8'b00100000\nparameter CYAN    =   8'b00100011; // 16'h07EF -&gt; 8'b00100011\nparameter BLUE    =   8'b00011000; // 16'h001F -&gt; 8'b00011000\nparameter PURPPLE =   8'b11100001; // 16'hF81F -&gt; 8'b11100001\nparameter BLACK   =   8'b00000000; // 16'h0000 -&gt; 8'b00000000\nparameter WHITE   =   8'b11111111; // 16'hFFFF -&gt; 8'b11111111\nparameter GRAY    =   8'b11010110; // 16'hD69A -&gt; 8'b11010110\n\nalways @(posedge vga_clk or negedge rst_n) begin\n    if(!rst_n)\n        pix_data &lt;= 8'd0000;\n    else if((pix_x &gt;=0) &amp;&amp; (pix_x &lt; (H_VALID / 10) * 1))\n        pix_data &lt;= RED;\n    else if((pix_x &gt;=(H_VALID / 10) * 1) &amp;&amp; (pix_x &lt; (H_VALID / 10) * 2))\n        pix_data &lt;= ORANGE;\n    else if((pix_x &gt;=(H_VALID / 10) * 2) &amp;&amp; (pix_x &lt; (H_VALID / 10) * 3))\n        pix_data &lt;= YELLOW;\n    else if((pix_x &gt;=(H_VALID / 10) * 3) &amp;&amp; (pix_x &lt; (H_VALID / 10) * 4))\n        pix_data &lt;= GREEN;\n    else if((pix_x &gt;=(H_VALID / 10) * 4) &amp;&amp; (pix_x &lt; (H_VALID / 10) * 5))\n        pix_data &lt;= CYAN;\n    else if((pix_x &gt;=(H_VALID / 10) * 5) &amp;&amp; (pix_x &lt; (H_VALID / 10) * 6))\n        pix_data &lt;= BLUE;\n    else if((pix_x &gt;=(H_VALID / 10) * 6) &amp;&amp; (pix_x &lt; (H_VALID / 10) * 7))\n        pix_data &lt;= PURPPLE;\n    else if((pix_x &gt;=(H_VALID / 10) * 7) &amp;&amp; (pix_x &lt; (H_VALID / 10) * 8))\n        pix_data &lt;= BLACK;\n    else if((pix_x &gt;=(H_VALID / 10) * 8) &amp;&amp; (pix_x &lt; (H_VALID / 10) * 9))\n        pix_data &lt;= WHITE;\n    else if((pix_x &gt;=(H_VALID / 10) * 9) &amp;&amp; (pix_x &lt; H_VALID))\n        pix_data &lt;= GRAY;\n    else\n        pix_data &lt;= BLACK;\n\nend\n\nendmodule\n</code></pre> <p>vga_ctrl\u200b\u6587\u4ef6\u200b</p> <pre><code>module vga_ctrl(\n    input       wire                vga_clk     ,\n    input       wire                rstn        ,\n    input       wire     [15:0]     pix_data    , // \u200b\u663e\u793a\u200b\u6570\u636e\u200b\n\n    output      wire     [9:0]      pix_x       , // x\u200b\u8f74\u200b\u6709\u6548\u200b\u5750\u6807\u200b\u4f4d\u7f6e\u200b\n    output      wire     [9:0]      pix_y       , // y\u200b\u8f74\u200b\u6709\u6548\u200b\u5750\u6807\u200b\u4f4d\u7f6e\u200b\n    output      wire                hsync       , // \u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\n    output      wire                vsync       , // \u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\n    output      wire     [7:0]     vga_rgb     \n);\n\nparameter   H_SYNC  = 10'd96    ,\n            H_BACK  = 10'd40    ,\n            H_LEFT  = 10'd8     ,\n            H_VALID = 10'd640   ,\n            H_RIGHT = 10'd8     ,\n            H_FRONT = 10'd8     ,\n            H_TOTAL = 10'd800   ;\n\nparameter   V_SYNC  = 10'd2     ,\n            V_BACK  = 10'd25    ,\n            V_TOP   = 10'd8     ,\n            V_VALID = 10'd480   ,\n            V_BOTTOM= 10'd8     ,\n            V_FRONT = 10'd2     ,\n            V_TOTAL = 10'd525   ;\n\n\nreg     [9:0]       cnt_h ;\nreg     [9:0]       cnt_v ;\nwire                 rgb_valid ;\nwire                 pix_data_req ;\n\n\n// cnt_h\u200b\u884c\u200b\u8ba1\u6570\u5668\u200b\uff0c\u200b\u8ba1\u6570\u200b\u8303\u56f4\u200b0-799\nalways @(posedge vga_clk or negedge rstn) begin\n    if(!rstn)\n        cnt_h       &lt;=      10'd0;\n    else if (cnt_h == H_TOTAL-1'd1)\n        cnt_h       &lt;=      10'd0;\n    else\n        cnt_h       &lt;=      cnt_h + 1'd1;\nend\n\n// cnt_v\u200b\u5217\u200b\u8ba1\u6570\u5668\u200b\uff0c\u200b\u8ba1\u6570\u200b\u8303\u56f4\u200b0-524\u200b\u5e76\u4e14\u200b\u884c\u200b\u8ba1\u6570\u5668\u200b\u8ba1\u6570\u200b\u5230\u200b799\nalways @(posedge vga_clk or negedge rstn) begin\n    if(!rstn)\n        cnt_v       &lt;=      10'd0;\n    else if ((cnt_h == H_TOTAL-1'd1) &amp;&amp; (cnt_v == V_TOTAL - 1'd1))\n        cnt_v       &lt;=      10'd0;\n    else if(cnt_h == H_TOTAL-1'd1)\n        cnt_v       &lt;=      cnt_v + 1'd1;\n    else\n        cnt_v       &lt;=      cnt_v;\nend\n\n// \u200b\u5b9a\u4e49\u200b\u6709\u6548\u200b\u6570\u636e\u200b\u8303\u56f4\u200b\uff0c\nassign rgb_valid = ((cnt_h &gt;= H_SYNC + H_BACK + H_LEFT) \n                 &amp;&amp;  (cnt_h &lt; H_SYNC + H_BACK + H_LEFT + H_VALID)\n                 &amp;&amp;  (cnt_v &gt;= V_SYNC + V_BACK + V_TOP)\n                 &amp;&amp;  (cnt_v &lt; V_SYNC + V_BACK + V_TOP + V_VALID)) ? 1'd1 : 1'd0;\n\nassign pix_data_req = ((cnt_h &gt;= H_SYNC + H_BACK + H_LEFT - 1'd1) \n                 &amp;&amp;  (cnt_h &lt; H_SYNC + H_BACK + H_LEFT + H_VALID -1'd1)\n                 &amp;&amp;  (cnt_v &gt;= V_SYNC + V_BACK + V_TOP)\n                 &amp;&amp;  (cnt_v &lt; V_SYNC + V_BACK + V_TOP + V_VALID)) ? 1'd1 : 1'd0;\n\nassign pix_x = (pix_data_req == 1'd1) ? (cnt_h - (H_SYNC + H_BACK + H_LEFT - 1'd1)) : 10'h3ff;\nassign pix_y = (pix_data_req == 1'd1) ? (cnt_v - (V_SYNC + V_BACK + V_TOP)) : 10'h3ff;\nassign hsync = (cnt_h &lt;= H_SYNC - 1'd1) ? 1'd1 : 1'd0;\nassign vsync = (cnt_v &lt;= V_SYNC - 1'd1) ? 1'd1 : 1'd0;\nassign vga_rgb = (rgb_valid == 1'd1) ? pix_data : 8'h0000;\n\n\nendmodule\n</code></pre> <p>tb_vga_ctrl \u200b\u4eff\u771f\u200b\u6587\u4ef6\u200b\uff0c\u200b\u5728\u200b\u4eff\u771f\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5c06\u200b\u4eff\u771f\u200b\u65f6\u95f4\u200b\u8bbe\u8ba1\u200b\u6210\u200b17ms\u200b\u5373\u53ef\u200b</p> <pre><code>`timescale 1ns/1ps\n\nmodule tb_vga_ctrl ();\nreg         clk ;\nreg         rstn    ;\nwire  [15:0]  pix_data;\n\nwire        vga_clk;\nwire        locked;\nwire        rst_n;\n\nwire   [9:0]     pix_x      ;\nwire   [9:0]     pix_y      ;\nwire             hsync      ;\nwire             vsync      ;\nwire   [15:0]    vga_rgb    ;\n\ninitial begin\n    clk  =  1'd1;\n    rstn =  1'd0;\n    # 20\n    rstn  =  1'd1;\nend\n\nalways #10 clk = ~clk;\n\n// always @(posedge vga_clk or negedge rstn) begin\n//     if(!rstn)\n//         pix_data    &lt;=  16'h0000;\n//     else if((pix_x &gt;=0 &amp;&amp; pix_x &lt;= 639)\n//         &amp;&amp; (pix_y &gt;= 0 &amp;&amp; pix_y &lt;= 479))\n//         pix_data    &lt;= 16'hffff;\n//     else\n//         pix_data    &lt;= 16'h0000;\n// end\n\n// \u200b\u5b9e\u4f8b\u200b\u5316\u200bPLL\nclk_gen clk_gen_inst \n(\n    .areset     ( ~rstn ),\n    .inclk0     ( clk ),\n    .c0         ( vga_clk ),\n    .locked     ( locked )\n);\n\nassign rst_n = locked &amp;&amp; rstn;\n// \u200b\u5b9e\u4f8b\u200b\u5316\u200b\u63a7\u5236\u200b\u6a21\u5757\u200b\nvga_ctrl vga_ctrl_init(\n    .vga_clk   (vga_clk)  ,\n    .rstn      (rst_n)  ,\n    .pix_data  (pix_data)  , // \u200b\u663e\u793a\u200b\u6570\u636e\u200b\n\n    .pix_x     (pix_x  )  , // x\u200b\u8f74\u200b\u6709\u6548\u200b\u5750\u6807\u200b\u4f4d\u7f6e\u200b\n    .pix_y     (pix_y  )  , // y\u200b\u8f74\u200b\u6709\u6548\u200b\u5750\u6807\u200b\u4f4d\u7f6e\u200b\n    .hsync     (hsync  )  , // \u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\n    .vsync     (vsync  )  , // \u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\n    .vga_rgb   (vga_rgb)  \n);\nvga_pic vga_pic_inst(\n    . vga_clk(vga_clk)   ,\n    . rst_n  (rst_n)   ,\n    . pix_x  (pix_x)   ,\n    . pix_y  (pix_y)   ,    \n\n    .pix_data(pix_data)\n);\n\nendmodule\n</code></pre> <p>\u200b\u9876\u5c42\u200b\u6587\u4ef6\u200b\uff1avga_colorb.v</p> <pre><code>module vga_colorb(\n    input   wire    clk,\n    input   wire    rstn,\n\n    output  wire    hsync,\n    output  wire    vsync,\n    output  wire    [7:0]  vga_rgb\n);\n\nwire    vga_clk ;\nwire    locked  ;\nwire    rst_n   ;\nwire [9:0]    pix_x   ;\nwire [9:0]    pix_y  ;\nwire [7:0]   pix_data;\n\nassign  rst_n = (rstn &amp;&amp; locked);\n// \u200b\u5b9e\u4f8b\u200b\u5316\u200bPLL\nclk_gen clk_gen_inst \n(\n    .areset     ( ~rstn ),\n    .inclk0     ( clk ),\n    .c0         ( vga_clk ),\n    .locked     ( locked )\n);\n// \u200b\u5b9e\u4f8b\u200b\u5316\u200b\u63a7\u5236\u200b\u6a21\u5757\u200b\nvga_ctrl vga_ctrl_init(\n    .vga_clk   (vga_clk)  ,\n    .rstn      (rst_n)  ,\n    .pix_data  (pix_data)  , // \u200b\u663e\u793a\u200b\u6570\u636e\u200b\n\n    .pix_x     (pix_x  )  , // x\u200b\u8f74\u200b\u6709\u6548\u200b\u5750\u6807\u200b\u4f4d\u7f6e\u200b\n    .pix_y     (pix_y  )  , // y\u200b\u8f74\u200b\u6709\u6548\u200b\u5750\u6807\u200b\u4f4d\u7f6e\u200b\n    .hsync     (hsync  )  , // \u200b\u884c\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\n    .vsync     (vsync  )  , // \u200b\u573a\u200b\u540c\u6b65\u200b\u4fe1\u53f7\u200b\n    .vga_rgb   (vga_rgb)  \n);\nvga_pic vga_pic_inst(\n    . vga_clk(vga_clk)   ,\n    . rst_n  (rst_n)   ,\n    . pix_x  (pix_x)   ,\n    . pix_y  (pix_y)   ,    \n\n    .pix_data(pix_data)\n);\n\nendmodule\n</code></pre>"},{"location":"fpga/VGA%E6%98%BE%E7%A4%BA%E5%99%A8%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/#_2","title":"\u53c2\u8003\u8d44\u6599","text":"<p>VGA\u3001DVI\u3001HDMI\u200b\u533a\u522b\u200b - \u200b\u77e5\u4e4e\u200b (zhihu.com)</p> <p>FPGA\u200b\u57fa\u7840\u200b\u4e4b\u200bVGA\uff08\u200b\u4e00\u200b\uff09\u200b\u6ee1\u5c4f\u200b\u7ea2\u8272\u200b_vga_hs-CSDN\u200b\u535a\u5ba2\u200b</p> <p>VGA\u200b\u63a5\u53e3\u200b_\u200b\u767e\u5ea6\u200b\u767e\u79d1\u200b (baidu.com)</p>"},{"location":"fpga/ZYNQ%E4%BB%8B%E7%BB%8D/","title":"ZYNQ\u200b\u7684\u200b\u4ecb\u7ecd","text":"<p>Zynq \u200b\u662f\u200b Xilinx \u200b\u516c\u53f8\u200b\u63a8\u51fa\u200b\u7684\u200b\u4e00\u79cd\u200b\u5168\u200b\u53ef\u7f16\u7a0b\u200b\u7247\u4e0a\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u5b83\u200b\u5c06\u200b\u4f20\u7edf\u200b\u7684\u200b\u5904\u7406\u5668\u200b\uff08\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u6210\u200b\u5355\u7247\u673a\u200b\uff0cPS\u200b\u7aef\u200b\uff09\u200b\u548c\u200b\u53ef\u7f16\u7a0b\u200b\u903b\u8f91\u200b\uff08FPGA\uff0cPL\u200b\u7aef\u200b\uff09\u200b\u96c6\u6210\u200b\u5728\u200b\u540c\u4e00\u4e2a\u200b\u82af\u7247\u200b\u4e0a\u200b\uff0c\u200b\u517c\u5177\u200b\u4e24\u8005\u200b\u7684\u200b\u4f18\u70b9\u200b</p>"},{"location":"fpga/ZYNQ%E4%BB%8B%E7%BB%8D/#1","title":"1. \u200b\u67b6\u6784\u200b\u7ec4\u6210","text":""},{"location":"fpga/ZYNQ%E4%BB%8B%E7%BB%8D/#11-ps","title":"1.1 PS\u200b\u7aef","text":"<p>\u200b\u8fd9\u90e8\u5206\u200b\u57fa\u4e8e\u200b\u53cc\u6838\u200bARM\u200b\u5904\u7406\u5668\u200b\u7cfb\u7edf\u200b\uff0c\u200b\u80fd\u591f\u200b\u8fd0\u884c\u200b\u50cf\u200bLinux\u200b\u8fd9\u6837\u200b\u7684\u200b\u64cd\u4f5c\u7cfb\u7edf\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5305\u542b\u200b\u4e86\u200b\u7247\u200b\u4e0a\u200b\u5b58\u50a8\u5668\u200b\u548c\u200b\u5916\u90e8\u200b\u5b58\u50a8\u5668\u200b\u63a5\u53e3\u200b\u4ee5\u53ca\u200b\u5916\u8bbe\u200b\u63a5\u53e3\u200b</p>"},{"location":"fpga/ZYNQ%E4%BB%8B%E7%BB%8D/#12-pl","title":"1.2 PL\u200b\u7aef","text":"<p>\u200b\u8fd9\u90e8\u5206\u200b\u5c31\u662f\u200b\u53ef\u4ee5\u200b\u770b\u4f5c\u200b\u4e00\u4e2a\u200b\u4f20\u7edf\u200b\u7684\u200bFPGA\u200b\u82af\u7247\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7531\u200b\u7528\u6237\u200b\u6839\u636e\u200b\u9700\u6c42\u200b\u8bbe\u8ba1\u200b\u548c\u200b\u5b9e\u73b0\u200b\u81ea\u5b9a\u4e49\u200b\u7684\u200b\u786c\u4ef6\u200b\u903b\u8f91\u200b\u3002</p> <p>PS\u200b\u7aef\u200b\u548c\u200bPL\u200b\u7aef\u200b\u901a\u5e38\u200b\u4f1a\u200b\u4f7f\u7528\u200bAXI\u200b\u603b\u7ebf\u200b\u4f20\u8f93\u200b\u534f\u8bae\u200b\u5b9e\u73b0\u200b\u9ad8\u5e26\u5bbd\u200b\u3001\u200b\u4f4e\u200b\u5ef6\u65f6\u200b\u7684\u200b\u94fe\u63a5\u200b\u3002</p>"},{"location":"fpga/ZYNQ%E4%BB%8B%E7%BB%8D/#2-zynq","title":"2. ZYNQ\u200b\u7684\u200b\u4f18\u7f3a\u70b9","text":"<p>FPGA\u200b\u7684\u200b\u4f18\u70b9\u200b\uff1a\u200b\u64c5\u957f\u200b\u5904\u7406\u200b\u65f6\u5e8f\u200b\u903b\u8f91\u200b\uff0c\u200b\u5904\u7406\u901f\u5ea6\u200b\u5feb\u200b\uff0c\u200b\u66f4\u52a0\u200b\u7075\u6d3b\u200b\u548c\u200b\u63a5\u8fd1\u200b\u5e95\u5c42\u200b\uff0c\u200b\u64c5\u957f\u200b\u9ad8\u6570\u200b\u6570\u636e\u5904\u7406\u200b\u3002\u200b\u7279\u522b\u200b\u9002\u5408\u200b\u505a\u200b\u4e00\u4e9b\u200b\u63a5\u53e3\u534f\u8bae\u200b\u3001\u200b\u7b97\u6cd5\u200b\u3002\u200b\u63a7\u5236\u7cbe\u5ea6\u200b\u9ad8\u200b</p> <p>\u200b\u4f8b\u5982\u200b\u6211\u4eec\u200b\u7684\u200bFPGA\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u53ef\u4ee5\u200b\u8dd1\u200b50Mhz\uff0c\u200b\u63a7\u5236\u7cbe\u5ea6\u200b\u53ef\u4ee5\u200b\u8fbe\u5230\u200b20ns\u200b\u8f7b\u8f7b\u677e\u677e\u200b\u7684\u200b\uff0c\u200b\u5982\u679c\u200b\u8fd8\u200b\u60f3\u8981\u200b\u66f4\u200b\u9ad8\u200b\u7684\u200b\u7cbe\u5ea6\u200b\uff0c\u200b\u50cf\u200bZYNQ7010\u30017020\u200b\u7b49\u200b\u65f6\u949f\u200b\u66f4\u5757\u200b\uff0c\u200b\u518d\u200b\u52a0\u4e0a\u200bPLL\u200b\u9501\u76f8\u73af\u200b\u500d\u9891\u200b\u65f6\u949f\u200b\uff0c\u200b\u5f53\u65f6\u200b\u949f\u200b\u9891\u7387\u200b\u5230\u200b200MHz\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u63a7\u5236\u7cbe\u5ea6\u200b\u53ef\u4ee5\u200b\u8fbe\u5230\u200b4ns\uff0c\u200b\u751a\u81f3\u200b\u53ef\u4ee5\u200b\u8dd1\u200b\u5230\u200b400Mhz\u200b\u7684\u200b\u65f6\u949f\u200b</p> <p>\u200b\u4e00\u4e2a\u200b\u4fbf\u5b9c\u200b\u7684\u200bZYNQ7010\u200b\u5728\u200bPL\u200b\u7aef\u200b\u6700\u9ad8\u200b\u53ef\u200b\u8fbe\u200b200MHz\uff0c\u200b\u4f46\u200b\u82af\u7247\u200b\u7684\u200b\u4ef7\u683c\u200b\u5728\u200b50\u200b\u5230\u200b100\u200b\u4eba\u6c11\u5e01\u200b\u4e4b\u95f4\u200b\uff0c\u200b\u800c\u200b\u5bf9\u4e8e\u200b\u5355\u7247\u673a\u200b\u8981\u200b\u8dd1\u200b\u5230\u200b\u8fd9\u4e2a\u200b\u7ea7\u522b\u200b\u7684\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u5c31\u200b\u8d35\u200b\u4e86\u200b</p> <p>FPGA\u200b\u7684\u200b\u7f3a\u70b9\u200b\uff1a\u200b\u6beb\u65e0\u200b\u4ee5\u4e3a\u200b\u56e0\u4e3a\u200b\u66f4\u52a0\u200b\u63a5\u8fd1\u200b\u5e95\u5c42\u200b\uff0c\u200b\u5f00\u53d1\u5468\u671f\u200b\u548c\u200b\u96be\u5ea6\u200b\u76f8\u5bf9\u200b\u8f83\u200b\u9ad8\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u7f16\u5199\u200b\u4ee3\u7801\u200b\u9700\u8981\u200b\u5148\u8dd1\u200b\u4e00\u904d\u200b\u4eff\u771f\u200b\u6216\u8005\u200b\u5229\u7528\u200b\u903b\u8f91\u200b\u5206\u6790\u4eea\u200b\u6765\u200b\u6392\u67e5\u200b\u95ee\u9898\u200b\u3002\u200b\u53e6\u5916\u200bFPGA\u200b\u4e0d\u200b\u64c5\u957f\u200b\u5904\u7406\u200b\u6d6e\u70b9\u6570\u200b\u6216\u8005\u200b\u5176\u4ed6\u200b\u7684\u200b\u590d\u6742\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u4f8b\u5982\u200b\u6211\u4eec\u200b\u5728\u200b\u8ba1\u7b97\u200b\u4e09\u89d2\u51fd\u6570\u200b\u8fd0\u7b97\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u53bb\u200b\u914d\u7f6e\u200bIP\u200b\u6838\u200b\u6216\u8005\u200b\u4f7f\u7528\u200b\u67e5\u627e\u200b\u8868\u200b\uff08\u200b\u5c06\u200b\u6240\u6709\u200b\u53ef\u80fd\u200b\u7684\u200b\u503c\u200b\u5b58\u50a8\u200b\u5728\u200bRAM\u200b\u91cc\u9762\u200b\uff09</p> <p>\u200b\u5355\u7247\u673a\u200bMCU\u200b\u7684\u200b\u4f18\u70b9\u200b\uff1a\u200b\u64c5\u957f\u200b\u5904\u7406\u200b\u6bd4\u8f83\u590d\u6742\u200b\u7684\u200b\u8fd0\u7b97\u200b\uff08\u200b\u6d6e\u70b9\u6570\u200b\u8fd0\u7b97\u200b\u3001\u200b\u4e09\u89d2\u51fd\u6570\u200b\u8fd0\u7b97\u200b\u3001\u200b\u9664\u6cd5\u200b\u8fd0\u7b97\u200b\u7b49\u200b\uff09\uff1b\u200b\u505a\u200b\u63a7\u5236\u200b\u548c\u200b\u4f4e\u901f\u200b\u63a5\u53e3\u200b\u6bd4\u8f83\u7b80\u5355\u200b\uff0c\u200b\u4f8b\u5982\u200bIIC\u3001URAT\u3001SPI\u200b\u63a7\u5236\u200b\u7b49\u200b</p> <p>\u200b\u4ece\u200b\u4e0a\u9762\u200b\u53ef\u4ee5\u200b\u770b\u200b\u51fa\u6765\u200b\uff0cPL\u200b\u7aef\u200b\u548c\u200bPS\u200b\u7aef\u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200b\u76f8\u4e92\u200b\u5f25\u8865\u200b\u4e0d\u8db3\u200b\u7684\u200b\uff0c\u200b\u5728\u200b\u5b9e\u9645\u200b\u9879\u76ee\u200b\u4e2d\u200b\u5584\u4e8e\u200b\u5c06\u200b\u4e8c\u8005\u200b\u5206\u5de5\u4f1a\u200b\u5927\u5927\u51cf\u5c11\u200b\u6210\u672c\u200b\u7684\u200b\u635f\u8017\u200b\u548c\u200b\u7f29\u77ed\u200b\u5f00\u53d1\u5468\u671f\u200b\u3002\u200b\u4f46\u662f\u200b\uff0c\u200b\u9488\u5bf9\u200bZYNQ\u200b\u6765\u8bf4\u200b\uff0c\u200b\u4e5f\u200b\u662f\u200b\u5b58\u5728\u200b\u4f18\u7f3a\u70b9\u200b\u7684\u200b</p> <p>ZYNQ\u200b\u7684\u200b\u4f18\u70b9\u200b\uff1a\u200b\u7ee7\u627f\u200b\u4e86\u200bFPGA\u200b\u548c\u200bMCU\u200b\u7684\u200b\u4f18\u70b9\u200b\u5e76\u4e14\u200b\u4e92\u76f8\u200b\u5f25\u8865\u200b\u4e86\u200b\u5bf9\u65b9\u200b\u7684\u200b\u7f3a\u70b9\u200b\uff0c\u200b\u5e76\u4e14\u200b\u96c6\u6210\u200b\u5728\u200b\u4e86\u200b\u4e00\u9897\u200b\u82af\u7247\u200b\u4e0a\u200b\uff0c\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u4e00\u4e2a\u200b\u7eaf\u200bFPGA\u200b\u548c\u200b\u4e00\u4e2a\u200b\u5355\u7247\u673a\u200bMCU\u200b\u7684\u200b\u7ec4\u5408\u200b\u6765\u8bf4\u200b\uff0c\u200b\u56e0\u4e3a\u200bZYNQ\u200b\u662f\u200b\u7247\u200b\u5185\u200bAXI\u200b\u901a\u4fe1\u200b\u603b\u7ebf\u200b\uff0c\u200b\u901a\u4fe1\u200b\u901f\u7387\u200b\u66f4\u200b\u5feb\u200b\uff0c\u200b\u5e26\u5bbd\u200b\u76f8\u5bf9\u200b\u66f4\u9ad8\u200b\u3002</p> <p>ZYNQ\u200b\u7684\u200b\u7f3a\u70b9\u200b\uff1aZYNQ\u200b\u51fa\u6765\u200b\u4e86\u200b10\u200b\u591a\u5e74\u200b\u4e86\u200b\uff0c\u200b\u4f46\u662f\u200b\u76ee\u524d\u200b\u5e02\u573a\u200b\u4e3b\u6d41\u200b\u8fd8\u662f\u200b\u7eaf\u200bFPGA\u200b\u548c\u200bMCU\u200b\u5355\u7247\u673a\u200b\u82af\u7247\u200b\u3002\u200b\u8bf4\u200b\u7684\u200b\u8fd9\u4e48\u200b\u597d\u200b\u7684\u200b\u4e00\u6b3e\u200b\u82af\u7247\u200b\u4e3a\u4ec0\u4e48\u200b\u5e02\u573a\u5360\u6709\u7387\u200b\u8fd8\u662f\u200b\u975e\u5e38\u4f4e\u200b\u7684\u200b\u5450\u200b\uff1f\u200b\u5c31\u662f\u200b\u5904\u4e8e\u200b\u4e00\u4e2a\u200b\u4e0d\u4e0a\u4e0d\u4e0b\u200b\u7684\u200b\u6bd4\u8f83\u200b\u5c34\u5c2c\u200b\u7684\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u5f00\u53d1\u200b\u96be\u5ea6\u200b\u76f8\u5bf9\u200b\u4e8e\u200b\u7eaf\u200bFPGA\u200b\u6bd4\u8f83\u200b\u7e41\u7410\u200b\uff0cPS\u200b\u7aef\u200b\u529f\u80fd\u200b\u4e0d\u8db3\u200b\u3001PS\u200b\u7aef\u200b\u914d\u5957\u200b\u7684\u200bEDA\u200b\u5de5\u5177\u200b\u6bd4\u200b\u4e0d\u8fc7\u200b\u7eaf\u200b\u5355\u7247\u673a\u200bMCU\u200b\u7684\u200b\u5de5\u5177\u200b\u3002\u200b\u4e00\u822c\u200b\u4f7f\u7528\u200bZYNQ\u200b\u53bb\u200b\u505a\u200b\u4ea7\u54c1\u200b\u7684\u200b\u516c\u53f8\u200b\uff0c\u200b\u5c0f\u200b\u516c\u53f8\u200b\u76f8\u5bf9\u200b\u4f1a\u200b\u6bd4\u8f83\u200b\u591a\u4e00\u4e9b\u200b\u3002\u200b\u5927\u200b\u516c\u53f8\u200b\u4e3b\u6d41\u200b\u8fd8\u662f\u200bFPGA+MCU\u200b\u82af\u7247\u200b</p> <p>\u200b\u53e6\u5916\u200b\uff0c\u200b\u8c03\u8bd5\u200b\u4f1a\u200b\u590d\u6742\u200b\u5f88\u591a\u200b\uff0c\u200b\u5728\u200bPL\u200b\u7aef\u200b\u4f7f\u7528\u200bIAL\uff0c\u200b\u5728\u200bPS\u200b\u7aef\u200b\u6253\u65ad\u200b\u70b9\u200b\u8fdb\u884c\u200b\u6765\u200b\u8054\u5408\u200b\u8c03\u8bd5\u200b</p> <p>\u200b\u603b\u7684\u6765\u8bf4\u200b\uff0c\u200b\u5728\u200b\u5b66\u6709\u200b\u4f59\u529b\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u518d\u200b\u53bb\u200b\u5b66\u4e60\u200bZYNQ\u3002\u200b\u4f46\u662f\u200b\u91cd\u70b9\u200b\u8fd8\u662f\u200b\u8981\u200b\u653e\u5728\u200bPL\u200b\u7aef\u200b\uff08FPGA\uff09</p>"},{"location":"fpga/fpga%E7%9A%84mt9v034%E6%91%84%E5%83%8F%E5%A4%B4%E9%85%8D%E7%BD%AE%E5%8F%8Ahdmi%E6%98%BE%E7%A4%BA%E8%BE%93%E5%87%BA/","title":"\u53c2\u8003\u200b\u94fe\u63a5","text":"<p>\u200b\u7b2c\u200b46.1\u200b\u8bb2\u200b MT9V034-LCD\u200b\u663e\u793a\u200b\u5b9e\u9a8c\u200b\u6444\u50cf\u5934\u200b\u7b80\u4ecb\u200b_\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b_bilibili</p> <p>\u3010\u200b\u5f00\u6e90\u200b\u9a9a\u5ba2\u200b\u3011\u200b\u57fa\u4e8e\u200bFPGA\u200b\u7684\u200b\u6444\u50cf\u5934\u200b\u89c6\u9891\u200b\u663e\u793a\u200b\u7cfb\u7edf\u200b\uff08SDRAM\u200b\u7b2c\u4e8c\u5b63\u200b\uff09_\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b_bilibili</p> <p>\u200b\u4f7f\u7528\u200b\u677f\u5361\u200b\uff1a\u200b\u7c73\u200b\u8054\u5ba2\u200bMZ7030FA\uff0cZYNQ\u200b\u7cfb\u5217\u200b\u5f00\u53d1\u677f\u200b</p> <p>\u200b\u5f00\u53d1\u200b\u73af\u5883\u200b\uff1aVIVADO21.1</p> <p>\u200b\u6444\u50cf\u5934\u200b\uff1a\u200b\u6b63\u70b9\u200b\u539f\u5b50\u200b\u7684\u200bMT9V034\u200b\u6444\u50cf\u5934\u200b\u6a21\u5757\u200b</p> <p>\u200b\u5728\u200b\u4f7f\u7528\u200b\u5f00\u53d1\u677f\u200b\u6765\u200b\u5f00\u53d1\u200b\u6444\u50cf\u5934\u200b\u6a21\u5757\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u4e3a\u200bFPGA\u200b\u5f00\u53d1\u677f\u200b\u7ed8\u5236\u200b\u8f6c\u63a5\u200bPCB\u200b\u5b50\u677f\u200b\uff0c \u200b\u8fd9\u91cc\u200b\u6211\u200b\u5f88\u200b\u7b80\u5355\u200b\u7684\u200b\u7ed8\u5236\u200b\u4e86\u200b\u4e00\u7248\u200b\u5982\u4e0b\u200b\uff1a</p> <p></p> <p>\u200b\u7248\u672c\u200b1,2\u200b\u5c42\u677f\u200b\uff0c2*30,2mm\u200b\u6392\u9488\u200b\u8f6c\u63a5\u200b</p> <p></p> <p>\u200b\u7248\u672c\u200b2\uff0c6\u200b\u5c42\u677f\u200b\uff0c\u200b\u5305\u542b\u200b5V\u200b\u8f6c\u200b3.3V\u200b\u7535\u8def\u200b\u8f93\u51fa\u200b</p> <p>\u200b\u5982\u679c\u200b\u9700\u8981\u200b\uff0c\u200b\u8bf7\u200b\u5728\u200b\u4e3b\u9875\u200b\u53f3\u4fa7\u200b\u516c\u544a\u680f\u200b\u7ed9\u6211\u53d1\u200b\u90ae\u4ef6\u200b\u3002</p>"},{"location":"fpga/fpga%E7%9A%84mt9v034%E6%91%84%E5%83%8F%E5%A4%B4%E9%85%8D%E7%BD%AE%E5%8F%8Ahdmi%E6%98%BE%E7%A4%BA%E8%BE%93%E5%87%BA/#_2","title":"\u6548\u679c\u200b\u6f14\u793a","text":""},{"location":"fpga/fpga%E7%9A%84mt9v034%E6%91%84%E5%83%8F%E5%A4%B4%E9%85%8D%E7%BD%AE%E5%8F%8Ahdmi%E6%98%BE%E7%A4%BA%E8%BE%93%E5%87%BA/#_3","title":"\u7406\u8bba\u200b\u57fa\u7840","text":"<p>MT9V034\u200b\u662f\u200b\u662f\u200b\u4e00\u6b3e\u200b1/3\u200b\u82f1\u5bf8\u200b\u5355\u82af\u7247\u200b\u56fe\u50cf\u200b\u4f20\u611f\u5668\u200b\uff0c\u200b\u80fd\u200b\u5b9e\u73b0\u200b\u6700\u5feb\u200b60fps VGA\u200b\u5206\u8fa8\u7387\u200b\u7684\u200b\u56fe\u50cf\u200b\u91c7\u96c6\u200b\uff0c\u200b\u5177\u6709\u200b\u5168\u5c40\u200b\u66dd\u5149\u200b\u548c\u200b\u9ad8\u200b\u52a8\u6001\u200b\u8303\u56f4\u200b\uff08HDR\uff09\u200b\u64cd\u4f5c\u200b\u3002\u200b\u5b9e\u73b0\u200b\u4e86\u200bCCD\u200b\u56fe\u50cf\u200b\u8d28\u91cf\u200b\u7684\u200b\u4f4e\u566a\u58f0\u200b\u548c\u200bCMOS\u200b\u6210\u50cf\u200b\u6280\u672f\u200b\uff08\u200b\u57fa\u4e8e\u200b\u4fe1\u566a\u6bd4\u200b\u548c\u200b\u4f4e\u5149\u200b\u7075\u654f\u5ea6\u200b\uff09\uff0c\u200b\u8f93\u51fa\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b10bit\u200b\u6570\u636e\u200b\uff0c\u200b\u5728\u200b\u5b9e\u73b0\u200b\u65f6\u5019\u200b\u9700\u8981\u200b\u5c06\u200b\u9ad8\u200b8\u200b\u4f4d\u200b\u6570\u636e\u200b\u63d0\u53d6\u200b\u51fa\u6765\u200b\u8fdb\u884c\u200b\u76f8\u5e94\u200b\u7684\u200b\u5904\u7406\u200b\u3002\u200b\u652f\u6301\u200b\u5f69\u8272\u200b\u548c\u200b\u7070\u5ea6\u200b\u663e\u793a\u200b\u3002</p>"},{"location":"fpga/fpga%E7%9A%84mt9v034%E6%91%84%E5%83%8F%E5%A4%B4%E9%85%8D%E7%BD%AE%E5%8F%8Ahdmi%E6%98%BE%E7%A4%BA%E8%BE%93%E5%87%BA/#_4","title":"\u5b9e\u6218\u200b\u6f14\u7ec3","text":""},{"location":"fpga/fpga%E7%9A%84mt9v034%E6%91%84%E5%83%8F%E5%A4%B4%E9%85%8D%E7%BD%AE%E5%8F%8Ahdmi%E6%98%BE%E7%A4%BA%E8%BE%93%E5%87%BA/#_5","title":"\u7a0b\u5e8f\u8bbe\u8ba1","text":""},{"location":"fpga/%E4%B8%BA%E4%BB%80%E4%B9%88FPGA%E7%9A%84%E9%98%BB%E5%A1%9E%E8%B5%8B%E5%80%BC%E4%BC%9A%E5%BB%B6%E6%97%B6%E4%B8%80%E4%B8%AA%E6%97%B6%E9%92%9F%E5%91%A8%E6%9C%9F%EF%BC%8C%E8%80%8C%E5%9C%A8%E6%9F%90%E4%BA%9B%E6%83%85%E5%86%B5%E4%B8%8B%E4%B8%8D%E5%BB%B6%E6%97%B6%E4%B8%80%E4%B8%AA%E6%97%B6%E9%92%9F%E5%91%A8%E6%9C%9F%E5%91%90%EF%BC%9F/","title":"\u4e3a\u4ec0\u4e48\u200bFPGA\u200b\u7684\u200b\u963b\u585e\u200b\u8d4b\u503c\u200b\u4f1a\u200b\u5ef6\u65f6\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\uff0c\u200b\u800c\u200b\u5728\u200b\u67d0\u4e9b\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u4e0d\u200b\u5ef6\u65f6\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u5450\u200b\uff1f","text":"","tags":["FPGA\u7591\u96be\u6742\u75c7"]},{"location":"fpga/%E4%B8%BA%E4%BB%80%E4%B9%88FPGA%E7%9A%84%E9%98%BB%E5%A1%9E%E8%B5%8B%E5%80%BC%E4%BC%9A%E5%BB%B6%E6%97%B6%E4%B8%80%E4%B8%AA%E6%97%B6%E9%92%9F%E5%91%A8%E6%9C%9F%EF%BC%8C%E8%80%8C%E5%9C%A8%E6%9F%90%E4%BA%9B%E6%83%85%E5%86%B5%E4%B8%8B%E4%B8%8D%E5%BB%B6%E6%97%B6%E4%B8%80%E4%B8%AA%E6%97%B6%E9%92%9F%E5%91%A8%E6%9C%9F%E5%91%90%EF%BC%9F/#_1","title":"\u53c2\u8003\u8d44\u6599","text":"<p>\u200b\u6025\u95ee\u200b\uff01\u200b\u4e3a\u4ec0\u4e48\u200bFPGA\u200b\u7684\u200b&lt;=\u200b\u8bed\u53e5\u200b\u5728\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u4e0d\u200b\u5ef6\u8fdf\u200b\u4e00\u62cd\u200b\uff1f - \u200b\u77e5\u4e4e\u200b (zhihu.com)</p> <p>\u3010\u200b\u5fc5\u770b\u200b\u3011\u200b\u65f6\u5e8f\u200b\u903b\u8f91\u200b\u4eff\u771f\u200b\u6210\u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\uff1f\u200b\u4f60\u200b\u77e5\u9053\u200b\u539f\u56e0\u200b\u5417\u200b\uff1f - \u200b\u77e5\u4e4e\u200b (zhihu.com)</p> <p>\u200b\u5c0f\u6885\u54e5\u200b\u7231\u200b\u6f02\u6d41\u200b\u7684\u200b\u4e2a\u4eba\u7a7a\u95f4\u200b-\u200b\u5c0f\u6885\u54e5\u200b\u7231\u200b\u6f02\u6d41\u200b\u4e2a\u4eba\u4e3b\u9875\u200b-\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\u89c6\u9891\u200b (bilibili.com)</p>","tags":["FPGA\u7591\u96be\u6742\u75c7"]},{"location":"fpga/%E4%B8%BA%E4%BB%80%E4%B9%88FPGA%E7%9A%84%E9%98%BB%E5%A1%9E%E8%B5%8B%E5%80%BC%E4%BC%9A%E5%BB%B6%E6%97%B6%E4%B8%80%E4%B8%AA%E6%97%B6%E9%92%9F%E5%91%A8%E6%9C%9F%EF%BC%8C%E8%80%8C%E5%9C%A8%E6%9F%90%E4%BA%9B%E6%83%85%E5%86%B5%E4%B8%8B%E4%B8%8D%E5%BB%B6%E6%97%B6%E4%B8%80%E4%B8%AA%E6%97%B6%E9%92%9F%E5%91%A8%E6%9C%9F%E5%91%90%EF%BC%9F/#_2","title":"\u7b2c\u4e00\u79cd\u200b\u60c5\u51b5","text":"<p>\u200b   \u200b\u5728\u200b\u5b66\u4e60\u200bFPGA\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u7ecf\u5e38\u200b\u4f1a\u200b\u4f7f\u7528\u200b\u6253\u200b\u62cd\u200b\u7684\u200b\u64cd\u4f5c\u200b\u6765\u200b\u7528\u6765\u200b\u6d88\u9664\u200b\u4e9a\u7a33\u6001\u200b\u3001\u200b\u83b7\u53d6\u200b\u4fe1\u53f7\u200b\u7684\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u68c0\u6d4b\u200b\uff0c\u200b\u6765\u200b\u751f\u6210\u200b\u4e00\u4e9b\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b</p> <p></p> <p>\u200b\u63d2\u5165\u200b\u4e24\u7ea7\u200b\u5bc4\u5b58\u5668\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u540c\u6b65\u200b\uff0c\u200b\u7528\u6765\u200b\u6d88\u9664\u200b\u4e9a\u7a33\u6001\u200b\u3002\u200b\u7b2c\u4e09\u7ea7\u200b\u5bc4\u5b58\u5668\u200b\u548c\u200b\u7b2c\u4e8c\u7ea7\u200b\u5bc4\u5b58\u5668\u200b\u5171\u540c\u200b\u6784\u6210\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u68c0\u6d4b\u200b\uff0c\u200b\u68c0\u6d4b\u200b\u5230\u200b\u4e0b\u964d\u200b\u6cbf\u65f6\u200bstart_nedge\u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u7684\u200b\u9ad8\u7535\u5e73\u200b\u3002</p> <p>```verilog uart_rx.v //\u200b\u63d2\u5165\u200b\u4e24\u7ea7\u200b\u5bc4\u5b58\u5668\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u540c\u6b65\u200b\uff0c\u200b\u7528\u6765\u200b\u6d88\u9664\u200b\u4e9a\u7a33\u6001\u200b //rx_reg1:\u200b\u7b2c\u4e00\u7ea7\u200b\u5bc4\u5b58\u5668\u200b\uff0c\u200b\u5bc4\u5b58\u5668\u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b\u590d\u4f4d\u200b\u4e3a\u200b1 always@(posedge clk or negedge rstn)     if(rstn == 1'b0)         rx_reg1 &lt;= 1'b1;     else         rx_reg1 &lt;= rx;</p> <p>//rx_reg2:\u200b\u7b2c\u4e8c\u7ea7\u200b\u5bc4\u5b58\u5668\u200b\uff0c\u200b\u5bc4\u5b58\u5668\u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b\u590d\u4f4d\u200b\u4e3a\u200b1 always@(posedge clk or negedge rstn)     if(rstn == 1'b0)         rx_reg2 &lt;= 1'b1;     else         rx_reg2 &lt;= rx_reg1;</p> <p>//rx_reg3:\u200b\u7b2c\u4e09\u7ea7\u200b\u5bc4\u5b58\u5668\u200b\u548c\u200b\u7b2c\u4e8c\u7ea7\u200b\u5bc4\u5b58\u5668\u200b\u5171\u540c\u200b\u6784\u6210\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u68c0\u6d4b\u200b always@(posedge clk or negedge rstn)     if(rstn == 1'b0)         rx_reg3 &lt;= 1'b1;     else         rx_reg3 &lt;= rx_reg2;</p> <p>//start_nedge:\u200b\u68c0\u6d4b\u200b\u5230\u200b\u4e0b\u964d\u200b\u6cbf\u65f6\u200bstart_nedge\u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u7684\u200b\u9ad8\u7535\u5e73\u200b always@(posedge clk or negedge rstn)     if(rstn == 1'b0)         start_nedge &lt;= 1'b0;     else    if((~rx_reg2) &amp;&amp; (rx_reg3))         start_nedge &lt;= 1'b1;     else         start_nedge &lt;= 1'b0;</p> <pre><code>\n\u200b\u4fe1\u53f7\u200b\u5ef6\u65f6\u200b\u4e00\u62cd\u200b\u7684\u200b\u539f\u56e0\u200b\uff0c\u200b\u6bd4\u5982\u200b\u5982\u4e0a\u56fe\u200b\u6240\u793a\u200b\uff0c\u200b\u6211\u4eec\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u662f\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u68c0\u6d4b\u200b\u4fe1\u53f7\u200b\u53d8\u5316\u200b\u3002\uff0c\u200b\u5f53\u200brx\u200b\u4fe1\u53f7\u200b\u5728\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u5230\u6765\u200b\u4e4b\u524d\u200b\u662f\u200b\u9ad8\u7535\u5e73\u200b\uff0c\u200b\u6765\u4e34\u200b\u4e4b\u540e\u200b\u53d8\u6362\u200b\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\uff0c\u200b\u90a3\u4e48\u200b\u901a\u8fc7\u200b\u6253\u4e00\u200b\u62cd\u200b\u8d4b\u503c\u200b\u7ed9\u200b\u7684\u200b\u65b0\u200b\u7684\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u4fe1\u53f7\u200b\u662f\u200b\u5728\u200b\u65f6\u949f\u200b\u5230\u6765\u200b\u4e4b\u524d\u200b\u7684\u200b\u7535\u5e73\u200b\u72b6\u6001\u200b\uff0c\u200b\u4e5f\u200b\u8fd8\u200b\u5c31\u662f\u200b\u9ad8\u7535\u5e73\u200b\u3002\u200b\u56e0\u6b64\u200b\u4fe1\u53f7\u200b\u4f1a\u200b\u5ef6\u65f6\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u7684\u200b\u53d8\u6362\u200b\u3002\u200b\u4e3b\u8981\u200b\u539f\u56e0\u200b\u662f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u8d4b\u503c\u200b\u662f\u200b\u6839\u636e\u200b\u65f6\u949f\u200b\u8fb9\u6cbf\u200b\u53d8\u5316\u200b\u7684\u200b\u524d\u200b\u4e00\u200b\u65f6\u523b\u200b\u6765\u200b\u8d4b\u503c\u200b\u7684\u200b\n\n\u200b\u5f53\u524d\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u4eff\u771f\u200b\u60c5\u51b5\u200b\u5982\u56fe\u6240\u793a\u200b\uff1a\n\n![](https://jsd.cdn.zzko.cn/gh/zikwq/Blog_Pic/20240609131344.png)\n\n\n\n## \u200b\u7b2c\u4e8c\u79cd\u200b\u60c5\u51b5\u200b\n\n\n\n\n\n```verilog test.v\nmodule test(  \n    input               clk,    //\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\uff1b  \n    input               rst,    //\u200b\u7cfb\u7edf\u200b\u590d\u4f4d\u200b\uff0c\u200b\u9ad8\u7535\u5e73\u200b\u6709\u6548\u200b\uff1b  \n\n    input       [1:0]   in,      \n    output      [1:0]   out \n);\n\nreg [1:0]   in_r,in_rr;     //\u200b\u5206\u522b\u200b\u6253\u4e00\u200b\u62cd\u200b\u3001\u200b\u6253\u200b\u4e24\u200b\u62cd\u200b\n\nassign out = in_rr;\n\nalways@(posedge clk or posedge rst)begin \n    if(rst)begin \n        in_r &lt;= 2'd0;       //\u200b\u590d\u4f4d\u200b\u521d\u59cb\u503c\u200b\n        in_rr &lt;= 2'd0;      //\u200b\u590d\u4f4d\u200b\u521d\u59cb\u503c\u200b\n    end\n    else begin\n        in_r &lt;= in;         //\u200b\u8f93\u5165\u200b\u6253\u4e00\u200b\u62cd\u200b\n        in_rr &lt;= in_r;      //\u200b\u8f93\u5165\u200b\u6253\u200b\u4e24\u200b\u62cd\u200b\n    end\nend\n\nendmodule\n</code></pre> <p><code>``verilog  tb_test.v</code>timescale 1 ns/1 ns module tb_test();  </p> <p>//\u200b\u8f93\u5165\u8f93\u51fa\u200b\u7aef\u53e3\u200b reg         clk; reg         rst; reg [1:0]   in; wire [1:0]  out; </p> <p>//\u200b\u4f8b\u5316\u200b\u88ab\u200b\u6d4b\u8bd5\u200b\u6a21\u5757\u200b  test  u_test (     .clk    (clk),     .rst    (rst),     .in     (in ),      .out    (out) );  </p> <p>//\u200b\u751f\u6210\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\uff0c\u200b\u5468\u671f\u200b10ns; initial begin      clk = 1;     forever #5 clk = ~clk; end</p> <p>//\u200b\u751f\u6210\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b initial begin      rst = 1;     #25;     rst = 0; end </p> <p>//\u200b\u751f\u6210\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\uff08\u200b\u6d4b\u8bd5\u200b\u6fc0\u52b1\u200b\uff09 initial begin     in = 0;      #30;     repeat(8)begin          //\u200b\u5faa\u73af\u200b8\u200b\u6b21\u200b\uff1b         #10  in = in + 1;   //\u200b\u8f93\u5165\u200b\u9012\u589e\u200b1     end     $stop;                  //\u200b\u505c\u6b62\u200b\u4eff\u771f\u200b end</p> <p>endmodule</p> <pre><code>\n![](https://jsd.cdn.zzko.cn/gh/zikwq/Blog_Pic/20240609132200.png)\n\n\u200b\u5f53\u200b\u8d4b\u503c\u200b\u7684\u200b\u65f6\u5019\u200b\u7ed9\u200b#1\u200b\u5ef6\u65f6\u200b\u7528\u6765\u200b\u6a21\u62df\u200bTco\uff08\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u65f6\u949f\u200b\u5230\u200b\u8f93\u51fa\u200b\u5ef6\u8fdf\u200b\uff09\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4eff\u771f\u200b\u5982\u4e0b\u200b\n\n![](https://jsd.cdn.zzko.cn/gh/zikwq/Blog_Pic/20240609133052.png)\n\n\n\n\u200b\u867d\u7136\u200b\u5728\u200b\u4e0a\u9762\u200b\u7684\u200b\u53c2\u8003\u6587\u732e\u200b\u4e2d\u200b\uff0c\u200b\u4f5c\u8005\u200b\u7ed9\u51fa\u200b\u4e86\u200b\u51fa\u73b0\u200b\u7b2c\u4e8c\u79cd\u200b\u60c5\u51b5\u200b\u7684\u200b\u7b54\u6848\u200b\uff0c\u200b\u662f\u56e0\u4e3a\u200bD\u200b\u89e6\u53d1\u5668\u200b\u7684\u200b\u5efa\u7acb\u200b\u65f6\u95f4\u200b\u3001\u200b\u4fdd\u6301\u200b\u65f6\u95f4\u200b\u3001\u200b\u8f93\u51fa\u200b\u5ef6\u65f6\u200b\u7684\u200b\u539f\u56e0\u200b\u3002\u200b\u4f46\u662f\u200b\u6211\u200b\u8fd8\u662f\u200b\u6709\u200b\u4e00\u70b9\u200b\u6ca1\u6709\u200b\u5f04\u200b\u660e\u767d\u200b\uff0c\u200b\u4e3a\u4ec0\u4e48\u200b\u8ddf\u200b\u7b2c\u4e00\u79cd\u200b\u60c5\u51b5\u200b\u4e0d\u200b\u4e00\u6837\u200b\uff0c\u200b\u5982\u679c\u200b\u4f5c\u8005\u200b\u7684\u200b\u7b54\u6848\u200b\u662f\u200b\u6b63\u786e\u200b\u7684\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u51fa\u73b0\u200b\u7b2c\u4e00\u79cd\u200b\u60c5\u51b5\u200b\u4e86\u200b\u5427\u200b\u3002\u200b\u7559\u5751\u200b\uff0c\u200b\u78b0\u89c1\u200b\u5927\u4f6c\u200b\u89e3\u7b54\u200b\n\n## \u200b\u7834\u6848\u200b\uff08\u200b\u53c8\u200b\u7acb\u6848\u200b\uff09\n\n\u200b\u5148\u8d34\u200b\u51fa\u200b\u7b54\u6848\u200b\n\n![](https://jsd.cdn.zzko.cn/gh/zikwq/Blog_Pic/image-20240609134847484.png)\n\n\u200b\u539f\u56e0\u200b\u5f88\u200b\u7b80\u5355\u200b\uff0c\u200b\u4f46\u662f\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5c0f\u200b\u7ec6\u8282\u200b\u5f88\u96be\u200b\u6ce8\u610f\u200b\u5230\u200b\u3002\u200b\u6211\u4eec\u200b\u5148\u200b\u6765\u200b\u5206\u6790\u200b\u4e00\u4e0b\u200bTestBench\u200b\u7684\u200b\u4ee3\u7801\u200b\u7247\u6bb5\u200b\u3002\n\n```verilog\n//\u200b\u751f\u6210\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\uff08\u200b\u6d4b\u8bd5\u200b\u6fc0\u52b1\u200b\uff09\ninitial begin\n    in = 0; \n    #30;\n    repeat(8)begin          //\u200b\u5faa\u73af\u200b8\u200b\u6b21\u200b\uff1b\n        #10  in = in + 1;   //\u200b\u8f93\u5165\u200b\u9012\u589e\u200b1\n    end  \n    $stop;                  //\u200b\u505c\u6b62\u200b\u4eff\u771f\u200b\nend\n</code></pre> <p>\u200b\u6839\u636e\u200b\u4e0a\u200b\u4e0a\u9762\u200b\u7684\u200b\u4eff\u771f\u200b\u56fe\u50cf\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0cin\u200b\u7684\u200b\u8d4b\u503c\u200b\u4e0e\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u662f\u200b\u5bf9\u9f50\u200b\u7684\u200b\uff0c\u200b\u5e76\u4e14\u200bin\u200b\u4f7f\u7528\u200b\u7684\u200b\u662f\u200b\u963b\u585e\u200b\u8d4b\u503c\u200b\uff0c\u200b\u4e5f\u5c31\u662f\u8bf4\u200b\u5728\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u7684\u200b\u90a3\u4e00\u523b\u200b\u6570\u636e\u200b\u53d1\u751f\u200b\u4e86\u200b\u53d8\u5316\u200b\uff0c</p> <p></p> <p>\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\uff0c\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7</p>","tags":["FPGA\u7591\u96be\u6742\u75c7"]},{"location":"fpga/%E4%B8%BA%E4%BB%80%E4%B9%88FPGA%E7%9A%84%E9%98%BB%E5%A1%9E%E8%B5%8B%E5%80%BC%E4%BC%9A%E5%BB%B6%E6%97%B6%E4%B8%80%E4%B8%AA%E6%97%B6%E9%92%9F%E5%91%A8%E6%9C%9F%EF%BC%8C%E8%80%8C%E5%9C%A8%E6%9F%90%E4%BA%9B%E6%83%85%E5%86%B5%E4%B8%8B%E4%B8%8D%E5%BB%B6%E6%97%B6%E4%B8%80%E4%B8%AA%E6%97%B6%E9%92%9F%E5%91%A8%E6%9C%9F%E5%91%90%EF%BC%9F/#_3","title":"\u65b0\u200b\u95ee\u9898","text":"<p>\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b\u4e86\u200b\u963b\u585e\u200b\u8d4b\u503c\u200b\uff0c\u200b\u5728\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u65f6\u200b\u6570\u636e\u200b\u4ea7\u751f\u200b\u4e86\u200b\u53d8\u5316\u200b\uff0c\u200b\u90a3\u4e48\u200b\u8fd9\u91cc\u200b\u7684\u200btsu\u200b\u5efa\u7acb\u200b\u65f6\u95f4\u200b\u5e76\u200b\u4e0d\u80fd\u200b\u6ee1\u8db3\u8981\u6c42\u200b\u3002\u200b\u67e5\u9605\u200b\u8d44\u6599\u200b\u5f97\u77e5\u200b\u5f53\u200btus\u200b\u4e0d\u200b\u6ee1\u8db3\u200b\u65f6\u200b\uff0c\u200b\u6570\u636e\u200b\u5c06\u200b\u4e0d\u200b\u88ab\u200b\u6b63\u786e\u200b\u91c7\u6837\u200b\uff0c\u200b\u800c\u662f\u200b\u7b49\u5230\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6570\u636e\u200b\u624d\u80fd\u200b\u88ab\u200b\u6b63\u786e\u200b\u5199\u5165\u200b\u5bc4\u5b58\u5668\u200b\u5f53\u4e2d\u200b\u3002\u200b\u90a3\u4e48\u200b\u95ee\u9898\u200b\u6765\u200b\u4e86\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b\u600e\u4e48\u200b\u5199\u5165\u200b\u5bc4\u5b58\u5668\u200b\u91cc\u9762\u200b\u7684\u200b\u5450\u200b\uff1f</p> <p></p> <p>\u200b\u4e0b\u9762\u200b\u662f\u200btestbench\u200b\u5728\u200b\u963b\u585e\u200b\u8d4b\u503c\u200b\u4e0b\u200b\u7684\u200b\u95e8\u7ea7\u200b\u4eff\u771f\u200b</p> <p></p>","tags":["FPGA\u7591\u96be\u6742\u75c7"]},{"location":"fpga/%E4%B8%BA%E4%BB%80%E4%B9%88FPGA%E7%9A%84%E9%98%BB%E5%A1%9E%E8%B5%8B%E5%80%BC%E4%BC%9A%E5%BB%B6%E6%97%B6%E4%B8%80%E4%B8%AA%E6%97%B6%E9%92%9F%E5%91%A8%E6%9C%9F%EF%BC%8C%E8%80%8C%E5%9C%A8%E6%9F%90%E4%BA%9B%E6%83%85%E5%86%B5%E4%B8%8B%E4%B8%8D%E5%BB%B6%E6%97%B6%E4%B8%80%E4%B8%AA%E6%97%B6%E9%92%9F%E5%91%A8%E6%9C%9F%E5%91%90%EF%BC%9F/#2024610","title":"\u53e6\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200b\u95ee\u9898\u200b\uff082024.6.10\uff09\uff1a\u200b\u5355\u200b\u6bd4\u7279\u200b\u6570\u636e\u200b\u5938\u200b\u65f6\u949f\u200b\u57df\u200b\u5904\u7406\u200b\u7684\u200b\u95ee\u9898","text":"<p>\u200b\u56e0\u4e3a\u200b\u5177\u4f53\u200b\u7684\u200b\u95ee\u9898\u200b\u662f\u200b\u51fa\u73b0\u200b\u5728\u200b\u4e9a\u7a33\u6001\u200b\u4e0a\u200b\u7684\u200b\uff0c\u200b\u5e76\u4e14\u200b\u8ddf\u200b\u8fd9\u4e2a\u200b\u95ee\u9898\u200b\u76f8\u4f3c\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5728\u200b\u8fd9\u91cc\u200b\u4e00\u5e76\u200b\u8bb0\u5f55\u4e0b\u6765\u200b\u3002</p> <p>\u200b\u5728\u200b\u9605\u8bfb\u200b\u738b\u654f\u5fd7\u200b\u7f16\u8457\u200b\u7684\u200b\u300aFPGA\u200b\u8bbe\u8ba1\u200b\u5b9e\u6218\u200b\u6f14\u7ec3\u200b\u9ad8\u7ea7\u200b\u6280\u5de7\u200b\u7bc7\u200b\u300bP19\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4f5c\u8005\u200b\u8bb2\u5230\u200b\u5355\u200b\u6bd4\u7279\u200b\u6570\u636e\u200b\u5938\u200b\u65f6\u949f\u200b\u57df\u200b\u5904\u7406\u200b\u65b9\u6cd5\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b2\u200b\u7ea7\u200b\u6216\u8005\u200b3\u200b\u7ea7\u200b\u540c\u6b65\u5668\u200b\uff08\u200b\u6253\u200b\u62cd\u200b\u64cd\u4f5c\u200b\uff09\u200b\u6765\u200b\u89e3\u51b3\u200b\u4fe1\u53f7\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u65f6\u200b\u51fa\u73b0\u200b\u4e9a\u7a33\u6001\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u4eba\u4f53\u200b\u5c31\u200b\u51fa\u73b0\u200b\u8fd9\u4e2a\u200b\u4e9a\u7a33\u6001\u200b\u7684\u200b\u90e8\u5206\u200b\uff0c\u200b\u8bf7\u200b\u770b\u200b\u4e0b\u9762\u200b\u7684\u200b\u56fe\u50cf\u200b\uff1a</p> <p></p> <p></p> <p>\u200b\u95ee\u9898\u200b1.\u200b\u65f6\u949f\u200b1\u200b\u8f93\u51fa\u200b\u6570\u636e\u200b1\u200b\u7684\u200b\u6570\u636e\u200b\u4e3a\u4ec0\u4e48\u200b\u6ca1\u6709\u200b\u65f6\u949f\u200b\u6cbf\u200b\u5bf9\u9f50\u200b?</p> <p>\u200b\u95ee\u9898\u200b2.\u200b\u5728\u200b\u65f6\u949f\u200b2\u200b\u7b2c\u4e00\u6b21\u200b\u91c7\u6837\u200b\u7684\u200b\u65f6\u5019\u200b\u786e\u5b9e\u200b\u662f\u200b\u4f4d\u4e8e\u200b\u4e9a\u7a33\u6001\u200b\u533a\u57df\u200b\uff0c\u200b\u4f46\u662f\u200b\u7b2c\u4e8c\u6b21\u200b\u91c7\u6837\u200b\u5e94\u8be5\u200b\u53ef\u4ee5\u200b\u91c7\u96c6\u200b\u5230\u200b\u6b63\u786e\u200b\u7684\u200b\u6570\u636e\u200b\u4e86\u200b\u3002\u200b\u4e3a\u4ec0\u4e48\u200b\u6570\u636e\u200b2\u200b\u8fd8\u662f\u200b\u4f4d\u4e8e\u200b\u4e9a\u7a33\u6001\u200b\uff1f</p> <p>\u200b\u95ee\u9898\u200b3. \u200b\u65e2\u7136\u200b\u662f\u200b\u4e9a\u7a33\u6001\u200b\uff0c\u200b\u95ee\u200b\u4ec0\u4e48\u200b\u6570\u636e\u200b2\u200b\u5728\u200b\u65f6\u949f\u200b2\u200b\u7684\u200b\u91c7\u6837\u200b\u8fb9\u6cbf\u200b\u53ef\u4ee5\u200b\u91c7\u96c6\u200b\u5230\u200b\u201c\u200b\u9ad8\u200b\u201d\uff1f</p>","tags":["FPGA\u7591\u96be\u6742\u75c7"]},{"location":"fpga/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%97%B6%E5%BA%8F%E9%80%BB%E8%BE%91%E9%9C%80%E8%A6%81%E6%BB%9E%E5%90%8E%E4%B8%80%E4%B8%AA%E6%97%B6%E9%92%9F%E5%91%A8%E6%9C%9F/","title":"\u4e3a\u4ec0\u4e48\u200b\u65f6\u5e8f\u200b\u903b\u8f91\u200b\u9700\u8981\u200b\u6ede\u540e\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f","text":"<p>\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u00b7\u00b7\u00b7\u200b\u4e3a\u4ec0\u4e48\u200b\u65f6\u5e8f\u200b\u903b\u8f91\u200b\u9700\u8981\u200b\u6ede\u540e\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b.md</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/","title":"\u5343\u5146\u200b\u4ee5\u592a\u7f51\u200b\u901a\u4fe1","text":"<p>\u200b\u5343\u5146\u200b\u4ee5\u592a\u7f51\u200b\u901a\u4fe1\u200b\u7b14\u8bb0\u200b\uff0c\u200b\u5305\u542b\u200b\u5185\u5bb9\u200b\u8f83\u200b\u591a\u200b\uff0c\u200b\u5305\u62ec\u200b\u4ee5\u592a\u7f51\u200b\u57fa\u7840\u77e5\u8bc6\u200b\u3001Wireshark\u200b\u6293\u5305\u200b\u6293\u53d6\u200b\u7ed1\u5b9a\u200bMAC\u200b\u5730\u5740\u200b\u3001RGMII\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u3001RGMII\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u3001UDP\u200b\u534f\u8bae\u200b\u6808\u200b\u67b6\u6784\u200b\u7f16\u5199\u200b\u3001MAC\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u3001MAC\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u3001CRC\u200b\u6821\u9a8c\u200b\u6a21\u5757\u200b\u3001MAC\u200b\u9876\u5c42\u200b\u4ee5\u53ca\u200b\u5b9e\u4f8b\u200b\u5316\u200bCRC\u200b\u6821\u9a8c\u200b\u6a21\u5757\u200b\u3001mac to arp ip\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u3001ip\u200b\u63a5\u6536\u200b\u4e0e\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u3001UDP\u200b\u63a5\u6536\u200b\u4e0e\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u3001UDP\u200b\u56de\u73af\u200b\u5b9e\u9a8c\u200b\u4eff\u771f\u200b\u4ee5\u53ca\u200b\u4e0a\u73ed\u200b\u9a8c\u8bc1\u200b\u3001Wireshark\u200b\u6293\u53d6\u200barp\u200b\u6570\u636e\u5305\u200b\u3001arp\u200b\u534f\u8bae\u200b\u5c42\u200b\u4ee3\u7801\u200b\u8bbe\u8ba1\u200b\u3001ICMP\u200b\u534f\u8bae\u200b\u5c42\u200b\u4ee3\u7801\u200b\u8bbe\u8ba1\u200b\u4ee5\u53ca\u200b\u65f6\u5e8f\u200b\u7ea6\u675f\u200b-\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u7ea6\u675f\u200b\u3001</p> <p>\u200b\u7136\u540e\u200b\u901a\u8fc7\u200b\u4f7f\u7528\u200b\u4ee5\u592a\u7f51\u200b\u5728\u200bLCD\u200b\u5c4f\u5e55\u663e\u793a\u200b\u4e3b\u673a\u200b\u5c4f\u5e55\u200b\u753b\u9762\u200b\u548c\u200bADC\u200b\u91c7\u96c6\u200b\u5b58\u50a8\u7cfb\u7edf\u200b\u4e24\u4e2a\u200b\u9879\u76ee\u200b\u5b9e\u9a8c\u200b\u4f5c\u4e3a\u200b\u672c\u8282\u200b\u7684\u200b\u7ed3\u675f\u200b\uff08\u200b\u5305\u62ec\u200b\u4ecb\u7ecd\u200bVGA\u200b\u663e\u793a\u200b\u6a21\u5757\u200b\u548c\u200bADC\u200b\u91c7\u96c6\u200b\u5b58\u50a8\u6a21\u5757\u200b\uff09\u3002</p> <p>\u200b\u540e\u7eed\u200b\u4f1a\u200b\u6dfb\u52a0\u200b\u4f7f\u7528\u200bAXI4_DDR3\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u7f13\u5b58\u200b\u5904\u7406\u200b\uff0c\u200b\u56fe\u50cf\u200b\u8fdb\u884c\u200b\u4e52\u4e53\u200b\u64cd\u4f5c\u200b\u9632\u6b62\u200b\u753b\u9762\u200b\u6495\u88c2\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u56fe\u50cf\u5904\u7406\u200b\u548c\u200b\u6570\u5b57\u200b\u4fe1\u53f7\u5904\u7406\u200b\u76f8\u5173\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002\u200b\u8fd9\u662f\u200b\u4e00\u4e2a\u200b\u8f83\u5927\u200b\u7684\u200b\u5de5\u7a0b\u9879\u76ee\u200b\u3002</p> <p>\u200b\u795d\u613f\u200b\u672c\u6b21\u200b\u9879\u76ee\u200b\u6211\u200b\u80fd\u591f\u200b\u575a\u6301\u4e0b\u53bb\u200b\u5e76\u200b\u987a\u5229\u200b\u5b8c\u7ed3\u200b\uff0c\u200b\u901a\u8fc7\u200b\u66f4\u65b0\u200b\u7b14\u8bb0\u200b\u5185\u5bb9\u200b\u5bf9\u200b\u81ea\u5df1\u200b\u8fdb\u884c\u200b\u7763\u4fc3\u200b\u3002</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1","title":"1. \u200b\u5343\u5146\u200b\u4ee5\u592a\u7f51","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#11","title":"1.1 \u200b\u4ee5\u592a\u7f51\u200b\u57fa\u7840\u77e5\u8bc6","text":"<p>\u200b\u4f7f\u7528\u200bFPGA\u200b\u4e0e\u200b\u4e3b\u673a\u200b\u901a\u8fc7\u200b\u4ee5\u592a\u7f51\u200b\u4ea4\u4e92\u200b\u4fe1\u606f\u200b\u5728\u200b\u5de5\u4e1a\u200b\u4e0a\u200b\u662f\u200b\u4e00\u79cd\u200b\u975e\u5e38\u200b\u5e38\u7528\u200b\u7684\u200b\u624b\u6bb5\u200b\uff0c\u200b\u5f97\u76ca\u4e8e\u200b\u57fa\u4e8e\u200bFPGA\u200b\u7684\u200b\u4ee5\u592a\u7f51\u200b\u4f20\u8f93\u200b\u7cfb\u7edf\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u5fae\u79d2\u200b\u7ea7\u200b\u7684\u200b\u5ef6\u65f6\u200b\uff0c\u200b\u6ee1\u8db3\u200b\u5de5\u4e1a\u200b\u81ea\u52a8\u5316\u200b\u4e2d\u200b\u5feb\u901f\u200b\u53cd\u9988\u200b\u548c\u200b\u7cbe\u786e\u200b\u63a7\u5236\u200b\u7684\u200b\u9700\u6c42\u200b\uff0cFPGA\u200b\u901a\u8fc7\u200bRJ45\u200b\u7f51\u53e3\u200b\uff08\u200b\u6211\u4eec\u200b\u4e3b\u673a\u200b\u548c\u200bFPGA\u200b\u4e0a\u200b\u63d2\u5165\u200b\u7f51\u7ebf\u200b\u7684\u200b\u5143\u4ef6\u200b\uff09\u200b\u4e0e\u200b\u677f\u8f7d\u200b\u7684\u200bPHY\u200b\u82af\u7247\u200b\uff08\u200b\u7f51\u7edc\u901a\u4fe1\u200b\u8bbe\u5907\u200b\u4e2d\u200b\u7684\u200b\u6838\u5fc3\u200b\u7ec4\u4ef6\u200b\uff09\u200b\u4e0e\u200b\u6211\u4eec\u200b\u4e3b\u673a\u200b\u7684\u200bRJ45\u200b\u548c\u200bPHY\u200b\u82af\u7247\u200b\u8fdb\u884c\u200b\u4f20\u8f93\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5728\u200b\u8fd9\u200b\u671f\u95f4\u200b\u6d89\u53ca\u200b\u5230\u200b\u7ec4\u5305\u200b\u548c\u89e3\u200b\u5305\u200b\uff08OSI\u200b\u4e03\u5c42\u200b\u6a21\u578b\u200b\uff09\u200b\u7684\u200b\u8fc7\u7a0b\u200b\uff0c</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#111-phy","title":"1.1.1 PHY\u200b\u82af\u7247\u200b\u4ecb\u7ecd","text":"<p>PHY\u200b\u82af\u7247\u200b\uff08Physical Layer Chip\uff09\u200b\u662f\u200b\u7f51\u7edc\u901a\u4fe1\u200b\u8bbe\u5907\u200b\u4e2d\u200b\u7684\u200b\u6838\u5fc3\u200b\u7ec4\u4ef6\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b9e\u73b0\u200bOSI\u200b\u6a21\u578b\u200b\u4e2d\u200b\u7269\u7406\u5c42\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u4e3b\u8981\u200b\u8d1f\u8d23\u200b\u6570\u636e\u4fe1\u53f7\u200b\u5728\u200b\u7269\u7406\u4ecb\u8d28\u200b\uff08\u200b\u5982\u200b\u53cc\u7ede\u7ebf\u200b\u3001\u200b\u5149\u7ea4\u200b\u7b49\u200b\uff09\u200b\u4e0a\u200b\u7684\u200b\u4f20\u8f93\u200b\u548c\u200b\u63a5\u6536\u200b\u3002\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u5173\u4e8e\u200bPHY\u200b\u82af\u7247\u200b\u7684\u200b\u8be6\u7ec6\u200b\u4ecb\u7ecd\u200b\uff1a</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1_1","title":"1. \u200b\u529f\u80fd","text":"<ul> <li>\u200b\u4fe1\u53f7\u200b\u8f6c\u6362\u200b\uff1a\u200b\u5c06\u200b\u6570\u5b57\u4fe1\u53f7\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u9002\u5408\u200b\u5728\u200b\u7269\u7406\u4ecb\u8d28\u200b\u4e0a\u200b\u4f20\u8f93\u200b\u7684\u200b\u6a21\u62df\u4fe1\u53f7\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u63a5\u6536\u7aef\u200b\u5c06\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u8fd8\u539f\u200b\u4e3a\u200b\u6570\u5b57\u4fe1\u53f7\u200b\u3002</li> <li>\u200b\u81ea\u52a8\u200b\u534f\u5546\u200b\uff1a\u200b\u652f\u6301\u200b\u81ea\u52a8\u200b\u534f\u5546\u200b\u529f\u80fd\u200b\uff0c\u200b\u80fd\u591f\u200b\u6839\u636e\u200b\u5bf9\u7aef\u200b\u8bbe\u5907\u200b\u81ea\u52a8\u200b\u8c03\u6574\u200b\u4f20\u8f93\u901f\u7387\u200b\uff08\u200b\u5982\u200b10Mbps\u3001100Mbps\u30011Gbps\u200b\u7b49\u200b\uff09\u200b\u548c\u200b\u5de5\u4f5c\u200b\u6a21\u5f0f\u200b\u3002</li> <li>\u200b\u65f6\u949f\u200b\u63d0\u53d6\u200b\uff1a\u200b\u4ece\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u200b\u4e2d\u200b\u63d0\u53d6\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4ee5\u200b\u540c\u6b65\u200b\u53d1\u9001\u200b\u548c\u200b\u63a5\u6536\u200b\u3002</li> <li>\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u4f20\u8f93\u200b\uff1a\u200b\u652f\u6301\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u4f20\u8f93\u200b\uff0c\u200b\u51cf\u5c11\u200b\u5e72\u6270\u200b\u548c\u200b\u8bef\u7801\u7387\u200b\u3002</li> <li>\u200b\u6545\u969c\u8bca\u65ad\u200b\uff1a\u200b\u652f\u6301\u200b\u6545\u969c\u8bca\u65ad\u200b\u548c\u200b\u62a5\u544a\u200b\u529f\u80fd\u200b\uff0c\u200b\u5e2e\u52a9\u200b\u5feb\u901f\u200b\u5b9a\u4f4d\u200b\u7f51\u7edc\u200b\u95ee\u9898\u200b\u3002</li> <li>\u200b\u8282\u80fd\u200b\u529f\u80fd\u200b\uff1a\u200b\u63d0\u4f9b\u200b\u4f4e\u529f\u8017\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u964d\u4f4e\u200b\u8bbe\u5907\u200b\u80fd\u8017\u200b\u3002</li> </ul>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#2","title":"2. \u200b\u5de5\u4f5c\u200b\u539f\u7406","text":"<p>PHY\u200b\u82af\u7247\u200b\u7684\u200b\u5de5\u4f5c\u200b\u6d41\u7a0b\u200b\u4e3b\u8981\u200b\u5305\u62ec\u200b\uff1a</p> <ol> <li>\u200b\u5c06\u200b\u6765\u81ea\u200bMAC\u200b\u5c42\u200b\u7684\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u3002</li> <li>\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u7f16\u7801\u200b\uff08\u200b\u5982\u200b4B/5B\u200b\u7f16\u7801\u200b\uff09\u200b\u5e76\u200b\u8c03\u5236\u200b\u4e3a\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u53d1\u9001\u200b\u51fa\u53bb\u200b\u3002</li> <li>\u200b\u5728\u200b\u63a5\u6536\u7aef\u200b\uff0c\u200b\u5c06\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u89e3\u8c03\u200b\u4e3a\u200b\u6570\u5b57\u4fe1\u53f7\u200b\uff0c\u200b\u89e3\u7801\u200b\u540e\u200b\u6062\u590d\u200b\u4e3a\u200b\u539f\u59cb\u6570\u636e\u200b\u3002</li> </ol>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#3","title":"3. \u200b\u6280\u672f\u200b\u89c4\u683c","text":"<ul> <li>\u200b\u4f20\u8f93\u901f\u7387\u200b\uff1a\u200b\u652f\u6301\u200b\u591a\u79cd\u200b\u901f\u7387\u200b\uff0c\u200b\u5305\u62ec\u200b10Mbps\u3001100Mbps\u30011Gbps\u30012.5Gbps\u30015Gbps\u200b\u548c\u200b10Gbps\u3002</li> <li>\u200b\u63a5\u53e3\u7c7b\u578b\u200b\uff1a\u200b\u652f\u6301\u200bMII\u3001RMII\u3001GMII\u200b\u7b49\u200b\u63a5\u53e3\u200b\uff0c\u200b\u7528\u4e8e\u200b\u4e0e\u200bMAC\u200b\u5c42\u200b\u901a\u4fe1\u200b\u3002</li> <li>\u200b\u4f20\u8f93\u200b\u4ecb\u8d28\u200b\uff1a\u200b\u652f\u6301\u200b\u53cc\u7ede\u7ebf\u200b\u3001\u200b\u5149\u7ea4\u200b\u7b49\u200b\u591a\u79cd\u200b\u7269\u7406\u4ecb\u8d28\u200b\u3002</li> <li>\u200b\u4f4e\u529f\u8017\u200b\u8bbe\u8ba1\u200b\uff1a\u200b\u91c7\u7528\u200b\u5148\u8fdb\u200b\u7684\u200b\u4f4e\u529f\u8017\u200b\u67b6\u6784\u200b\uff0c\u200b\u9002\u5408\u200b\u5bf9\u200b\u529f\u8017\u200b\u654f\u611f\u200b\u7684\u200b\u5e94\u7528\u200b\u573a\u666f\u200b\u3002</li> </ul>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#4","title":"4. \u200b\u5e94\u7528\u200b\u573a\u666f","text":"<p>PHY\u200b\u82af\u7247\u200b\u5e7f\u6cdb\u5e94\u7528\u200b\u4e8e\u200b\u4ee5\u4e0b\u200b\u9886\u57df\u200b\uff1a</p> <ul> <li>\u200b\u6570\u636e\u4e2d\u5fc3\u200b\u7f51\u7edc\u200b\uff1a\u200b\u7528\u4e8e\u200b\u670d\u52a1\u5668\u200b\u3001\u200b\u4ea4\u6362\u673a\u200b\u548c\u200b\u8def\u7531\u5668\u200b\u4e4b\u95f4\u200b\u7684\u200b\u9ad8\u901f\u200b\u6570\u636e\u4f20\u8f93\u200b\u3002</li> <li>\u200b\u4f01\u4e1a\u200b\u5c40\u57df\u7f51\u200b\uff1a\u200b\u8fde\u63a5\u200b\u8ba1\u7b97\u673a\u200b\u3001\u200b\u6253\u5370\u673a\u200b\u3001IP\u200b\u7535\u8bdd\u200b\u7b49\u200b\u8bbe\u5907\u200b\u3002</li> <li>\u200b\u5bb6\u5ead\u7f51\u7edc\u200b\uff1a\u200b\u652f\u6301\u200b\u5bb6\u5ead\u200b\u8def\u7531\u5668\u200b\u548c\u200b\u4ea4\u6362\u673a\u200b\u3002</li> <li>\u200b\u5de5\u4e1a\u200b\u63a7\u5236\u200b\u7f51\u7edc\u200b\uff1a\u200b\u7528\u4e8e\u200b\u4f20\u611f\u5668\u200b\u3001\u200b\u6267\u884c\u5668\u200b\u548c\u200b\u63a7\u5236\u5668\u200b\u4e4b\u95f4\u200b\u7684\u200b\u901a\u4fe1\u200b\u3002</li> <li>\u200b\u6c7d\u8f66\u200b\u7535\u5b50\u200b\uff1a\u200b\u652f\u6301\u200b\u8f66\u8f7d\u200b\u4ee5\u592a\u7f51\u200b\uff0c\u200b\u5982\u200b\u8f85\u52a9\u200b\u9a7e\u9a76\u200b\u548c\u200b\u6db2\u6676\u200b\u4eea\u8868\u76d8\u200b\u3002</li> </ul>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#5","title":"5. \u200b\u9009\u578b\u200b\u8981\u70b9","text":"<ul> <li>\u200b\u901f\u7387\u200b\u652f\u6301\u200b\uff1a\u200b\u6839\u636e\u200b\u5e94\u7528\u200b\u9700\u6c42\u200b\u9009\u62e9\u200b\u652f\u6301\u200b\u7279\u5b9a\u200b\u901f\u7387\u200b\u7684\u200bPHY\u200b\u82af\u7247\u200b\u3002</li> <li>\u200b\u529f\u8017\u200b\uff1a\u200b\u4f18\u5148\u9009\u62e9\u200b\u4f4e\u529f\u8017\u200b\u8bbe\u8ba1\u200b\u7684\u200b\u82af\u7247\u200b\u3002</li> <li>\u200b\u517c\u5bb9\u6027\u200b\uff1a\u200b\u786e\u4fdd\u200bPHY\u200b\u82af\u7247\u200b\u4e0e\u200bMAC\u200b\u5c42\u200b\u53ca\u5176\u200b\u4ed6\u200b\u7f51\u7edc\u8bbe\u5907\u200b\u517c\u5bb9\u200b\u3002</li> <li>\u200b\u53ef\u9760\u6027\u200b\uff1a\u200b\u8003\u8651\u200b\u82af\u7247\u200b\u7684\u200b\u6297\u5e72\u6270\u80fd\u529b\u200b\u548c\u200b\u7a33\u5b9a\u6027\u200b\u3002</li> </ul> <p>\u200b\u603b\u4e4b\u200b\uff0cPHY\u200b\u82af\u7247\u200b\u5728\u200b\u7f51\u7edc\u901a\u4fe1\u200b\u4e2d\u200b\u626e\u6f14\u7740\u200b\u4e0d\u53ef\u6216\u7f3a\u200b\u7684\u200b\u89d2\u8272\u200b\uff0c\u200b\u5176\u200b\u6027\u80fd\u200b\u548c\u200b\u529f\u80fd\u200b\u76f4\u63a5\u200b\u5f71\u54cd\u200b\u7f51\u7edc\u200b\u7684\u200b\u7a33\u5b9a\u6027\u200b\u548c\u200b\u4f20\u8f93\u200b\u6548\u7387\u200b</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#112-osi","title":"1.1.2 OSI\u200b\u4e03\u5c42\u200b\u6a21\u578b\u200b\u4ecb\u7ecd","text":"<p>\u200b\u4ee5\u4e0b\u200b\u56fe\u7247\u200b\u89e3\u91ca\u200b\u4e86\u200bOSI\u200b\u4e03\u5c42\u200b\u6a21\u578b\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u5728\u200b\u6211\u4eec\u200bFPGA\u200b\u4e2d\u200b\u53ea\u200b\u9700\u8981\u200b\u5173\u6ce8\u200b1\uff0c2\uff0c3\uff0c4\u200b\u5c42\u200b\u5185\u5bb9\u200b\u5373\u53ef\u200b\uff0c\u200b\u5373\u200b\u7269\u7406\u5c42\u200b\u3001\u200b\u6570\u636e\u200b\u94fe\u8def\u5c42\u200b\u3001\u200b\u7f51\u7edc\u5c42\u200b\u548c\u200b\u4f20\u8f93\u5c42\u200b\u3002</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#osi","title":"OSI\u200b\u4e03\u5c42\u200b\u6a21\u578b\u200b\u529f\u80fd\u200b\u534f\u8bae\u200b\u5bf9\u7167\u8868","text":"OSI\u200b\u5c42\u200b \u200b\u529f\u80fd\u200b TCP/IP\u200b\u534f\u8bae\u200b \u200b\u5e94\u7528\u5c42\u200b\uff08Application layer\uff09 \u200b\u6587\u4ef6\u4f20\u8f93\u200b\u3001\u200b\u7535\u5b50\u90ae\u4ef6\u200b\u3001\u200b\u6587\u4ef6\u200b\u670d\u52a1\u200b\u3001\u200b\u865a\u62df\u200b\u7ec8\u7aef\u200b TFTP/HTTP/SNMP/FTP/SMTP/DNS/Telnet \u200b\u8868\u793a\u5c42\u200b\uff08Presentation layer\uff09 \u200b\u6570\u636e\u200b\u683c\u5f0f\u5316\u200b\u3001\u200b\u4ee3\u7801\u200b\u8f6c\u6362\u200b\u3001\u200b\u6570\u636e\u200b\u52a0\u5bc6\u200b DECnet NSP/LPP/XDP/IPX \u200b\u4f1a\u8bdd\u5c42\u200b\uff08Session layer\uff09 \u200b\u89e3\u9664\u200b\u6216\u200b\u5efa\u7acb\u200b\u4e0e\u200b\u5176\u4ed6\u200b\u63a5\u70b9\u200b\u7684\u200b\u8054\u7cfb\u200b SSL/TLS/DAP/RPC/ \u200b\u4f20\u8f93\u5c42\u200b\uff08Transport layer\uff09 \u200b\u63d0\u4f9b\u200b\u7aef\u200b\u5bf9\u200b\u7aef\u7684\u200b\u63a5\u53e3\u200b TCP/UDP \u200b\u7f51\u7edc\u5c42\u200b\uff08Network layer\uff09 \u200b\u4e3a\u200b\u6570\u636e\u5305\u200b\u9009\u62e9\u200b\u8def\u7531\u200b\uff0c\u200b\u63a7\u5236\u200b\u5b50\u7f51\u200b\u8fd0\u884c\u200b\uff0c\u200b\u903b\u8f91\u200b\u7f16\u5740\u200b IP/ICMP/RIP/OSPF/BGP/IGMP \u200b\u6570\u636e\u200b\u94fe\u8def\u5c42\u200b\uff08Data link layer\uff09 \u200b\u7269\u7406\u200b\u5bfb\u5740\u200b\uff0c\u200b\u4f20\u8f93\u200b\u6709\u200b\u5730\u5740\u200b\u7684\u200b\u5e27\u200b\uff0c\u200b\u9519\u8bef\u200b\u68c0\u6d4b\u200b\u529f\u80fd\u200b \u200b\u4ee5\u592a\u7f51\u200b\u3001\u200b\u7f51\u5361\u200b\u3001\u200b\u4ea4\u6362\u673a\u200b\u3001PPTP\u3001ARP\u3001ATMP\u200b\u7b49\u200b \u200b\u7269\u7406\u5c42\u200b\uff08Physical layer\uff09 \u200b\u4ee5\u200b\u4e8c\u8fdb\u5236\u200b\u6bd4\u7279\u6d41\u200b\u6570\u636e\u200b\u5f62\u5f0f\u200b\u5728\u200b\u7269\u7406\u200b\u5a92\u4f53\u200b\u4e0a\u200b\u4f20\u8f93\u6570\u636e\u200b\uff0c\u200b\u673a\u68b0\u200b\u7535\u5b50\u200b\u63a5\u53e3\u200b IEEE802/Ethernet v.2 <p>\u200b\u4f20\u8f93\u65b9\u5f0f\u200b\uff0c\u200b\u5373\u200b\u901a\u8fc7\u200b\u7528\u6237\u200b\u6570\u636e\u200b\uff0c\u200b\u901a\u8fc7\u200b\u4f20\u8f93\u5c42\u200b\u540e\u200b\u52a0\u5165\u200bUDP\u200b\u5934\u90e8\u200b\uff0c\u200b\u518d\u200b\u901a\u8fc7\u200b\u7f51\u7edc\u5c42\u200b\u52a0\u5165\u200bIP\u200b\u5934\u90e8\u200b\uff0c\u200b\u7136\u540e\u200b\u901a\u8fc7\u200b\u6570\u636e\u200b\u94fe\u8def\u5c42\u200b\u52a0\u5165\u200bMAC\u200b\u5934\u90e8\u200b\uff0c\u200b\u6700\u540e\u200b\u8fdb\u5165\u200b\u7269\u7406\u5c42\u200b\u5c06\u200b\u6570\u636e\u200b\u751f\u6210\u200b\u5bf9\u5e94\u200b\u7684\u200b\u6bd4\u7279\u6d41\u200b\u8f93\u51fa\u200b\u7ed9\u200b\u4e3b\u673a\u200b\u3002\u200b\u5177\u4f53\u200b\u4f20\u8f93\u65b9\u5f0f\u200b\u5982\u4e0b\u200b</p> <p></p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#113-gmiirgmii","title":"1.1.3 GMII\u200b\u548c\u200bRGMII\u200b\u63a5\u53e3\u200b\u4ecb\u7ecd","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#gmii","title":"GMII\u200b\u63a5\u53e3\u200b\u4ecb\u7ecd","text":"<p>GMII\uff08Gigabit Media Independent Interface\uff0c\u200b\u5343\u5146\u200b\u5a92\u4f53\u200b\u72ec\u7acb\u200b\u63a5\u53e3\u200b\uff09\u200b\u662f\u200b\u4e00\u79cd\u200b\u7528\u4e8e\u200b\u5343\u5146\u200b\u4ee5\u592a\u7f51\u200b\uff081000Mbps\uff09\u200b\u7684\u200b\u63a5\u53e3\u6807\u51c6\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8fde\u63a5\u200bMAC\uff08\u200b\u5a92\u4f53\u200b\u8bbf\u95ee\u63a7\u5236\u200b\uff09\u200b\u5c42\u200b\u548c\u200bPHY\uff08\u200b\u7269\u7406\u5c42\u200b\uff09\u200b\u82af\u7247\u200b\u3002</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#_2","title":"\u4e3b\u8981\u200b\u7279\u70b9","text":"<ol> <li>\u200b\u6570\u636e\u200b\u901f\u7387\u200b\uff1a\u200b\u652f\u6301\u200b1000Mbps\u200b\u7684\u200b\u4f20\u8f93\u901f\u7387\u200b\u3002</li> <li>\u200b\u6570\u636e\u4f4d\u200b\u5bbd\u200b\uff1a8\u200b\u4f4d\u200b\u6570\u636e\u901a\u9053\u200b\uff0c\u200b\u5de5\u4f5c\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u4e3a\u200b125MHz\u3002</li> <li>\u200b\u4fe1\u53f7\u7ebf\u200b\u6570\u91cf\u200b\uff1a\u200b\u5171\u200b24\u200b\u6839\u200b\u4fe1\u53f7\u7ebf\u200b\uff0c\u200b\u5305\u62ec\u200b\u53d1\u9001\u200b\u548c\u200b\u63a5\u6536\u6570\u636e\u200b\u7ebf\u200b\u3001\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u7ebf\u200b\u3001\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u7ebf\u200b\u548c\u200b\u7ba1\u7406\u200b\u63a5\u53e3\u200b\u4fe1\u53f7\u7ebf\u200b\u3002</li> <li>\u200b\u517c\u5bb9\u6027\u200b\uff1a\u200b\u5411\u4e0b\u517c\u5bb9\u200b10Mbps\u200b\u548c\u200b100Mbps\u200b\u901f\u7387\u200b\u3002</li> <li>\u200b\u5168\u53cc\u5de5\u200b\u64cd\u4f5c\u200b\uff1a\u200b\u652f\u6301\u200b\u5168\u53cc\u5de5\u200b\u901a\u4fe1\u200b\u3002</li> <li>\u200b\u7ba1\u7406\u200b\u63a5\u53e3\u200b\uff1a\u200b\u63d0\u4f9b\u200bMDC\uff08\u200b\u7ba1\u7406\u200b\u603b\u7ebf\u200b\u65f6\u949f\u200b\uff09\u200b\u548c\u200bMDIO\uff08\u200b\u7ba1\u7406\u200b\u603b\u7ebf\u200b\u6570\u636e\u200b\uff09\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8bbe\u5907\u200b\u7ba1\u7406\u200b\u548c\u200b\u914d\u7f6e\u200b\u3002</li> </ol>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#_3","title":"\u5e94\u7528\u200b\u573a\u666f","text":"<p>GMII\u200b\u63a5\u53e3\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u5343\u5146\u200b\u4ee5\u592a\u7f51\u200b\u8bbe\u5907\u200b\uff0c\u200b\u5982\u200b\u4ea4\u6362\u673a\u200b\u3001\u200b\u8def\u7531\u5668\u200b\u548c\u200b\u7f51\u7edc\u200b\u63a5\u53e3\u5361\u200b\uff0c\u200b\u9002\u7528\u200b\u4e8e\u200b\u5bf9\u200b\u5e26\u5bbd\u200b\u8981\u6c42\u200b\u8f83\u200b\u9ad8\u200b\u7684\u200b\u573a\u666f\u200b\u3002</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#rgmii","title":"RGMII\u200b\u63a5\u53e3\u200b\u4ecb\u7ecd","text":"<p>RGMII\uff08Reduced Gigabit Media Independent Interface\uff0c\u200b\u7cbe\u7b80\u200b\u5343\u5146\u200b\u5a92\u4f53\u200b\u72ec\u7acb\u200b\u63a5\u53e3\u200b\uff09\u200b\u662f\u200bGMII\u200b\u63a5\u53e3\u200b\u7684\u200b\u7b80\u5316\u200b\u7248\u672c\u200b\uff0c\u200b\u65e8\u5728\u200b\u51cf\u5c11\u200b\u5f15\u811a\u200b\u6570\u91cf\u200b\u548c\u200b\u964d\u4f4e\u529f\u8017\u200b\u3002</p> <p></p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#_4","title":"\u4e3b\u8981\u200b\u7279\u70b9","text":"<ol> <li>\u200b\u6570\u636e\u200b\u901f\u7387\u200b\uff1a\u200b\u652f\u6301\u200b10Mbps\u3001100Mbps\u200b\u548c\u200b1000Mbps\u200b\u7684\u200b\u81ea\u200b\u9002\u5e94\u200b\u901f\u7387\u200b\u3002</li> <li>\u200b\u6570\u636e\u4f4d\u200b\u5bbd\u200b\uff1a4\u200b\u4f4d\u200b\u6570\u636e\u901a\u9053\u200b\uff0c\u200b\u901a\u8fc7\u200b\u53cc\u500d\u200b\u6570\u636e\u200b\u901f\u7387\u200b\uff08DDR\uff09\u200b\u6280\u672f\u200b\u5728\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u548c\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u4f20\u8f93\u6570\u636e\u200b\u3002</li> <li>\u200b\u4fe1\u53f7\u7ebf\u200b\u6570\u91cf\u200b\uff1a\u200b\u4ec5\u200b\u9700\u200b12\u200b\u6839\u200b\u4fe1\u53f7\u7ebf\u200b\u3002</li> <li>\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\uff1a</li> <li>1000Mbps\uff1a125MHz\u3002</li> <li>100Mbps\uff1a25MHz\u3002</li> <li>10Mbps\uff1a2.5MHz\u3002</li> <li>\u200b\u4fe1\u53f7\u200b\u590d\u7528\u200b\uff1a\u200b\u5c06\u200bTX_ER\u200b\u548c\u200bTX_EN\u200b\u590d\u7528\u200b\u4e3a\u200bTX_CTL\uff0cRX_ER\u200b\u548c\u200bRX_DV\u200b\u590d\u7528\u200b\u4e3a\u200bRX_CTL\u3002</li> <li>\u200b\u5168\u53cc\u5de5\u200b\u64cd\u4f5c\u200b\uff1a\u200b\u652f\u6301\u200b\u5168\u53cc\u5de5\u200b\u901a\u4fe1\u200b\u3002</li> <li>\u200b\u7ba1\u7406\u200b\u63a5\u53e3\u200b\uff1a\u200b\u540c\u6837\u200b\u652f\u6301\u200bMDC\u200b\u548c\u200bMDIO\u200b\u4fe1\u53f7\u200b\u3002</li> </ol>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#_5","title":"\u5e94\u7528\u200b\u573a\u666f","text":"<p>RGMII\u200b\u63a5\u53e3\u200b\u5e7f\u6cdb\u5e94\u7528\u200b\u4e8e\u200b\u5bf9\u200b\u6210\u672c\u200b\u548c\u200b\u529f\u8017\u200b\u654f\u611f\u200b\u7684\u200b\u573a\u666f\u200b\uff0c\u200b\u5982\u200b\u5d4c\u5165\u5f0f\u200b\u8bbe\u5907\u200b\u3001FPGA\u200b\u677f\u5361\u200b\u548c\u200b\u5c0f\u578b\u200b\u7f51\u7edc\u8bbe\u5907\u200b\u3002</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#gmii-vs-rgmii","title":"GMII vs RGMII","text":"\u7279\u6027\u200b MII RMII GMII RGMII \u200b\u6570\u636e\u200b\u901f\u7387\u200b 10/100 Mbps 10/100 Mbps 10/100/1000 Mbps 10/100/1000 Mbps \u200b\u6570\u636e\u4f4d\u200b\u5bbd\u200b 4\u200b\u4f4d\u200b 2\u200b\u4f4d\u200b 8\u200b\u4f4d\u200b 4\u200b\u4f4d\u200b \u200b\u4fe1\u53f7\u7ebf\u200b\u6570\u91cf\u200b 16\u200b\u6839\u200b 7\u200b\u6839\u200b 24\u200b\u6839\u200b 12\u200b\u6839\u200b \u200b\u65f6\u949f\u200b\u9891\u7387\u200b 25MHz\uff08100Mbps\uff092.5MHz\uff0810Mbps\uff09 50MHz\uff08100Mbps\uff092.5MHz\uff0810Mbps\uff09 125MHz\uff081000Mbps\uff0925MHz\uff08100Mbps\uff092.5MHz\uff0810Mbps\uff09 125MHz\uff081000Mbps\uff0cDDR\uff0925MHz\uff08100Mbps\uff092.5MHz\uff0810Mbps\uff09 \u200b\u4f20\u8f93\u200b\u6a21\u5f0f\u200b \u200b\u5355\u200b\u6570\u636e\u200b\u901f\u7387\u200b\uff08SDR\uff09 \u200b\u5355\u200b\u6570\u636e\u200b\u901f\u7387\u200b\uff08SDR\uff09 \u200b\u5355\u200b\u6570\u636e\u200b\u901f\u7387\u200b\uff08SDR\uff09 \u200b\u53cc\u200b\u6570\u636e\u200b\u901f\u7387\u200b\uff08DDR\uff0c1000Mbps\uff09\u200b\u5355\u200b\u6570\u636e\u200b\u901f\u7387\u200b\uff08SDR\uff0c10/100Mbps\uff09 \u200b\u529f\u8017\u200b \u200b\u8f83\u200b\u9ad8\u200b \u200b\u8f83\u200b\u4f4e\u200b \u200b\u9ad8\u200b \u200b\u8f83\u200b\u4f4e\u200b \u200b\u5e94\u7528\u200b\u573a\u666f\u200b \u200b\u65e9\u671f\u200b\u4ee5\u592a\u7f51\u200b\u8bbe\u5907\u200b\uff0c\u200b\u6210\u672c\u200b\u654f\u611f\u200b \u200b\u6210\u672c\u200b\u654f\u611f\u200b\u3001\u200b\u4f4e\u529f\u8017\u200b\u8bbe\u5907\u200b \u200b\u9ad8\u5e26\u5bbd\u200b\u9700\u6c42\u200b\u8bbe\u5907\u200b \u200b\u6210\u672c\u200b\u654f\u611f\u200b\u3001\u200b\u4f4e\u529f\u8017\u200b\u4e14\u200b\u652f\u6301\u200b\u5343\u5146\u200b\u4ee5\u592a\u7f51\u200b \u200b\u7279\u70b9\u200b \u200b\u4fe1\u53f7\u7ebf\u200b\u591a\u200b\uff0c\u200b\u9002\u5408\u200b\u4f4e\u901f\u200b\u4ee5\u592a\u7f51\u200b \u200b\u4fe1\u53f7\u7ebf\u200b\u5c11\u200b\uff0c\u200b\u7b80\u5316\u200b\u8bbe\u8ba1\u200b \u200b\u652f\u6301\u200b\u5343\u5146\u200b\u4ee5\u592a\u7f51\u200b\uff0c\u200b\u517c\u5bb9\u200b\u4f4e\u901f\u200b\u6a21\u5f0f\u200b \u200b\u4fe1\u53f7\u7ebf\u200b\u5c11\u200b\uff0c\u200b\u652f\u6301\u200b\u5343\u5146\u200b\u4ee5\u592a\u7f51\u200b\uff0c\u200b\u4f4e\u529f\u8017\u200b <p>RGMII\u200b\u901a\u8fc7\u200b\u51cf\u5c11\u200b\u4fe1\u53f7\u7ebf\u200b\u6570\u91cf\u200b\u548c\u200b\u91c7\u7528\u200bDDR\u200b\u6280\u672f\u200b\uff0c\u200b\u5728\u200b\u4fdd\u6301\u200b\u9ad8\u200b\u4f20\u8f93\u901f\u7387\u200b\u7684\u200b\u540c\u65f6\u200b\u964d\u4f4e\u200b\u4e86\u200b\u529f\u8017\u200b\u548c\u200bPCB\u200b\u5e03\u5c40\u200b\u7684\u200b\u590d\u6742\u6027\u200b\uff0c\u200b\u6ce8\u610f\u200b\uff0c\u200b\u518d\u200bRGMII\u200b\u548c\u200bGMII\u200b\u63a5\u53e3\u200b\u6a21\u5757\u200b\u56fe\u4e2d\u200b\uff0cTXD\u200b\u548c\u200bRXD\u200b\u4e00\u4e2a\u200b\u662f\u200b4\u200b\u4e3a\u200b\u5e76\u884c\u200b\u6570\u636e\u4f4d\u200b\u5bbd\u200b\uff08\u200b\u652f\u6301\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u548c\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u53cc\u8fb9\u200b\u91c7\u6837\u200b\uff09\u200b\u4e00\u4e2a\u200b\u662f\u200b8\u200b\u4f4d\u200b\u5e76\u884c\u200b\u6570\u636e\u4f4d\u200b\u5bbd\u200b\uff08\u200b\u53ea\u200b\u652f\u6301\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u91c7\u6837\u200b\uff09</p> <p>\u200b\u5173\u4e8e\u200b\u66f4\u200b\u591a\u200b\u4fe1\u606f\u200b\u8bf7\u200b\u53c2\u8003\u200b\uff1a\u200b\u82f1\u7279\u5c14\u200b\uff1a5.1.7.1.2. RMII\u200b\u548c\u200bRGMII PHY\u200b\u63a5\u53e3\u200b</p> <p>\u200b\u4ee5\u4e0b\u200b\u4e3e\u4f8b\u8bf4\u660e\u200bRGMII\u200b\u63a5\u53e3\u200b\u7684\u200b\u4fe1\u53f7\u200b\u5b9a\u4e49\u200b\u53ca\u5176\u200b\u8be6\u7ec6\u200b\u5907\u6ce8\u200b\u4fe1\u606f\u200b\uff08MAC\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200bFPGA\u200b\u677f\u5361\u200b\uff0cPHY\u200b\u82af\u7247\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u4e3a\u200bFPGA\u200b\u677f\u8f7d\u200b\u7684\u200bPHY\u200b\u82af\u7247\u200b\uff0c\u200b\u4ece\u200bMAC -&gt; PHY\u200b\u5219\u200b\u662f\u200bFPGA\u200b\u8f93\u51fa\u200b\u7ed9\u200bFPGA\u200b\u677f\u8f7d\u200b\u7684\u200bPHY\u200b\u82af\u7247\u200b\uff09\uff1a</p> \u200b\u4fe1\u53f7\u200b\u540d\u79f0\u200b \u200b\u65b9\u5411\u200b \u200b\u5907\u6ce8\u200b\u4fe1\u606f\u200b TX_CLK MAC \u2192 PHY \u200b\u53d1\u9001\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u7531\u200bMAC\u200b\u63d0\u4f9b\u200b\u3002\u200b\u5728\u200b1000Mbps\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u4e3a\u200b125MHz\uff0c100Mbps\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u4e3a\u200b25MHz\uff0c10Mbps\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u4e3a\u200b2.5MHz\u3002 TX_CTL MAC \u2192 PHY \u200b\u53d1\u9001\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u7528\u4e8e\u200b\u4f20\u8f93\u6570\u636e\u200b\u6709\u6548\u200b\uff08TXEN\uff09\u200b\u548c\u200b\u6570\u636e\u200b\u9519\u8bef\u200b\uff08TXERR\uff09\u200b\u4fe1\u606f\u200b\u3002\u200b\u5728\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u8868\u793a\u200bTXEN\uff0c\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u8868\u793a\u200bTXERR\u3002 TXD3:0 MAC \u2192 PHY \u200b\u53d1\u9001\u6570\u636e\u200b\u4fe1\u53f7\u200b\uff0c4\u200b\u4f4d\u200b\u5bbd\u200b\u3002\u200b\u5728\u200b1000Mbps\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u5185\u200b\u4f20\u8f93\u200b8\u200b\u4f4d\u200b\u6570\u636e\u200b\uff08DDR\u200b\u6a21\u5f0f\u200b\uff09\uff0c\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u4f20\u8f93\u200bTXD3:0\uff0c\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u4f20\u8f93\u200bTXD7:4\uff0c\u200b\u6570\u636e\u4f4d\u200b\u5bbd\u4e3a\u200b4\u200b\u4f4d\u200b\u3002 RX_CLK PHY \u2192 MAC \u200b\u63a5\u6536\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u7531\u200bPHY\u200b\u63d0\u4f9b\u200b\u3002\u200b\u5728\u200b1000Mbps\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u4e3a\u200b125MHz\uff0c100Mbps\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u4e3a\u200b25MHz\uff0c10Mbps\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\u4e3a\u200b2.5MHz\u3002 RX_CTL PHY \u2192 MAC \u200b\u63a5\u6536\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u7528\u4e8e\u200b\u63a5\u6536\u6570\u636e\u200b\u6709\u6548\u200b\uff08RXDV\uff09\u200b\u548c\u200b\u6570\u636e\u200b\u9519\u8bef\u200b\uff08RXERR\uff09\u200b\u4fe1\u606f\u200b\u3002\u200b\u5728\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u8868\u793a\u200bRXDV\uff0c\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u8868\u793a\u200bRXERR\u3002 RXD3:0 PHY \u2192 MAC \u200b\u63a5\u6536\u200b\u6570\u636e\u4fe1\u53f7\u200b\uff0c4\u200b\u4f4d\u200b\u5bbd\u200b\u3002\u200b\u5728\u200b1000Mbps\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u5185\u200b\u4f20\u8f93\u200b8\u200b\u4f4d\u200b\u6570\u636e\u200b\uff08DDR\u200b\u6a21\u5f0f\u200b\uff09\uff0c\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u4f20\u8f93\u200bRXD3:0\uff0c\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u4f20\u8f93\u200bRXD7:4\uff0c\u200b\u6570\u636e\u4f4d\u200b\u5bbd\u4e3a\u200b4\u200b\u4f4d\u200b\u3002 MDC MAC \u2192 PHY \u200b\u7ba1\u7406\u200b\u603b\u7ebf\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8bbe\u5907\u200b\u7ba1\u7406\u200b\u548c\u200b\u914d\u7f6e\u200b\u3002 MDIO \u200b\u53cc\u5411\u200b \u200b\u7ba1\u7406\u200b\u603b\u7ebf\u200b\u6570\u636e\u4fe1\u53f7\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8bbe\u5907\u200b\u7ba1\u7406\u200b\u548c\u200b\u914d\u7f6e\u200b\uff0c\u200b\u652f\u6301\u200b\u53cc\u5411\u901a\u4fe1\u200b\u3002"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#_6","title":"\u8bf4\u660e\u200b\uff1a","text":"<ol> <li>DDR\u200b\u6a21\u5f0f\u200b\uff1a\u200b\u5728\u200b1000Mbps\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\uff0cTXD\u200b\u548c\u200bRXD\u200b\u4fe1\u53f7\u200b\u4f7f\u7528\u200b\u53cc\u500d\u200b\u6570\u636e\u200b\u901f\u7387\u200b\uff08DDR\uff09\u200b\u6280\u672f\u200b\uff0c\u200b\u5728\u200b\u65f6\u949f\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u548c\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u5206\u522b\u200b\u4f20\u8f93\u6570\u636e\u200b\u3002</li> <li>SDR\u200b\u6a21\u5f0f\u200b\uff1a\u200b\u5728\u200b10Mbps\u200b\u548c\u200b100Mbps\u200b\u6a21\u5f0f\u200b\u4e0b\u200b\uff0cTXD\u200b\u548c\u200bRXD\u200b\u4fe1\u53f7\u200b\u4f7f\u7528\u200b\u5355\u200b\u6570\u636e\u200b\u901f\u7387\u200b\uff08SDR\uff09\u200b\u6280\u672f\u200b\uff0c\u200b\u4ec5\u200b\u5728\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u4f20\u8f93\u6570\u636e\u200b\u3002</li> <li>\u200b\u4fe1\u53f7\u200b\u7535\u5e73\u200b\uff1a\u200b\u901a\u5e38\u200b\u4e3a\u200b1.8V\u30012.5V\u200b\u6216\u200b3.3V\uff0c\u200b\u5177\u4f53\u200b\u53d6\u51b3\u4e8e\u200b\u786c\u4ef6\u200b\u8bbe\u8ba1\u200b\u3002</li> <li>\u200b\u65f6\u949f\u200b\u504f\u659c\u200b\uff1a\u200b\u4e3a\u200b\u786e\u4fdd\u200b\u65f6\u5e8f\u200b\u6b63\u786e\u200b\uff0cTX_CLK\u200b\u548c\u200bRX_CLK\u200b\u9700\u8981\u200b\u6ee1\u8db3\u200b\u4e00\u5b9a\u200b\u7684\u200b\u65f6\u949f\u200b\u504f\u659c\u200b\u8981\u6c42\u200b\u3002</li> </ol>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#rgmii_1","title":"RGMII\u200b\u63a5\u53e3\u200b\u65f6\u5e8f\u200b\u8bbe\u8ba1","text":"<p>RGMII\u200b\u7684\u200b\u65f6\u5e8f\u200b\u5206\u4e3a\u200b\u4e24\u79cd\u200b\uff1a\u200b\u5ef6\u65f6\u200b\u6a21\u5f0f\u200b\u548c\u200b\u975e\u200b\u5ef6\u65f6\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u914d\u7f6e\u200bPHY\u200b\u82af\u7247\u200b\u6539\u53d8\u200b\u6a21\u5f0f\u200b\u3002\u200b\u7528\u200b\u7684\u200b\u6bd4\u8f83\u200b\u591a\u200b\u7684\u200b\u6a21\u5f0f\u200b\u662f\u200b\u5ef6\u65f6\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u4e00\u822c\u200bPHY\u200b\u82af\u7247\u200b\u9ed8\u8ba4\u200b\u914d\u7f6e\u200b\u4e3a\u200b\u5ef6\u65f6\u200b\u6a21\u5f0f\u200b\u3002</p> <p></p> <p></p> <p></p> <p></p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#_7","title":"\u6570\u636e\u5305\u200b\u7ed3\u6784","text":"MAC\u200b\u6570\u636e\u5305\u200b \u200b\u5b57\u8282\u200b\u5927\u5c0f\u200b \u200b\u503c\u200b \u200b\u524d\u5bfc\u200b\u7801\u200b 7byte 8\u2018h55\uff08\u200b\u56fa\u5b9a\u503c\u200b\uff09 SFD 1byte 8'hd5\uff08\u200b\u56fa\u5b9a\u503c\u200b\uff09 \u200b\u76ee\u7684\u200bmac\u200b\u5730\u5740\u200b 6byte \u200b\u6e90\u200bmac\u200b\u5730\u5740\u200b 6byte \u200b\u7c7b\u578b\u200b/\u200b\u957f\u5ea6\u200b 2byte \u200b\u5c0f\u4e8e\u200b1536\u200b\u8868\u793a\u200b\u957f\u5ea6\u200b\uff0c\u200b\u5927\u4e8e\u200b1536\u200b\u8868\u793a\u200b\u7c7b\u578b\u200b\uff0carp:16'h0006\uff0cip\uff1a16\u2019h0800 MAC\u200b\u5c42\u200b\u6570\u636e\u200b 46byte-1500byte mac\u200b\u6709\u6548\u200b\u6570\u636e\u200b FCS 48byte CRC\u200b\u6821\u9a8c\u200b IP\u200b\u5934\u90e8\u200b \u200b\u5b57\u8282\u200b\u5927\u5c0f\u200b \u200b\u503c\u200b \u200b\u7248\u672c\u200b+\u200b\u9996\u90e8\u200b\u957f\u5ea6\u200b 1byte \u200b\u7248\u672c\u200bipv4\uff1a4\u2018h4\uff0c\u200b\u9996\u90e8\u200b\u957f\u5ea6\u200b\uff1a4\u2019h5 \u200b\u670d\u52a1\u7c7b\u578b\u200b 1byte \u200b\u4e00\u822c\u200b\u4e3a\u200b8\u2018h0 \u200b\u603b\u957f\u5ea6\u200b 2byte ip\u200b\u9996\u90e8\u200b\u957f\u5ea6\u200b+ip\u200b\u5c42\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b \u200b\u6807\u8bc6\u200b 2byte \u200b\u590d\u4f4d\u200b\u7ed9\u200b0\uff0c\u200b\u53d1\u9001\u200b\u4e00\u5305\u200b\u6570\u636e\u200b\u81ea\u52a0\u200b1 \u200b\u6807\u8bb0\u200b+\u200b\u5206\u6bb5\u200b\u504f\u79fb\u200b2byte 2byte \u200b\u6807\u8bb0\u200b\uff1a3bit\u3002\u200b\u6700\u9ad8\u200b\u4f4d\u200b\u4fdd\u7559\u200b\u4f4d\u200b0\uff1b\u200b\u4e2d\u95f4\u200b\u4f4d\u4e3a\u200b\u662f\u5426\u200b\u5f00\u542f\u200b\u5206\u6bb5\u200b\uff0c0\u200b\u4e0d\u200b\u5f00\u542f\u200b\uff0c1\u200b\u5f00\u542f\u200b\uff1b\u200b\u6700\u4f4e\u200b\u4e3a\u200b\u8868\u793a\u200b\u662f\u5426\u200b\u5b58\u5728\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u5206\u6bb5\u200b\uff0c0\u200b\u8868\u793a\u200b\u4e3a\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5206\u6bb5\u200b\uff0c1\u200b\u8868\u793a\u200b\u8fd8\u200b\u5b58\u5728\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u5206\u6bb5\u200b\uff0c\u200b\u4e00\u822c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b3\u2019b010 \u200b\u751f\u5b58\u200b\u65f6\u95f4\u200b 1byte \u200b\u8868\u793a\u200b\u4ee5\u592a\u7f51\u200b\u6570\u636e\u5305\u200b\u53ef\u4ee5\u200b\u4e2d\u8f6c\u200b\u8fdb\u200b\u8fc7\u200b\u591a\u5c11\u200b\u8def\u7531\u5668\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u8fdb\u5165\u200b\u4e00\u4e2a\u200b\u8def\u7531\u5668\u200b\u540e\u200b\uff0c\u200b\u8be5\u503c\u200b\u4f1a\u200b\u51cf\u5c11\u200b1\uff0c\u200b\u76f4\u5230\u200b\u51cf\u5c11\u200b\u5230\u200b0\u200b\u5c31\u200b\u4f1a\u200b\u4e22\u200b\u5305\u200b\uff0cwin\u200b\u7cfb\u7edf\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b8'h80 \u200b\u534f\u8bae\u200b 1byte udp:8'd17, tcp:8'd6, icmp:8'd1 \u200b\u9996\u90e8\u200b\u6821\u9a8c\u200b\u548c\u200b 1byte \u200b\u6e90\u200bip\u200b\u5730\u5740\u200b 4byte \u200b\u76ee\u7684\u200bip\u200b\u5730\u5740\u200b 4byte UDP\u200b\u5934\u90e8\u200b \u200b\u5b57\u8282\u200b\u5927\u5c0f\u200b \u200b\u503c\u200b \u200b\u6e90\u200b\u7aef\u53e3\u53f7\u200b 2byte \u200b\u76ee\u7684\u200b\u7aef\u53e3\u53f7\u200b 2byte udp\u200b\u957f\u5ea6\u200b \u200b\u56fa\u5b9a\u200b8byte+udp\u200b\u6570\u636e\u5305\u200b\u957f\u5ea6\u200b udp\u200b\u6821\u9a8c\u200b\u548c\u200b 2byte"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#udpicmptcparp","title":"UDP\u3001ICMP\u3001TCP\u200b\u548c\u200bARP\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5173\u7cfb","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#114-udpip","title":"1.1.4 UDP\u200b\u9996\u90e8\u200b\u6821\u9a8c\u200b\u548c\u200b\u3001IP\u200b\u9996\u90e8\u200b\u6821\u9a8c\u200b\u548c\u200b\u8ba1\u7b97\u65b9\u6cd5","text":"<p>udp\u200b\u548c\u200bip\u200b\u9996\u90e8\u200b\u6821\u9a8c\u200b\u7684\u200b\u8ba1\u7b97\u65b9\u6cd5\u200b\u662f\u200b\u4e00\u6a21\u4e00\u6837\u200b\u7684\u200b\uff0c\u200b\u5982\u4e0b\u200b\u56fe\u200b\u6240\u793a\u200b</p> <p> </p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#12","title":"1.2 \u200b\u9879\u76ee\u200b\u6846\u67b6\u200b\u548c\u200b\u65f6\u5e8f\u200b\u56fe\u200b\u7ed8\u5236","text":"<p>\u200b\u56e0\u4e3a\u200b\u5185\u5bb9\u200b\u8f83\u200b\u591a\u200b\uff0c\u200b\u56fe\u6587\u200b\u8bb2\u89e3\u200b\u4e0d\u200b\u6613\u61c2\u200b\uff0c\u200b\u6240\u4ee5\u200b\u8bf7\u200b\u53c2\u8003\u200b\u6559\u7a0b\u200b\u89c6\u9891\u200b\u8fdb\u884c\u200b\u5b66\u4e60\u200b\u5de9\u56fa\u200b\u3002</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#13-rgmiirgmii_recivev","title":"1.3 RGMII\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\uff1argmii_recive.v","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#131","title":"1.3.1 \u200b\u6a21\u5757\u200b\u8bbe\u8ba1\u200b\u601d\u8def","text":"<p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u8bbe\u8ba1\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u901a\u8fc7\u200b\u5bf9\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u4fe1\u53f7\u200b\u8fdb\u884c\u200b\u591a\u5c42\u200b\u7f13\u51b2\u200b\u3001\u200b\u5ef6\u8fdf\u200b\u63a7\u5236\u200b\u4ee5\u53ca\u200b IDDR \u200b\u539f\u8bed\u200b\u5c06\u200b\u53cc\u200b\u8fb9\u6cbf\u200b\u4fe1\u53f7\u200b\uff08rgmii\uff09\u200b\u8f6c\u6362\u6210\u200b\u5355\u200b\u8fb9\u6cbf\u200b\u4fe1\u53f7\u200b\uff08gmii\uff09\uff0c\u200b\u4ee5\u4fbf\u200b\u540e\u7eed\u200b\u5904\u7406\u200b\u3002\u200b\u5177\u4f53\u64cd\u4f5c\u200b\u5982\u4e0b\u200b:</p> <p>\u200b\u9996\u5148\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b<code>phy_rgmii_rx_clk</code> ,<code>phy_regmii_rx_ctl</code>,<code>phy_rgmii_rx_data</code>\u200b\u8f93\u5165\u200b\u7684\u200b\u4fe1\u53f7\u200b\u7ecf\u8fc7\u200b<code>IBUF (\u200b\u8f93\u5165\u200b\u7f13\u51b2\u5668\u200b)</code>\uff0c\u200b\u63d0\u9ad8\u200b\u4fe1\u53f7\u200b\u8d28\u91cf\u200b\uff0c\u200b\u907f\u514d\u200b\u4fe1\u53f7\u200b\u5728\u200b\u4f20\u8f93\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u7684\u200b\u6296\u52a8\u200b\u548c\u200b\u566a\u58f0\u200b\u3002\u200b\u8f93\u51fa\u200b\u5f97\u5230\u200b<code>phy_rgmii_rx_clk_ibuf</code> ,<code>phy_regmii_rx_ctl_ibuf</code>,<code>phy_rgmii_rx_data_ibuf</code>\u200b\u4fe1\u53f7\u200b</p> <p>\u200b\u63a5\u4e0b\u6765\u200b\uff0c\u200b\u5c06\u200b\u6211\u4eec\u200b\u5f97\u5230\u200b\u7684\u200b<code>phy_rgmii_rx_clk_ibuf</code> \u200b\u4fe1\u53f7\u200b\u5206\u522b\u200b\u7ecf\u8fc7\u200b<code>BUFIO(I/O\u200b\u65f6\u949f\u200b\u7f13\u51b2\u5668\u200b)</code>\u200b\u548c\u200b<code>BUFG\uff08\u200b\u5168\u5c40\u200b\u65f6\u949f\u200b\u7f13\u51b2\u5668\u200b\uff09</code>\u200b\u5206\u522b\u200b\u5f97\u5230\u200b<code>phy_rgmii_rx_clk_ibuf_bufio</code>\u200b\u548c\u200b<code>gmii_rx_clk</code>\uff0c\u200b\u5176\u4e2d\u200b<code>phy_rgmii_rx_clk_ibuf_bufio</code>\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u7ebf\u200b\u7b49\u5f85\u200b\u4e0b\u200b\u4e00\u6b65\u200b\u5904\u7406\u200b\uff0c<code>gmii_rx_clk</code>\u200b\u5219\u200b\u4f5c\u4e3a\u200b<code>gmii</code>\u200b\u4f5c\u4e3a\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b</p> <p><code>IDELAYE2</code> \u200b\u539f\u8bed\u200b\u7528\u4e8e\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u7684\u200b\u5ef6\u8fdf\u200b\u63a7\u5236\u200b\uff0c\u200b\u5e38\u7528\u200b\u4e8e\u200b\u9ad8\u9891\u200b\u4fe1\u53f7\u200b\u7684\u200b\u63a5\u6536\u200b\u548c\u200b\u5904\u7406\u200b\u3002\u200b\u5728\u200b\u8be5\u200b\u6a21\u5757\u200b\u4e2d\u200b\uff0c<code>IDELAYE2</code> \u200b\u539f\u8bed\u200b\u7528\u4e8e\u200b\u5ef6\u8fdf\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b <code>phy_rgmii_rx_ctl</code> \u200b\u548c\u200b <code>phy_rgmii_rx_data</code> \u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4ee5\u200b\u51cf\u5c11\u200b\u4fe1\u53f7\u200b\u7684\u200b\u65f6\u5e8f\u200b\u8bef\u5dee\u200b\u3002\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff0c<code>IDELAYE2</code> \u200b\u88ab\u200b\u7528\u6765\u200b\u5bf9\u200b <code>phy_rgmii_rx_ctl_ibuf</code> \u200b\u548c\u200b <code>phy_rgmii_rx_data_ibuf</code> \u200b\u8fdb\u884c\u200b\u5ef6\u8fdf\u200b\u5904\u7406\u200b\uff0c\u200b\u786e\u4fdd\u200b\u6570\u636e\u200b\u548c\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u540c\u6b65\u6027\u200b\uff0c\u200b\u6d88\u9664\u200b\u7531\u4e8e\u200b\u4fe1\u53f7\u200b\u4f20\u8f93\u200b\u5ef6\u8fdf\u200b\u6216\u200b\u65f6\u949f\u200b\u504f\u5dee\u200b\u5e26\u6765\u200b\u7684\u200b\u95ee\u9898\u200b\u3002\u200b\u6b64\u5904\u200b\u4fe1\u53f7\u200b\u7684\u200b\u8f93\u51fa\u200b\u547d\u540d\u200b\u4e3a\u200b<code>`phy_rgmii_rx_ctl_ibuf_delay</code>\u200b\u548c\u200b<code>phy_rgmii_rx_data_ibuf_delay</code></p> <p>\u200b\u6700\u540e\u200b\uff0c\u200b\u786e\u4fdd\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u4fe1\u53f7\u200b\u8db3\u591f\u200b\u7a33\u5b9a\u200b\u4e4b\u540e\u200b\uff0c\u200b\u5c06\u200b\u53cc\u200b\u8fb9\u6cbf\u200b\u91c7\u6837\u200b\u7684\u200bRGMII\u200b\u6570\u636e\u200b\u901a\u8fc7\u200b<code>IDDR(\u200b\u8f93\u5165\u200b\u53cc\u500d\u200b\u901f\u7387\u200b\u89e6\u53d1\u5668\u200b)</code>\u200b\u8f6c\u6362\u6210\u200b\u5355\u200b\u8fb9\u6cbf\u200b\u4fe1\u53f7\u200b\u3002\u200b\u5728\u200b\u6b64\u200b\u8bbe\u8ba1\u200b\u4e2d\u200b\uff0c<code>IDDR</code> \u200b\u7528\u4e8e\u200b\u5c06\u200b\u7ecf\u8fc7\u200b\u5ef6\u8fdf\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b (<code>phy_rgmii_rx_ctl_ibuf_delay</code> \u200b\u548c\u200b <code>phy_rgmii_rx_data_ibuf_delay</code>) \u200b\u5728\u200b\u6bcf\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u548c\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u5206\u522b\u200b\u91c7\u6837\u200b\uff0c\u200b\u8f93\u51fa\u200b <code>gmii_rx_data_vld</code>\u3001<code>gmii_rx_data_error</code> \u200b\u548c\u200b <code>gmii_rx_data</code> \u200b\u4fe1\u53f7\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u7ed9\u200b\u5927\u5bb6\u200b\u6574\u7406\u200b\u4e86\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u4e2d\u200b\u7528\u5230\u200b\u7684\u200b\u539f\u8bed\u200b\u7684\u200b\u8be6\u7ec6\u200b\u8bb2\u89e3\u200b\u6587\u5b57\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0a\u9762\u200b\u7684\u200b\u5185\u5bb9\u200b\u5b58\u5728\u200b\u7591\u60d1\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u9488\u5bf9\u6027\u200b\u7684\u200b\u67e5\u9605\u200b\u4e0b\u9762\u200b\u7684\u200b\u539f\u8bed\u200b\u4ecb\u7ecd\u200b\u7684\u200b\u5185\u5bb9\u200b\u3002</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#132-ibuf","title":"1.3.2 IBUF\uff08\u200b\u8f93\u5165\u200b\u7f13\u51b2\u5668\u200b\uff09\u200b\u539f\u8bed\u200b\u7684\u200b\u4f5c\u7528","text":"<p>IBUF\u200b\u53ef\u4ee5\u200b\u60f3\u8c61\u200b\u6210\u4e3a\u200b\u4e00\u4e2a\u200b\u201c\u200b\u4fe1\u53f7\u200b\u5b89\u68c0\u95e8\u200b\u201d\uff0c\u200b\u4e3b\u8981\u200b\u4f5c\u7528\u200b\u662f\u200b\u5c06\u200b\u5916\u90e8\u200b\u4fe1\u53f7\u200b\u201c\u200b\u6574\u7406\u200b\u4e00\u4e0b\u200b\u201d\uff0c\u200b\u518d\u200b\u201c\u200b\u5b89\u5168\u200b\u7684\u200b\u201d\u200b\u9001\u200b\u8fdb\u200bFPGA\u200b\u5185\u90e8\u200b\uff0c\u200b\u603b\u4e4b\u200b\uff0cIBUF\u200b\u7684\u200b\u4f5c\u7528\u200b\u5c31\u662f\u200b\u8ba9\u200b\u5916\u90e8\u200b\u4fe1\u53f7\u200b\u201c\u200b\u5b89\u5168\u200b\u3001\u200b\u5e72\u51c0\u200b\u3001\u200b\u6574\u9f50\u200b\u201d\u200b\u7684\u200b\u8fdb\u5165\u200bFPGA\uff0c\u200b\u4e3a\u200b\u540e\u7eed\u200b\u7684\u200b\u5904\u7406\u200b\u505a\u597d\u200b\u51c6\u5907\u200b\uff0c\u200b\u5177\u4f53\u6765\u8bf4\u200b\u6709\u200b\u4e00\u4e0b\u200b\u51e0\u4e2a\u200b\u4f5c\u7528\u200b\uff1a</p> <ol> <li>\u200b\u4fe1\u53f7\u200b\u201c\u200b\u6574\u5f62\u200b\u201d\uff1a\u200b\u5916\u90e8\u200b\u4fe1\u53f7\u200b\u56e0\u4e3a\u200b\u4f20\u8f93\u200b\u8ddd\u79bb\u200b\u957f\u200b\u6216\u8005\u200b\u5e72\u6270\u200b\uff0c\u200b\u53d8\u5f97\u200b\u201c\u200b\u6b6a\u6b6a\u626d\u626d\u200b\u201d\uff0cIBUF\u200b\u5c31\u200b\u50cf\u200b\u4e00\u4e2a\u200b\u7f8e\u989c\u200b\u76f8\u673a\u200b\u4e00\u6837\u200b\uff0c\u200b\u5427\u200b\u4fe1\u53f7\u200b\u201c\u200b\u4fee\u6574\u200b\u201d\u200b\u6210\u200b\u6574\u9f50\u200b\u3001\u200b\u6e05\u6670\u200b\u7684\u200b\u6837\u5b50\u200b\uff0c\u200b\u8ba9\u200bFPGA\u200b\u5185\u90e8\u200b\u7684\u200b\u903b\u8f91\u7535\u8def\u200b\u66f4\u597d\u200b\u7684\u200b\u8bc6\u522b\u200b\u3002</li> <li>\u201c\u200b\u4fdd\u62a4\u200b\u95e8\u200b\u201c\uff1a\u200b\u5916\u90e8\u200b\u4fe1\u53f7\u200b\u53ef\u80fd\u200b\u5e26\u6709\u200b\u201d\u200b\u6742\u8d28\u200b\u201c\uff08\u200b\u6bd4\u5982\u200b\u7535\u538b\u200b\u6ce2\u52a8\u200b\u3001\u200b\u566a\u58f0\u200b\u7b49\u200b\uff09\uff0cIBUF\u200b\u5c31\u200b\u50cf\u200b\u4e00\u4e2a\u200b\u201d\u200b\u8fc7\u6ee4\u5668\u200b\u201c\u200b\u4e00\u6837\u200b\uff0c\u200b\u5c06\u200b\u8fd9\u4e9b\u200b\u201d\u200b\u6742\u8d28\u200b\u201c\u200b\u8fc7\u6ee4\u200b\u6389\u200b\uff0c\u200b\u53ea\u200b\u8ba9\u200b\u5e72\u51c0\u200b\u7684\u200b\u4fe1\u53f7\u200b\u8fdb\u5165\u200bFPGA\u200b\u5185\u90e8\u200b\uff0c\u200b\u4fdd\u62a4\u200b\u5185\u90e8\u200b\u7535\u8def\u200b\u4e0d\u200b\u53d7\u200b\u635f\u574f\u200b\u3002</li> <li>\u201d\u200b\u4fe1\u53f7\u200b\u653e\u5927\u5668\u200b\u201c\uff1a\u200b\u6709\u65f6\u5019\u200b\u6211\u4eec\u200b\u7684\u200b\u5916\u90e8\u200b\u4fe1\u53f7\u200b\u6bd4\u8f83\u200b\u5f31\u200b\uff0cIBUF\u200b\u53ef\u4ee5\u200b\u628a\u200b\u5b83\u200b\u201d\u200b\u653e\u5927\u200b\u201c\u200b\u4e00\u4e0b\u200b\uff0c\u200b\u8ba9\u200b\u5b83\u200b\u6709\u200b\u8db3\u591f\u200b\u7684\u200b\u529b\u91cf\u200b\u9a71\u52a8\u200bFPGA\u200b\u5185\u90e8\u200b\u7684\u200b\u7535\u8def\u200b\u3002</li> <li>\u201d\u200b\u4fe1\u53f7\u200b\u9694\u79bb\u5e26\u200b\u201c\uff1aIBUF\u200b\u5c31\u200b\u50cf\u200b\u4e00\u4e2a\u200b\u201c\u200b\u9694\u79bb\u5e26\u200b\u201d\uff0c\u200b\u628a\u200b\u5916\u90e8\u200b\u4fe1\u53f7\u200b\u548c\u200bFPGA\u200b\u5185\u90e8\u200b\u7535\u8def\u200b\u8fdb\u884c\u200b\u9694\u5f00\u200b\uff0c\u200b\u9632\u6b62\u200b\u5916\u90e8\u200b\u7684\u200b\u201c\u200b\u52a8\u8361\u200b\u201d\uff08\u200b\u6bd4\u5982\u200b\u7535\u538b\u200b\u6ce2\u52a8\u200b\uff09\u200b\u5f71\u54cd\u200b\u5230\u200b\u5185\u90e8\u200b\u7684\u200b\u6b63\u5e38\u200b\u5de5\u4f5c\u200b\u3002</li> </ol> <p>\u200b\u5728\u200bFPGA\u200b\u8bbe\u8ba1\u200b\u4e2d\u200b\uff0cIBUF\u200b\u901a\u5e38\u200b\u53ef\u4ee5\u200b\u7531\u200b\u7efc\u5408\u200b\u5de5\u5177\u200b\u81ea\u52a8\u200b\u63d2\u5165\u200b\uff0c\u200b\u4e0e\u200b\u9876\u5c42\u200b\u7684\u200b\u8f93\u5165\u200b\u7aef\u53e3\u200b\u6216\u8005\u200b\u8f93\u5165\u8f93\u51fa\u200b\u7aef\u53e3\u200b\u8fdb\u884c\u200b\u76f4\u63a5\u200b\u76f8\u8fde\u63a5\u200b\uff0c\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u624b\u52a8\u200b\u5b9e\u4f8b\u200b\u5316\u200bIBUF\uff0c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u4e0b\u9762\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff1a</p> <ol> <li>\u200b\u9996\u5148\u200b\u5728\u200bvivado\u200b\u4e2d\u200b\u6253\u5f00\u200b\u201cLanguage Temlates\u201d\uff0c\u200b\u641c\u7d22\u200b\u201dibuf\u201c</li> </ol> <p></p> <ol> <li>\u200b\u5728\u200b\u4e0b\u9762\u200b\u83dc\u5355\u200b\u4e2d\u200b\u627e\u5230\u200b\u4e0e\u200b\u81ea\u5df1\u200b\u677f\u5361\u200b\u4e00\u81f4\u200b\u4ee5\u53ca\u200b\u5b9e\u9645\u200b\u9879\u76ee\u200b\u9700\u8981\u200b\u7684\u200b\u9009\u9879\u200b\uff0c\u200b\u76f4\u63a5\u200b\u5728\u200b\u6211\u4eec\u200b\u7684\u200brtl\u200b\u7a0b\u5e8f\u200b\u4e2d\u200b\u7c98\u8d34\u200b\u8fdb\u53bb\u200b\u5373\u53ef\u200b\u3002\u200b\u4e0d\u7ba1\u200b\u662f\u200bK7\u200b\u8fd8\u662f\u200bA7\u200b\u5f00\u53d1\u677f\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u539f\u8bed\u200b\u90fd\u200b\u662f\u200b\u8fd9\u6837\u200b\u7684\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u7ed9\u51fa\u200b\u6211\u4eec\u200b\u5f53\u524d\u200b\u7684\u200b\u793a\u4f8b\u200b\uff1a</li> </ol> <pre><code>// \u200b\u5355\u4e2a\u200b\u7aef\u53e3\u200b\u901a\u8fc7\u200bIBUF\nIBUF #(\n      .IBUF_LOW_PWR(\"TRUE\"),  // Low power (TRUE) vs. performance (FALSE) setting for referenced I/O standards\n      .IOSTANDARD(\"DEFAULT\")  // Specify the input I/O standard\n   ) IBUF_inst (\n      .O(O),     // Buffer output\n      .I(I)      // Buffer input (connect directly to top-level port)\n   );\n\n// \u200b\u591a\u6761\u200b\u6570\u636e\u200b\u7ebf\u8def\u200b\u901a\u8fc7\u200bIBUF\u200b\u5199\u6cd5\u200b\uff1agenvar,generate\ngenvar i_rx;//genvar\u200b\u662f\u200b\u4e00\u79cd\u200b\u7279\u6b8a\u200b\u7684\u200b\u6574\u578b\u200b\u53d8\u91cf\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5728\u200bgenerate\u200b\u5757\u200b\u4e2d\u200b\u5b9a\u4e49\u200b\u5faa\u73af\u200b\u53d8\u91cf\u200b,\u200b\u53ea\u80fd\u200b\u5728\u200bgenerate\u200b\u5757\u200b\u4e2d\u200b\u4f7f\u7528\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u5728\u200b\u5176\u4ed6\u200b\u5730\u65b9\u200b\u4f7f\u7528\u200b\ngenerate \n    for(i_rx = 0; i_rx &lt; 4; i_rx++) begin\n        IBUF #(\n          .IBUF_LOW_PWR(\"TRUE\"),  // Low power (TRUE) vs. performance (FALSE) setting for referenced I/O standards\n          .IOSTANDARD(\"DEFAULT\")  // Specify the input I/O standard\n       ) IBUF_inst (\n          .O(O),     // Buffer output\n          .I(I)      // Buffer input (connect directly to top-level port)\n       );    \n    end\nendgenerate\n\n\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#133-bufgbufioio","title":"1.3.3 BUFG\uff08\u200b\u5168\u5c40\u200b\u65f6\u949f\u200b\u7f13\u51b2\u5668\u200b\uff09\u3001BUFIO\uff08I/O\u200b\u65f6\u949f\u200b\u7f13\u51b2\u5668\u200b\uff09\u200b\u539f\u8bed\u200b\u7684\u200b\u4f5c\u7528","text":"<p><code>BUFG</code>\u200b\u548c\u200b<code>BUFIO</code>\u200b\u662f\u200b\u4e24\u79cd\u200b\u5e38\u7528\u200b\u7684\u200b\u65f6\u949f\u200b\u7f13\u51b2\u200b\u539f\u8bed\u200b\uff0c\u200b\u5b83\u4eec\u200b\u5728\u200bFPGA\u200b\u8bbe\u8ba1\u200b\u4e2d\u200b\u5177\u6709\u200b\u91cd\u8981\u200b\u4f5c\u7528\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u4f18\u5316\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u4f20\u8f93\u200b\u548c\u200b\u5206\u914d\u200b</p> <p><code>BUFG</code>\u200b\u662f\u200b\u4e00\u79cd\u200b\u5168\u5c40\u200b\u65f6\u949f\u200b\u7f13\u51b2\u5668\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5c06\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u5206\u914d\u200b\u5230\u200bFPGA\u200b\u5185\u90e8\u200b\u7684\u200b\u5168\u5c40\u200b\u65f6\u949f\u200b\u7f51\u7edc\u200b\u3002\u200b\u5b83\u200b\u5177\u6709\u200b\u4ee5\u4e0b\u200b\u7279\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u4f4e\u200b\u5ef6\u8fdf\u200b\u548c\u200b\u4f4e\u200b\u6296\u52a8\u200b\uff1a<code>BUFG</code>\u200b\u7684\u200b\u8f93\u51fa\u200b\u5230\u8fbe\u200bFPGA\u200b\u5185\u90e8\u200b\u7684\u200bI/O\u200b\u5757\u200b\uff08IOB\uff09\u3001\u200b\u903b\u8f91\u200b\u5757\u200b\uff08CLB\uff09\u3001\u200b\u5757\u200bRAM\u200b\u7b49\u200b\u7684\u200b\u65f6\u949f\u200b\u5ef6\u8fdf\u200b\u548c\u200b\u6296\u52a8\u200b\u6700\u5c0f\u200b\u3002</li> <li>\u200b\u9ad8\u200b\u9a71\u52a8\u200b\u80fd\u529b\u200b\uff1a\u200b\u80fd\u591f\u200b\u9a71\u52a8\u200b\u6574\u4e2a\u200bFPGA\u200b\u82af\u7247\u200b\u5185\u200b\u7684\u200b\u4efb\u4f55\u200b\u65f6\u949f\u200b\u70b9\u200b\u3002</li> <li>\u200b\u5e94\u7528\u200b\u573a\u666f\u200b\uff1a\u200b\u9002\u7528\u200b\u4e8e\u200b\u9700\u8981\u200b\u5168\u5c40\u200b\u5206\u914d\u200b\u7684\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f8b\u5982\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u3002</li> </ul> <pre><code>   BUFG BUFG_inst (\n      .O(O), // 1-bit output: Clock output.\n      .I(I)  // 1-bit input: Clock input.\n   );\n</code></pre> <p><code>BUFIO</code>\u200b\u662f\u200b\u7528\u4e8e\u200bI/O\u200b\u65f6\u949f\u200b\u7f51\u7edc\u200b\u7684\u200b\u7f13\u51b2\u5668\u200b\uff0c\u200b\u5177\u6709\u200b\u4ee5\u4e0b\u200b\u7279\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u72ec\u7acb\u200b\u4e8e\u200b\u5168\u5c40\u200b\u65f6\u949f\u200b\u8d44\u6e90\u200b\uff1a<code>BUFIO</code>\u200b\u7684\u200b\u65f6\u949f\u200b\u7f51\u7edc\u200b\u72ec\u7acb\u200b\u4e8e\u200b\u5168\u5c40\u200b\u65f6\u949f\u200b\u8d44\u6e90\u200b\uff0c\u200b\u9002\u5408\u200b\u91c7\u96c6\u200b\u6e90\u200b\u540c\u6b65\u200b\u6570\u636e\u200b\u3002</li> <li>\u200b\u4f4e\u200b\u5ef6\u65f6\u200b\uff1a\u200b\u5728\u200b\u91c7\u96c6\u200b\u6e90\u200b\u540c\u6b65\u200bI/O\u200b\u6570\u636e\u200b\u65f6\u200b\uff0c<code>BUFIO</code>\u200b\u53ef\u4ee5\u200b\u63d0\u4f9b\u200b\u975e\u5e38\u200b\u5c0f\u200b\u7684\u200b\u5ef6\u65f6\u200b\uff0c\u200b\u9002\u5408\u200b\u7528\u4e8e\u200b\u9ad8\u901f\u200bI/O\u200b\u63a5\u53e3\u200b\u3002</li> <li>\u200b\u9a71\u52a8\u200b\u8303\u56f4\u200b\u9650\u5236\u200b\uff1a<code>BUFIO</code>\u200b\u53ea\u80fd\u200b\u9a71\u52a8\u200b\u540c\u4e00\u200b\u65f6\u949f\u200b\u533a\u57df\u200b\u5185\u200b\u7684\u200bI/O\u200b\u5757\u200b\u903b\u8f91\u200b\uff0c\u200b\u4e0d\u80fd\u200b\u9a71\u52a8\u200bFPGA\u200b\u5185\u90e8\u200b\u7684\u200b\u903b\u8f91\u200b\u5757\u200b\uff08CLB\uff09\u3002</li> </ul> <pre><code>   BUFIO BUFIO_inst (\n      .O(O), // 1-bit output: Clock output (connect to I/O clock loads).\n      .I(I)  // 1-bit input: Clock input (connect to an IBUF or BUFMR).\n   );\n</code></pre> <p>\u200b\u4f7f\u7528\u200b\u5efa\u8bae\u200b\uff1a</p> <ul> <li>\u200b\u5168\u5c40\u200b\u65f6\u949f\u200b\u5206\u914d\u200b\uff1a\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5c06\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u5206\u914d\u200b\u5230\u200b\u6574\u4e2a\u200bFPGA\u200b\u82af\u7247\u200b\u7684\u200b\u903b\u8f91\u200b\u8d44\u6e90\u200b\uff0c\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200b<code>BUFG</code>\u3002</li> <li>\u200b\u6e90\u200b\u540c\u6b65\u200bI/O\uff1a\u200b\u5bf9\u4e8e\u200b\u9700\u8981\u200b\u91c7\u96c6\u200b\u6e90\u200b\u540c\u6b65\u200b\u6570\u636e\u200b\u7684\u200bI/O\u200b\u63a5\u53e3\u200b\uff0c\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200b<code>BUFIO</code>\uff0c\u200b\u5e76\u200b\u7ed3\u5408\u200b<code>BUFG</code>\u200b\u4ee5\u200b\u5b9e\u73b0\u200b\u6700\u4f73\u200b\u6027\u80fd\u200b</li> </ul>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#134-idelay","title":"1.3.4 IDELAY\u200b\u539f\u8bed\u200b\u7684\u200b\u4f5c\u7528","text":"<p><code>IDELAY</code>\u200b\u539f\u8bed\u200b\u662f\u200bXilinx FPGA\u200b\u4e2d\u200b\u7528\u4e8e\u200b\u5bf9\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u8fdb\u884c\u200b\u5ef6\u8fdf\u200b\u8c03\u6574\u200b\u7684\u200b\u6a21\u5757\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u5904\u7406\u200b\u9ad8\u901f\u200b\u4e32\u884c\u63a5\u53e3\u200b\u3001\u200b\u6e90\u200b\u540c\u6b65\u200b\u63a5\u53e3\u200b\u7b49\u200b\u573a\u666f\u200b\u4e2d\u200b\u7684\u200b\u4fe1\u53f7\u200b\u5bf9\u9f50\u200b\u95ee\u9898\u200b\u3002\u200b\u5b83\u200b\u5728\u200bFPGA\u200b\u8bbe\u8ba1\u200b\u4e2d\u200b\u5177\u6709\u200b\u91cd\u8981\u200b\u4f5c\u7528\u200b\uff0c\u200b\u5c24\u5176\u200b\u662f\u200b\u5728\u200b\u9700\u8981\u200b\u7cbe\u786e\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b\u5ef6\u8fdf\u200b\u7684\u200b\u573a\u5408\u200b\u3002\u200b\u5728\u200b\u4f7f\u7528\u200bIDELAY\u200b\u539f\u8bed\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u540c\u65f6\u200b\u5b9e\u4f8b\u200b\u5316\u200b<code>IDELAYCTRL</code>\u200b\u8fd9\u4e2a\u200b\u539f\u8bed\u200b\uff0c\u200b\u5426\u5219\u200b\u5728\u200b\u7efc\u5408\u200b\u7684\u200b\u65f6\u5019\u200b\u4f1a\u200b\u62a5\u9519\u200b\u3002</p> <p></p> <p></p> <ol> <li>IDELAY\u200b\u539f\u8bed\u200b\u7684\u200b\u4f5c\u7528\u200b\u4ecb\u7ecd\u200b</li> </ol> <p><code>IDELAY</code>\u200b\u539f\u8bed\u200b\u7684\u200b\u4e3b\u8981\u200b\u4f5c\u7528\u200b\u662f\u200b\u5bf9\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u65bd\u52a0\u200b\u53ef\u200b\u914d\u7f6e\u200b\u7684\u200b\u5ef6\u8fdf\u200b\uff0c\u200b\u4ee5\u200b\u5b9e\u73b0\u200b\u4ee5\u4e0b\u200b\u529f\u80fd\u200b\uff1a</p> <ul> <li>\u200b\u4fe1\u53f7\u200b\u5bf9\u9f50\u200b\uff1a\u200b\u5728\u200b\u9ad8\u901f\u200b\u4e32\u884c\u63a5\u53e3\u200b\u6216\u6e90\u200b\u540c\u6b65\u200b\u63a5\u53e3\u200b\u4e2d\u200b\uff0c\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u548c\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u4e4b\u95f4\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u76f8\u4f4d\u200b\u504f\u5dee\u200b\u3002\u200b\u901a\u8fc7\u200b<code>IDELAY</code>\u200b\u53ef\u4ee5\u200b\u8c03\u6574\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u7684\u200b\u5ef6\u8fdf\u200b\uff0c\u200b\u4f7f\u200b\u5176\u200b\u4e0e\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u5bf9\u9f50\u200b\u3002</li> <li>\u200b\u5ef6\u8fdf\u200b\u6821\u51c6\u200b\uff1a\u200b\u5728\u200b\u67d0\u4e9b\u200b\u5e94\u7528\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u5bf9\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u7684\u200b\u5ef6\u8fdf\u200b\u8fdb\u884c\u200b\u52a8\u6001\u200b\u8c03\u6574\u200b\uff0c\u200b\u4ee5\u200b\u8865\u507f\u200b\u4fe1\u53f7\u200b\u4f20\u8f93\u200b\u8def\u5f84\u200b\u4e2d\u200b\u7684\u200b\u5ef6\u8fdf\u200b\u53d8\u5316\u200b\u3002<code>IDELAY</code>\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u8fd9\u79cd\u200b\u52a8\u6001\u200b\u5ef6\u8fdf\u200b\u6821\u51c6\u200b\u3002</li> <li> <p>\u200b\u6d88\u9664\u200b\u4e9a\u7a33\u6001\u200b\uff1a\u200b\u5728\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u4fe1\u53f7\u200b\u4f20\u8f93\u200b\u4e2d\u200b\uff0c\u200b\u901a\u8fc7\u200b\u8c03\u6574\u200b\u5ef6\u8fdf\u200b\u53ef\u4ee5\u200b\u51cf\u5c11\u200b\u4e9a\u7a33\u6001\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002</p> </li> <li> <p>IDELAY\u200b\u7684\u200b\u7c7b\u578b\u200b</p> </li> </ul> <p>Xilinx FPGA\u200b\u63d0\u4f9b\u200b\u4e86\u200b\u591a\u79cd\u7c7b\u578b\u200b\u7684\u200b\u5ef6\u8fdf\u200b\u6a21\u5757\u200b\uff0c\u200b\u5e38\u89c1\u200b\u7684\u200b\u6709\u200b\uff1a</p> <ul> <li><code>IDELAY</code>\uff1a\u200b\u57fa\u672c\u200b\u7684\u200b\u8f93\u5165\u200b\u5ef6\u8fdf\u200b\u6a21\u5757\u200b\u3002</li> <li><code>IDELAYE2</code>\uff1a\u200b\u589e\u5f3a\u578b\u200b\u8f93\u5165\u200b\u5ef6\u8fdf\u200b\u6a21\u5757\u200b\uff0c\u200b\u652f\u6301\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u529f\u80fd\u200b\u548c\u200b\u66f4\u200b\u7075\u6d3b\u200b\u7684\u200b\u914d\u7f6e\u200b\u3002</li> <li> <p><code>IDELAYE3</code>\uff1a\u200b\u8fdb\u4e00\u6b65\u200b\u589e\u5f3a\u200b\u7684\u200b\u8f93\u5165\u200b\u5ef6\u8fdf\u200b\u6a21\u5757\u200b\uff0c\u200b\u9002\u7528\u200b\u4e8e\u200b\u66f4\u200b\u590d\u6742\u200b\u7684\u200b\u5ef6\u8fdf\u200b\u8c03\u6574\u200b\u9700\u6c42\u200b\u3002</p> </li> <li> <p>IDELAYE2\u200b\u7684\u200b\u914d\u7f6e\u200b\u53c2\u6570\u200b</p> </li> </ul> <p><code>IDELAYE2</code>\u200b\u662f\u200b\u5e38\u7528\u200b\u7684\u200b\u589e\u5f3a\u578b\u200b\u8f93\u5165\u200b\u5ef6\u8fdf\u200b\u6a21\u5757\u200b\uff0c\u200b\u5b83\u200b\u652f\u6301\u200b\u591a\u79cd\u200b\u914d\u7f6e\u200b\u53c2\u6570\u200b\uff0c\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e9b\u200b\u5173\u952e\u200b\u53c2\u6570\u200b\uff1a</p> <ul> <li><code>DELAY_SRC</code>\uff1a\u200b\u6307\u5b9a\u200b\u5ef6\u8fdf\u200b\u7684\u200b\u8f93\u5165\u200b\u6e90\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b<code>DATAIN</code>\uff08\u200b\u6765\u81ea\u200b<code>IDELAY</code>\u200b\u6a21\u5757\u200b\u7684\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\uff09\u200b\u6216\u200b<code>IDATAIN</code>\uff08\u200b\u6765\u81ea\u200b\u7528\u6237\u200b\u903b\u8f91\u200b\u7684\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\uff09\u3002</li> <li><code>DELAY_TYPE</code>\uff1a\u200b\u6307\u5b9a\u200b\u5ef6\u8fdf\u200b\u7684\u200b\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b\uff1a</li> <li><code>FIXED</code>\uff1a\u200b\u56fa\u5b9a\u200b\u5ef6\u8fdf\u200b\u3002</li> <li><code>VARIABLE</code>\uff1a\u200b\u53ef\u53d8\u200b\u5ef6\u8fdf\u200b\u3002</li> <li><code>VAR_LOAD</code>\uff1a\u200b\u53ef\u53d8\u200b\u5ef6\u8fdf\u200b\uff0c\u200b\u5ef6\u8fdf\u200b\u503c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b<code>LD</code>\u200b\u548c\u200b<code>LD\u200b\u4ef7\u503c\u200b</code>\u200b\u52a8\u6001\u200b\u52a0\u8f7d\u200b\u3002</li> <li><code>DELAY_VALUE</code>\uff1a\u200b\u6307\u5b9a\u200b\u5ef6\u8fdf\u200b\u7684\u200b\u521d\u59cb\u503c\u200b\uff0c\u200b\u5355\u4f4d\u200b\u662f\u200b<code>ps</code>\uff08\u200b\u76ae\u79d2\u200b\uff09\u3002</li> <li><code>REFCLK_FREQUENCY</code>\uff1a\u200b\u53c2\u8003\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\uff0c\u200b\u5355\u4f4d\u200b\u662f\u200b<code>MHz</code>\u3002</li> <li> <p><code>HIGH_PERFORMANCE_MODE</code>\uff1a\u200b\u9ad8\u6027\u80fd\u200b\u91cf\u5b50\u200b\u5ef6\u8fdf\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u63d0\u9ad8\u200b\u5ef6\u8fdf\u200b\u7684\u200b\u7cbe\u5ea6\u200b\u3002</p> </li> <li> <p>\u200b\u4f7f\u7528\u200b\u573a\u666f\u200b</p> </li> <li> <p>\u200b\u9ad8\u901f\u200b\u4e32\u884c\u63a5\u53e3\u200b\uff1a\u200b\u5728\u200b\u9ad8\u901f\u200b\u4e32\u884c\u63a5\u53e3\u200b\u4e2d\u200b\uff0c\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u548c\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u4e4b\u95f4\u200b\u53ef\u80fd\u200b\u5b58\u5728\u200b\u76f8\u4f4d\u200b\u504f\u5dee\u200b\u3002\u200b\u901a\u8fc7\u200b<code>IDELAY</code>\u200b\u53ef\u4ee5\u200b\u8c03\u6574\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u7684\u200b\u5ef6\u8fdf\u200b\uff0c\u200b\u4f7f\u200b\u5176\u200b\u4e0e\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u5bf9\u9f50\u200b\u3002</p> </li> <li>\u200b\u6e90\u200b\u540c\u6b65\u200b\u63a5\u53e3\u200b\uff1a\u200b\u5728\u200b\u6e90\u200b\u540c\u6b65\u200b\u63a5\u53e3\u200b\u4e2d\u200b\uff0c\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u548c\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u662f\u200b\u540c\u6b65\u200b\u4f20\u8f93\u200b\u7684\u200b\u3002\u200b\u901a\u8fc7\u200b<code>IDELAY</code>\u200b\u53ef\u4ee5\u200b\u8c03\u6574\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u7684\u200b\u5ef6\u8fdf\u200b\uff0c\u200b\u4ee5\u200b\u786e\u4fdd\u200b\u6570\u636e\u200b\u7684\u200b\u6b63\u786e\u200b\u91c7\u6837\u200b\u3002</li> <li> <p>\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u4fe1\u53f7\u200b\u4f20\u8f93\u200b\uff1a\u200b\u5728\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u4fe1\u53f7\u200b\u4f20\u8f93\u200b\u4e2d\u200b\uff0c\u200b\u901a\u8fc7\u200b\u8c03\u6574\u200b\u5ef6\u8fdf\u200b\u53ef\u4ee5\u200b\u51cf\u5c11\u200b\u4e9a\u7a33\u6001\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002</p> </li> <li> <p>\u200b\u6ce8\u610f\u4e8b\u9879\u200b</p> </li> <li> <p>\u200b\u5ef6\u8fdf\u200b\u8303\u56f4\u200b\uff1a<code>IDELAY</code>\u200b\u7684\u200b\u5ef6\u8fdf\u200b\u8303\u56f4\u200b\u662f\u200b\u6709\u9650\u200b\u7684\u200b\uff0c\u200b\u901a\u5e38\u200b\u5728\u200b<code>0ps</code>\u200b\u5230\u200b<code>1000ps</code>\u200b\u4e4b\u95f4\u200b\u3002\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u66f4\u5927\u200b\u7684\u200b\u5ef6\u8fdf\u200b\uff0c\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u7ed3\u5408\u200b\u5176\u4ed6\u200b\u5ef6\u8fdf\u200b\u6a21\u5757\u200b\u3002</p> </li> <li>\u200b\u53c2\u8003\u200b\u65f6\u949f\u200b\uff1a<code>IDELAY</code>\u200b\u9700\u8981\u200b\u4e00\u4e2a\u200b\u53c2\u8003\u200b\u65f6\u949f\u200b\u6765\u200b\u63a7\u5236\u200b\u5ef6\u8fdf\u200b\u7684\u200b\u66f4\u65b0\u200b\u3002\u200b\u53c2\u8003\u200b\u65f6\u949f\u200b\u7684\u200b\u9891\u7387\u200b\u9700\u8981\u200b\u4e0e\u200b\u8bbe\u8ba1\u200b\u4e2d\u200b\u7684\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u5339\u914d\u200b\u3002</li> <li> <p>\u200b\u52a8\u6001\u200b\u8c03\u6574\u200b\uff1a\u200b\u5728\u200b\u52a8\u6001\u200b\u8c03\u6574\u200b\u5ef6\u8fdf\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u786e\u4fdd\u200b\u5ef6\u8fdf\u200b\u503c\u200b\u7684\u200b\u66f4\u65b0\u200b\u4e0d\u4f1a\u200b\u5bfc\u81f4\u200b\u4fe1\u53f7\u200b\u7684\u200b\u4e0d\u200b\u7a33\u5b9a\u200b\u3002</p> </li> <li> <p>IDELAYE2\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u4ee3\u7801\u200b</p> </li> </ul> <pre><code>   IDELAYE2 #(\n      .CINVCTRL_SEL(\"FALSE\"),          // Enable dynamic clock inversion (FALSE, TRUE)\n      .DELAY_SRC(\"IDATAIN\"),           // Delay input (IDATAIN, DATAIN)\n      .HIGH_PERFORMANCE_MODE(\"FALSE\"), // Reduced jitter (\"TRUE\"), Reduced power (\"FALSE\")\n      .IDELAY_TYPE(\"FIXED\"),           // FIXED, VARIABLE, VAR_LOAD, VAR_LOAD_PIPE\n      .IDELAY_VALUE(0),                // Input delay tap setting (0-31)\n      .PIPE_SEL(\"FALSE\"),              // Select pipelined mode, FALSE, TRUE\n      .REFCLK_FREQUENCY(200.0),        // IDELAYCTRL clock input frequency in MHz (190.0-210.0, 290.0-310.0).\n      .SIGNAL_PATTERN(\"DATA\")          // DATA, CLOCK input signal\n   )\n   IDELAYE2_inst (\n      .CNTVALUEOUT(CNTVALUEOUT), // 5-bit output: Counter value output\n       .DATAOUT(DATAOUT),         // 1-bit output: Delayed data output\uff0c\u200b\u5ef6\u65f6\u200b\u540e\u200b\u7684\u200b\u8f93\u51fa\u200b\u4fe1\u53f7\u200b\n      .C(C),                     // 1-bit input: Clock input\n      .CE(CE),                   // 1-bit input: Active high enable increment/decrement input\n      .CINVCTRL(CINVCTRL),       // 1-bit input: Dynamic clock inversion input\n      .CNTVALUEIN(CNTVALUEIN),   // 5-bit input: Counter value input\n      .DATAIN(DATAIN),           // 1-bit input: Internal delay data input\n      .IDATAIN(IDATAIN),         // 1-bit input: Data input from the I/O\n      .INC(INC),                 // 1-bit input: Increment / Decrement tap delay input\n      .LD(LD),                   // 1-bit input: Load IDELAY_VALUE input\n      .LDPIPEEN(LDPIPEEN),       // 1-bit input: Enable PIPELINE register to load data input\n      .REGRST(REGRST)            // 1-bit input: Active-high reset tap-delay input\n   );\n</code></pre> <p>\u200b\u6ce8\u610f\u200b\u5728\u200b\u8fd9\u91cc\u200b\uff0c\u200b\u6ce8\u610f\u200b<code>IDATAIN</code>\u200b\u548c\u200b<code>DATAIN</code>\u200b\u4e24\u4e2a\u200b\u8f93\u5165\u200b\u7aef\u53e3\u200b\uff0c\u200b\u6211\u4eec\u200b\u5b9e\u9645\u4e0a\u200b\u53ea\u200b\u9700\u8981\u200b\u5c06\u200b\u6211\u4eec\u200b\u8981\u200b\u5ef6\u65f6\u200b\u7684\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\u8fdb\u200b\u4e00\u4e2a\u200b\u7aef\u53e3\u200b\u5373\u53ef\u200b\uff0c\u200b\u5f53\u200b\u6211\u4eec\u200b\u7684\u200b\u6570\u636e\u6e90\u200b\u5904\u4e8e\u200bFPGA\u200b\u5185\u90e8\u200b\u65f6\u200b\uff0c\u200b\u5c06\u200b<code>IDATAIN</code>\u200b\u7f6e\u200b0\uff0c\u200b\u5c06\u200b\u6570\u636e\u200b\u8fde\u63a5\u200b\u8fdb\u200b<code>DATAIN</code>\u200b\u4e2d\u200b\uff0c\u200b\u5e76\u4e14\u200b\u4fee\u6539\u200b\u53c2\u6570\u200b.<code>DELAY_SRC(\"DATAIN\"),</code>\u3002\u200b\u53cd\u4e4b\u200b\u5c06\u200b\u53cd\u200b</p> <ol> <li>IDELAYCTRL\u200b\u539f\u8bed\u200b\u5b9e\u4f8b\u200b\u5316\u200b</li> </ol> <pre><code>   IDELAYCTRL IDELAYCTRL_inst (\n      .RDY(RDY),       // 1-bit output: Ready output\n      .REFCLK(REFCLK), // 1-bit input: Reference clock input\n      .RST(RST)        // 1-bit input: Active high reset input\n   );\n\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#135-iddr","title":"1.3.5 IDDR\u200b\u539f\u8bed\u200b\u7684\u200b\u4f5c\u7528","text":"<p><code>IDDR</code>\uff08Input Double Data Rate\uff09\u200b\u539f\u8bed\u200b\u662f\u200bXilinx FPGA\u200b\u4e2d\u200b\u7528\u4e8e\u200b\u5904\u7406\u200b\u53cc\u500d\u200b\u6570\u636e\u200b\u901f\u7387\u200b\uff08DDR\uff09\u200b\u4fe1\u53f7\u200b\u7684\u200b\u5e95\u5c42\u200b\u539f\u8bed\u200b\uff0c\u200b\u5176\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\u662f\u200b\u5c06\u200b\u8f93\u5165\u200b\u7684\u200b\u53cc\u6cbf\u200b\u4fe1\u53f7\u200b\uff08DDR\uff09\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5355\u6cbf\u200b\u4fe1\u53f7\u200b\uff08SDR\uff09\uff0c\u200b\u4ee5\u4fbf\u200bFPGA\u200b\u5185\u90e8\u200b\u903b\u8f91\u200b\u80fd\u591f\u200b\u6b63\u786e\u5904\u7406\u200b\u3002</p> <p></p> <ol> <li> <p>\u200b\u529f\u80fd\u200b\u4e0e\u200b\u4f5c\u7528\u200b</p> </li> <li> <p>\u200b\u53cc\u6cbf\u200b\u4fe1\u53f7\u200b\u8f6c\u6362\u200b\uff1a<code>IDDR</code>\u200b\u80fd\u591f\u200b\u5c06\u200b\u8f93\u5165\u200b\u7684\u200b\u53cc\u6cbf\u200b\u4fe1\u53f7\u200b\uff08\u200b\u5728\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u548c\u200b\u4e0b\u964d\u200b\u6cbf\u90fd\u200b\u4f20\u8f93\u6570\u636e\u200b\uff09\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5355\u6cbf\u200b\u4fe1\u53f7\u200b\uff08\u200b\u4ec5\u200b\u5728\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u6216\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u4f20\u8f93\u6570\u636e\u200b\uff09\uff0c\u200b\u4ece\u800c\u200b\u5c06\u200b\u8f93\u5165\u200b\u7684\u200bDDR\u200b\u4fe1\u53f7\u200b\u8f6c\u6362\u200b\u4e3a\u200bFPGA\u200b\u5185\u90e8\u200b\u53ef\u200b\u5904\u7406\u200b\u7684\u200bSDR\u200b\u4fe1\u53f7\u200b\u3002</p> </li> <li> <p>\u200b\u63d0\u9ad8\u200b\u6570\u636e\u200b\u541e\u5410\u200b\u7387\u200b\uff1a\u200b\u901a\u8fc7\u200b\u5728\u200b\u6bcf\u4e2a\u200b\u65f6\u949f\u200b\u8fb9\u6cbf\u200b\u6355\u83b7\u200b\u6570\u636e\u200b\uff0c<code>IDDR</code>\u200b\u53ef\u4ee5\u200b\u5728\u200b\u76f8\u540c\u200b\u7684\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u4e0b\u200b\u5b9e\u73b0\u200b\u53cc\u500d\u200b\u7684\u200b\u6570\u636e\u200b\u4f20\u8f93\u901f\u7387\u200b\u3002</p> </li> <li> <p>\u200b\u5de5\u4f5c\u200b\u6a21\u5f0f\u200b</p> </li> </ol> <p><code>IDDR</code>\u200b\u652f\u6301\u200b\u4ee5\u4e0b\u200b\u4e09\u79cd\u200b\u5de5\u4f5c\u200b\u6a21\u5f0f\u200b\uff1a\u200b\u4e0b\u9762\u200b\u6709\u200b\u8be6\u7ec6\u200b\u7684\u200b\u6a21\u5f0f\u200b\u4ecb\u7ecd\u200b\u548c\u200b\u65f6\u5e8f\u200b\u56fe\u200b\uff0c\u200b\u6ce8\u610f\u200b\u89c2\u5bdf\u200bQ1\u200b\u548c\u200bQ2\u200b\u7684\u200b\u6570\u636e\u200b\u6392\u5e03\u200b\uff0c\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u662f\u200b\u7b2c\u4e09\u4e2a\u200b<code>SAME_EDGE_PIPELINED</code></p> <ol> <li>OPPOSITE_EDGE\uff1a\u200b\u5728\u200b\u65f6\u949f\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u6355\u83b7\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u6355\u83b7\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u7684\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u6570\u636e\u200b\u3002\u200b\u6355\u83b7\u200b\u7684\u200b\u6570\u636e\u200b\u5206\u522b\u200b\u8f93\u51fa\u200b\u5230\u200b<code>Q1</code>\u200b\u548c\u200b<code>Q2</code>\u3002</li> <li>SAME_EDGE\uff1a\u200b\u5728\u200b\u65f6\u949f\u200b\u7684\u200b\u540c\u4e00\u200b\u8fb9\u6cbf\u200b\uff08\u200b\u901a\u5e38\u200b\u662f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\uff09\u200b\u6355\u83b7\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u548c\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u6570\u636e\u200b\u3002</li> <li> <p>SAME_EDGE_PIPELINED\uff1a\u200b\u4e0e\u200b<code>SAME_EDGE</code>\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u4f46\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\u4f1a\u200b\u5ef6\u8fdf\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u3002</p> </li> <li> <p>\u200b\u53c2\u6570\u200b\u914d\u7f6e\u200b</p> </li> <li> <p><code>DDR_CLK_EDGE</code>\uff1a\u200b\u8bbe\u7f6e\u200b\u5de5\u4f5c\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u53ef\u9009\u503c\u200b\u4e3a\u200b<code>OPPOSITE_EDGE</code>\u3001<code>SAME_EDGE</code>\u200b\u6216\u200b<code>SAME_EDGE_PIPELINED</code>\u3002</p> </li> <li><code>INIT_Q1</code>\u3001<code>INIT_Q2</code>\uff1a\u200b\u8bbe\u7f6e\u200b\u8f93\u51fa\u200b<code>Q1</code>\u200b\u548c\u200b<code>Q2</code>\u200b\u7684\u200b\u521d\u59cb\u503c\u200b\u3002</li> <li> <p><code>SRTYPE</code>\uff1a\u200b\u8bbe\u7f6e\u200b\u590d\u4f4d\u200b\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u9009\u503c\u200b\u4e3a\u200b<code>SYNC</code>\uff08\u200b\u540c\u6b65\u200b\u590d\u4f4d\u200b\uff09\u200b\u6216\u200b<code>ASYNC</code>\uff08\u200b\u5f02\u6b65\u200b\u590d\u4f4d\u200b\uff09\u3002</p> </li> <li> <p>\u200b\u7aef\u53e3\u200b\u8bf4\u660e\u200b</p> </li> <li> <p><code>Q1</code>\u3001<code>Q2</code>\uff1a\u200b\u5355\u6cbf\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\uff0c\u200b\u5206\u522b\u200b\u5bf9\u5e94\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u548c\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u6570\u636e\u200b\u3002</p> </li> <li><code>C</code>\uff1a\u200b\u65f6\u949f\u200b\u8f93\u5165\u200b\u3002</li> <li><code>CE</code>\uff1a\u200b\u65f6\u949f\u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u5fc5\u987b\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\u624d\u80fd\u200b\u6355\u83b7\u200b\u6570\u636e\u200b\u3002</li> <li><code>D</code>\uff1a\u200b\u8f93\u5165\u200b\u7684\u200b\u53cc\u6cbf\u200b\u6570\u636e\u200b\u3002</li> <li><code>R</code>\u3001<code>S</code>\uff1a\u200b\u590d\u4f4d\u200b\u548c\u200b\u7f6e\u4f4d\u200b\u4fe1\u53f7\u200b\u3002</li> </ol> <p>\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u4ee3\u7801\u200b:</p> <pre><code>   IDDR #(\n      .DDR_CLK_EDGE(\"OPPOSITE_EDGE\"), // \"OPPOSITE_EDGE\", \"SAME_EDGE\" \n                                      //    or \"SAME_EDGE_PIPELINED\" \n      .INIT_Q1(1'b0), // Initial value of Q1: 1'b0 or 1'b1\n      .INIT_Q2(1'b0), // Initial value of Q2: 1'b0 or 1'b1\n      .SRTYPE(\"SYNC\") // Set/Reset type: \"SYNC\" or \"ASYNC\" \n   ) IDDR_inst (\n      .Q1(Q1), // 1-bit output for positive edge of clock\n      .Q2(Q2), // 1-bit output for negative edge of clock\n      .C(C),   // 1-bit clock input\n      .CE(CE), // 1-bit clock enable input\n      .D(D),   // 1-bit DDR data input\n      .R(R),   // 1-bit reset\n      .S(S)    // 1-bit set\n   );\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#136-rgmii","title":"1.3.6 RGMII\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-14 19:21:05\n * @LastEditTime: 2025-02-14 20:07:03\n * @FilePath: \\rtl\\rgmii_recive.v\n * @Description:\u200b\u6dfb\u52a0\u200b\u4fe1\u53f7\u200b\u7684\u200bIBUF\u3001BUFIO\u3001BUFG\u3001\u200b\u5ef6\u65f6\u200b\u63a7\u5236\u200b\u3001IDDR\u200b\u539f\u8bed\u200b\uff0c\u200b\u4fe1\u53f7\u200b\u8fc7\u200bBUF\u200b\u539f\u8bed\u200b\u8fdb\u884c\u200b\u63d0\u9ad8\u200b\u4fe1\u53f7\u200b\u8d28\u91cf\u200b\uff0c\u200b\u8fc7\u200bIDDR\u200b\u539f\u8bed\u200b\u5c06\u200brgmii\u200b\u53cc\u200b\u8fb9\u6cbf\u200b\u4fe1\u53f7\u200b\u8f6c\u6362\u200b\u4f4d\u200bgmii\u200b\u5355\u200b\u8fb9\u6cbf\u200b\u4fe1\u53f7\u200b\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\n\n\nmodule rgmii_recieve(\n    input wire          sys_reset_n               ,\n    input wire          idelay_refclk       ,\n\n    input wire          phy_rgmii_rx_clk    ,\n    input wire          phy_rgmii_rx_ctl    ,\n    input wire [3:0]    phy_rgmii_rx_data   ,\n\n    output wire         gmii_rx_clk         ,\n    output wire         gmii_rx_data_vld    ,\n    output wire         gmii_rx_data_error  ,\n    output wire [7:0]   gmii_rx_data        \n);\nwire            phy_rgmii_rx_clk_ibuf       ;\nwire            phy_rgmii_rx_ctl_ibuf       ;\nwire  [3:0]     phy_rgmii_rx_data_ibuf      ;\n\nwire            phy_rgmii_rx_clk_ibuf_bufio ;\nwire            phy_rgmii_rx_ctl_ibuf_delay ;\nwire  [3:0]     phy_rgmii_rx_data_ibuf_delay;\n\n/*--------------------------------------------------*\\\n                       IBUF\n\\*--------------------------------------------------*/\n//\u200b\u5bf9\u200bphy_rgmii_rx_clk\u200b\u4fe1\u53f7\u200b\u901a\u8fc7\u200bbuf\n   IBUF #(\n      .IBUF_LOW_PWR(\"TRUE\"),        // Low power (TRUE) vs. performance (FALSE) setting for referenced I/O standards\n      .IOSTANDARD(\"DEFAULT\")        // Specify the input I/O standard\n   ) phy_rgmii_rx_clk_IBUF_inst (\n      .O(phy_rgmii_rx_clk_ibuf),    // Buffer output\n      .I(phy_rgmii_rx_clk)          // Buffer input (connect directly to top-level port)\n   );\n//\u200b\u5bf9\u200bphy_rgmii_rx_ctl\u200b\u4fe1\u53f7\u200b\u901a\u8fc7\u200bbuf\n   IBUF #(\n      .IBUF_LOW_PWR(\"TRUE\"),        // Low power (TRUE) vs. performance (FALSE) setting for referenced I/O standards\n      .IOSTANDARD(\"DEFAULT\")        // Specify the input I/O standard\n   ) phy_rgmii_rx_ctl_IBUF_inst (\n      .O(phy_rgmii_rx_ctl_ibuf),    // Buffer output\n      .I(phy_rgmii_rx_ctl)          // Buffer input (connect directly to top-level port)\n   );\n//\u200b\u5bf9\u200bphy_rgmii_rx_data\u200b\u4fe1\u53f7\u200b\u901a\u8fc7\u200bbuf\ngenvar i_rx;\ngenerate\n    for (i_rx = 0; i_rx &lt; 4; i_rx = i_rx + 1) begin\n        IBUF #(\n            .IBUF_LOW_PWR(\"TRUE\"),              // Low power (TRUE) vs. performance (FALSE) setting for referenced I/O standards\n            .IOSTANDARD(\"DEFAULT\")              // Specify the input I/O standard\n        ) phy_rgmii_rx_data_IBUF_inst (\n            .O(phy_rgmii_rx_data_ibuf[i_rx]),   // Buffer output\n            .I(phy_rgmii_rx_data[i_rx])         // Buffer input (connect directly to top-level port)\n        );\n    end\nendgenerate\n\n/*--------------------------------------------------*\\\n                       BUFIO\u3001BUFG\n\\*--------------------------------------------------*/\n// \u200b\u5bf9\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200bphy_rgmii_rx_clk_ibuf\u200b\u901a\u8fc7\u200bBUFIO\u200b\u548c\u200bBUFG\n   BUFIO phy_rgmii_rx_clk_ibuf_BUFIO_inst (\n      .O(phy_rgmii_rx_clk_ibuf_bufio), // 1-bit output: Clock output (connect to I/O clock loads).\n      .I(phy_rgmii_rx_clk_ibuf)  // 1-bit input: Clock input (connect to an IBUF or BUFMR).\n   );\n\n   BUFG phy_rgmii_rx_clk_ibuf_BUFG_inst (\n      .O(gmii_rx_clk), // 1-bit output: Clock output\n      .I(phy_rgmii_rx_clk_ibuf)  // 1-bit input: Clock input\n   );\n\n/*--------------------------------------------------*\\\n                IDELAYCTRL\u3001IDELAYE2       \n\\*--------------------------------------------------*/\nIDELAYCTRL idelay_refclk_IDELAYCTRL_inst (\n    .RDY(),       // 1-bit output: Ready output\n    .REFCLK(idelay_refclk), // 1-bit input: Reference clock input\n    .RST(1'b0)        // 1-bit input: Active high reset input\n   );\n IDELAYE2 #(\n      .CINVCTRL_SEL(\"FALSE\"),          // Enable dynamic clock inversion (FALSE, TRUE)\n      .DELAY_SRC(\"IDATAIN\"),           // Delay input (IDATAIN, DATAIN)\n      .HIGH_PERFORMANCE_MODE(\"FALSE\"), // Reduced jitter (\"TRUE\"), Reduced power (\"FALSE\")\n      .IDELAY_TYPE(\"FIXED\"),           // FIXED, VARIABLE, VAR_LOAD, VAR_LOAD_PIPE\n      .IDELAY_VALUE(0),                // Input delay tap setting (0-31)\n      .PIPE_SEL(\"FALSE\"),              // Select pipelined mode, FALSE, TRUE\n      .REFCLK_FREQUENCY(200.0),        // IDELAYCTRL clock input frequency in MHz (190.0-210.0, 290.0-310.0).\n      .SIGNAL_PATTERN(\"DATA\")          // DATA, CLOCK input signal\n   )\n   phy_rgmii_rx_ctl_ibuf_delay_IDELAYE2_inst (\n      .CNTVALUEOUT(), // 5-bit output: Counter value output\n      .DATAOUT(phy_rgmii_rx_ctl_ibuf_delay),         // 1-bit output: Delayed data output\n      .C(0),                     // 1-bit input: Clock input\n      .CE(0),                   // 1-bit input: Active high enable increment/decrement input\n      .CINVCTRL(0),       // 1-bit input: Dynamic clock inversion input\n      .CNTVALUEIN(0),   // 5-bit input: Counter value input\n      .DATAIN(0),           // 1-bit input: Internal delay data input\n      .IDATAIN(phy_rgmii_rx_ctl_ibuf),         // 1-bit input: Data input from the I/O\n      .INC(0),                 // 1-bit input: Increment / Decrement tap delay input\n      .LD(0),                   // 1-bit input: Load IDELAY_VALUE input\n      .LDPIPEEN(0),       // 1-bit input: Enable PIPELINE register to load data input\n      .REGRST(0)            // 1-bit input: Active-high reset tap-delay input\n   );\ngenvar j_rx;\ngenerate\n    for (j_rx = 0; j_rx &lt; 4; j_rx = j_rx + 1) begin\n\n        IDELAYE2 #(\n            .CINVCTRL_SEL(\"FALSE\"),          // Enable dynamic clock inversion (FALSE, TRUE)\n            .DELAY_SRC(\"IDATAIN\"),           // Delay input (IDATAIN, DATAIN)\n            .HIGH_PERFORMANCE_MODE(\"FALSE\"), // Reduced jitter (\"TRUE\"), Reduced power (\"FALSE\")\n            .IDELAY_TYPE(\"FIXED\"),           // FIXED, VARIABLE, VAR_LOAD, VAR_LOAD_PIPE\n            .IDELAY_VALUE(0),                // Input delay tap setting (0-31)\n            .PIPE_SEL(\"FALSE\"),              // Select pipelined mode, FALSE, TRUE\n            .REFCLK_FREQUENCY(200.0),        // IDELAYCTRL clock input frequency in MHz (190.0-210.0, 290.0-310.0).\n            .SIGNAL_PATTERN(\"DATA\")          // DATA, CLOCK input signal\n        )phy_rgmii_rx_data_ibuf_delay_IDELAYE2_inst (\n            .IDATAIN(phy_rgmii_rx_data_ibuf[j_rx]),         // 1-bit input: Data input from the I/O      \n            .DATAOUT(phy_rgmii_rx_data_ibuf_delay[j_rx]),         // 1-bit output: Delayed data output\n            .CNTVALUEOUT(), // 5-bit output: Counter value output      \n            .C(0),                     // 1-bit input: Clock input\n            .CE(0),                   // 1-bit input: Active high enable increment/decrement input\n            .CINVCTRL(0),       // 1-bit input: Dynamic clock inversion input\n            .CNTVALUEIN(0),   // 5-bit input: Counter value input\n            .DATAIN(0),           // 1-bit input: Internal delay data input\n            .INC(0),                 // 1-bit input: Increment / Decrement tap delay input\n            .LD(0),                   // 1-bit input: Load IDELAY_VALUE input\n            .LDPIPEEN(0),       // 1-bit input: Enable PIPELINE register to load data input\n            .REGRST(0)            // 1-bit input: Active-high reset tap-delay input\n            );\n\n    end\nendgenerate\n\n/*--------------------------------------------------*\\\n                       IDDR\u200b\u539f\u8bed\u200b \n\\*--------------------------------------------------*/\nIDDR #(\n      .DDR_CLK_EDGE(\"SAME_EDGE_PIPELINED\"), // \"OPPOSITE_EDGE\", \"SAME_EDGE\" \n                                      //    or \"SAME_EDGE_PIPELINED\" \n      .INIT_Q1(1'b0), // Initial value of Q1: 1'b0 or 1'b1\n      .INIT_Q2(1'b0), // Initial value of Q2: 1'b0 or 1'b1\n      .SRTYPE(\"SYNC\") // Set/Reset type: \"SYNC\" or \"ASYNC\" \n   ) gmii_rx_data_vld_IDDR_inst (\n      .Q1(gmii_rx_data_vld), // 1-bit output for positive edge of clock\n      .Q2(gmii_rx_data_error_xor), // 1-bit output for negative edge of clock\n      .C(phy_rgmii_rx_clk_ibuf_bufio),   // 1-bit clock input\n      .CE(1), // 1-bit clock enable input\n      .D(phy_rgmii_rx_ctl_ibuf_delay),   // 1-bit DDR data input\n      .R(0),   // 1-bit reset\n      .S(0)    // 1-bit set\n   );\n\ngenvar q_rx;\ngenerate\n\n    for (q_rx = 0; q_rx &lt; 4; q_rx = q_rx + 1) begin\n\n        IDDR #(\n            .DDR_CLK_EDGE(\"SAME_EDGE_PIPELINED\"), // \"OPPOSITE_EDGE\", \"SAME_EDGE\"                                 //    or \"SAME_EDGE_PIPELINED\" \n            .INIT_Q1(1'b0), // Initial value of Q1: 1'b0 or 1'b1\n            .INIT_Q2(1'b0), // Initial value of Q2: 1'b0 or 1'b1\n            .SRTYPE(\"SYNC\") // Set/Reset type: \"SYNC\" or \"ASYNC\" \n        ) gmii_rx_data_IDDR_inst (\n            .Q1(gmii_rx_data[q_rx]), // 1-bit output for positive edge of clock\n            .Q2(gmii_rx_data[q_rx + 4]), // 1-bit output for negative edge of clock\n            .C(phy_rgmii_rx_clk_ibuf_bufio),   // 1-bit clock input\n            .CE(1), // 1-bit clock enable input\n            .D(phy_rgmii_rx_data_ibuf_delay[q_rx]),   // 1-bit DDR data input\n            .R(0),   // 1-bit reset\n            .S(0)    // 1-bit set\n   );\n\n   end\nendgenerate\nendmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#137","title":"1.3.7 \u200b\u4ee3\u7801\u200b\u4eff\u771f\u200b\u4ee3\u7801\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#14-rgmiirgmii_sendv","title":"1.4 RGMII\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\uff1argmii_send.v","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#141","title":"1.4.1 \u200b\u6a21\u5757\u200b\u8bbe\u8ba1\u200b\u601d\u8def","text":"<p>\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u662f\u200bRGMII\u200b\u53d1\u9001\u6570\u636e\u200b\u6a21\u5757\u200b\uff0c\u200b\u67e5\u770b\u200b\u4e0a\u9762\u200b\u7684\u200b\u6a21\u5757\u200b\u6846\u56fe\u200b\u53ef\u4ee5\u200b\u770b\u200b\u51fa\u6765\u200b\uff0c\u200b\u5b83\u200b\u63a5\u6536\u200b\u6765\u81ea\u200b\u4e0a\u6e38\u200b\u7684\u200b\u6570\u636e\u200b\uff08GMII \u200b\u683c\u5f0f\u200b\uff09\u3002\u200b\u8be5\u200b\u6a21\u5757\u200b\u7684\u200b\u529f\u80fd\u200b\u4e3b\u8981\u200b\u662f\u200b\u5c06\u200bGMII\u200b\u683c\u5f0f\u200b\u7684\u200b\u65f6\u949f\u200b\u548c\u200b\u6570\u636e\u200b\u8f6c\u6362\u6210\u200bRGMII\u200b\u683c\u5f0f\u200b\u7684\u200b\u65f6\u949f\u200b\u548c\u200b\u6570\u636e\u200b\u4f20\u51fa\u200b\u3002</p> <p>\u200b\u4e0e\u200bRGMII\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u7c7b\u4f3c\u200b\uff0c\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4e5f\u200b\u662f\u200b\u5229\u7528\u200b\u4e86\u200bFPGA\u200b\u4e2d\u200b\u7684\u200b\u4e00\u4e9b\u200b\u57fa\u672c\u200b\u539f\u8bed\u200b\u6765\u200b\u5904\u7406\u200b\u65f6\u949f\u200b\u548c\u200b\u6570\u636e\u200b\u7684\u200b\u8f6c\u6362\u200b\u7684\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7528\u5230\u200b\u4e86\u200b<code>ODDR (\u200b\u8f93\u51fa\u200b\u53cc\u200b\u6570\u636e\u200b\u7387\u200b\u89e6\u53d1\u5668\u200b)</code>\u200b\u548c\u200b <code>OBUF (\u200b\u8f93\u51fa\u200b\u7f13\u51b2\u5668\u200b)</code>\u200b\u4e24\u4e2a\u200b\u539f\u8bed\u200b\uff0c\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u539f\u8bed\u200b\u7684\u200b\u4ecb\u7ecd\u200b\u5728\u200b\u4e0b\u9762\u200b\u4e5f\u200b\u8fdb\u884c\u200b\u7684\u200b\u8be6\u7ec6\u200b\u7684\u200b\u89e3\u91ca\u200b\u3002</p> <p>\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u6bd4\u8f83\u7b80\u5355\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u901a\u8fc7\u200bBUF\u200b\u539f\u8bed\u200b\u591a\u6b21\u200b\u5904\u7406\u200b\u65f6\u949f\u200b\u548c\u200b\u5176\u4ed6\u200b\u4fe1\u53f7\u200b\u786e\u4fdd\u200b\u65f6\u5e8f\u200b\u7684\u200b\u7a33\u5b9a\u200b\u4e86\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u8fd9\u662f\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u6570\u636e\u200b\u90fd\u200b\u662f\u200bFPGA\u200b\u5185\u5411\u200b\u5916\u90e8\u200b\u4f20\u8f93\u200b\u7684\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u901a\u8fc7\u200b<code>ODDR</code>\u200b\u539f\u8bed\u200b \u200b\u5c06\u200b <code>gmii_tx_data_vld</code> \u200b\u4fe1\u53f7\u200b\uff08GMII \u200b\u6570\u636e\u200b\u6709\u6548\u200b\u6807\u5fd7\u200b\uff09\u200b\u8f6c\u6362\u200b\u4e3a\u200b RGMII \u200b\u7684\u200b <code>phy_rgmii_tx_ctl</code> \u200b\u4fe1\u53f7\u200b\u3002\u200b\u5c06\u200b <code>gmii_tx_data</code>GMII \u200b\u6570\u636e\u200b\uff088 \u200b\u4f4d\u200b\uff09\u200b\u8f6c\u6362\u200b\u4e3a\u200b 4 \u200b\u4f4d\u200b\u7684\u200b <code>phy_rgmii_tx_data</code>RGMII \u200b\u6570\u636e\u200b\u3002</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#142-oddr","title":"1.4.2 ODDR\u200b\u539f\u8bed\u200b\u7684\u200b\u4f5c\u7528","text":"<p>Vivado \u200b\u4e2d\u200b\u7684\u200b ODDR \u200b\u539f\u8bed\u200b\uff08Output Double Data Rate\uff09\u200b\u662f\u200b FPGA \u200b\u8bbe\u8ba1\u200b\u4e2d\u200b\u7528\u4e8e\u200b\u5b9e\u73b0\u200b \u200b\u5355\u200b\u6570\u636e\u200b\u901f\u7387\u200b\uff08SDR\uff09\u200b\u5230\u200b\u53cc\u200b\u6570\u636e\u200b\u901f\u7387\u200b\uff08DDR\uff09\u200b\u8f6c\u6362\u200b \u200b\u7684\u200b\u5173\u952e\u200b\u7ec4\u4ef6\u200b\u3002\u200b\u5b83\u200b\u901a\u8fc7\u200b\u65f6\u949f\u200b\u7684\u200b \u200b\u4e0a\u5347\u200b\u6cbf\u200b\u548c\u200b\u4e0b\u964d\u200b\u6cbf\u200b \u200b\u5206\u522b\u200b\u53d1\u9001\u6570\u636e\u200b\uff0c\u200b\u4ece\u800c\u200b\u5c06\u200b\u6570\u636e\u200b\u4f20\u8f93\u901f\u7387\u200b\u63d0\u5347\u200b\u4e00\u500d\u200b\u3002\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u5173\u4e8e\u200b ODDR \u200b\u539f\u8bed\u200b\u7684\u200b\u8be6\u7ec6\u200b\u4ecb\u7ecd\u200b\uff1a</p> <p>1. ODDR \u200b\u7684\u200b\u6838\u5fc3\u4f5c\u7528\u200b</p> <ul> <li>DDR \u200b\u4fe1\u53f7\u200b\u751f\u6210\u200b\uff1a\u200b\u5c06\u200b FPGA \u200b\u5185\u90e8\u200b\u903b\u8f91\u200b\u7684\u200b\u5355\u200b\u6570\u636e\u200b\u901f\u7387\u200b\u4fe1\u53f7\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u53cc\u200b\u6570\u636e\u200b\u901f\u7387\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u6ee1\u8db3\u200b\u9ad8\u901f\u63a5\u53e3\u200b\uff08\u200b\u5982\u200b DDR \u200b\u5b58\u50a8\u5668\u200b\u3001LVDS\u3001HDMI \u200b\u7b49\u200b\uff09\u200b\u7684\u200b\u65f6\u5e8f\u200b\u8981\u6c42\u200b\u3002</li> <li>\u200b\u65f6\u949f\u200b\u57df\u200b\u5bf9\u9f50\u200b\uff1a\u200b\u901a\u8fc7\u200b\u540c\u6b65\u200b\u65f6\u949f\u200b\u8fb9\u6cbf\u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\uff0c\u200b\u786e\u4fdd\u200b\u6570\u636e\u200b\u4e0e\u200b\u5916\u90e8\u8bbe\u5907\u200b\u65f6\u949f\u200b\u4e25\u683c\u200b\u5bf9\u9f50\u200b\u3002</li> <li>\u200b\u8d44\u6e90\u200b\u4f18\u5316\u200b\uff1a\u200b\u76f4\u63a5\u200b\u8c03\u7528\u200b FPGA \u200b\u7684\u200b\u4e13\u7528\u200b\u786c\u4ef6\u8d44\u6e90\u200b\uff08\u200b\u5982\u200b I/O \u200b\u89e6\u53d1\u5668\u200b\uff09\uff0c\u200b\u907f\u514d\u200b\u901a\u7528\u200b\u903b\u8f91\u200b\u8d44\u6e90\u200b\u6d6a\u8d39\u200b\u3002</li> </ul> <p>2.ODDR \u200b\u7684\u200b\u7ed3\u6784\u200b\u4e0e\u200b\u4fe1\u53f7\u200b\u5b9a\u4e49\u200b</p> <p>ODDR \u200b\u539f\u8bed\u200b\u7684\u200b\u63a5\u53e3\u200b\u901a\u5e38\u200b\u5305\u542b\u200b\u4ee5\u4e0b\u200b\u5173\u952e\u200b\u4fe1\u53f7\u200b\uff1a</p> \u200b\u4fe1\u53f7\u200b\u540d\u200b \u200b\u65b9\u5411\u200b \u200b\u63cf\u8ff0\u200b C \u200b\u8f93\u5165\u200b \u200b\u4e3b\u200b\u65f6\u949f\u200b\uff0c\u200b\u9a71\u52a8\u200b\u6570\u636e\u4f20\u8f93\u200b\u7684\u200b\u57fa\u51c6\u200b\u65f6\u949f\u200b\u3002 D1 \u200b\u8f93\u5165\u200b \u200b\u5728\u200b\u65f6\u949f\u200b \u200b\u4e0a\u5347\u200b\u6cbf\u200b \u200b\u9501\u5b58\u200b\u5e76\u200b\u8f93\u51fa\u200b\u7684\u200b\u6570\u636e\u200b\u3002 D2 \u200b\u8f93\u5165\u200b \u200b\u5728\u200b\u65f6\u949f\u200b \u200b\u4e0b\u964d\u200b\u6cbf\u200b \u200b\u9501\u5b58\u200b\u5e76\u200b\u8f93\u51fa\u200b\u7684\u200b\u6570\u636e\u200b\u3002 Q \u200b\u8f93\u51fa\u200b DDR \u200b\u8f93\u51fa\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4ea4\u66ff\u200b\u8f93\u51fa\u200b D1 \u200b\u548c\u200b D2 \u200b\u7684\u200b\u503c\u200b\u3002 CE \u200b\u8f93\u5165\u200b \u200b\u65f6\u949f\u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b\uff08\u200b\u53ef\u200b\u9009\u200b\uff09\uff0c\u200b\u9ad8\u7535\u5e73\u200b\u65f6\u200b\u5141\u8bb8\u200b\u6570\u636e\u200b\u9501\u5b58\u200b\u3002 R \u200b\u8f93\u5165\u200b \u200b\u540c\u6b65\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\uff08\u200b\u53ef\u200b\u9009\u200b\uff09\uff0c\u200b\u590d\u4f4d\u200b\u8f93\u51fa\u200b\u4e3a\u200b\u521d\u59cb\u503c\u200b\u3002 S \u200b\u8f93\u5165\u200b \u200b\u540c\u6b65\u200b\u7f6e\u4f4d\u200b\u4fe1\u53f7\u200b\uff08\u200b\u53ef\u200b\u9009\u200b\uff09\uff0c\u200b\u7f6e\u4f4d\u200b\u8f93\u51fa\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\u3002 <p>3. ODDR \u200b\u7684\u200b\u5de5\u4f5c\u200b\u6a21\u5f0f\u200b</p> <p>ODDR \u200b\u652f\u6301\u200b\u4e24\u79cd\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u901a\u8fc7\u200b\u53c2\u6570\u200b <code>DDR_CLK_EDGE</code> \u200b\u914d\u7f6e\u200b\uff1a</p> <p>(1) OPPOSITE_EDGE \u200b\u6a21\u5f0f\u200b</p> <ul> <li>\u200b\u884c\u4e3a\u200b\uff1aD1 \u200b\u5728\u200b\u65f6\u949f\u200b \u200b\u4e0a\u5347\u200b\u6cbf\u200b \u200b\u88ab\u200b\u9501\u5b58\u200b\uff0cD2 \u200b\u5728\u200b \u200b\u4e0b\u964d\u200b\u6cbf\u200b \u200b\u88ab\u200b\u9501\u5b58\u200b\u3002</li> <li>\u200b\u8f93\u51fa\u200b\u65f6\u5e8f\u200b\uff1a   https://www.xilinx.com/content/dam/xilinx/support/documentation/ip_documentation/ug471_7Series_SelectIO.pdf</li> <li>\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b \u2192 \u200b\u8f93\u51fa\u200b D1\u3002</li> <li>\u200b\u65f6\u949f\u200b\u4e0b\u964d\u200b\u6cbf\u200b \u2192 \u200b\u8f93\u51fa\u200b D2\u3002</li> <li>\u200b\u9002\u7528\u200b\u573a\u666f\u200b\uff1a\u200b\u4f20\u7edf\u200b DDR \u200b\u63a5\u53e3\u200b\u8bbe\u8ba1\u200b\uff0c\u200b\u9700\u200b\u4e25\u683c\u200b\u5339\u914d\u200b\u5916\u90e8\u8bbe\u5907\u200b\u65f6\u5e8f\u200b\u3002</li> </ul> <p>(2) SAME_EDGE \u200b\u6a21\u5f0f\u200b</p> <ul> <li>\u200b\u884c\u4e3a\u200b\uff1aD1 \u200b\u548c\u200b D2 \u200b\u5747\u200b\u5728\u200b\u65f6\u949f\u200b \u200b\u4e0a\u5347\u200b\u6cbf\u200b \u200b\u88ab\u200b\u9501\u5b58\u200b\uff0c\u200b\u4f46\u200b D2 \u200b\u7684\u200b\u503c\u4f1a\u200b\u5ef6\u8fdf\u200b\u534a\u4e2a\u200b\u5468\u671f\u200b\u8f93\u51fa\u200b\u3002</li> <li>\u200b\u8f93\u51fa\u200b\u65f6\u5e8f\u200b\uff1a   https://www.xilinx.com/content/dam/xilinx/support/documentation/ip_documentation/ug471_7Series_SelectIO.pdf</li> <li>\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b \u2192 \u200b\u8f93\u51fa\u200b D1\u3002</li> <li>\u200b\u4e0b\u200b\u4e00\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b \u2192 \u200b\u8f93\u51fa\u200b D2\uff08\u200b\u5185\u90e8\u200b\u5ef6\u8fdf\u200b\u534a\u200b\u5468\u671f\u200b\uff09\u3002</li> <li>\u200b\u4f18\u52bf\u200b\uff1a\u200b\u7b80\u5316\u200b FPGA \u200b\u5185\u90e8\u200b\u903b\u8f91\u200b\u65f6\u5e8f\u200b\u8bbe\u8ba1\u200b\uff0c\u200b\u907f\u514d\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u95ee\u9898\u200b\u3002</li> </ul> <p>4. ODDR \u200b\u7684\u200b\u5178\u578b\u200b\u5e94\u7528\u200b\u573a\u666f\u200b</p> <ol> <li>DDR \u200b\u5b58\u50a8\u5668\u200b\u63a5\u53e3\u200b</li> <li>\u200b\u4e0e\u200b DDR SDRAM \u200b\u901a\u4fe1\u200b\u65f6\u200b\uff0c\u200b\u9700\u200b\u901a\u8fc7\u200b ODDR \u200b\u751f\u6210\u200b\u7b26\u5408\u200b JEDEC \u200b\u6807\u51c6\u200b\u7684\u200b DQS \u200b\u548c\u200b DQ \u200b\u4fe1\u53f7\u200b\u3002</li> <li>\u200b\u9ad8\u901f\u200b\u4e32\u884c\u63a5\u53e3\u200b</li> <li>\u200b\u5982\u200b LVDS\u3001HDMI \u200b\u7684\u200b\u65f6\u949f\u200b\u548c\u200b\u6570\u636e\u901a\u9053\u200b\uff0c\u200b\u9700\u200b DDR \u200b\u4fe1\u53f7\u200b\u63d0\u5347\u200b\u4f20\u8f93\u200b\u6548\u7387\u200b\u3002</li> <li>\u200b\u65f6\u949f\u200b\u8f6c\u53d1\u200b\uff08Clock Forwarding\uff09</li> <li>\u200b\u5c06\u200b FPGA \u200b\u5185\u90e8\u200b\u65f6\u949f\u200b\u901a\u8fc7\u200b DDR \u200b\u6a21\u5f0f\u200b\u8f93\u51fa\u200b\uff0c\u200b\u4f9b\u200b\u5916\u90e8\u200b\u82af\u7247\u200b\u540c\u6b65\u200b\u4f7f\u7528\u200b\u3002</li> <li>\u200b\u6570\u636e\u200b\u5bf9\u9f50\u200b</li> <li>\u200b\u5728\u200b\u6e90\u200b\u540c\u6b65\u200b\u63a5\u53e3\u200b\uff08\u200b\u5982\u200b Camera Link\uff09\u200b\u4e2d\u200b\uff0c\u200b\u5bf9\u9f50\u200b\u6570\u636e\u200b\u4e0e\u200b\u968f\u8def\u200b\u65f6\u949f\u200b\u3002</li> </ol> <p>5.\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u4ee3\u7801\u200b</p> <pre><code>ODDR #(\n    .DDR_CLK_EDGE(\"OPPOSITE_EDGE\"), // \u200b\u5de5\u4f5c\u200b\u6a21\u5f0f\u200b\uff1aOPPOSITE_EDGE \u200b\u6216\u200b SAME_EDGE\n    .INIT(1'b0),                    // \u200b\u8f93\u51fa\u200b\u521d\u59cb\u503c\u200b\uff080 \u200b\u6216\u200b 1\uff09\n    .SRTYPE(\"SYNC\")                 // \u200b\u590d\u4f4d\u200b/\u200b\u7f6e\u4f4d\u200b\u7c7b\u578b\u200b\uff1aSYNC\uff08\u200b\u540c\u6b65\u200b\uff09\u200b\u6216\u200b ASYNC\uff08\u200b\u5f02\u6b65\u200b\uff09\n) ODDR_inst (\n    .Q(Q),   // DDR \u200b\u8f93\u51fa\u200b\u4fe1\u53f7\u200b\n    .C(clk), // \u200b\u57fa\u51c6\u200b\u65f6\u949f\u200b\uff08\u200b\u9700\u200b\u4e0e\u200b\u5916\u90e8\u8bbe\u5907\u200b\u65f6\u949f\u200b\u540c\u6e90\u200b\uff09\n    .CE(1'b1), // \u200b\u65f6\u949f\u200b\u4f7f\u80fd\u200b\uff08\u200b\u5e38\u63a5\u200b\u9ad8\u7535\u5e73\u200b\uff09\n    .D1(data_rise), // \u200b\u4e0a\u5347\u200b\u6cbf\u200b\u6570\u636e\u200b\n    .D2(data_fall), // \u200b\u4e0b\u964d\u200b\u6cbf\u200b\u6570\u636e\u200b\n    .R(1'b0), // \u200b\u590d\u4f4d\u200b\uff08\u200b\u901a\u5e38\u200b\u7981\u7528\u200b\uff09\n    .S(1'b0)  // \u200b\u7f6e\u4f4d\u200b\uff08\u200b\u901a\u5e38\u200b\u7981\u7528\u200b\uff09\n);\n</code></pre> <p>6. \u200b\u5173\u952e\u200b\u914d\u7f6e\u200b\u53c2\u6570\u200b\u8be6\u89e3\u200b</p> <ul> <li><code>DDR_CLK_EDGE</code>   \u200b\u51b3\u5b9a\u200b\u6570\u636e\u200b\u9501\u5b58\u200b\u8fb9\u6cbf\u200b\u6a21\u5f0f\u200b\uff0c\u200b\u9700\u200b\u6839\u636e\u200b\u5916\u90e8\u8bbe\u5907\u200b\u65f6\u5e8f\u200b\u8981\u6c42\u200b\u9009\u62e9\u200b\u3002</li> <li><code>INIT</code>   \u200b\u521d\u59cb\u5316\u200b\u8f93\u51fa\u200b\u503c\u200b\uff0c\u200b\u901a\u5e38\u200b\u8bbe\u200b\u4e3a\u200b 0 \u200b\u6216\u200b 1\uff0c\u200b\u9700\u200b\u4e0e\u200b\u63a5\u53e3\u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b\u4e00\u81f4\u200b\u3002</li> <li><code>SRTYPE</code>   \u200b\u590d\u4f4d\u200b/\u200b\u7f6e\u4f4d\u200b\u4fe1\u53f7\u200b\u7684\u200b\u540c\u6b65\u200b\u65b9\u5f0f\u200b\uff1a</li> <li><code>SYNC</code>\uff1a\u200b\u590d\u4f4d\u200b/\u200b\u7f6e\u4f4d\u200b\u4e0e\u200b\u65f6\u949f\u200b\u540c\u6b65\u200b\u3002</li> <li><code>ASYNC</code>\uff1a\u200b\u590d\u4f4d\u200b/\u200b\u7f6e\u4f4d\u200b\u5f02\u6b65\u200b\u751f\u6548\u200b\uff08\u200b\u53ef\u80fd\u200b\u5bfc\u81f4\u200b\u65f6\u5e8f\u200b\u8fdd\u4f8b\u200b\uff09\u3002</li> </ul>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#143-rgmii","title":"1.4.3 RGMII\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4ee3\u7801","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-14 19:21:29\n * @LastEditTime: 2025-02-14 20:08:08\n * @FilePath: \\rtl\\rgmii_send.v\n * @Description:\u200b\u6dfb\u52a0\u200b\u4fe1\u53f7\u200b\u7684\u200bOBUF\u3001ODDR\u200b\u539f\u8bed\u200b\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\n\nmodule rgmii_send(\n    input wire          sys_reset_n              ,\n    input wire          gmii_tx_clk        ,\n    input wire          gmii_tx_data_vld   ,\n    input wire [7:0]    gmii_tx_data       ,\n\n    output wire         phy_rgmii_tx_clk   ,\n    output wire         phy_rgmii_tx_ctl   ,\n    output wire [3:0]   phy_rgmii_tx_data  \n);\n\nwire       rgmii_tx_ctl;\nwire [3:0] rgmii_tx_data;\n\n/*--------------------------------------------------*\\\n                       ODDR\u200b\u539f\u8bed\u200b\n\\*--------------------------------------------------*/\n   ODDR #(\n      .DDR_CLK_EDGE(\"SAME_EDGE\"), // \"OPPOSITE_EDGE\" or \"SAME_EDGE\" \n      .INIT(1'b0),    // Initial value of Q: 1'b0 or 1'b1\n      .SRTYPE(\"SYNC\") // Set/Reset type: \"SYNC\" or \"ASYNC\" \n   ) ODDR_ctl(\n      .Q(rgmii_tx_ctl),   // 1-bit DDR output\n      .C(gmii_tx_clk),   // 1-bit clock input\n      .CE(1), // 1-bit clock enable input\n      .D1(gmii_tx_data_vld), // 1-bit data input (positive edge)\n      .D2(gmii_tx_data_vld ), // 1-bit data input (negative edge) //\u200b\u6ce8\u610f\u200b\u4e0d\u8981\u200b\u6389\u200b\u4e86\u200b\u5f02\u6216\u200b\n      .R(0),   // 1-bit reset\n      .S(0)    // 1-bit set\n   );\ngenvar i_tx;\ngenerate\n    for (i_tx = 0; i_tx &lt; 4; i_tx = i_tx + 1) begin\n\n        ODDR #(\n            .DDR_CLK_EDGE(\"SAME_EDGE\"), // \"OPPOSITE_EDGE\" or \"SAME_EDGE\" \n            .INIT(1'b0),    // Initial value of Q: 1'b0 or 1'b1\n            .SRTYPE(\"SYNC\") // Set/Reset type: \"SYNC\" or \"ASYNC\" \n        ) ODDR_data(\n            .Q(rgmii_tx_data[i_tx]),   // 1-bit DDR output\n            .C(gmii_tx_clk),   // 1-bit clock input\n            .CE(1), // 1-bit clock enable input\n            .D1(gmii_tx_data[i_tx]), // 1-bit data input (positive edge)\n            .D2(gmii_tx_data[i_tx + 4]), // 1-bit data input (negative edge)\n            .R(0),   // 1-bit reset\n            .S(0)    // 1-bit set\n        );\n\n    end\nendgenerate\n\n\n/*--------------------------------------------------*\\\n                       OBUF\u200b\u539f\u8bed\u200b\n\\*--------------------------------------------------*/\n OBUF OBUF_clk (\n      .O(phy_rgmii_tx_clk), // 1-bit output: Buffer output (connect directly to top-level port)\n      .I(gmii_tx_clk)  // 1-bit input: Buffer input\n   );\n\n   OBUF OBUF_ctl (\n      .O(phy_rgmii_tx_ctl), // 1-bit output: Buffer output (connect directly to top-level port)\n      .I(rgmii_tx_ctl)  // 1-bit input: Buffer input\n   );\n\ngenvar j_tx;\ngenerate\n    for (j_tx = 0; j_tx &lt; 4; j_tx = j_tx + 1) begin\n\n        OBUF OBUF_data \n        (\n            .O(phy_rgmii_tx_data[j_tx]), // 1-bit output: Buffer output (connect directly to top-level port)\n            .I(rgmii_tx_data[j_tx])  // 1-bit input: Buffer input\n\n        );      \n    end\nendgenerate\n\nendmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#144","title":"1.4.4 \u200b\u4ee3\u7801\u200b\u4eff\u771f\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#15-udp","title":"1.5 UDP\u200b\u534f\u8bae\u200b\u6808\u200b\u67b6\u6784\u8bbe\u8ba1\u200b\u53ca\u65f6\u200b\u949f\u200b\u89c4\u5212","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#16-macmac_receivevv","title":"1.6 MAC\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\uff1amac_receivev.v","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#161","title":"1.6.1 \u200b\u6a21\u5757\u200b\u8bbe\u8ba1\u200b\u601d\u8def","text":"<p>\u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\u7ed3\u6784\u200b\u5982\u4e0b\u200b\uff1a</p> <pre><code>| \u200b\u524d\u5bfc\u200b\u7801\u200b(7B) | SFD(1B) | \u200b\u76ee\u6807\u200bMAC(6B) | \u200b\u6e90\u200bMAC(6B) | \u200b\u7c7b\u578b\u200b(2B) | \u200b\u6570\u636e\u200b(46-1500B) | CRC(4B) |\n</code></pre> <p>\u200b\u9996\u5148\u200b\uff0c\u200b\u6211\u4eec\u200b\u518d\u6b21\u200b\u68b3\u7406\u200b\u6574\u4f53\u200b\u9879\u76ee\u200b\u7684\u200b\u601d\u8def\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u4ece\u200bPC\u200b\u673a\u4e2d\u200b\u7ecf\u8fc7\u200brgmii_receive\u200b\u6a21\u5757\u200b\u5c06\u200b\u6570\u636e\u200b\u4ece\u200brgmii\u200b\u683c\u5f0f\u200b\u8f6c\u6362\u200b\u5230\u200bgmii\u200b\u683c\u5f0f\u200b\u540e\u200b\uff0c\u200b\u5c06\u200b\u6570\u636e\u200b\u4f20\u9012\u200b\u7ed9\u200bmac_receive\u200b\u6a21\u5757\u200b\u5bf9\u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\u8fdb\u884c\u200b\u89e3\u6790\u200b\u5e76\u200b\u53bb\u6389\u200b\u5305\u5934\u200b\uff08\u200b\u5305\u62ec\u200b\u524d\u5bfc\u200b\u7801\u200b\u3001SFD\u3001\u200b\u76ee\u6807\u200bMAC\u3001\u200b\u6e90\u200bMAC\u3001\u200b\u7c7b\u578b\u200b\uff09\u200b\u540e\u200b\u4f20\u9012\u200b\u7ed9\u200b\u4e0b\u200b\u4e00\u5c42\u200bip_receive\u200b\u6a21\u5757\u200b\u7684\u200b\u3002\u200b\u6240\u4ee5\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u4e2d\u200b\uff0c\u200b\u6838\u5fc3\u200b\u7684\u200b\u529f\u80fd\u200b\u5e94\u8be5\u200b\u6709\u200b\u4e0b\u9762\u200b\u51e0\u70b9\u200b\uff1a</p> <ol> <li>\u200b\u63a5\u6536\u200b\u6765\u81ea\u200brgmii_receive\u200b\u7684\u200b\u6570\u636e\u200b</li> <li>\u200b\u5b8c\u6210\u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\u89e3\u6790\u200b\u3001\u200b\u6821\u9a8c\u200b\u548c\u200b\u6709\u6548\u200b\u6570\u636e\u200b\u7684\u200b\u4f20\u9012\u200b</li> <li>\u200b\u6709\u6548\u200b\u6570\u636e\u200b\u7684\u200b\u9700\u8981\u200b\u7ecf\u8fc7\u200bSFD\u3001CRC\u200b\u6821\u9a8c\u200b\u540e\u200b\u4f20\u8f93\u200b\u4ee5\u53ca\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u5904\u7406\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200bFIFO\u200b\u5bf9\u200b\u6570\u636e\u200b\u7684\u200b\u7f13\u5b58\u200b\u6765\u200b\u5b9e\u73b0\u200b</li> </ol> <p>\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff1a</p> <ol> <li>\u200b\u5bf9\u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\u524d\u5bfc\u200b\u7801\u200b\u3001\u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\u3001\u200b\u5e27\u200b\u7c7b\u578b\u200b\u5b57\u6bb5\u200b\u7684\u200b\u63d0\u53d6\u200b</li> <li>\u200b\u524d\u5bfc\u200b\u7801\u200b/SFD\u200b\u6821\u9a8c\u200b\u3001MAC\u200b\u5730\u5740\u200b\u8fc7\u6ee4\u200b\u3001CRC\u200b\u6821\u9a8c\u200b</li> <li>\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u4f20\u8f93\u200b\uff0c\u200b\u901a\u8fc7\u200b\u53cc\u200b\u65f6\u949f\u200bFIFO\u200b\u5b9e\u73b0\u200b\u4ece\u200bPHY\u200b\u65f6\u949f\u200b\u57df\u200b\u5230\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u57df\u200b\u7684\u200b\u6570\u636e\u4f20\u8f93\u200b</li> <li>\u200b\u5c06\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u5728\u200bFIFO\u200b\u4e2d\u200b\uff0c\u200b\u5f53\u200b\u6821\u9a8c\u200b\u901a\u8fc7\u200b\u540e\u200b\uff0c\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u518d\u200b\u62c9\u9ad8\u200b\u8868\u793a\u200b\u6570\u636e\u200b\u6ca1\u6709\u200b\u95ee\u9898\u200b</li> </ol> <p>\u200b\u5173\u4e8e\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u7684\u200b\u63a5\u53e3\u200b\u4fe1\u606f\u200b\u5982\u4e0a\u56fe\u200b\u6240\u793a\u200b\uff1a</p> <ul> <li> <p>\u200b\u8f93\u5165\u200b<code>sys_clk</code> \u200b\u548c\u200b<code>sys_reset_n</code>\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u548c\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b</p> </li> <li> <p>\u200b\u8f93\u5165\u200b\u6765\u81ea\u200b<code>phy_rx_clk</code>\u200b\u548c\u200b <code>phy_rx_reset</code> \u200b\u6765\u81ea\u200bphy\u200b\u82af\u7247\u200b\u7684\u200b\u65f6\u949f\u200b\u548c\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b</p> </li> <li>\u200b\u8f93\u5165\u200b\u6765\u81ea\u200brgmii_recieve\u200b\u6a21\u5757\u200b\u7684\u200b<code>gmii_rx_data_vld</code>\u200b\u548c\u200b<code>gmii_rx_data</code> \u200b\u7684\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u548c\u200b\u6570\u636e\u4fe1\u53f7\u200b</li> <li>\u200b\u8f93\u5165\u200b\u6765\u81ea\u200bcrc32_d8\u200b\u6a21\u5757\u200b\u7684\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u7684\u200b\u6570\u636e\u200b</li> <li>\u200b\u8f93\u51fa\u200b\u5904\u7406\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5305\u62ec\u200b<code>mac_rx_data_vld</code>\uff08\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\uff09,<code>mac_rx_data_last</code>\uff08\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u6807\u8bc6\u200b\u4fe1\u53f7\u200b\uff09,<code>mac_rx_data</code>\uff08\u200b\u8f93\u51fa\u200b\u6570\u636e\u4fe1\u53f7\u200b\uff09\uff0c<code>mac_rx_frame_type</code>\uff08\u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\u7c7b\u578b\u200b\u5b57\u200b\u6bb5\u200b\u4fe1\u53f7\u200b\uff09\uff0c\u200b\u4f20\u9012\u200b\u7ed9\u200bmac_to_arp_ip\u200b\u6a21\u5757\u200b\u8fdb\u884c\u200b\u9488\u5bf9\u200b\u4e0d\u540c\u200b\u7684\u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\u5b57\u200b\u6bb5\u200b\u7c7b\u578b\u200b\u9009\u62e9\u200b\u4e0d\u540c\u200b\u7684\u200b\u5904\u7406\u200b\u65b9\u5f0f\u200b</li> </ul>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#162","title":"1.6.2 \u200b\u72b6\u6001\u673a\u200b\u903b\u8f91\u200b\u8bb2\u89e3","text":"<p>\u200b\u5173\u4e8e\u200b\u72b6\u6001\u673a\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u76f8\u6bd4\u200b\u770b\u5230\u200b\u8fd9\u91cc\u200b\u7684\u200b\u8bfb\u8005\u200b\u5bf9\u200b\u72b6\u6001\u673a\u200b\u7684\u200b\u5199\u6cd5\u200b\u8fd8\u662f\u200b\u65e0\u6bd4\u200b\u719f\u6089\u200b\u4e86\u200b\uff0c\u200b\u5728\u200b\u8fd9\u91cc\u200b\u6211\u200b\u60f3\u200b\u518d\u6b21\u200b\u7ed9\u200b\u5927\u5bb6\u200b\u91cd\u65b0\u200b\u68b3\u7406\u200b\u4e00\u4e0b\u200b\u72b6\u6001\u673a\u200b\u7684\u200b\u4e00\u4e9b\u200b\u77e5\u8bc6\u70b9\u200b\u548c\u200b\u7b14\u8bd5\u200b\u9762\u8bd5\u200b\u4e2d\u200b\u5e38\u89c1\u200b\u7684\u200b\u95ee\u6cd5\u200b\uff0c\u200b\u5927\u5bb6\u200b\u82e5\u200b\u662f\u200b\u611f\u89c9\u200b\u81ea\u5df1\u200b\u5df2\u7ecf\u200b\u5f88\u200b\u719f\u7ec3\u200b\u4e86\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8df3\u8fc7\u200b\u8fd9\u90e8\u5206\u200b\u5185\u5bb9\u200b\u3002</p> <p>FPGA\u200b\u662f\u200b\u5e76\u884c\u6267\u884c\u200b\u7684\u200b\uff0c\u200b\u5982\u679c\u8bf4\u200b\u6211\u4eec\u200b\u60f3\u8981\u200b\u5904\u7406\u200b\u4e00\u4e2a\u200b\u524d\u540e\u200b\u987a\u5e8f\u200b\u7684\u200b\u4e8b\u4ef6\u200b\u8be5\u200b\u600e\u4e48\u529e\u200b\u5450\u200b\uff0c\u200b\u8fd9\u65f6\u5019\u200b\u5c31\u200b\u9700\u8981\u200b\u6211\u4eec\u200b\u7684\u200b\u72b6\u6001\u673a\u200b\u6765\u200b\u5b8c\u6210\u200b\u4e86\u200b\u3002\u200b\u72b6\u6001\u673a\u200b\u7684\u200b\u57fa\u672c\u200b\u7c7b\u578b\u200b\u5206\u200b\u4e0b\u9762\u200b\u4e24\u7c7b\u200b\uff1a</p> <ul> <li>Moore\u200b\u578b\u200b\u72b6\u6001\u673a\u200b\uff1a\u200b\u8f93\u51fa\u200b\u4ec5\u200b\u7531\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\u51b3\u5b9a\u200b\uff0c\u200b\u4e0e\u200b\u8f93\u5165\u200b\u65e0\u5173\u200b\u3002</li> <li>Mealy\u200b\u578b\u200b\u72b6\u6001\u673a\u200b\uff1a\u200b\u8f93\u51fa\u200b\u7531\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\u548c\u200b\u8f93\u5165\u200b\u5171\u540c\u200b\u51b3\u5b9a\u200b\u3002</li> </ul> <p>\u200b\u5728\u200b\u6211\u4eec\u200b\u8981\u200b\u5b8c\u6210\u200b\u4e00\u4e2a\u200b\u5b8c\u6574\u200b\u7684\u200b\u72b6\u6001\u673a\u200b\u903b\u8f91\u200b\u4e4b\u524d\u200b\uff0c\u200b\u9700\u8981\u200b\u5148\u200b\u8bbe\u8ba1\u200b\u7ed8\u5236\u200b\u72b6\u6001\u200b\u8f6c\u79fb\u200b\u56fe\u200b\uff0c\u200b\u660e\u786e\u200b\u8f6c\u79fb\u200b\u6761\u4ef6\u200b\u548c\u200b\u8df3\u8f6c\u200b\u5173\u7cfb\u200b\uff0c</p> <p>\u200b\u6b64\u5916\u200b\uff0c\u200b\u5b8c\u6574\u200b\u7684\u200b\u72b6\u6001\u673a\u200b\u5e94\u8be5\u200b\u5305\u542b\u200b\u72b6\u6001\u200b\u5bc4\u5b58\u5668\u200b\u3001\u200b\u4e0b\u200b\u4e00\u200b\u72b6\u6001\u200b\u903b\u8f91\u200b\u3001\u200b\u8f93\u51fa\u200b\u903b\u8f91\u200b\u8fd9\u200b\u4e09\u4e2a\u200b\u90e8\u5206\u200b\u7ec4\u6210\u200b\uff0c\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u4e00\u6b65\u200b\u4e00\u6b65\u200b\u6765\u200b\u7f16\u5199\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200b\u72b6\u6001\u673a\u200bdemo\u3002</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1621verilog","title":"1.6.2.1\u200b\u72b6\u6001\u673a\u200b\u7684\u200bVerilog\u200b\u5b9e\u73b0\u200b\u6b65\u9aa4","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1_2","title":"\uff081\uff09\u200b\u72b6\u6001\u200b\u5b9a\u4e49","text":"<p>\u200b\u4f7f\u7528\u200b<code>parameter</code>\u200b\u5b9a\u4e49\u200b\u6240\u6709\u200b\u53ef\u80fd\u200b\u7684\u200b\u72b6\u6001\u200b\uff0c\u200b\u901a\u5e38\u200b\u63a8\u8350\u200b\u72ec\u70ed\u7801\u200b\uff08One-Hot\uff09\u200b\u6216\u200b\u4e8c\u8fdb\u5236\u200b\u7f16\u7801\u200b\uff1a</p> <pre><code>// \u200b\u793a\u4f8b\u200b\uff1a4\u200b\u4e2a\u200b\u72b6\u6001\u200b\uff08\u200b\u72ec\u70ed\u7801\u200b\uff09\nparameter IDLE  = 4'b0001,\n          STATE1 = 4'b0010,\n          STATE2 = 4'b0100,\n          STATE3 = 4'b1000;\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#2_1","title":"\uff082\uff09\u200b\u72b6\u6001\u200b\u5bc4\u5b58\u5668","text":"<p>\u200b\u7528\u200b\u65f6\u5e8f\u200b\u903b\u8f91\u200b\uff08<code>always @(posedge clk</code>\uff09\u200b\u66f4\u65b0\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\uff1a</p> <pre><code>reg [3:0] current_state, next_state;\n\nalways @(posedge clk or posedge reset) begin\n    if (reset) \n        current_state &lt;= IDLE; // \u200b\u590d\u4f4d\u200b\u5230\u200b\u521d\u59cb\u72b6\u6001\u200b\n    else \n        current_state &lt;= next_state;\nend\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#3_1","title":"\uff083\uff09\u200b\u4e0b\u200b\u4e00\u200b\u72b6\u6001\u200b\u903b\u8f91","text":"<p>\u200b\u7528\u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\uff08<code>always @*</code>\uff09\u200b\u6839\u636e\u200b\u8f93\u5165\u200b\u548c\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\u8ba1\u7b97\u200b\u4e0b\u200b\u4e00\u200b\u72b6\u6001\u200b\uff1a</p> <pre><code>always @(*) begin\n    case (current_state)\n        IDLE: \n            if (start) next_state = STATE1;\n            else      next_state = IDLE;\n        STATE1: \n            if (input_a) next_state = STATE2;\n            else         next_state = IDLE;\n        STATE2: \n            next_state = STATE3; // \u200b\u65e0\u6761\u4ef6\u200b\u8df3\u8f6c\u200b\n        STATE3: \n            if (done)   next_state = IDLE;\n            else        next_state = STATE3;\n        default: \n            next_state = IDLE; // \u200b\u907f\u514d\u200b\u9501\u200b\u5b58\u5668\u200b\n    endcase\nend\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#4_1","title":"\uff084\uff09\u200b\u8f93\u51fa\u200b\u903b\u8f91","text":"<ul> <li>Moore\u200b\u578b\u200b\uff1a\u200b\u8f93\u51fa\u200b\u4ec5\u200b\u4f9d\u8d56\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\uff1a</li> </ul> <p><code>verilog   always @(*) begin       case (current_state)           IDLE:   output = 0;           STATE1:  output = 1;           STATE2:  output = 0;           STATE3:  output = 1;       endcase   end</code></p> <ul> <li>Mealy\u200b\u578b\u200b\uff1a\u200b\u8f93\u51fa\u200b\u4f9d\u8d56\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\u548c\u200b\u8f93\u5165\u200b\uff1a</li> </ul> <p><code>verilog   always @(*) begin       if (current_state == STATE1 &amp;&amp; input_a)            output = 1;       else            output = 0;   end</code></p> <p>\u200b\u5728\u200b\u7b14\u8bd5\u200b\u9762\u8bd5\u200b\u4e2d\u200b\u5e38\u89c1\u200b\u7684\u200b\u95ee\u9898\u200b\u5c31\u662f\u200b\u81ea\u52a8\u200b\u8d29\u5356\u673a\u200b\u548c\u200b\u4ea4\u901a\u200b\u4fe1\u53f7\u706f\u200b\u7684\u200b\u72b6\u6001\u673a\u200b\u7f16\u5199\u200b\uff0c\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u901a\u8fc7\u200b\u68b3\u7406\u200b\u5b9e\u73b0\u200b\u601d\u8def\u200b\uff0c\u200b\u7ed8\u5236\u200b\u72b6\u6001\u200b\u8f6c\u79fb\u200b\u56fe\u200b\u548c\u200b\u7f16\u5199\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u548c\u200b\u4eff\u771f\u200b\u4ee3\u7801\u200b\u8fdb\u884c\u200b\u5b9e\u9a8c\u200b</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1622-1","title":"1.6.2.2 \u200b\u5e94\u7528\u200b\u6848\u4f8b\u200b1\uff1a\u200b\u81ea\u52a8\u200b\u8d29\u5356\u673a\u200b\u793a\u4f8b","text":"<p>\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u6709\u200b\uff1a\u200b\u94b1\u200b\u7684\u200b\u6295\u5165\u200b\u91d1\u989d\u200b\u3001\u200b\u5546\u54c1\u200b\u9009\u62e9\u200b</p> <p>\u200b\u8f93\u51fa\u200b\u4fe1\u53f7\u200b\u6709\u200b\uff1a\u200b\u4e0d\u540c\u200b\u5546\u54c1\u200b\u51fa\u8d27\u200b\u4fe1\u53f7\u200b</p> <p>\u200b\u72b6\u6001\u673a\u200b\u72b6\u6001\u200b\uff1a\u200b\u7b49\u5f85\u200b\u6295\u5e01\u200b\uff0c\u200b\u6295\u5165\u200b\u786c\u5e01\u200b\u3001\u200b\u9009\u62e9\u200b\u5546\u54c1\u200b\u3001\u200b\u51fa\u8d27\u200b\u72b6\u6001\u200b\u3001\u200b\u6062\u590d\u200b\u72b6\u6001\u200b</p> <p></p> <p>\u200b\u9009\u62e9\u200b\u5546\u54c1\u200b\uff1a\u200b\u7528\u6237\u200b\u53ef\u4ee5\u200b\u9009\u62e9\u200b\u5546\u54c1\u200b\uff08<code>product1</code>\u3001<code>product2</code> \u200b\u6216\u200b <code>product3</code>\uff09\u3002\u200b\u53ea\u6709\u200b\u5728\u200b\u9009\u62e9\u200b\u5546\u54c1\u200b\u540e\u200b\uff0c\u200b\u624d\u200b\u4f1a\u200b\u8fdb\u5165\u200b <code>COIN_INPUT</code> \u200b\u72b6\u6001\u200b\u8fdb\u884c\u200b\u6295\u5165\u200b\u786c\u5e01\u200b\u3002</p> <p>\u200b\u6295\u5165\u200b\u786c\u5e01\u200b\uff1a\u200b\u5728\u200b <code>COIN_INPUT</code> \u200b\u72b6\u6001\u200b\uff0c\u200b\u7cfb\u7edf\u200b\u4f1a\u200b\u6839\u636e\u200b\u7528\u6237\u200b\u9009\u62e9\u200b\u7684\u200b\u5546\u54c1\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u8db3\u591f\u200b\u652f\u4ed8\u200b\u3002\u200b\u5982\u679c\u200b\u8db3\u591f\u200b\uff0c\u200b\u8fdb\u5165\u200b <code>DISPENSE</code> \u200b\u72b6\u6001\u200b\uff0c\u200b\u8fdb\u884c\u200b\u5546\u54c1\u200b\u51fa\u8d27\u200b\u3002\u200b\u5982\u679c\u200b\u4f59\u989d\u200b\u4e0d\u8db3\u200b\uff0c\u200b\u7cfb\u7edf\u200b\u4f1a\u200b\u7ee7\u7eed\u200b\u7b49\u5f85\u200b\u786c\u5e01\u200b\u6295\u5165\u200b</p> <p>\u200b\u4ea4\u6613\u200b\u5b8c\u6210\u200b\uff1a\u200b\u8df3\u8f6c\u200b\u5230\u200b\u6062\u590d\u200b\u7b49\u5f85\u200b\uff0c\u200b\u7136\u540e\u200b\u8df3\u8f6c\u200b\u5230\u200b\u521d\u59cb\u72b6\u6001\u200b</p> <p>\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u548c\u200b\u4eff\u771f\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b\uff1a</p> <pre><code>module vending_machine(\n    input clk,              // \u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    input reset,            // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n    input coin_5,           // 5\u200b\u5143\u200b\u786c\u5e01\u200b\u6295\u5165\u200b\n    input coin_10,          // 10\u200b\u5143\u200b\u786c\u5e01\u200b\u6295\u5165\u200b\n    input coin_25,          // 25\u200b\u5143\u200b\u786c\u5e01\u200b\u6295\u5165\u200b\n    input product1,         // \u200b\u9009\u62e9\u200b\u5546\u54c1\u200b1\n    input product2,         // \u200b\u9009\u62e9\u200b\u5546\u54c1\u200b2\n    input product3,         // \u200b\u9009\u62e9\u200b\u5546\u54c1\u200b3\n    output reg dispense_product1,   // \u200b\u5546\u54c1\u200b1\u200b\u51fa\u8d27\u200b\u4fe1\u53f7\u200b\n    output reg dispense_product2,   // \u200b\u5546\u54c1\u200b2\u200b\u51fa\u8d27\u200b\u4fe1\u53f7\u200b\n    output reg dispense_product3    // \u200b\u5546\u54c1\u200b3\u200b\u51fa\u8d27\u200b\u4fe1\u53f7\u200b\n);\n\nparameter IDLE       = 3'b000,\n          SELECT     = 3'b001,\n          COIN_INPUT = 3'b010,\n          DISPENSE   = 3'b011,\n          RESTORE    = 3'b100;\n\nreg [2:0] current_state, next_state;\nreg [7:0] current_balance;\nreg [7:0] product1_price = 50;  // \u200b\u5546\u54c1\u200b1\u200b\u4ef7\u683c\u200b\uff1a50\u200b\u5143\u200b\nreg [7:0] product2_price = 75;  // \u200b\u5546\u54c1\u200b2\u200b\u4ef7\u683c\u200b\uff1a75\u200b\u5143\u200b\nreg [7:0] product3_price = 100; // \u200b\u5546\u54c1\u200b3\u200b\u4ef7\u683c\u200b\uff1a100\u200b\u5143\u200b\n\n// \u200b\u72b6\u6001\u200b\u5bc4\u5b58\u5668\u200b\nalways @(posedge clk or posedge reset) begin\n    if (reset)\n        current_state &lt;= IDLE;\n    else\n        current_state &lt;= next_state;\nend\n\n// \u200b\u5f53\u524d\u200b\u4f59\u989d\u200b\u66f4\u65b0\u200b\u903b\u8f91\u200b\nalways @(posedge clk or posedge reset) begin\n    if (reset)\n        current_balance &lt;= 0;\n    else if (current_state == COIN_INPUT) begin\n        if (coin_5) current_balance &lt;= current_balance + 5;\n        if (coin_10) current_balance &lt;= current_balance + 10;\n        if (coin_25) current_balance &lt;= current_balance + 25;\n    end\nend\n\n// \u200b\u4e0b\u200b\u4e00\u200b\u72b6\u6001\u200b\u903b\u8f91\u200b\nalways @(*) begin\n    case (current_state)\n        IDLE: next_state = SELECT;\n        SELECT: next_state = (product1 || product2 || product3) ? COIN_INPUT : SELECT;\n        COIN_INPUT: next_state = (product1 &amp;&amp; current_balance &gt;= product1_price) ? DISPENSE : \n                                 (product2 &amp;&amp; current_balance &gt;= product2_price) ? DISPENSE : \n                                 (product3 &amp;&amp; current_balance &gt;= product3_price) ? DISPENSE : COIN_INPUT;\n        DISPENSE: next_state = RESTORE;\n        RESTORE: next_state = IDLE;\n        default: next_state = IDLE;\n    endcase\nend\n\n// \u200b\u8f93\u51fa\u200b\u903b\u8f91\u200b\nalways @(*) begin\n    dispense_product1 = 0;\n    dispense_product2 = 0;\n    dispense_product3 = 0;\n\n    case (current_state)\n        IDLE: begin\n            dispense_product1 = 0;\n            dispense_product2 = 0;\n            dispense_product3 = 0;\n        end\n        SELECT: begin\n            dispense_product1 = 0;\n            dispense_product2 = 0;\n            dispense_product3 = 0;\n        end\n        COIN_INPUT: begin\n            dispense_product1 = 0;\n            dispense_product2 = 0;\n            dispense_product3 = 0;\n        end\n        DISPENSE: begin\n            if (product1) dispense_product1 = 1;\n            else if (product2) dispense_product2 = 1;\n            else if (product3) dispense_product3 = 1;\n        end\n        RESTORE: begin\n            dispense_product1 = 0;\n            dispense_product2 = 0;\n            dispense_product3 = 0;\n        end\n    endcase\nend\n\nendmodule\n\n</code></pre> <pre><code>module vending_machine_tb;\n\n    reg clk;\n    reg reset;\n    reg coin_5;\n    reg coin_10;\n    reg coin_25;\n    reg product1;\n    reg product2;\n    reg product3;\n    wire dispense_product1;\n    wire dispense_product2;\n    wire dispense_product3;\n\n    // \u200b\u5b9e\u4f8b\u200b\u5316\u200b\u81ea\u52a8\u200b\u8d29\u5356\u673a\u200b\u6a21\u5757\u200b\n    vending_machine vm (\n        .clk(clk),\n        .reset(reset),\n        .coin_5(coin_5),\n        .coin_10(coin_10),\n        .coin_25(coin_25),\n        .product1(product1),\n        .product2(product2),\n        .product3(product3),\n        .dispense_product1(dispense_product1),\n        .dispense_product2(dispense_product2),\n        .dispense_product3(dispense_product3)\n    );\n\n    // \u200b\u65f6\u949f\u200b\u751f\u6210\u200b\n    always begin\n        #5 clk = ~clk;  // 10ns\u200b\u5468\u671f\u200b\u7684\u200b\u65f6\u949f\u200b\n    end\n\n    // \u200b\u4eff\u771f\u200b\u8fc7\u7a0b\u200b\n    initial begin\n        // \u200b\u521d\u59cb\u5316\u200b\u4fe1\u53f7\u200b\n        clk = 0;\n        reset = 0;\n        coin_5 = 0;\n        coin_10 = 0;\n        coin_25 = 0;\n        product1 = 0;\n        product2 = 0;\n        product3 = 0;\n\n        // \u200b\u590d\u4f4d\u200b\n        reset = 1;\n        #10 reset = 0;\n\n        // \u200b\u6295\u5165\u200b\u786c\u5e01\u200b\n        coin_5 = 1; #10 coin_5 = 0;\n        coin_10 = 1; #10 coin_10 = 0;\n        coin_25 = 1; #10 coin_25 = 0;\n\n        // \u200b\u9009\u62e9\u200b\u5546\u54c1\u200b1\n        product1 = 1; #10 product1 = 0;\n\n        // \u200b\u7ee7\u7eed\u200b\u9009\u62e9\u200b\u5546\u54c1\u200b2\n        product2 = 1; #10 product2 = 0;\n\n        // \u200b\u67e5\u770b\u200b\u8f93\u51fa\u200b\n        #20;\n\n        // \u200b\u505c\u6b62\u200b\u4eff\u771f\u200b\n        $stop;\n    end\nendmodule\n\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1623-2","title":"1.6.2.3 \u200b\u5e94\u7528\u200b\u6848\u4f8b\u200b2\uff1a\u200b\u4ea4\u901a\u200b\u4fe1\u53f7\u706f\u200b\u793a\u4f8b","text":"<p>\u200b\u5728\u200b\u5b8c\u6210\u200b\u8fd9\u4e2a\u200b\u4ee3\u7801\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6211\u4eec\u200b\u5148\u5bf9\u200b\u5176\u200b\u8fdb\u884c\u200b\u5206\u6790\u200b\u4e00\u4e0b\u200b\uff0c\u200b\u8bbe\u8ba1\u200b\u4e00\u4e2a\u200b\u5341\u5b57\u8def\u53e3\u200b\u7684\u200b\u4ea4\u901a\u200b\u4fe1\u53f7\u706f\u200b\u63a7\u5236\u5668\u200b\uff0c\u200b\u4e1c\u897f\u200b\u65b9\u5411\u200b\u548c\u200b\u5357\u5317\u200b\u65b9\u5411\u200b\u4ea4\u66ff\u200b\u901a\u884c\u200b\uff0c\u200b\u4e00\u4e2a\u200b\u65b9\u5411\u200b\u7eff\u706f\u200b/\u200b\u9ec4\u706f\u200b\u65f6\u200b\uff0c\u200b\u53e6\u200b\u4e00\u4e2a\u200b\u65b9\u5411\u200b\u5fc5\u987b\u200b\u4e3a\u200b\u7ea2\u706f\u200b\uff0c\u200b\u6b64\u5916\u200b\u7eff\u706f\u200b\u4eae\u200b30\u200b\u79d2\u200b \u2192 \u200b\u9ec4\u706f\u200b\u4eae\u200b5\u200b\u79d2\u200b \u2192 \u200b\u7ea2\u706f\u200b\u4eae\u200b\u3002\u200b\u72b6\u6001\u200b\u8f6c\u79fb\u200b\u56fe\u200b\u5982\u4e0b\u200b\u6240\u793a\u200b\uff1a</p> <p></p> <p>\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u548c\u200b\u4eff\u771f\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b\uff1a</p> <pre><code>module traffic_light (\n    input      clk,\n    input      reset,\n    output reg ew_red,\n    output reg ew_yellow,\n    output reg ew_green,\n    output reg ns_red,\n    output reg ns_yellow,\n    output reg ns_green\n);\n\nparameter IDLE      = 3'b000,\n          EW_GREEN  = 3'b001,\n          EW_YELLOW = 3'b010,\n          NS_GREEN  = 3'b011,\n          NS_YELLOW = 3'b100;\n\nreg [2:0] current_state, next_state;\nreg [5:0] timer;\n\n// \u200b\u72b6\u6001\u200b\u5bc4\u5b58\u5668\u200b\nalways @(posedge clk or posedge reset) begin\n    if (reset)\n        current_state &lt;= IDLE;\n    else\n        current_state &lt;= next_state;\nend\n\n// \u200b\u5b9a\u65f6\u5668\u200b\u903b\u8f91\u200b\nalways @(posedge clk or posedge reset) begin\n    if (reset)\n        timer &lt;= 0;\n    else begin\n        if (timer == 0)\n            timer &lt;= (current_state == EW_GREEN)  ? 30 :\n                     (current_state == EW_YELLOW) ? 5  :\n                     (current_state == NS_GREEN)  ? 30 :\n                     (current_state == NS_YELLOW) ? 5  : 0;\n        else\n            timer &lt;= timer - 1;\n    end\nend\n\n// \u200b\u4e0b\u200b\u4e00\u200b\u72b6\u6001\u200b\u903b\u8f91\u200b\nalways @(*) begin\n    case (current_state)\n        IDLE:      next_state = EW_GREEN;\n        EW_GREEN:  next_state = (timer == 0) ? EW_YELLOW : EW_GREEN;\n        EW_YELLOW: next_state = (timer == 0) ? NS_GREEN  : EW_YELLOW;\n        NS_GREEN:  next_state = (timer == 0) ? NS_YELLOW : NS_GREEN;\n        NS_YELLOW: next_state = (timer == 0) ? EW_GREEN  : NS_YELLOW;\n        default:   next_state = IDLE;\n    endcase\nend\n\n// \u200b\u8f93\u51fa\u200b\u903b\u8f91\u200b\nalways @(*) begin\n    ew_red = 0; ew_yellow = 0; ew_green = 0;\n    ns_red = 0; ns_yellow = 0; ns_green = 0;\n\n    case (current_state)\n        IDLE: begin\n            ew_red = 1;\n            ns_red = 1;\n        end\n        EW_GREEN: begin\n            ew_green = 1;\n            ns_red   = 1;\n        end\n        EW_YELLOW: begin\n            ew_yellow = 1;\n            ns_red    = 1;\n        end\n        NS_GREEN: begin\n            ns_green = 1;\n            ew_red   = 1;\n        end\n        NS_YELLOW: begin\n            ns_yellow = 1;\n            ew_red    = 1;\n        end\n    endcase\nend\n\nendmodule\n</code></pre> <pre><code>module tb_traffic_light();\n    reg clk, reset;\n    wire ew_red, ew_yellow, ew_green;\n    wire ns_red, ns_yellow, ns_green;\n\n    traffic_light uut (\n        .clk(clk),\n        .reset(reset),\n        .ew_red(ew_red),\n        .ew_yellow(ew_yellow),\n        .ew_green(ew_green),\n        .ns_red(ns_red),\n        .ns_yellow(ns_yellow),\n        .ns_green(ns_green)\n    );\n\n    initial begin\n        clk = 0;\n        reset = 1;\n        #10 reset = 0; // \u200b\u590d\u4f4d\u200b\u540e\u200b\u91ca\u653e\u200b\n    end\n\n    always #5 clk = ~clk; // 10ns\u200b\u5468\u671f\u200b\uff08\u200b\u5047\u8bbe\u200b1\u200b\u79d2\u200b=10ns\uff09\n\n    initial begin\n        $monitor(\"Time=%0t: EW=[R:%b Y:%b G:%b], NS=[R:%b Y:%b G:%b]\",\n                 $time, ew_red, ew_yellow, ew_green, ns_red, ns_yellow, ns_green);\n        #500 $finish;\n    end\nendmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#163-fifofifo","title":"1.6.3 \u200b\u6df1\u5165\u200b\u7406\u89e3\u200bFIFO\u200b\u7684\u200b\u5e95\u5c42\u200b\u8d44\u6e90\u200b\uff08\u200b\u8bbe\u7f6e\u200bFIFO\u200b\u7684\u200b\u4f4d\u200b\u5bbd\u200b\u548c\u200b\u6df1\u5ea6\u200b\u5373\u200b\u7c7b\u578b\u200b\uff09","text":"<p>\u200b\u5728\u200b Vivado \u200b\u4e2d\u200b\uff0cFIFO IP \u200b\u6838\u200b\u7684\u200b\u5e95\u5c42\u200b\u8d44\u6e90\u200b\u5b9e\u73b0\u200b\u4e0e\u200b FPGA \u200b\u7684\u200b\u7269\u7406\u200b\u67b6\u6784\u200b\u5bc6\u5207\u76f8\u5173\u200b\uff0c\u200b\u4e3b\u8981\u200b\u6d89\u53ca\u200b Block RAM\uff08BRAM\uff09\u3001\u200b\u5206\u5e03\u5f0f\u200b RAM\uff08Distributed RAM\uff09\u3001\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\uff08SRL\uff09\u200b\u4ee5\u53ca\u200b\u903b\u8f91\u200b\u8d44\u6e90\u200b\uff08LUT/FF\uff09\u3002</p> <p>\u200b\u9996\u5148\u200b\uff0cFIFO\u200b\u7684\u200b\u7c7b\u578b\u200b\u53ef\u4ee5\u200b\u5206\u4e3a\u200b\u540c\u6b65\u200bFIFO\u200b\u548c\u200b\u5f02\u6b65\u200bFIFO\u200b\u4e24\u5927\u7c7b\u200b\uff1a</p> <ul> <li>\u200b\u540c\u6b65\u200bFIFO\uff1a\u200b\u8bfb\u5199\u200b\u5171\u4eab\u200b\u540c\u4e00\u4e2a\u200b\u65f6\u949f\u200b\uff0c\u200b\u65e0\u9700\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b</li> <li>\u200b\u5f02\u6b65\u200bFIFO\uff1a\u200b\u8bfb\u5199\u200b\u65f6\u949f\u200b\u72ec\u7acb\u200b\uff0c\u200b\u9664\u4e86\u200b\u5b58\u50a8\u200b\u6570\u636e\u200b\uff0c\u200b\u8fd8\u6709\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u5904\u7406\u200b\u7684\u200b\u7528\u9014\u200b</li> </ul> <p>\u200b\u63a5\u7740\u200b\uff0c\u200b\u6211\u4eec\u200b\u533a\u5206\u200b\u4e00\u4e0b\u200b\u5e38\u200b\u542c\u8bf4\u200b\u7684\u200b\u7684\u200bBRAM\u3001DRAM\u200b\u4ee5\u200b</p> <ul> <li>Block RAM\uff1a\u200b\u5f3a\u5236\u200b\u4f7f\u7528\u200b BRAM\uff0c\u200b\u9002\u5408\u200b\u5927\u5bb9\u91cf\u200b\u6216\u200b\u9ad8\u9891\u7387\u200b\u573a\u666f\u200b\u3002BRAM\u200b\u662f\u200bFPGA\u200b\u6709\u9650\u200b\u7684\u200bBRAM\u200b\u786c\u4ef6\u8d44\u6e90\u200b\uff0c\u200b\u5206\u4e3a\u200b18k\u200b\u548c\u200b32k\uff0c\u200b\u7528\u200b\u4e00\u4e2a\u200b\u5c11\u200b\u4e00\u4e2a\u200b\u3002\u200b\u5728\u200b\u914d\u7f6e\u200bBRAM\u200b\u7684\u200b\u5bbd\u5ea6\u200b\u548c\u200b\u6df1\u5ea6\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u4e00\u822c\u200b\u5efa\u8bae\u200b\u9009\u62e9\u200b\u5c06\u200b\u6570\u636e\u200b\u8865\u96f6\u200b\u540e\u200b\u5360\u200b\u6ee1\u200b\u5f53\u524d\u200b\u8d44\u6e90\u91cf\u200b\u7684\u200b\u6700\u5927\u503c\u200b\uff0c\u200b\u5145\u5206\u5229\u7528\u200bBRAM\u200b\u8d44\u6e90\u200b\u3002</li> </ul> <p>1\u200b\u4e2a\u200b18k\u200b\u7684\u200bBRAM\u200b\u80fd\u200b\u5b58\u50a8\u200b\u591a\u5c11\u200b\u6570\u636e\u200b\u5450\u200b\uff1f</p> <p>1\u200b\u4e2a\u200b18k\u200b\u7684\u200bBRAM\u200b\u603b\u5171\u200b\u80fd\u200b\u5b58\u50a8\u200b18432bit = 9(\u200b\u5bbd\u5ea6\u200b)*2048(\u200b\u6df1\u5ea6\u200b) = 18(\u200b\u5bbd\u5ea6\u200b) * 1024(\u200b\u6df1\u5ea6\u200b) = 32(\u200b\u5bbd\u5ea6\u200b) * 512(\u200b\u6df1\u5ea6\u200b)</p> <p>\u200b\u4e00\u4e2a\u200b32k\u200b\u7684\u200bBRAM\u200b\u80fd\u200b\u5b58\u50a8\u200b\u591a\u5c11\u200b\u6570\u636e\u200b\u5450\u200b</p> <p>\u200b\u793a\u4f8b\u200b\uff1a1024x32 FIFO \u2192 \u200b\u603b\u200b\u5b58\u50a8\u91cf\u200b = 32,768b\uff0c\u200b\u9700\u200b 1 \u200b\u5757\u200b 36K BRAM\uff0836,864b\uff09\uff0c\u200b\u76f8\u5f53\u4e8e\u200b\u4e24\u4e2a\u200b18k\u200b\u7684\u200bBRAM\u200b\u7ea7\u8054\u200b\u5f97\u5230\u200b\u3002</p> <ul> <li>Distributed RAM\uff1a\u200b\u5f3a\u5236\u200b\u4f7f\u7528\u200b LUT\uff0c\u200b\u9002\u5408\u200b\u6d45\u200b FIFO \u200b\u6216\u200b\u4f4e\u200b\u5ef6\u8fdf\u200b\u9700\u6c42\u200b\u3002\u200b\u5b83\u200b\u6d88\u8017\u200b\u7684\u200b\u662f\u200bFPGA\u200b\u7684\u200b\u903b\u8f91\u200b\u8d44\u6e90\u200b\uff0c\u200b\u6240\u4ee5\u200b\u5f53\u200b\u6570\u636e\u91cf\u200b\u5927\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5bf9\u200bFPGA\u200b\u903b\u8f91\u200b\u8d44\u6e90\u200b\u5f88\u200b\u4e0d\u200b\u53cb\u597d\u200b\uff0c\u200b\u6240\u4ee5\u200b\u9002\u5408\u200b\u5b58\u50a8\u200b\u50cf\u200b\u547d\u4ee4\u200b\u4e00\u7c7b\u200b\u7684\u200b\u6570\u636e\u200b</li> </ul>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#164-gmii","title":"1.6.4 GMII\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u5ef6\u8fdf\u200b\u5904\u7406\u200b\u903b\u8f91","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#165-sfdmaccrc","title":"1.6.5 \u200b\u6821\u9a8c\u200b\u903b\u8f91\u200b\u5b9e\u73b0\u200b\uff08\u200b\u524d\u5bfc\u200b\u7801\u200b\u3001SFD\u3001MAC\u200b\u5730\u5740\u200b\u3001crc\u200b\u6570\u636e\u200b\u6821\u9a8c\u200b\u5185\u5bb9\u200b\uff09","text":"<p>mac_receive\u200b\u6a21\u5757\u200b\u4f5c\u4e3a\u200b\u6570\u636e\u200b\u4ece\u200bphy\u200b\u82af\u7247\u200b\u4f20\u5411\u200bFPGA\u200b\u505a\u200b\u7684\u200b\u7b2c\u4e00\u6b21\u200b\u5b9e\u9645\u200b\u5904\u7406\u200b\u7684\u200b\u6a21\u5757\u200b\uff0c\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u4e2d\u200b\u6570\u636e\u5904\u7406\u200b\u7684\u200b\u903b\u8f91\u200b\u6bcb\u5eb8\u7f6e\u7591\u200b\u662f\u200b\u6700\u200b\u91cd\u8981\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u8bb2\u89e3\u200b\u6821\u9a8c\u200b\u903b\u8f91\u200b\u7684\u200b\u5b9e\u73b0\u200b\uff0c\u200b\u53ea\u6709\u200b\u5f53\u200b\u6240\u6709\u200b\u7684\u200b\u6821\u9a8c\u200b\u901a\u8fc7\u200b\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u6570\u636e\u200b\u624d\u200b\u4f1a\u200b\u4f5c\u4e3a\u200b\u4e00\u4e2a\u200b\u771f\u6b63\u200b\u6709\u6548\u200b\u7684\u200b\u6570\u636e\u200b\u5411\u4e0b\u200b\u4f20\u9012\u200b\uff0c\u200b\u5426\u5219\u200b\u5219\u200b\u4f1a\u200b\u5224\u5b9a\u200b\u4e3a\u200b\u975e\u6cd5\u200b\u5e27\u200b\u800c\u200b\u88ab\u200b\u8fc7\u6ee4\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u518d\u6b21\u200b\u56de\u5fc6\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u200b\u5230\u5e95\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4ec0\u4e48\u6837\u200b\u7684\u200b\u7ed3\u6784\u200b\u7ec4\u6210\u200b\uff0c\u200b\u6211\u200b\u7ed9\u200b\u5927\u5bb6\u200b\u7ed8\u5236\u200b\u4e86\u200b\u4e00\u5f20\u200b\u56fe\u50cf\u200b\uff0c\u200b\u4e00\u76ee\u4e86\u7136\u200b\uff1a</p> <p></p> <p>1.\u200b\u524d\u5bfc\u200b\u7801\u200b\u548c\u200b\u5e27\u200b\u5f00\u59cb\u200b\u7b26\u662f\u200b\u56fa\u5b9a\u200b\u7684\u200b\uff0c\u200b\u4e3a\u200b7\u200b\u4e2a\u200b0x55\u200b\u7d27\u8ddf\u7740\u200b1\u200b\u4e2a\u200b0xd5 2.\u200b\u76ee\u7684\u200bMAC\u200b\u5730\u5740\u200b\u6307\u660e\u200b\u5e27\u200b\u7684\u200b\u63a5\u53d7\u8005\u200b 3.\u200b\u6e90\u200bMAC\u200b\u5730\u5740\u200b\u6307\u660e\u200b\u5e27\u200b\u7684\u200b\u53d1\u9001\u8005\u200b 4.\u200b\u4ee5\u592a\u7f51\u200b\u7c7b\u578b\u200b\uff0c\u200b\u6307\u793a\u200b\u5e27\u200b\u7684\u200b\u7c7b\u578b\u200b\uff0c\u200b\u6bd4\u5982\u200b0x0800\u200b\u8868\u793a\u200b\u8be5\u200b\u5e27\u200b\u662f\u200bIP\u200b\u6570\u636e\u5305\u200b\uff0c0x0806\u200b\u8868\u793a\u200b\u8be5\u200b\u5e27\u200b\u662f\u200bARP\u200b\u534f\u8bae\u200b\u6570\u636e\u5305\u200b 5.\u200b\u6570\u636e\u200b\u548c\u200b\u586b\u5145\u200b\u5c31\u662f\u200b\u6240\u200b\u627f\u8f7d\u200b\u7684\u200b\u6570\u636e\u5305\u200b\uff0c\u200b\u8ddf\u200b\u524d\u9762\u200b\u4ee5\u592a\u7f51\u200b\u7c7b\u578b\u200b\u5bf9\u5e94\u200b\u3002 6.\u200b\u5e27\u200b\u6821\u9a8c\u200b\u5e8f\u5217\u200b\u662f\u200b\u4e00\u4e2a\u200b32\u200b\u4f4d\u200b\u7684\u200b\u5faa\u73af\u200b\u6821\u9a8c\u7801\u200b\uff08FCS\uff09\u3002 \u3000\u3000\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u8bbe\u5907\u200b\u90fd\u200b\u6709\u200b\u4e00\u4e2a\u200b\u4e0d\u540c\u200b\u7684\u200bMAC\u200b\u5730\u5740\u200b\uff0c\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u8bbe\u5907\u200bA\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\uff0c\u200b\u6e90\u200bMAC\u200b\u5730\u5740\u200b\u662f\u200b\u81ea\u5df1\u200b\u7684\u200bMAC\u200b\u5730\u5740\u200b\uff0c\u200b\u76ee\u7684\u200bMAC\u200b\u5730\u5740\u200b\u5982\u679c\u200b\u662f\u200b0xffffff\uff0c\u200b\u6b64\u65f6\u200b\u5c31\u662f\u200b\u5e7f\u64ad\u200b\uff0c\u200b\u6240\u6709\u200b\u4e0e\u200b\u4e4b\u200b\u8fde\u63a5\u200b\u7684\u200b\u8bbe\u5907\u200b\u90fd\u200b\u4f1a\u200b\u6536\u5230\u200b\u8be5\u200b\u5e27\u200b\uff0c\u200b\u5982\u679c\u200b\u76ee\u7684\u200bMAC\u200b\u5730\u5740\u200b\u662f\u200b\u4e00\u4e2a\u200b\u72ec\u7279\u200b\u7684\u200bMAC\u200b\u5730\u5740\u200b\uff0c\u200b\u90a3\u4e48\u200b\u672c\u5730\u200bMAC\u200b\u5730\u5740\u200b\u4e0e\u200b\u4e4b\u200b\u76f8\u540c\u200b\u7684\u200b\u8bbe\u5907\u200b\u5c06\u4f1a\u200b\u63a5\u6536\u200b\u5230\u200b\u8be5\u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\uff0c\u200b\u7136\u540e\u200b\u901a\u8fc7\u200b\u5224\u65ad\u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\u7c7b\u578b\u200b\uff0c\u200b\u8fdb\u884c\u200b\u4e0b\u200b\u4e00\u6b65\u200b\u6570\u636e\u5305\u200b\u89e3\u6790\u200b\u3002 \u200b\u90a3\u4e48\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u6765\u200b\u8be6\u7ec6\u200b\u8bf4\u660e\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u6821\u9a8c\u200b\u903b\u8f91\u200b\uff08\u200b\u5173\u4e8e\u200bCRC\u200b\u6821\u9a8c\u200b\u903b\u8f91\u200b\uff0c\u200b\u8bf7\u200b\u53c2\u8003\u200b\u4e0b\u9762\u200b\u7684\u200b\u5185\u5bb9\u200b\u5355\u72ec\u200b\u8bb2\u200b\uff09</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#166-mac","title":"1.6.6 \u200b\u4ee5\u592a\u7f51\u200b\u6570\u636e\u200b\u5e27\u200b\u5206\u79bb\u200b\uff08\u200b\u5265\u79bb\u200b\u6709\u6548\u200b\u6570\u636e\u200b\u548c\u200bmac\u200b\u5305\u5934\u200b)","text":"<p>\u200b\u5265\u79bb\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u4ee5\u592a\u7f51\u200b\u5934\u90e8\u200b\uff0c\u200b\u5305\u62ec\u200b\u524d\u5bfc\u200b\u7801\u200b(7Byte)\u3001SFD(1Byte)\u3001\u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b(6Byte)\u3001\u200b\u6e90\u200bMAC\u200b\u5730\u5740\u200b(6Byte)\u3001Type\u200b\u548c\u200bLength(2Byte)\u3002</p> <p>\u200b\u901a\u8fc7\u200b\u4f7f\u7528\u200b\u5b57\u8282\u200b\u8ba1\u6570\u5668\u200b\u8fdb\u884c\u200b\u5265\u79bb\u200b\u6570\u636e\u200b\uff0c\u200b\u4e0b\u9762\u200b\u662f\u200b\u8be6\u7ec6\u200b\u7684\u200b\u4ee3\u7801\u200b\u903b\u8f91\u6587\u4ef6\u200b</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#167-mac","title":"1.6.7 MAC\u200b\u5c42\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-10 22:03:40\n * @LastEditTime: 2025-02-17 07:09:17\n * @FilePath: \\rtl\\mac_receive.v\n * @Description: \u200b\u4ee5\u592a\u7f51\u200bMAC\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\uff0c\u200b\u8d1f\u8d23\u200b\u5904\u7406\u200bGMII\u200b\u63a5\u53e3\u200b\u6570\u636e\u200b\uff0c\u200b\u8fdb\u884c\u200bCRC\u200b\u6821\u9a8c\u200b\uff0c\u200b\u5206\u79bb\u200bMAC\u200b\u5934\u200b\u548c\u200b\u6709\u6548\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u4f20\u8f93\u200b\uff1a\n                1. \u200b\u63a5\u6536\u200bGMII\u200b\u6570\u636e\u6d41\u200b\uff0c\u200b\u89e3\u6790\u200b\u524d\u5bfc\u200b\u7801\u200b\u3001\u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\u3001\u200b\u5e27\u200b\u7c7b\u578b\u200b\n                2. CRC\u200b\u6821\u9a8c\u200b\uff08\u200b\u53ef\u200b\u9009\u200b\uff0c\u200b\u8bbe\u7f6e\u200bCRC_CHECK_EN\u200b\u4e3a\u200b\u9ad8\u65f6\u200b\u5f00\u542f\u200bcrc\u200b\u6821\u9a8c\u200b\uff09\n                3. \u200b\u4f7f\u7528\u200b\u53cc\u200b\u65f6\u949f\u200bFIFO\u200b\u5b9e\u73b0\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u4f20\u8f93\u200b\n                4. \u200b\u8f93\u51fa\u200b\u6709\u6548\u200b\u6570\u636e\u200b\u3001\u200b\u5e27\u200b\u7c7b\u578b\u200b\u548c\u6821\u9a8c\u200b\u7ed3\u679c\u200b\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved. \n * ****************************************************************************************\n */\n// \u200b\u7a0b\u5e8f\u200b\u5b58\u5728\u200b\u95ee\u9898\u200b\uff0c\u200b\u5728\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u65f6\u200b\uff0ccrc\u200b\u7aef\u53e3\u200b\u6ca1\u6709\u200b\u88ab\u200b\u5b9e\u9645\u200b\u8fde\u63a5\u200b\u5728\u200bcrc32_d8\u200b\u6a21\u5757\u200b\u4e2d\u200b,\u200b\u5728\u200b\u6b64\u200b\u7aef\u53e3\u200b\u4e2d\u200bcrc32_d8\u200b\u7684\u200b\u4ea4\u4e92\u200b\u4fe1\u53f7\u200b\u65b9\u5411\u200b\u5b58\u5728\u200b\u7591\u60d1\u200b\n\nmodule mac_receive#(\n    parameter LOCAL_MAC_ADDR    = 48'hffffffffffff, // \u200b\u672c\u5730\u200bMAC\u200b\u5730\u5740\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5339\u914d\u200b\u63a5\u6536\u200b\u7684\u200bMAC\u200b\u5730\u5740\u200b\n    parameter CRC_CHECK_EN      = 1'b1              // CRC\u200b\u6821\u9a8c\u200b\u4f7f\u80fd\u200b\uff0c1\u200b\u4e3a\u200b\u542f\u7528\u200b\uff0c0\u200b\u4e3a\u200b\u7981\u7528\u200b\n)(\n    input               sys_clk             , // \u200b\u7cfb\u7edf\u200b\u63a5\u6536\u200b\u65f6\u949f\u200b\n    input               phy_rx_clk          , // phy\u200b\u82af\u7247\u200b\u63a5\u6536\u7aef\u200b\u65f6\u949f\u200b\n    input               phy_rx_reset        , // phy\u200b\u82af\u7247\u200b\u63a5\u6536\u7aef\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n    input               sys_reset_n         , // \u200b\u7cfb\u7edf\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n\n    /*-------\u200b\u4e0e\u200brgmii_recieve\u200b\u6a21\u5757\u200b\u4ea4\u4e92\u200b\u4fe1\u53f7\u200b--------*/\n    input               gmii_rx_data_vld    , // GMII\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    input [7:0]         gmii_rx_data        , // GMII\u200b\u63a5\u6536\u6570\u636e\u200b\n\n    /*-------\u200b\u4e0e\u200bmac_to_arp_ip\u200b\u6a21\u5757\u200b\u7684\u200b\u4ea4\u4e92\u200b\u4fe1\u53f7\u200b--------*/\n    output reg          mac_rx_data_vld     , // \u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\u6709\u6548\u200b\n    output reg          mac_rx_data_last    , // \u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\n    output reg [7:0]    mac_rx_data         , // \u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\u5185\u5bb9\u200b\n    output reg [15:0]   mac_rx_frame_type   , // \u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\u7c7b\u578b\u200b\u5b57\u200b\u6bb5\u200b\n\n    /*-------\u200b\u4e0e\u200brx_crc32_d8\u200b\u6a21\u5757\u200b\u4ea4\u4e92\u200b\u4fe1\u53f7\u200b--------*/\n    output reg          rx_crc_din_vld      , // CRC\u200b\u8ba1\u7b97\u200b\u6570\u636e\u200b\u6709\u6548\u200b\n    output reg [7:0]    rx_crc_din          , // CRC\u200b\u8ba1\u7b97\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\n    output reg          rx_crc_done         , // CRC\u200b\u8ba1\u7b97\u200b\u5b8c\u6210\u200b\u4fe1\u53f7\u200b\n    input [31:0]        rx_crc_dout           // CRC\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u8f93\u5165\u200b\n\n);\n/*--------------------------------------------------*\\\n                       \u200b\u72b6\u6001\u673a\u200b\u4fe1\u53f7\u200b\u5b9a\u4e49\u200b\n\\*--------------------------------------------------*/\nreg [2:0] cur_status            ; // \u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\nreg [2:0] nxt_status            ; // \u200b\u4e0b\u200b\u4e00\u200b\u72b6\u6001\u200b\nlocalparam RX_IDLE = 3'b000     ; // \u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b\uff1a\u200b\u7b49\u5f85\u200b\u5e27\u200b\u5f00\u59cb\u200b\nlocalparam RX_PRE = 3'b001      ; // \u200b\u524d\u5bfc\u200b\u7801\u200b\u5904\u7406\u200b\uff1a\u200b\u8bfb\u53d6\u200b\u5e27\u200b\u4fe1\u606f\u200b\nlocalparam RX_DATA = 3'b010     ; // \u200b\u6570\u636e\u4f20\u8f93\u200b\uff1a\u200b\u8f93\u51fa\u200b\u6709\u6548\u200b\u6570\u636e\u200b\nlocalparam RX_END = 3'b100      ; // \u200b\u7ed3\u675f\u200b\u72b6\u6001\u200b\uff1a\u200b\u5b8c\u6210\u200b\u4ee5\u592a\u7f51\u200b\u6570\u636e\u200b\u5e27\u200b\u5904\u7406\u200b\n\n/*--------------------------------------------------*\\\n                       \u200b\u63a5\u6536\u200bMAC\u200b\u4fe1\u53f7\u200b\n\\*--------------------------------------------------*/\nreg [15:0]  rx_frame_type       ; // \u200b\u5e27\u200b\u7c7b\u578b\u200b\u5b57\u200b\u6bb5\u200b\uff082\u200b\u5b57\u8282\u200b\uff09\nreg [47:0]  rx_target_mac       ; // \u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\uff086\u200b\u5b57\u8282\u200b\uff09\nreg [10:0]  rx_cnt              ; // \u200b\u63a5\u6536\u200b\u8ba1\u6570\u5668\u200b\uff1a\u200b\u7edf\u8ba1\u200b\u6709\u6548\u200b\u6570\u636e\u200b\u5b57\u8282\u6570\u200b\nreg [55:0]  rx_preamble         ; // \u200b\u5b58\u50a8\u200b\u524d\u5bfc\u200b\u7801\u200b\uff087\u200b\u5b57\u8282\u200b\uff09\nreg         rx_preamble_chack   ; // \u200b\u524d\u5bfc\u200b\u7801\u200b\u6821\u9a8c\u200b\u7ed3\u679c\u200b\uff0c\u200b\u6b63\u786e\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u5e94\u4e3a\u200b7byte\u200b\u7684\u200b0x55\uff08\u200b\u56fa\u5b9a\u503c\u200b\uff0c\u200b\u53c2\u8003\u200b\u6211\u4eec\u200b\u7684\u200b\u6587\u6863\u200b\uff09\nreg         rx_sfd_chack        ; // SFD\u200b\u6821\u9a8c\u200b\u7ed3\u679c\u200b\uff08\u200b\u7b2c\u200b7\u200b\u5b57\u8282\u200b\u4e3a\u200b0xD5\uff09\u200b\u6b63\u786e\u200b\u60c5\u51b5\u200b\u4e0b\u200b\u5e94\u4e3a\u200b1byte\u200b\u7684\u200b0xd5\uff08\u200b\u56fa\u5b9a\u503c\u200b\uff0c\u200b\u53c2\u8003\u200b\u6211\u4eec\u200b\u7684\u200b\u6587\u6863\u200b\nreg         rx_target_mac_chack ; // \u200b\u76ee\u6807\u200bMAC\u200b\u6821\u9a8c\u200b\uff08\u200b\u672c\u5730\u200bMAC\u200b\u6216\u200b\u5e7f\u64ad\u200b\u5730\u5740\u200b\uff09\nreg         frame_fifo_crc      ; \nreg         rx_crc_chack        ; // CRC\u200b\u6821\u9a8c\u200b\u7ed3\u679c\u200b\nreg         rx_wr_vld           ;\n\n/*--------------------------------------------------*\\\n                       \u200b\u6253\u200b\u62cd\u200b\u4fe1\u53f7\u200b\uff1a\u200b\u7528\u4e8e\u200b\u65f6\u5e8f\u200b\u5bf9\u9f50\u200b\n\\*--------------------------------------------------*/\nreg         gmii_rx_data_vld_d0     ;\nreg         gmii_rx_data_vld_d1     ;\nreg         gmii_rx_data_vld_d2     ;\nreg         gmii_rx_data_vld_d3     ;\nreg         gmii_rx_data_vld_d4     ;\nreg [7:0]   gmii_rx_data_d0         ;\nreg [7:0]   gmii_rx_data_d1         ;\nreg [7:0]   gmii_rx_data_d2         ;\nreg [7:0]   gmii_rx_data_d3         ;\nreg [7:0]   gmii_rx_data_d4         ;\n\nwire        rx_data_last            ;\nreg         rx_data_last_d0         ;\nreg         rx_data_last_d1         ;\nreg         rx_data_last_d2         ;\nreg         rx_data_last_d3         ;\nreg         rx_data_last_d4         ;\nreg         rx_data_last_d5         ;\nreg         rx_data_last_d6         ;\n\n/*--------------------------------------------------*\\\n                       FIFO\u200b\u7aef\u53e3\u200b\u4fe1\u53f7\u200b\n\\*--------------------------------------------------*/\n// \u200b\u5e27\u200b\u4fe1\u606f\u200bFIFO\uff1a\u200b\u5b58\u50a8\u200b\u5e27\u200b\u7c7b\u578b\u200b\u548c\u200bCRC\u200b\u6821\u9a8c\u200b\u7ed3\u679c\u200b\nreg [16:0]  frame_din              ; // \u200b\u5e27\u200bFIFO\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\nreg         frame_wren             ; // \u200b\u5e27\u200bFIFO\u200b\u5199\u200b\u4f7f\u200b\u80fd\u200b\nwire [16:0] frame_dout             ; // \u200b\u5e27\u200bFIFO\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\nreg         frame_rden             ; // \u200b\u5e27\u200bFIFO\u200b\u8bfb\u4f7f\u200b\u80fd\u200b\nwire        frame_wrfull           ; // \u200b\u5e27\u200bFIFO\u200b\u5199\u6ee1\u200b\u6807\u5fd7\u200b\nwire        frame_rdempty          ; // \u200b\u5e27\u200bFIFO\u200b\u8bfb\u7a7a\u200b\u6807\u5fd7\u200b\nwire [3:0]  frame_wrcount          ; // \u200b\u5e27\u200bFIFO\u200b\u5199\u200b\u8ba1\u6570\u200b\nwire [3:0]  frame_rdcount          ; // \u200b\u5e27\u200bFIFO\u200b\u8bfb\u200b\u8ba1\u6570\u200b\n\n// \u200b\u6570\u636e\u200bFIFO\uff1a\u200b\u5b58\u50a8\u200b\u6709\u6548\u8f7d\u8377\u200b\u6570\u636e\u200b\u548c\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\nreg [8:0]   data_din               ; // \u200b\u6570\u636e\u200bFIFO\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\nreg         data_wren              ; // \u200b\u6570\u636e\u200bFIFO\u200b\u5199\u200b\u4f7f\u200b\u80fd\u200b\nwire [8:0]  data_dout              ; // \u200b\u6570\u636e\u200bFIFO\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\nreg         data_rden              ; // \u200b\u6570\u636e\u200bFIFO\u200b\u8bfb\u4f7f\u200b\u80fd\u200b\nwire        data_wrfull            ; // \u200b\u6570\u636e\u200bFIFO\u200b\u5199\u6ee1\u200b\u6807\u5fd7\u200b\nwire        data_rdempty           ; // \u200b\u6570\u636e\u200bFIFO\u200b\u8bfb\u7a7a\u200b\u6807\u5fd7\u200b\nwire [11:0] data_wrcount           ; // \u200b\u6570\u636e\u200bFIFO\u200b\u5199\u200b\u8ba1\u6570\u200b\nwire [11:0] data_rdcount           ; // \u200b\u6570\u636e\u200bFIFO\u200b\u8bfb\u200b\u8ba1\u6570\u200b\n\n\n//\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u68c0\u6d4b\u200b\uff1a\u200b\u5229\u7528\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u7684\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u68c0\u6d4b\u200b\nassign rx_data_last = ~gmii_rx_data_vld &amp; gmii_rx_data_vld_d0;\n\n\n// GMII\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u5ef6\u8fdf\u200b\u5904\u7406\u200b\uff085\u200b\u7ea7\u200b\u5ef6\u8fdf\u200b\u7528\u4e8e\u200b\u65f6\u5e8f\u200b\u5bf9\u9f50\u200b\uff09\nalways @(posedge phy_rx_clk) begin\n    gmii_rx_data_vld_d0 &lt;= gmii_rx_data_vld;\n    gmii_rx_data_vld_d1 &lt;= gmii_rx_data_vld_d0;\n    gmii_rx_data_vld_d2 &lt;= gmii_rx_data_vld_d1;\n    gmii_rx_data_vld_d3 &lt;= gmii_rx_data_vld_d2;\n    gmii_rx_data_vld_d4 &lt;= gmii_rx_data_vld_d3;\n\n    gmii_rx_data_d0     &lt;= gmii_rx_data;\n    gmii_rx_data_d1     &lt;= gmii_rx_data_d0;\n    gmii_rx_data_d2     &lt;= gmii_rx_data_d1;\n    gmii_rx_data_d3     &lt;= gmii_rx_data_d2; \n    gmii_rx_data_d4     &lt;= gmii_rx_data_d3; \n\n    rx_data_last_d0     &lt;= rx_data_last;\n    rx_data_last_d1     &lt;= rx_data_last_d0;\n    rx_data_last_d2     &lt;= rx_data_last_d1;\n    rx_data_last_d3     &lt;= rx_data_last_d2;\n    rx_data_last_d4     &lt;= rx_data_last_d3; \n    rx_data_last_d5     &lt;= rx_data_last_d4;     \n    rx_data_last_d6     &lt;= rx_data_last_d5; \nend\n\n/*--------------------------------------------------*\\\n            rx_cnt:\u200b\u63a5\u6536\u200b\u8ba1\u6570\u5668\u200b,\u200b\u7edf\u8ba1\u200b\u6709\u6548\u200b\u6570\u636e\u200b\u5b57\u8282\u6570\u200b\n\\*--------------------------------------------------*/\n// \u200b\u5728\u200bphy_rx_clk\u200b\u65f6\u949f\u200b\u4e0b\u200b\u8fdb\u884c\u200b\u8ba1\u6570\u200b\uff0c\nalways @(posedge phy_rx_clk) begin\n    if (phy_rx_reset) \n        rx_cnt &lt;= 0;\n    else if (gmii_rx_data_vld_d4) //\u200b\u6253\u200b5\u200b\u62cd\u200b\u8ba1\u6570\u200b\n        rx_cnt &lt;= rx_cnt + 1;\n    else \n        rx_cnt &lt;= 0;\nend\n\n\n/*--------------------------------------------------*\\\n    \u200b\u6821\u9a8c\u200bpreamble\u3001sfd\u3001mac addr\n\\*--------------------------------------------------*/\n// \u200b\u6240\u6709\u200b\u6821\u9a8c\u200b\u901a\u8fc7\u200b\u540e\u200b\uff0c\u200b\u6570\u636e\u200b\u624d\u200b\u4f1a\u200b\u88ab\u200b\u540e\u7eed\u200b\u6a21\u5757\u200b\u5904\u7406\u200b\uff0c\u200b\u786e\u4fdd\u200b\u975e\u6cd5\u200b\u5e27\u200b\u88ab\u200b\u8fc7\u6ee4\u200b  \n// \u200b\u524d\u5bfc\u200b\u7801\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u5b9e\u73b0\u200b\nalways @(posedge phy_rx_clk) begin\n    if (gmii_rx_data_vld_d4 &amp;&amp; rx_cnt &lt; 7) // rx_cnt &lt; 7 \u200b\u5bf9\u5e94\u200b\u4ee5\u592a\u7f51\u200b\u524d\u5bfc\u200b\u7801\u200b\u7684\u200b 7 \u200b\u4e2a\u200b 0x55\n        rx_preamble &lt;= {rx_preamble[47:0], gmii_rx_data_d4}; // \u200b\u5de6\u79fb\u200b\u62fc\u63a5\u200b\u65b0\u200b\u5b57\u8282\u200b\n    else \n        rx_preamble &lt;= rx_preamble; // \u200b\u4fdd\u6301\u200b\u5f53\u524d\u200b\u503c\u200b\nend\n// \u200b\u524d\u5bfc\u200b\u7801\u200b\u6821\u9a8c\u200b\u903b\u8f91\u200b\nalways @(posedge phy_rx_clk) begin\n    if (rx_preamble == 56'h5555_5555_5555_55) \n        rx_preamble_chack &lt;= 1'b1; // \u200b\u524d\u5bfc\u200b\u7801\u200b\u6b63\u786e\u200b\n    else \n        rx_preamble_chack &lt;= 1'b0; // \u200b\u524d\u5bfc\u200b\u7801\u200b\u9519\u8bef\u200b\nend\n\n// SFD\u200b\u6821\u9a8c\u200b\u903b\u8f91\u200b\n// rx_cnt == 7 \u200b\u8868\u793a\u200b\u7b2c\u200b 8 \u200b\u4e2a\u200b\u6709\u6548\u200b\u6570\u636e\u200b\u5b57\u8282\u200b\uff08\u200b\u524d\u5bfc\u200b\u7801\u200b\u5360\u200b 7 \u200b\u5b57\u8282\u200b\uff0cSFD \u200b\u662f\u200b\u7b2c\u200b 8 \u200b\u5b57\u8282\u200b\uff09\nalways @(posedge phy_rx_clk) begin\n    if (rx_cnt == 7 &amp;&amp; gmii_rx_data_d4 == 8'hd5) \n        rx_sfd_chack &lt;= 1'b1; // SFD\u200b\u6b63\u786e\u200b\n    else \n        rx_sfd_chack &lt;= 1'b0; // SFD\u200b\u9519\u8bef\u200b\nend\n\n\n// \u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u5b9e\u73b0\u200b\n// rx_cnt &gt; 7 &amp;&amp; rx_cnt &lt; 14 \u200b\u8868\u793a\u200b\u7b2c\u200b 9-14 \u200b\u5b57\u8282\u200b\uff08SFD \u200b\u540e\u200b\u7d27\u8ddf\u200b 6 \u200b\u5b57\u8282\u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\uff09\nalways @(posedge phy_rx_clk) begin\n    if (gmii_rx_data_vld_d4 &amp;&amp; rx_cnt &gt; 7 &amp;&amp; rx_cnt &lt; 14) \n        rx_target_mac &lt;= {rx_target_mac[39:0], gmii_rx_data_d4}; // \u200b\u53f3\u79fb\u200b\u62fc\u63a5\u200b\u65b0\u200b\u5b57\u8282\u200b\n    else \n        rx_target_mac &lt;= rx_target_mac; // \u200b\u4fdd\u6301\u200b\u5f53\u524d\u200b\u503c\u200b\nend\n\n// \u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\u6821\u9a8c\u200b\u903b\u8f91\u200b\nalways @(posedge phy_rx_clk) begin\n    if (rx_target_mac == LOCAL_MAC_ADDR || rx_target_mac == 48'hffffffffffff) \n        rx_target_mac_chack &lt;= 1'b1; // \u200b\u5339\u914d\u200b\u672c\u5730\u200bMAC\u200b\u6216\u200b\u5e7f\u64ad\u200b\u5730\u5740\u200b\n    else \n        rx_target_mac_chack &lt;= 1'b0; // \u200b\u4e0d\u200b\u5339\u914d\u200b\nend\n/*--------------------------------------------------*\\\n                       CRC\u200b\u6821\u9a8c\u200b\u6a21\u5757\u200b\n\\*--------------------------------------------------*/\n// \u200b\u63d0\u53d6\u200b\u6570\u503c\u200b\u540e\u200b\u4f20\u9012\u200b\u7ed9\u200bcrc32_d8\u200b\u6a21\u5757\u200b\uff0c\ngenerate\n    if (CRC_CHECK_EN == 0) begin\n        // \u200b\u7981\u7528\u200bCRC\u200b\u6821\u9a8c\u200b\u65f6\u200b\uff0c\u200b\u76f4\u63a5\u200b\u6807\u8bb0\u200b\u4e3a\u200b\u901a\u8fc7\u200b\n        always @(posedge phy_rx_clk) begin\n            rx_crc_chack &lt;= 1'b1; // \u200b\u5f3a\u5236\u200b\u901a\u8fc7\u200b\n        end\n    end else if (CRC_CHECK_EN == 1) begin\n        reg         crc_en;     // CRC\u200b\u8ba1\u7b97\u200b\u4f7f\u80fd\u200b\n        reg [31:0]  rc_crc;     // \u200b\u63a5\u6536\u7aef\u200b\u63d0\u53d6\u200b\u7684\u200bCRC\u200b\u503c\u200b\n\n        // CRC\u200b\u8ba1\u7b97\u200b\u4f7f\u80fd\u200b\u63a7\u5236\u200b\n        always @(posedge phy_rx_clk) begin\n            if (rx_cnt == 7)         // \u200b\u7b2c\u200b8\u200b\u5b57\u8282\u200b\uff08\u200b\u76ee\u6807\u200bMAC\u200b\u5f00\u59cb\u200b\uff09\n                crc_en &lt;= 1;         // \u200b\u542f\u52a8\u200bCRC\u200b\u8ba1\u7b97\u200b\n            else if (rx_data_last)   // \u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u65f6\u200b\n                crc_en &lt;= 0;         // \u200b\u505c\u6b62\u200b\u8ba1\u7b97\u200b\n        end\n\n        // \u200b\u8fde\u63a5\u200bCRC\u200b\u6a21\u5757\u200b\u7684\u200b\u63a5\u53e3\u200b\n        always @(posedge phy_rx_clk) begin\n            rx_crc_din_vld &lt;= crc_en;       // \u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n            rx_crc_din     &lt;= gmii_rx_data_d4; // \u200b\u8f93\u5165\u200b\u6570\u636e\u200b\uff08\u200b\u5bf9\u9f50\u200b\u540e\u200b\uff09\n            rx_crc_done    &lt;= rx_data_last_d6; // \u200b\u8ba1\u7b97\u200b\u5b8c\u6210\u200b\u4fe1\u53f7\u200b\uff08\u200b\u5ef6\u8fdf\u200b6\u200b\u5468\u671f\u200b\uff09\n        end\n\n        // \u200b\u63a5\u6536\u7aef\u200bCRC\u200b\u63d0\u53d6\u200b\uff08\u200b\u4ece\u200b\u6570\u636e\u200b\u5c3e\u90e8\u200b\uff09\n        always @(posedge phy_rx_clk) begin\n            // \u200b\u5728\u200b\u6700\u540e\u200b4\u200b\u4e2a\u200b\u5468\u671f\u200b\uff08rx_data_last_d0~d3\uff09\u200b\u63d0\u53d6\u200bCRC\u200b\u503c\u200b\n            if (rx_data_last_d0 || rx_data_last_d1 || rx_data_last_d2 || rx_data_last_d3) \n                rc_crc &lt;= {gmii_rx_data_d4, rc_crc[31:8]}; // \u200b\u5c0f\u7aef\u200b\u8f6c\u6362\u200b\n        end\n\n        // CRC\u200b\u6821\u9a8c\u200b\u7ed3\u679c\u200b\u6bd4\u8f83\u200b\n        always @(posedge phy_rx_clk) begin\n            if (rx_data_last_d5) // \u200b\u5ef6\u8fdf\u200b\u5230\u200bCRC\u200b\u8ba1\u7b97\u200b\u5b8c\u6210\u200b\n                rx_crc_chack &lt;= (rc_crc == rx_crc_dout); // \u200b\u6821\u9a8c\u200b\u7ed3\u679c\u200b\n        end\n    end\nendgenerate\n\n/*--------------------------------------------------*\\\n                       \u200b\u6570\u636e\u200b\u5199\u5165\u200bFIFO\n\\*--------------------------------------------------*/\n// \u200b\u5e27\u200b\u7c7b\u578b\u200b\u63d0\u53d6\u200b\uff08\u200b\u7b2c\u200b21-22\u200b\u5b57\u8282\u200b\uff09\nalways @(posedge phy_rx_clk) begin\n    if (gmii_rx_data_vld_d4 &amp;&amp; rx_cnt &gt; 19 &amp;&amp; rx_cnt &lt; 22) \n        rx_frame_type &lt;= {rx_frame_type[7:0], gmii_rx_data_d4}; // \u200b\u62fc\u63a5\u200b\u4e3a\u200b16\u200b\u4f4d\u200b\n    end\n\n\n// \u200b\u5e27\u200b\u4fe1\u606f\u200b\u5199\u5165\u200bframe_fifo\uff08CRC\u200b\u7ed3\u679c\u200b + \u200b\u5e27\u200b\u7c7b\u578b\u200b\uff09\nalways @(posedge phy_rx_clk) begin\n    if (rx_data_last_d6 &amp;&amp; rx_preamble_chack &amp;&amp; rx_sfd_chack &amp;&amp; rx_target_mac_chack) begin\n        frame_din  &lt;= {rx_crc_chack, rx_frame_type}; // [16:0] = {1bit CRC, 16bit Type}\n        frame_wren &lt;= 1'b1;\n    end\n    else begin\n        frame_din  &lt;= frame_din;\n        frame_wren &lt;= 1'b0;\n    end \nend\n\n// \u200b\u6709\u6548\u200b\u6570\u636e\u200b\u5199\u5165\u200bdata_fifo\uff08\u200b\u6570\u636e\u200b + \u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\uff09\nalways @(posedge phy_rx_clk) begin\n    if (rx_preamble_chack &amp;&amp; rx_sfd_chack &amp;&amp; rx_target_mac_chack &amp;&amp; gmii_rx_data_vld_d4 &amp;&amp; rx_cnt == 21) \n       rx_wr_vld &lt;= 1'b1; \n    else if (rx_data_last) \n       rx_wr_vld &lt;= 1'b0;  \nend\n\nalways @(posedge phy_rx_clk) begin\n    data_wren &lt;= rx_wr_vld;\n    data_din  &lt;= {rx_data_last,gmii_rx_data_d4}; // [8:0] = {1bit Last, 8bit Data}\nend\n/*--------------------------------------------------*\\\n                       \u200b\u72b6\u6001\u673a\u200b\u63a7\u5236\u200b\n\\*--------------------------------------------------*/\n// \u200b\u65f6\u5e8f\u200b\u903b\u8f91\u200b\uff1a\u200b\u72b6\u6001\u673a\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\u5bc4\u5b58\u5668\u200b\nalways @(posedge sys_clk or negedge sys_reset_n) begin\n    if (!sys_reset_n) begin\n        cur_status &lt;= RX_IDLE; // \u200b\u5f02\u6b65\u200b\u590d\u4f4d\u200b\uff0c\u200b\u72b6\u6001\u673a\u200b\u56de\u590d\u200b\u5230\u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b\n    end else begin\n        cur_status &lt;= nxt_status; // \u200b\u540c\u6b65\u200b\u66f4\u65b0\u200b\u5230\u200b\u4e0b\u200b\u4e00\u200b\u72b6\u6001\u200b\n    end\nend\n\n// \u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\uff1a\u200b\u8ba1\u7b97\u200b\u4e0b\u200b\u4e00\u200b\u72b6\u6001\u200b\nalways @(*) begin\n    // \u200b\u9ed8\u8ba4\u200b\u4e0b\u200b\u4e00\u200b\u72b6\u6001\u200b\u4fdd\u6301\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\n    nxt_status = cur_status; \n\n    // \u200b\u5728\u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\u4e2d\u200b\u5904\u7406\u200b\u4e0b\u200b\u4e00\u200b\u72b6\u6001\u200b\u8f6c\u6362\u200b\n    case (cur_status)\n        RX_IDLE: begin\n            if (~frame_rdempty) begin\n                nxt_status = RX_PRE; // \u200b\u5982\u679c\u200b\u5e27\u200bFIFO\u200b\u4e0d\u4e3a\u200b\u7a7a\u200b\uff0c\u200b\u8fdb\u5165\u200b\u524d\u5bfc\u200b\u7801\u200b\u72b6\u6001\u200b\n            end\n        end\n        RX_PRE: begin\n            nxt_status = RX_DATA; // \u200b\u524d\u5bfc\u200b\u7801\u200b\u72b6\u6001\u200b\u540e\u200b\u8fdb\u5165\u200b\u6570\u636e\u200b\u72b6\u6001\u200b\n        end\n        RX_DATA: begin\n            if (data_rden &amp;&amp; data_dout[8]) begin\n                nxt_status = RX_END; // \u200b\u6570\u636e\u200b\u8bfb\u53d6\u200b\u5b8c\u6210\u200b\u4e14\u200b\u9047\u5230\u200b\u5305\u5c3e\u65f6\u200b\uff0c\u200b\u8fdb\u5165\u200b\u7ed3\u675f\u200b\u72b6\u6001\u200b\n            end\n        end\n        RX_END: begin\n            nxt_status = RX_IDLE; // \u200b\u7ed3\u675f\u200b\u72b6\u6001\u200b\u540e\u200b\u56de\u5230\u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b\n        end\n        default: begin\n            nxt_status = RX_IDLE; // \u200b\u9ed8\u8ba4\u200b\uff08\u200b\u975e\u6cd5\u200b\uff09\u200b\u72b6\u6001\u200b\uff0c\u200b\u56de\u5230\u200b\u7a7a\u95f2\u200b\n        end\n    endcase\nend\n\n/*--------------------------------------------------*\\\n                       FIFO\u200b\u8bfb\u6570\u636e\u200b\n\\*--------------------------------------------------*/\n// \u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\uff1a\u200b\u63a7\u5236\u200b\u5e27\u200bFIFO\u200b\u8bfb\u4f7f\u200b\u80fd\u200b\u4fe1\u53f7\u200b\nalways @(*) begin\n    frame_rden = (cur_status == RX_PRE); // \u200b\u4ec5\u200b\u5728\u200b\u524d\u5bfc\u200b\u7801\u200b\u72b6\u6001\u200b\u65f6\u4f7f\u200b\u80fd\u200b\u5e27\u200bFIFO\u200b\u8bfb\u53d6\u200b\nend\n\nalways @(posedge sys_clk) begin\n    if (frame_rden) begin\n        mac_rx_frame_type &lt;= frame_dout[15:0];\n        frame_fifo_crc    &lt;= frame_dout[16];\n    end\nend\n\nalways @(posedge sys_clk) begin\n    if (cur_status == RX_PRE) \n        data_rden &lt;= 1'b1;\n    else if (cur_status == RX_DATA &amp;&amp; data_rden &amp;&amp; data_dout[8]) \n        data_rden &lt;= 1'b0;\n    else \n        data_rden &lt;= data_rden;\nend\n\nalways @(posedge sys_clk) begin\n    if (data_rden &amp;&amp; frame_fifo_crc) begin\n        mac_rx_data      &lt;= data_dout[7:0];\n        mac_rx_data_last &lt;= data_dout[8];\n        mac_rx_data_vld  &lt;= 1'b1;\n    end\n    else begin\n        mac_rx_data      &lt;= 0;\n        mac_rx_data_last &lt;= 0;\n        mac_rx_data_vld  &lt;= 0;\n    end \nend\n\n/*--------------------------------------------------*\\\n                       FIFO\u200b\u5b9e\u4f8b\u200b\u5316\u200b\n\\*--------------------------------------------------*/\nfifo_w17xd16 frame_fifo (\n  .rst(phy_rx_reset),                      // input wire rst\n  .wr_clk(phy_rx_clk),                // input wire wr_clk\n  .rd_clk(sys_clk),                // input wire rd_clk\n  .din(frame_din),                      // input wire [16 : 0] din\n  .wr_en(frame_wren),                  // input wire wr_en\n  .rd_en(frame_rden),                  // input wire rd_en\n  .dout(frame_dout),                    // output wire [16 : 0] dout\n  .full(frame_wrfull),                    // output wire full\n  .empty(frame_rdempty),                  // output wire empty\n  .rd_data_count(frame_rdcount),  // output wire [3 : 0] rd_data_count\n  .wr_data_count(frame_wrcount)  // output wire [3 : 0] wr_data_count\n);\n\nfifo_w9xd4096 data_fifo (\n  .rst(phy_rx_reset),                      // input wire rst\n  .wr_clk(phy_rx_clk),                // input wire wr_clk\n  .rd_clk(sys_clk),                // input wire rd_clk\n  .din(data_din),                      // input wire [8 : 0] din\n  .wr_en(data_wren),                  // input wire wr_en\n  .rd_en(data_rden),                  // input wire rd_en\n  .dout(data_dout),                    // output wire [8 : 0] dout\n  .full(data_wrfull),                    // output wire full\n  .empty(data_rdempty),                  // output wire empty\n  .rd_data_count(data_rdcount),  // output wire [11 : 0] rd_data_count\n  .wr_data_count(data_wrcount)  // output wire [11 : 0] wr_data_count\n);\n\nendmodule\n\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#168-mac_to_arp_ipv","title":"1.6.8 mac_to_arp_ip.v\u200b\u6a21\u5757\u200b\u7f16\u5199","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-17 16:14:13\n * @LastEditTime: 2025-02-17 16:27:58\n * @FilePath: rtl/mac_to_arp_ip.v\n * @Description:\u200b\u6838\u5fc3\u4f5c\u7528\u200b\u662f\u200b\u6839\u636e\u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\u7c7b\u578b\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u5c06\u200bMAC\u200b\u5c42\u200b\u63a5\u6536\u200b\u7684\u200b\u6570\u636e\u200b\u5206\u53d1\u200b\u81f3\u200b\u4e0a\u5c42\u200b\u534f\u8bae\u200b\u5904\u7406\u200b\u6a21\u5757\u200b\uff08ARP/IP\uff09\n 1. \u200b\u534f\u8bae\u200b\u7b26\u5408\u200b\u65f6\u200b\u76f4\u901a\u200b\u94fe\u8def\u200b\uff0c\u200b\u534f\u8bae\u200b\u4e0d\u200b\u7b26\u5408\u200b\u65f6\u200b\u6570\u636e\u200b\u9759\u9ed8\u200b\u6e05\u96f6\u200b\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\n\n module mac_to_arp_ip(\n    /*-------\u200b\u7cfb\u7edf\u200b\u63a5\u53e3\u200b--------*/\n    input           sys_clk             ,\n    input           sys_reset_n         ,\n\n    /*-------MAC\u200b\u63a5\u6536\u200b\u63a5\u53e3\u200b--------*/\n    input           mac_rx_data_vld     ,\n    input           mac_rx_data_last    ,\n    input [7:0]     mac_rx_data         ,\n    input [15:0]    mac_rx_frame_type   ,  \n\n    /*-------IP\u200b\u534f\u8bae\u200b\u63a5\u53e3\u200b--------*/\n    output reg      ip_rx_data_vld      ,\n    output reg      ip_rx_data_last     ,\n    output reg [7:0]ip_rx_data          ,\n\n    /*-------ARP\u200b\u534f\u8bae\u200b\u63a5\u53e3\u200b--------*/\n    output reg      arp_rx_data_vld     ,\n    output reg      arp_rx_data_last    ,\n    output reg [7:0]arp_rx_data             \n );\n/*--------------------------------------------------*\\\n                       \u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u8bc6\u522b\u200b\u673a\u5236\u200b\n\\*--------------------------------------------------*/\n// ARP\u200b\u534f\u8bae\u200b\uff1a0x0806\n// IPv4\u200b\u534f\u8bae\u200b\uff1a0x0800\n// IPv6\u200b\u534f\u8bae\u200b\uff1a0x86DD\uff08\u200b\u5f53\u524d\u200b\u8bbe\u8ba1\u200b\u672a\u200b\u5b9e\u73b0\u200b\uff09\nlocalparam ARP_TYPE = 16'h0806;  // ARP\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u503c\u200b\uff08IEEE\u200b\u6807\u51c6\u200b\u5b9a\u4e49\u200b\uff09\nlocalparam IP_TYPE  = 16'h0800;  // IPv4\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u503c\u200b\n\n/*--------------------------------------------------*\\\n                       IP\u200b\u6570\u636e\u901a\u9053\u200b\u63a7\u5236\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (mac_rx_frame_type == IP_TYPE) begin\n        ip_rx_data_vld  &lt;=  mac_rx_data_vld;\n        ip_rx_data_last &lt;=  mac_rx_data_last;\n        ip_rx_data      &lt;=  mac_rx_data;\n    end\n    else begin\n        ip_rx_data_vld  &lt;=  0;\n        ip_rx_data_last &lt;=  0;\n        ip_rx_data      &lt;=  0;  \n    end     \nend\n\n/*--------------------------------------------------*\\\n                       ARP\u200b\u6570\u636e\u901a\u9053\u200b\u63a7\u5236\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (mac_rx_frame_type == ARP_TYPE) begin\n        arp_rx_data_vld  &lt;=  mac_rx_data_vld;\n        arp_rx_data_last &lt;=  mac_rx_data_last;\n        arp_rx_data      &lt;=  mac_rx_data;\n    end\n    else begin\n        arp_rx_data_vld  &lt;=  0;\n        arp_rx_data_last &lt;=  0;\n        arp_rx_data      &lt;=  0;  \n    end     \nend\n\n endmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#168","title":"1.6.8 \u200b\u4ee3\u7801\u200b\u4eff\u771f\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#17-macmac_sendv","title":"1.7 MAC\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\uff1amac_send.v","text":"<p>MAC\u200b\u53d1\u9001\u200b\u4ee3\u7801\u200b\u6a21\u5757\u200b\u7684\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\u5c06\u200b\u6570\u636e\u200b\u6dfb\u52a0\u200bMAC\u200b\u5934\u90e8\u200b\uff0c\u200b\u5305\u542b\u200b\u524d\u5bfc\u200b\u7801\u200b\u3001MAC\u200b\u5934\u90e8\u200b\u3001\u200b\u6e90\u200bMAC\u200b\u5730\u5740\u200b\u3001\u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\uff0c\u200b\u7c7b\u578b\u200b\u4e0e\u200b\u957f\u5ea6\u200b\u4ee5\u53ca\u200bCRC\u200b\u6821\u9a8c\u200b\u3002\u200b\u6700\u540e\u200b\u5c06\u200b\u6570\u636e\u200b\u4f20\u9012\u200b\u7ed9\u200brgmii_send.v\u200b\u6a21\u5757\u200b\u8fdb\u884c\u200b\u53d1\u9001\u7ed9\u200bphy\u200b\u82af\u7247\u200b\uff0c\u200b\u6700\u540e\u200b\u5c06\u200b\u6570\u636e\u4f20\u8f93\u200b\u5230\u200b\u5916\u90e8\u200b\u3002</p> <p>\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u5de5\u7a0b\u200b\u91cc\u9762\u200b\u9664\u4e86\u200b\u521a\u521a\u200b\u8bb2\u5230\u200b\u7684\u200b\u7ec4\u5305\u200b\u548c\u200bCRC\u200b\u6821\u9a8c\u200b\u7684\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u8fd8\u200b\u6d89\u53ca\u200b\u5230\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u57df\u200bsys_clk\u200b\u8de8\u57df\u200b\u5230\u200bPHY\u200b\u65f6\u949f\u200b\u57df\u200bphy_tx_clk\u3002</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#171-mac","title":"1.7.1 \u200b\u6dfb\u52a0\u200bMAC\u200b\u5934\u90e8","text":"<p>\u200b\u6570\u636e\u200b\u6dfb\u52a0\u200bMAC\u200b\u5934\u90e8\u200b\u65f6\u200b\uff0c\u200b\u4e0e\u200b\u524d\u9762\u200b\u63a5\u6536\u200bMAC\u200b\u6570\u636e\u5305\u200b\u5e76\u200b\u5228\u6790\u200bMAC\u200b\u6570\u636e\u200b\u5934\u90e8\u200b\u539f\u7406\u200b\u65f6\u200b\u76f8\u4f3c\u200b\u7684\u200b\uff0c\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u5b57\u8282\u200b\u8ba1\u6570\u5668\u200b\uff0c\u200b\u5728\u200b\u72b6\u6001\u200b\u673a\u4f4d\u200bTX_DATA\u200b\u7684\u200b\u65f6\u5019\u200b\u5b57\u8282\u200b\u8ba1\u6570\u5668\u200b\u6fc0\u6d3b\u200b\uff0c\u200b\u6bcf\u200b\u4e00\u4e2a\u200bphy\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u8ba1\u6570\u5668\u200b\u52a0\u4e00\u200b\u7528\u6765\u200b\u8ba1\u6570\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200bcase\u200b\u8bed\u53e5\u200b\u6765\u200b\u5bf9\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u5b57\u8282\u200b\u4f4d\u200b\u63a7\u5236\u200b\u53d1\u9001\u200b\u7684\u200b\u6570\u636e\u4f4d\u200b\u662f\u200b\u4ec0\u4e48\u200b\uff0c\u200b\u6bd4\u5982\u200b\u5728\u200b\u4e0b\u9762\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c0-6\u200b\u53d1\u9001\u200b\u7684\u200b\u5b57\u8282\u200b\u4f4d\u200b8\u2018h55\uff0c\u200b\u5728\u200b\u7b2c\u4e03\u4f4d\u200b\u53d1\u9001\u200b8\u2019hd5\u200b\u7b49\u7b49\u200b\uff0c\u200b\u539f\u7406\u200b\u5f88\u200b\u7b80\u5355\u200b\u3002</p> <pre><code>always @(posedge phy_tx_clk) begin\n    if (phy_tx_reset) \n        tx_cnt &lt;= 0;\n    else if (cur_status == TX_DATA) \n        tx_cnt &lt;= tx_cnt + 1; // \u200b\u5728\u200b\u6570\u636e\u200b\u9636\u6bb5\u200b\u9012\u589e\u200b\u8ba1\u6570\u5668\u200b\n    else \n        tx_cnt &lt;= 0; // \u200b\u5176\u4ed6\u200b\u72b6\u6001\u200b\u590d\u4f4d\u200b\u8ba1\u6570\u5668\u200b\nend\nalways @(posedge phy_tx_clk) begin\n    if (phy_tx_reset) \n        send_data &lt;= 0;\n    else \n        case(tx_cnt)\n            0,1,2,3,4,5,6  : send_data &lt;= 8'h55; //// \u200b\u524d\u5bfc\u200b\u7801\u200b\uff087\u200b\u5b57\u8282\u200b0x55\uff09+ \u200b\u5e27\u200b\u8d77\u59cb\u200b\u7b26\u200b\uff081\u200b\u5b57\u8282\u200b0xD5\uff09\n            7              : send_data &lt;= 8'hd5; //\u200b\u5e27\u200b\u8d77\u59cb\u200b\u5b9a\u754c\u7b26\u200b\n\n            8              : send_data &lt;= send_target_mac_cdc[47:40]; // \u200b\u76ee\u6807\u200bMAC\uff086\u200b\u5b57\u8282\u200b\uff09 \u200b\u9ad8\u4f4d\u200b\u5148\u53d1\u200b\uff0c9-13\u200b\u4f9d\u6b21\u200b\u53d1\u9001\u200b\u540e\u7eed\u200b\u5b57\u8282\u200b\n            9              : send_data &lt;= send_target_mac_cdc[39:32];\n            10             : send_data &lt;= send_target_mac_cdc[31:24];\n            11             : send_data &lt;= send_target_mac_cdc[23:16];\n            12             : send_data &lt;= send_target_mac_cdc[15:8];\n            13             : send_data &lt;= send_target_mac_cdc[7:0];\n\n            14             : send_data &lt;= LOCAL_MAC_ADDR[47:40]; // \u200b\u6e90\u200bMAC\uff086\u200b\u5b57\u8282\u200b\uff09\n            15             : send_data &lt;= LOCAL_MAC_ADDR[39:32];\n            16             : send_data &lt;= LOCAL_MAC_ADDR[31:24];\n            17             : send_data &lt;= LOCAL_MAC_ADDR[23:16];\n            18             : send_data &lt;= LOCAL_MAC_ADDR[15:8];\n            19             : send_data &lt;= LOCAL_MAC_ADDR[7:0];                                              \n\n            20             : send_data &lt;= mac_type[15:8]; // \u200b\u7c7b\u578b\u200b\u5b57\u200b\u6bb5\u200b\uff082\u200b\u5b57\u8282\u200b\uff09\n            21             : send_data &lt;= mac_type[7:0];  \n            default        : send_data &lt;= data_dout[7:0]; // \u200b\u6709\u6548\u8f7d\u8377\u200b\uff08\u200b\u4ece\u200bdata_fifo\u200b\u8bfb\u53d6\u200b\uff09\n        endcase \nend\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#172","title":"1.7.2 \u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u5904\u7406","text":"<p>\u200b\u5728\u200b\u8fdb\u884c\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u5904\u7406\u200b\u65f6\u200b\uff0c\u200b\u540c\u6837\u200b\u4f7f\u7528\u200b\u5f02\u6b65\u200bFIFO\u200b\u7f13\u5b58\u6570\u636e\u200b\u7684\u200b\u65b9\u6cd5\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u5904\u7406\u200b\u3002\u200b\u4f7f\u7528\u200b\u4f4d\u200b\u5bbd\u200b\u4e3a\u200b64\u200b\u4f4d\u200b\uff0c\u200b\u6df1\u5ea6\u200b\u4f4d\u200b16\u200b\u4f4d\u200b\u7684\u200b\u7684\u200bfifo\u200b\u7f13\u5b58\u200b\u5e27\u200b\u4fe1\u606f\u200b\uff0c\u200b\u7528\u4f4d\u200b\u5bbd\u200b\u4e3a\u200b9\u200b\u4f4d\u200b\uff0c\u200b\u6df1\u5ea6\u200b\u4e3a\u200b4096\u200b\u7684\u200bfifo\u200b\u7f13\u5b58\u200b\u4ee5\u592a\u7f51\u200b\u6709\u6548\u200b\u6570\u636e\u200b\uff0c</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#173-crc","title":"1.7.3 CRC\u200b\u6821\u9a8c\u200b(\u200b\u5faa\u73af\u200b\u5197\u4f59\u200b\u6821\u9a8c\u200b)","text":"<p>\u200b\u5728\u200b\u6570\u636e\u4f20\u8f93\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u65e0\u8bba\u200b\u4f20\u8f93\u200b\u7cfb\u7edf\u200b\u8bbe\u8ba1\u200b\u7684\u200b\u591a\u4e48\u200b\u5b8c\u7f8e\u200b\uff0c\u200b\u5dee\u9519\u200b\u603b\u4f1a\u200b\u5b58\u5728\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u5dee\u9519\u200b\u53ef\u80fd\u200b\u662f\u200b\u5728\u200b\u4f20\u8f93\u200b\u94fe\u8def\u200b\u4e2d\u200b\u4fe1\u53f7\u200b\u6536\u5230\u200b\u5e72\u6270\u200b\u5bfc\u81f4\u200b\u4e00\u4f4d\u200b\u6570\u636e\u200b\u4ece\u200b0\u200b\u7a81\u53d8\u200b\u6210\u200b1\uff0c\u200b\u901a\u8fc7\u200b\u672c\u200b\u6559\u7a0b\u200b\uff0c\u200b\u8bfb\u8005\u200b\u53ef\u200b\u6df1\u5165\u200b\u7406\u89e3\u200b CRC32 \u200b\u7684\u200b\u539f\u7406\u200b\u3001\u200b\u786c\u4ef6\u200b\u5b9e\u73b0\u200b\u7ec6\u8282\u200b\uff0c\u200b\u5e76\u200b\u638c\u63e1\u200b\u8be5\u200b\u6a21\u5757\u200b\u7684\u200b\u6b63\u786e\u200b\u4f7f\u7528\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u4e0b\u9762\u200b\u662f\u200b\u8be6\u7ec6\u200b\u7684\u200b\u5185\u5bb9\u200b\uff1a</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1731-crc","title":"1.7.3.1 \u200b\u4ec0\u4e48\u200b\u662f\u200b CRC\uff1f","text":"<p>CRC\uff08Cyclic Redundancy Check\uff0c\u200b\u5faa\u73af\u200b\u5197\u4f59\u200b\u6821\u9a8c\u200b\uff09\u200b\u662f\u200b\u4e00\u79cd\u200b\u6570\u636e\u200b\u68c0\u9519\u200b\u7b97\u6cd5\u200b\uff0c\u200b\u7528\u4e8e\u200b\u68c0\u6d4b\u200b\u6216\u200b\u6821\u9a8c\u200b\u6570\u636e\u4f20\u8f93\u200b/\u200b\u5b58\u50a8\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u662f\u5426\u200b\u53d1\u751f\u200b\u9519\u8bef\u200b\u3002</p> <ul> <li>\u200b\u6838\u5fc3\u601d\u60f3\u200b\uff1a\u200b\u901a\u8fc7\u200b\u591a\u9879\u5f0f\u200b\u9664\u6cd5\u200b\uff0c\u200b\u751f\u6210\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\u7684\u200b\u6821\u9a8c\u7801\u200b\uff08\u200b\u5982\u200b32\u200b\u4f4d\u200b\uff09\uff0c\u200b\u9644\u52a0\u200b\u5230\u200b\u6570\u636e\u200b\u672b\u5c3e\u200b\u3002\u200b\u63a5\u6536\u200b\u65b9\u200b\u901a\u8fc7\u200b\u91cd\u65b0\u200b\u8ba1\u7b97\u200b\u6821\u9a8c\u7801\u200b\u9a8c\u8bc1\u200b\u6570\u636e\u5b8c\u6574\u6027\u200b\u3002</li> <li>\u200b\u7279\u70b9\u200b\uff1a</li> <li>\u200b\u68c0\u9519\u200b\u80fd\u529b\u200b\u5f3a\u200b\uff08\u200b\u53ef\u200b\u68c0\u6d4b\u200b\u5355\u200bbit\u3001\u200b\u53cc\u200bbit\u3001\u200b\u7a81\u53d1\u200b\u9519\u8bef\u200b\u7b49\u200b\uff09</li> <li>\u200b\u8ba1\u7b97\u200b\u6548\u7387\u9ad8\u200b\uff08\u200b\u786c\u4ef6\u200b\u5b9e\u73b0\u200b\u7b80\u5355\u200b\uff09</li> <li>\u200b\u5e7f\u6cdb\u200b\u7528\u4e8e\u200b\u4ee5\u592a\u7f51\u200b\u3001\u200b\u78c1\u76d8\u200b\u5b58\u50a8\u200b\u3001ZIP\u200b\u538b\u7f29\u200b\u7b49\u200b\u573a\u666f\u200b\u3002</li> <li>\u200b\u7279\u6027\u200b\uff1a</li> <li>\u200b\u751f\u6210\u200b32\u200b\u4f4d\u200b\u6821\u9a8c\u7801\u200b</li> <li>\u200b\u521d\u59cb\u503c\u200b\u4e3a\u200b <code>0xFFFFFFFF</code></li> <li>\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u53d6\u53cd\u200b\uff08~\uff09\u200b\u5e76\u200b\u53cd\u8f6c\u200b\u4f4d\u5e8f\u200b\uff08LSB first \u2192 MSB first\uff09</li> </ul> <p>1 \u200b\u53d1\u9001\u200b\u7aef\u200b\u6d41\u7a0b\u200b</p> <ol> <li>\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\uff1a\u200b\u5c06\u200b\u5f85\u200b\u53d1\u9001\u200b\u7684\u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\u6570\u636e\u200b\uff08\u200b\u5305\u62ec\u200b\u524d\u5bfc\u200b\u7801\u200b\u3001MAC\u200b\u5934\u200b\u3001\u200b\u8d1f\u8f7d\u200b\uff09\u200b\u9010\u5b57\u200b\u8282\u200b\u8f93\u5165\u200b\u6a21\u5757\u200b\u3002</li> <li>CRC\u200b\u9644\u52a0\u200b\uff1a\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0c\u200b\u5c06\u200b <code>crc_dout</code> \u200b\u9644\u52a0\u200b\u5230\u200b\u5e27\u200b\u672b\u5c3e\u200b\u3002</li> </ol> <p>2 \u200b\u63a5\u6536\u7aef\u200b\u6821\u9a8c\u200b</p> <ol> <li>\u200b\u91cd\u65b0\u200b\u8ba1\u7b97\u200b CRC\uff1a\u200b\u63a5\u6536\u6570\u636e\u200b\u65f6\u200b\uff0c\u200b\u91cd\u65b0\u200b\u8ba1\u7b97\u200b CRC \u200b\u503c\u200b\uff08\u200b\u5305\u62ec\u200b\u63a5\u6536\u200b\u7684\u200b CRC \u200b\u5b57\u200b\u6bb5\u200b\uff09\u3002</li> <li>\u200b\u6821\u9a8c\u200b\u5224\u5b9a\u200b\uff1a\u200b\u82e5\u200b\u6700\u7ec8\u200b CRC \u200b\u503c\u4e0d\u4e3a\u200b <code>0xC704DD7B</code>\uff08\u200b\u4ee5\u592a\u7f51\u200b Magic Value\uff09\uff0c\u200b\u5219\u200b\u5224\u5b9a\u200b\u6570\u636e\u200b\u9519\u8bef\u200b\u3002</li> </ol>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1732-crc","title":"1.7.3.2 CRC \u200b\u8ba1\u7b97\u200b\u539f\u7406","text":"<p>1 \u200b\u6a21\u4e8c\u200b\u9664\u6cd5\u200b\uff08\u200b\u6838\u5fc3\u200b\u7b97\u6cd5\u200b\uff09 CRC \u200b\u7684\u200b\u672c\u8d28\u200b\u662f\u200b\u6a21\u4e8c\u200b\u591a\u9879\u5f0f\u200b\u9664\u6cd5\u200b\uff1a</p> <ul> <li>\u200b\u8f93\u5165\u200b\u6570\u636e\u200b \u200b\u89c6\u4e3a\u200b\u4e00\u4e2a\u200b\u4e8c\u8fdb\u5236\u200b\u591a\u9879\u5f0f\u200b\uff08\u200b\u5982\u200b <code>0xA3</code> \u2192 <code>10100011</code> \u2192 <code>x^7 + x^5 + x + 1</code>\uff09\u3002</li> <li>\u200b\u751f\u6210\u200b\u591a\u9879\u5f0f\u200b \u200b\u4e3a\u200b\u56fa\u5b9a\u503c\u200b\uff08\u200b\u5982\u200bCRC32\u200b\u591a\u9879\u5f0f\u200b\uff09\u3002</li> <li>\u200b\u8ba1\u7b97\u200b\u8fc7\u7a0b\u200b\uff1a\u200b\u6570\u636e\u200b\u591a\u9879\u5f0f\u200b\u9664\u4ee5\u200b\u751f\u6210\u200b\u591a\u9879\u5f0f\u200b\uff0c\u200b\u4f59\u6570\u200b\u5373\u200b\u4e3a\u200b CRC \u200b\u503c\u200b\u3002</li> </ul> <p>2 \u200b\u786c\u4ef6\u200b\u5b9e\u73b0\u200b\uff08\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\uff09 \u200b\u4f20\u7edf\u200b\u5b9e\u73b0\u200b\u65b9\u5f0f\u200b\uff1a</p> <ul> <li>\u200b\u4e32\u884c\u200b\u8ba1\u7b97\u200b\uff1a\u200b\u9010\u200b\u6bd4\u7279\u200b\u79fb\u4f4d\u200b\u5f02\u6216\u200b\u3002</li> <li>\u200b\u5e76\u884c\u200b\u4f18\u5316\u200b\uff1a\u200b\u901a\u8fc7\u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\u9884\u8ba1\u200b\u7b97\u200b\u591a\u4e2a\u200b\u6bd4\u7279\u200b\u7684\u200b\u5f02\u6216\u200b\u5173\u7cfb\u200b\uff0c\u200b\u63d0\u5347\u200b\u901f\u5ea6\u200b\uff08\u200b\u5982\u200b8\u200b\u4f4d\u200b\u5e76\u884c\u8ba1\u7b97\u200b\uff09\u3002</li> </ul> <p>3 \u200b\u5e76\u884c\u200b\u5316\u200b\u63a8\u5bfc\u200b \u200b\u5e76\u884c\u8ba1\u7b97\u200b\u7684\u200b\u672c\u8d28\u200b\u662f\u200b\u9884\u5224\u200b\u591a\u200bbit\u200b\u8f93\u5165\u200b\u5bf9\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u5f71\u54cd\u200b\u3002</p> <ul> <li>\u200b\u6570\u5b66\u200b\u63a8\u5bfc\u200b\uff1a   \u200b\u6839\u636e\u200b\u591a\u9879\u5f0f\u200b\uff0c\u200b\u5217\u51fa\u200b\u6bcf\u4e2a\u200b\u5bc4\u5b58\u5668\u200b\u4f4d\u200b\u5728\u200b8\u200b\u6b21\u200b\u79fb\u4f4d\u200b\u540e\u200b\u7684\u200b\u8868\u8fbe\u5f0f\u200b\u3002   \u200b\u4f8b\u5982\u200b\uff0c\u200b\u82e5\u200b\u8f93\u5165\u200b8\u200b\u4f4d\u200b\u6570\u636e\u200b <code>D[7:0]</code>\uff0c\u200b\u5219\u200b\u65b0\u200b\u7684\u200b\u5bc4\u5b58\u5668\u200b\u503c\u200b <code>CRC_new[31:0]</code> \u200b\u662f\u200b <code>CRC_old[31:0]</code> \u200b\u548c\u200b <code>D[7:0]</code> \u200b\u7684\u200b\u5f02\u6216\u200b\u7ec4\u5408\u200b\u3002</li> <li>\u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\u5c55\u5f00\u200b\uff1a   \u200b\u901a\u8fc7\u200b\u6570\u5b66\u200b\u5c55\u5f00\u200b\uff0c\u200b\u5f97\u5230\u200b\u6bcf\u4e2a\u200b\u5bc4\u5b58\u5668\u200b\u4f4d\u200b\u7684\u200b\u66f4\u65b0\u200b\u65b9\u7a0b\u200b\uff08\u200b\u5982\u200b\u4ee3\u7801\u200b\u4e2d\u200b\u7684\u200b <code>crc_data[0] = ...</code>\uff09\u3002</li> </ul>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1733","title":"1.7.3.3\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u89e3\u6790","text":"<p>1 \u200b\u8f93\u5165\u200b\u5904\u7406\u200b</p> <pre><code>// \u200b\u8f93\u5165\u200b\u5b57\u8282\u200b\u4f4d\u5e8f\u200b\u53cd\u8f6c\u200b\uff08MSB\u2192LSB\uff09\nassign crc_din_r = {crc_din[0], crc_din[1], ..., crc_din[7]};\n</code></pre> <ul> <li>\u200b\u539f\u56e0\u200b\uff1aCRC\u200b\u8ba1\u7b97\u200b\u4ece\u200bLSB\u200b\u5f00\u59cb\u200b\u5904\u7406\u200b\uff0c\u200b\u800c\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u901a\u5e38\u200b\u662f\u200bMSB\u200b\u5728\u200b\u524d\u200b\u3002</li> </ul> <p>2 \u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\u8ba1\u7b97\u200b \u200b\u4ee3\u7801\u200b\u4e2d\u200b <code>crc_data[31:0]</code> \u200b\u7684\u200b\u6bcf\u4e2a\u200b\u4f4d\u5747\u200b\u7531\u200b\u5f02\u6216\u200b\u8868\u8fbe\u5f0f\u200b\u751f\u6210\u200b\uff0c\u200b\u4f8b\u5982\u200b\uff1a</p> <pre><code>assign crc_data[0] = crc_din_r[6] ^ crc_din_r[0] ^ crc_dout_r[24] ^ crc_dout_r[30];\n</code></pre> <ul> <li>\u200b\u89e3\u91ca\u200b\uff1a   \u200b\u6839\u636e\u200b\u591a\u9879\u5f0f\u200b\u63a8\u5bfc\u200b\uff0c<code>crc_data[0]</code> \u200b\u7684\u200b\u503c\u200b\u7531\u200b\u8f93\u5165\u200b\u6570\u636e\u4f4d\u200b\u548c\u200b\u5f53\u524d\u200b\u5bc4\u5b58\u5668\u200b\u4f4d\u200b\u7684\u200b\u5f02\u6216\u200b\u7ec4\u5408\u200b\u51b3\u5b9a\u200b\u3002</li> </ul> <p>3 \u200b\u65f6\u5e8f\u200b\u903b\u8f91\u200b\u66f4\u65b0\u200b</p> <pre><code>always @(posedge sys_clk) begin\n  if (!sys_reset_n) \n    crc_dout_r &lt;= 32'hffff_ffff; // \u200b\u521d\u59cb\u503c\u200b\n  else if (crc_done) \n    crc_dout_r &lt;= 32'hffff_ffff; // \u200b\u590d\u4f4d\u200b\n  else if (crc_din_vld)\n    crc_dout_r &lt;= crc_data;       // \u200b\u66f4\u65b0\u200bCRC\u200b\u503c\u200b\nend\n</code></pre> <ul> <li>\u200b\u5173\u952e\u70b9\u200b\uff1a</li> <li>\u200b\u521d\u59cb\u503c\u200b\u548c\u200b\u590d\u4f4d\u200b\u503c\u5747\u200b\u4e3a\u200b <code>0xFFFFFFFF</code>\uff08IEEE 802.3\u200b\u8981\u6c42\u200b\uff09\u3002</li> <li>\u200b\u6bcf\u4e2a\u200b\u6709\u6548\u200b\u8f93\u5165\u200b\u5b57\u8282\u200b\u89e6\u53d1\u200b\u4e00\u6b21\u200b\u5bc4\u5b58\u5668\u200b\u66f4\u65b0\u200b\u3002</li> </ul> <p>4 \u200b\u8f93\u51fa\u200b\u5904\u7406\u200b</p> <pre><code>assign crc_dout = ~{\u200b\u53cd\u8f6c\u200b\u4f4d\u5e8f\u200b(crc_dout_r)};\n</code></pre> <ul> <li>\u200b\u6b65\u9aa4\u200b\uff1a</li> <li>\u200b\u53cd\u8f6c\u200b\u5bc4\u5b58\u5668\u200b\u4f4d\u5e8f\u200b\uff08<code>crc_dout_r[0]</code> \u2192 <code>crc_dout[31]</code>\uff09\u3002</li> <li>\u200b\u5bf9\u200b\u7ed3\u679c\u200b\u53d6\u53cd\u200b\uff08~\uff09\u3002</li> </ul>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1734","title":"1.7.3.4\u200b\u5b8c\u6574\u200b\u8ba1\u7b97\u200b\u6d41\u7a0b","text":"<p>1 \u200b\u6570\u636e\u200b\u8f93\u5165\u200b\u9636\u6bb5\u200b \u200b\u5047\u8bbe\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u4e3a\u200b <code>0x01, 0x02, 0x03, 0x04</code>\uff1a</p> <ul> <li>\u200b\u6b65\u9aa4\u200b\uff1a</li> <li>\u200b\u590d\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\uff08<code>crc_done=1</code>\uff09\u3002</li> <li>\u200b\u4f9d\u6b21\u200b\u8f93\u5165\u200b\u5b57\u8282\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5b57\u8282\u200b\u6301\u7eed\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\uff08<code>crc_din_vld=1</code>\uff09\u3002</li> <li>\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5b57\u8282\u200b\u8f93\u5165\u200b\u540e\u200b\uff0c<code>crc_dout</code> \u200b\u8f93\u51fa\u200b\u6700\u7ec8\u200b\u6821\u9a8c\u7801\u200b\u3002</li> </ul> <p>2 \u200b\u8ba1\u7b97\u200b\u8fc7\u7a0b\u200b\u793a\u4f8b\u200b</p> \u200b\u65f6\u949f\u200b\u5468\u671f\u200b \u200b\u64cd\u4f5c\u200b \u200b\u5bc4\u5b58\u5668\u200b\u503c\u200b\uff08crc_dout_r\uff09 0 \u200b\u590d\u4f4d\u200b 0xFFFFFFFF 1 \u200b\u8f93\u5165\u200b 0x01 \u200b\u66f4\u65b0\u200b\u4e3a\u200b CRC(0x01) 2 \u200b\u8f93\u5165\u200b 0x02 \u200b\u66f4\u65b0\u200b\u4e3a\u200b CRC(0x01,0x02) 3 \u200b\u8f93\u5165\u200b 0x03 \u200b\u66f4\u65b0\u200b\u4e3a\u200b CRC(0x01,0x02,0x03) 4 \u200b\u8f93\u5165\u200b 0x04 \u200b\u66f4\u65b0\u200b\u4e3a\u200b\u6700\u7ec8\u200b\u503c\u200b 5 \u200b\u8f93\u51fa\u200b <code>crc_dout</code> \u200b\u53d6\u53cd\u200b\u5e76\u200b\u53cd\u8f6c\u200b\u4f4d\u5e8f"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1735","title":"1.7.3.5 \u200b\u603b\u7ed3","text":"<p>1 \u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\u7ed3\u6784\u200b</p> <p>\u200b\u590d\u5236\u200b</p> <pre><code>| \u200b\u524d\u5bfc\u200b\u7801\u200b | \u200b\u76ee\u6807\u200bMAC | \u200b\u6e90\u200bMAC | \u200b\u7c7b\u578b\u200b | \u200b\u6570\u636e\u200b | CRC32 |\n</code></pre> <ul> <li>CRC\u200b\u4f4d\u7f6e\u200b\uff1a\u200b\u9644\u52a0\u200b\u5728\u200b\u6570\u636e\u5b57\u200b\u6bb5\u200b\u672b\u5c3e\u200b\u3002</li> </ul> <p>2 \u200b\u6a21\u5757\u200b\u96c6\u6210\u200b</p> <ul> <li>\u200b\u53d1\u9001\u200b\u7aef\u200b\uff1a</li> <li>\u200b\u5c06\u200b\u6570\u636e\u200b\u9010\u5b57\u200b\u8282\u200b\u8f93\u5165\u200b\u6a21\u5757\u200b\u3002</li> <li>\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0c\u200b\u9644\u52a0\u200b <code>crc_dout</code> \u200b\u5230\u200b\u5e27\u200b\u672b\u5c3e\u200b\u3002</li> <li>\u200b\u63a5\u6536\u7aef\u200b\uff1a</li> <li>\u200b\u91cd\u65b0\u200b\u8ba1\u7b97\u200b CRC\uff0c\u200b\u82e5\u200b\u7ed3\u679c\u200b\u4e0d\u200b\u4e3a\u200b <code>0xC704DD7B</code>\uff08\u200b\u4ee5\u592a\u7f51\u200b\u201cMagic Value\u201d\uff09\uff0c\u200b\u5219\u200b\u5224\u5b9a\u200b\u6570\u636e\u200b\u9519\u8bef\u200b\u3002</li> </ul>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1736","title":"1.7.3.6 \u200b\u5b9e\u9645\u200b\u4f7f\u7528\u200b\u65f6\u200b\u7684\u200b\u4fbf\u6377\u200b\u65b9\u6cd5","text":"<p>1. \u200b\u9a8c\u8bc1\u200b\u65b9\u6cd5\u200b</p> <ul> <li>\u200b\u8f6f\u4ef6\u200b\u5bf9\u6bd4\u200b\uff1a   \u200b\u4f7f\u7528\u200b Python \u200b\u8ba1\u7b97\u200b\u540c\u4e00\u200b\u6570\u636e\u200b\u7684\u200b CRC32\uff1a</li> </ul> <pre><code>import binascii\ndata = bytes([0x01, 0x02, 0x03, 0x04])\ncrc = binascii.crc32(data) &amp; 0xFFFFFFFF\nprint(hex(crc)) # \u200b\u8f93\u51fa\u200b\u5e94\u4e3a\u200b\u6a21\u5757\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\n</code></pre> <p>2. \u200b\u5b9e\u7528\u5de5\u5177\u200b</p> <p>\u200b\u7528\u200bVerilog\u200b\u7b97\u200bCRC\u200b\u5df2\u7ecf\u200b\u6709\u200b\u4e86\u200b\u4e24\u4e2a\u200b\u6bd4\u8f83\u200b\u4e0d\u9519\u200b\u7684\u200b\u7f51\u7ad9\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u7ebf\u200b\u751f\u6210\u200bVerilog\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5982\u200b\uff1a</p> <ul> <li> <p>OutputLogic.com \u00bb CRC Generator</p> </li> <li> <p>Generator for CRC HDL code</p> </li> </ul> <p>\u200b\u5b83\u200b\u5bf9\u5e94\u200b\u7684\u200b\u5f00\u6e90\u200b\u5e93\u200b\uff1aGitHub - mbuesch/crcgen: Generator for CRC HDL code (VHDL, Verilog, MyHDL)</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1737","title":"1.7.3.7 \u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u89e3\u6790","text":"<p>\u200b\u8be5\u200b\u6a21\u5757\u200b\u91c7\u7528\u200b\u7ecf\u5178\u200b\u7684\u200b \u200b\u5e76\u884c\u200b CRC \u200b\u8ba1\u7b97\u200b\u67b6\u6784\u200b\uff0c\u200b\u7531\u200b\u4ee5\u4e0b\u200b\u6838\u5fc3\u200b\u90e8\u5206\u200b\u7ec4\u6210\u200b\uff1a</p> <ol> <li>\u200b\u8f93\u5165\u200b\u4f4d\u5e8f\u200b\u5904\u7406\u200b</li> <li>\u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\u8ba1\u7b97\u200b\u6838\u5fc3\u200b</li> <li>\u200b\u65f6\u5e8f\u200b\u63a7\u5236\u200b\u4e0e\u200b\u5bc4\u5b58\u5668\u200b\u66f4\u65b0\u200b</li> <li>\u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u540e\u5904\u7406\u200b</li> </ol> <p>1 \u200b\u6a21\u5757\u63a5\u53e3\u200b</p> <pre><code>module crc32_d8(\n    input        sys_clk,        // \u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\n    input        sys_reset_n,    // \u200b\u540c\u6b65\u200b\u590d\u4f4d\u200b\uff08\u200b\u4f4e\u200b\u6709\u6548\u200b\uff09\n    input        crc_din_vld,    // \u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u6709\u6548\u200b\n    input [7:0]  crc_din,        // 8\u200b\u4f4d\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\n    input        crc_done,       // \u200b\u8ba1\u7b97\u200b\u5b8c\u6210\u200b\u4fe1\u53f7\u200b\uff08\u200b\u590d\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\uff09\n    output [31:0] crc_dout       // CRC32 \u200b\u7ed3\u679c\u200b\uff08\u200b\u5c0f\u7aef\u5e8f\u200b+\u200b\u53d6\u53cd\u200b\uff09\n);\n</code></pre> <p>2 \u200b\u5173\u952e\u200b\u903b\u8f91\u200b\u5b9e\u73b0\u200b</p> \u200b\u4ee3\u7801\u6bb5\u200b \u200b\u529f\u80fd\u200b\u8bf4\u660e\u200b \u200b\u8f93\u5165\u200b\u4f4d\u5e8f\u200b\u53cd\u8f6c\u200b \u200b\u5c06\u200b\u8f93\u5165\u200b\u5b57\u8282\u200b\u4ece\u200b MSB-first \u200b\u8f6c\u4e3a\u200b LSB-first\uff1a<code>crc_din_r[7:0] = {crc_din[0], crc_din[1], ..., crc_din[7]}</code> \u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\u8ba1\u7b97\u200b 32\u200b\u4f4d\u200b\u5e76\u884c\u8ba1\u7b97\u200b\uff0c\u200b\u901a\u8fc7\u200b\u9884\u200b\u63a8\u5bfc\u200b\u7684\u200b\u5f02\u6216\u200b\u8868\u8fbe\u5f0f\u200b\u66f4\u65b0\u200b CRC \u200b\u503c\u200b\uff08\u200b\u4ee3\u7801\u200b\u4e2d\u200b <code>crc_data[31:0]</code>\uff09 \u200b\u65f6\u5e8f\u200b\u903b\u8f91\u200b\u66f4\u65b0\u200b \u200b\u5728\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u66f4\u65b0\u200b\u5bc4\u5b58\u5668\u200b\u503c\u200b\uff0c\u200b\u652f\u6301\u200b\u590d\u4f4d\u200b\u548c\u200b\u6d41\u5f0f\u200b\u8f93\u5165\u200b \u200b\u8f93\u51fa\u200b\u5904\u7406\u200b \u200b\u7ed3\u679c\u200b\u53d6\u53cd\u200b\u5e76\u200b\u53cd\u8f6c\u200b\u4f4d\u5e8f\u200b\uff1a<code>crc_dout = ~{crc_dout_r[0], crc_dout_r[1], ..., crc_dout_r[31]}</code>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1738","title":"1.7.3.8 \u200b\u5b8c\u6574\u200b\u4ee3\u7801\u200b\u5de5\u7a0b","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-14 18:08:12\n * @LastEditTime: 2025-02-15 16:30:28\n * @FilePath: \\rtl\\crc32_d8.v\n * @Description:\u200b\u57fa\u4e8e\u200bIEEE 802.3\u200b\u6807\u51c6\u200b\u7684\u200bCRC32\u200b\u6821\u9a8c\u7801\u200b\u751f\u6210\u5668\u200b\uff088\u200b\u4f4d\u200b\u5e76\u884c\u8ba1\u7b97\u200b\uff09\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\n\nmodule crc32_d8(\n    input        sys_clk,         // \u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\n    input        sys_reset_n,       // \u200b\u540c\u6b65\u200b\u590d\u4f4d\u200b\uff08\u200b\u9ad8\u200b\u6709\u6548\u200b\uff09\n\n    // CRC\u200b\u8ba1\u7b97\u200b\u63a7\u5236\u200b\u63a5\u53e3\u200b\n    input        crc_din_vld, // \u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    input [7:0]  crc_din,     // \u200b\u8f93\u5165\u200b\u6570\u636e\u200b\uff088\u200b\u4f4d\u200b\u5e76\u884c\u200b\uff09\n    input        crc_done,    // \u200b\u8ba1\u7b97\u200b\u5b8c\u6210\u200b\u4fe1\u53f7\u200b\uff08\u200b\u590d\u4f4d\u200bCRC\u200b\u5bc4\u5b58\u5668\u200b\uff09\n\n    // CRC\u200b\u8f93\u51fa\u200b\u63a5\u53e3\u200b\n    output [31:0] crc_dout    // CRC32\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\uff08\u200b\u5c0f\u7aef\u5e8f\u200b+\u200b\u53d6\u53cd\u200b\uff09\n);\n\n/*--------------------------------------------------*\\\n                       \u200b\u5185\u90e8\u200b\u4fe1\u53f7\u200b\u5b9a\u4e49\u200b\n\\*--------------------------------------------------*/\nwire [7:0]  crc_din_r;      // \u200b\u4f4d\u5e8f\u200b\u8c03\u6574\u200b\u540e\u200b\u7684\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\uff08LSB first\uff09\nreg  [31:0] crc_dout_r;     // CRC\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\u5bc4\u5b58\u5668\u200b\nwire [31:0] crc_data;       // \u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\u8ba1\u7b97\u200b\u4e2d\u95f4\u200b\u503c\u200b\n\n/*--------------------------------------------------*\\\n                       \u200b\u8f93\u51fa\u200b\u7ed3\u679c\u200b\u5904\u7406\u200b\n\\*--------------------------------------------------*/\n// \u200b\u6700\u7ec8\u200b\u8f93\u51fa\u200b\u5904\u7406\u200b\uff1a\u200b\u6309\u200b\u4ee5\u592a\u7f51\u200b\u6807\u51c6\u200b\u8981\u6c42\u200b\n// 1. \u200b\u5bc4\u5b58\u5668\u200b\u503c\u200b\u53d6\u53cd\u200b\uff08~\uff09\n// 2. \u200b\u4f4d\u5e8f\u200b\u53cd\u8f6c\u200b\uff08[0]\u2192[31]\uff09\nassign crc_dout = ~{\n    crc_dout_r[0],  crc_dout_r[1],  crc_dout_r[2],  crc_dout_r[3], \n    crc_dout_r[4],  crc_dout_r[5],  crc_dout_r[6],  crc_dout_r[7],\n    crc_dout_r[8],  crc_dout_r[9],  crc_dout_r[10], crc_dout_r[11],\n    crc_dout_r[12], crc_dout_r[13], crc_dout_r[14], crc_dout_r[15],\n    crc_dout_r[16], crc_dout_r[17], crc_dout_r[18], crc_dout_r[19],\n    crc_dout_r[20], crc_dout_r[21], crc_dout_r[22], crc_dout_r[23],\n    crc_dout_r[24], crc_dout_r[25], crc_dout_r[26], crc_dout_r[27],\n    crc_dout_r[28], crc_dout_r[29], crc_dout_r[30], crc_dout_r[31]\n};\n\n/*--------------------------------------------------*\\\n                       \u200b\u8f93\u5165\u200b\u6570\u636e\u4f4d\u200b\u5e8f\u200b\u5904\u7406\u200b \n\\*--------------------------------------------------*/\n// \u200b\u5c06\u200b\u8f93\u5165\u200b\u5b57\u8282\u200b\u4f4d\u5e8f\u200b\u53cd\u8f6c\u200b\uff08MSB\u2192LSB\uff09\n// \u200b\u539f\u56e0\u200b\uff1aCRC\u200b\u8ba1\u7b97\u200b\u4ece\u200b\u6570\u636e\u200bLSB\u200b\u5f00\u59cb\u200b\u5904\u7406\u200b\nassign crc_din_r = {\n    crc_din[0], crc_din[1], crc_din[2], crc_din[3],\n    crc_din[4], crc_din[5], crc_din[6], crc_din[7]\n};\n\n/*--------------------------------------------------*\\\n                        CRC\u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\u8ba1\u7b97\u200b\n\\*--------------------------------------------------*/\n// \u200b\u6839\u636e\u200bCRC32\u200b\u591a\u9879\u5f0f\u200b\u63a8\u5bfc\u200b\u7684\u200b\u5e76\u884c\u8ba1\u7b97\u200b\u903b\u8f91\u200b\n// \u200b\u591a\u9879\u5f0f\u200b\uff1ax^32 + x^26 + x^23 + x^22 + x^16 + x^12 + x^11 + x^10 + x^8 + x^7 + x^5 + x^4 + x^2 + x + 1\nassign   crc_data[0] = crc_din_r[6] ^ crc_din_r[0] ^ crc_dout_r[24] ^ crc_dout_r[30];\nassign   crc_data[1] = crc_din_r[7] ^ crc_din_r[6] ^ crc_din_r[1] ^ crc_din_r[0] ^ crc_dout_r[24] ^ crc_dout_r[25] ^ crc_dout_r[30] ^ crc_dout_r[31];\nassign   crc_data[2] = crc_din_r[7] ^ crc_din_r[6] ^ crc_din_r[2] ^ crc_din_r[1] ^ crc_din_r[0] ^ crc_dout_r[24] ^ crc_dout_r[25] ^ crc_dout_r[26] ^ crc_dout_r[30] ^ crc_dout_r[31];\nassign   crc_data[3] = crc_din_r[7] ^ crc_din_r[3] ^ crc_din_r[2] ^ crc_din_r[1] ^ crc_dout_r[25] ^ crc_dout_r[26] ^ crc_dout_r[27] ^ crc_dout_r[31];\nassign   crc_data[4] = crc_din_r[6] ^ crc_din_r[4] ^ crc_din_r[3] ^ crc_din_r[2] ^ crc_din_r[0] ^ crc_dout_r[24] ^ crc_dout_r[26] ^ crc_dout_r[27] ^ crc_dout_r[28] ^ crc_dout_r[30];\nassign   crc_data[5] = crc_din_r[7] ^ crc_din_r[6] ^ crc_din_r[5] ^ crc_din_r[4] ^ crc_din_r[3] ^ crc_din_r[1] ^ crc_din_r[0] ^ crc_dout_r[24] ^ crc_dout_r[25] ^ crc_dout_r[27] ^ crc_dout_r[28] ^ crc_dout_r[29] ^ crc_dout_r[30] ^ crc_dout_r[31];\nassign   crc_data[6] = crc_din_r[7] ^ crc_din_r[6] ^ crc_din_r[5] ^ crc_din_r[4] ^ crc_din_r[2] ^ crc_din_r[1] ^ crc_dout_r[25] ^ crc_dout_r[26] ^ crc_dout_r[28] ^ crc_dout_r[29] ^ crc_dout_r[30] ^ crc_dout_r[31];\nassign   crc_data[7] = crc_din_r[7] ^ crc_din_r[5] ^ crc_din_r[3] ^ crc_din_r[2] ^ crc_din_r[0] ^ crc_dout_r[24] ^ crc_dout_r[26] ^ crc_dout_r[27] ^ crc_dout_r[29] ^ crc_dout_r[31];\nassign   crc_data[8] = crc_din_r[4] ^ crc_din_r[3] ^ crc_din_r[1] ^ crc_din_r[0] ^ crc_dout_r[0] ^ crc_dout_r[24] ^ crc_dout_r[25] ^ crc_dout_r[27] ^ crc_dout_r[28];\nassign   crc_data[9] = crc_din_r[5] ^ crc_din_r[4] ^ crc_din_r[2] ^ crc_din_r[1] ^ crc_dout_r[1] ^ crc_dout_r[25] ^ crc_dout_r[26] ^ crc_dout_r[28] ^ crc_dout_r[29];\nassign   crc_data[10] = crc_din_r[5] ^ crc_din_r[3] ^ crc_din_r[2] ^ crc_din_r[0] ^ crc_dout_r[2] ^ crc_dout_r[24] ^ crc_dout_r[26] ^ crc_dout_r[27] ^ crc_dout_r[29];\nassign   crc_data[11] = crc_din_r[4] ^ crc_din_r[3] ^ crc_din_r[1] ^ crc_din_r[0] ^ crc_dout_r[3] ^ crc_dout_r[24] ^ crc_dout_r[25] ^ crc_dout_r[27] ^ crc_dout_r[28];\nassign   crc_data[12] = crc_din_r[6] ^ crc_din_r[5] ^ crc_din_r[4] ^ crc_din_r[2] ^ crc_din_r[1] ^ crc_din_r[0] ^ crc_dout_r[4] ^ crc_dout_r[24] ^ crc_dout_r[25] ^ crc_dout_r[26] ^ crc_dout_r[28] ^ crc_dout_r[29] ^ crc_dout_r[30];\nassign   crc_data[13] = crc_din_r[7] ^ crc_din_r[6] ^ crc_din_r[5] ^ crc_din_r[3] ^ crc_din_r[2] ^ crc_din_r[1] ^ crc_dout_r[5] ^ crc_dout_r[25] ^ crc_dout_r[26] ^ crc_dout_r[27] ^ crc_dout_r[29] ^ crc_dout_r[30] ^ crc_dout_r[31];\nassign   crc_data[14] = crc_din_r[7] ^ crc_din_r[6] ^ crc_din_r[4] ^ crc_din_r[3] ^ crc_din_r[2] ^ crc_dout_r[6] ^ crc_dout_r[26] ^ crc_dout_r[27] ^ crc_dout_r[28] ^ crc_dout_r[30] ^ crc_dout_r[31];\nassign   crc_data[15] = crc_din_r[7] ^ crc_din_r[5] ^ crc_din_r[4] ^ crc_din_r[3] ^ crc_dout_r[7] ^ crc_dout_r[27] ^ crc_dout_r[28] ^ crc_dout_r[29] ^ crc_dout_r[31];\nassign   crc_data[16] = crc_din_r[5] ^ crc_din_r[4] ^ crc_din_r[0] ^ crc_dout_r[8] ^ crc_dout_r[24] ^ crc_dout_r[28] ^ crc_dout_r[29];\nassign   crc_data[17] = crc_din_r[6] ^ crc_din_r[5] ^ crc_din_r[1] ^ crc_dout_r[9] ^ crc_dout_r[25] ^ crc_dout_r[29] ^ crc_dout_r[30];\nassign   crc_data[18] = crc_din_r[7] ^ crc_din_r[6] ^ crc_din_r[2] ^ crc_dout_r[10] ^ crc_dout_r[26] ^ crc_dout_r[30] ^ crc_dout_r[31];\nassign   crc_data[19] = crc_din_r[7] ^ crc_din_r[3] ^ crc_dout_r[11] ^ crc_dout_r[27] ^ crc_dout_r[31];\nassign   crc_data[20] = crc_din_r[4] ^ crc_dout_r[12] ^ crc_dout_r[28];\nassign   crc_data[21] = crc_din_r[5] ^ crc_dout_r[13] ^ crc_dout_r[29];\nassign   crc_data[22] = crc_din_r[0] ^ crc_dout_r[14] ^ crc_dout_r[24];\nassign   crc_data[23] = crc_din_r[6] ^ crc_din_r[1] ^ crc_din_r[0] ^ crc_dout_r[15] ^ crc_dout_r[24] ^ crc_dout_r[25] ^ crc_dout_r[30];\nassign   crc_data[24] = crc_din_r[7] ^ crc_din_r[2] ^ crc_din_r[1] ^ crc_dout_r[16] ^ crc_dout_r[25] ^ crc_dout_r[26] ^ crc_dout_r[31];\nassign   crc_data[25] = crc_din_r[3] ^ crc_din_r[2] ^ crc_dout_r[17] ^ crc_dout_r[26] ^ crc_dout_r[27];\nassign   crc_data[26] = crc_din_r[6] ^ crc_din_r[4] ^ crc_din_r[3] ^ crc_din_r[0] ^ crc_dout_r[18] ^ crc_dout_r[24] ^ crc_dout_r[27] ^ crc_dout_r[28] ^ crc_dout_r[30];\nassign   crc_data[27] = crc_din_r[7] ^ crc_din_r[5] ^ crc_din_r[4] ^ crc_din_r[1] ^ crc_dout_r[19] ^ crc_dout_r[25] ^ crc_dout_r[28] ^ crc_dout_r[29] ^ crc_dout_r[31];\nassign   crc_data[28] = crc_din_r[6] ^ crc_din_r[5] ^ crc_din_r[2] ^ crc_dout_r[20] ^ crc_dout_r[26] ^ crc_dout_r[29] ^ crc_dout_r[30];\nassign   crc_data[29] = crc_din_r[7] ^ crc_din_r[6] ^ crc_din_r[3] ^ crc_dout_r[21] ^ crc_dout_r[27] ^ crc_dout_r[30] ^ crc_dout_r[31];\nassign   crc_data[30] = crc_din_r[7] ^ crc_din_r[4] ^ crc_dout_r[22] ^ crc_dout_r[28] ^ crc_dout_r[31];\nassign   crc_data[31] = crc_din_r[5] ^ crc_dout_r[23] ^ crc_dout_r[29];\n\n/*--------------------------------------------------*\\\n                       \u200b\u65f6\u5e8f\u200b\u903b\u8f91\u200b\u90e8\u5206\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) \n        // \u200b\u590d\u4f4d\u200b\u65f6\u200b\u521d\u59cb\u5316\u200bCRC\u200b\u5bc4\u5b58\u5668\u200b\u4e3a\u200b\u5168\u200b1\uff08\u200b\u6807\u51c6\u200b\u8981\u6c42\u200b\uff09\n        crc_dout_r &lt;= 32'hffff_ffff;\n    else if (crc_done) \n        // \u200b\u8ba1\u7b97\u200b\u5b8c\u6210\u200b\u65f6\u200b\u590d\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\uff0c\u200b\u51c6\u5907\u200b\u4e0b\u200b\u4e00\u6b21\u200b\u8ba1\u7b97\u200b\n        crc_dout_r &lt;= 32'hffff_ffff;\n    else if (crc_din_vld)\n        // \u200b\u6709\u6548\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\u65f6\u200b\u66f4\u65b0\u200bCRC\u200b\u503c\u200b\n        crc_dout_r &lt;= crc_data;\n    else \n        // \u200b\u4fdd\u6301\u200b\u5f53\u524d\u200b\u503c\u200b\n        crc_dout_r &lt;= crc_dout_r;\nend\n\n\nendmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1739","title":"1.7.3.9 \u200b\u4ee3\u7801\u200b\u4eff\u771f\u200b\u4e0e\u200b\u9a8c\u8bc1","text":"<pre><code>module tb_crc32_d8();\n    reg sys_clk, sys_reset_n;\n    reg crc_din_vld;\n    reg [7:0] crc_din;\n    reg crc_done;\n    wire [31:0] crc_dout;\n\n    // \u200b\u5b9e\u4f8b\u200b\u5316\u200b\u6a21\u5757\u200b\n    crc32_d8 u_crc (\n        .sys_clk(sys_clk),\n        .sys_reset_n(sys_reset_n),\n        .crc_din_vld(crc_din_vld),\n        .crc_din(crc_din),\n        .crc_done(crc_done),\n        .crc_dout(crc_dout)\n    );\n\n    initial begin\n        sys_clk = 0;\n        forever #5 sys_clk = ~sys_clk;\n    end\n\n    initial begin\n        sys_reset_n = 0;\n        crc_din_vld = 0;\n        crc_din = 0;\n        crc_done = 0;\n        #20;\n        sys_reset_n = 1;\n\n        // \u200b\u8f93\u5165\u200b\u6570\u636e\u200b 0x00\n        crc_din_vld = 1;\n        crc_din = 8'h00;\n        #10;\n\n        // \u200b\u8f93\u5165\u200b\u6570\u636e\u200b 0x01\n        crc_din = 8'h01;\n        #10;\n\n        // \u200b\u8f93\u5165\u200b\u6570\u636e\u200b 0x02\n        crc_din = 8'h02;\n        #10;\n\n        // \u200b\u8f93\u5165\u200b\u6570\u636e\u200b 0x03\n        crc_din = 8'h03;\n        #10;\n\n        crc_din_vld = 0;\n        #20;\n\n        // \u200b\u8f93\u51fa\u200b CRC \u200b\u503c\u200b\n        $display(\"CRC Result: 0x%h\", crc_dout);\n        $finish;\n    end\nendmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#17310","title":"1.7.3.10 \u200b\u5173\u952e\u95ee\u9898\u200b\u56de\u7b54","text":"<p>Q1\uff1a\u200b\u4e3a\u4f55\u200b\u521d\u59cb\u503c\u200b\u4e3a\u200b <code>0xFFFFFFFF</code>\uff1f</p> <ul> <li>\u200b\u6807\u51c6\u200b\u8981\u6c42\u200b\uff1aIEEE 802.3 \u200b\u89c4\u5b9a\u200b CRC \u200b\u5bc4\u5b58\u5668\u200b\u521d\u59cb\u5316\u200b\u4e3a\u200b\u5168\u200b1\uff0c\u200b\u4ee5\u200b\u63d0\u9ad8\u200b\u9519\u8bef\u200b\u68c0\u6d4b\u200b\u80fd\u529b\u200b\u3002</li> </ul> <p>Q2\uff1a\u200b\u8f93\u51fa\u200b\u4e3a\u4f55\u200b\u8981\u200b\u53d6\u53cd\u200b\u5e76\u200b\u53cd\u8f6c\u200b\u4f4d\u5e8f\u200b\uff1f</p> <ul> <li>\u200b\u517c\u5bb9\u6027\u200b\uff1a\u200b\u786e\u4fdd\u200b\u63a5\u6536\u200b\u65b9\u200b\u80fd\u200b\u6b63\u786e\u200b\u8bc6\u522b\u200b\u6821\u9a8c\u200b\u7ed3\u679c\u200b\uff0c\u200b\u7b26\u5408\u200b\u4ee5\u592a\u7f51\u200b\u5e27\u200b\u683c\u5f0f\u200b\u89c4\u8303\u200b\u3002</li> </ul> <p>Q3\uff1a\u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\u8868\u8fbe\u5f0f\u200b\u80fd\u5426\u200b\u81ea\u52a8\u200b\u751f\u6210\u200b\uff1f</p> <ul> <li>\u200b\u53ef\u4ee5\u200b\uff1a\u200b\u4f7f\u7528\u200b Python \u200b\u811a\u672c\u200b\uff08\u200b\u5982\u200b\u7528\u6237\u200b\u63d0\u4f9b\u200b\u7684\u200b\u4ee3\u7801\u200b\uff09\u200b\u57fa\u4e8e\u200b\u591a\u9879\u5f0f\u200b\u81ea\u52a8\u200b\u63a8\u5bfc\u200b\uff0c\u200b\u4f46\u672c\u200b\u6a21\u5757\u200b\u4e3a\u200b\u4e13\u7528\u200b\u8bbe\u8ba1\u200b\u9009\u62e9\u200b\u624b\u52a8\u200b\u4f18\u5316\u200b\u3002</li> </ul> <p>Q4\uff1a\u200b\u5982\u4f55\u200b\u5904\u7406\u200b\u957f\u200b\u6570\u636e\u6d41\u200b\uff1f</p> <ul> <li>\u200b\u6d41\u5f0f\u200b\u5904\u7406\u200b\uff1a\u200b\u8fde\u7eed\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u5b57\u8282\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5468\u671f\u200b\u66f4\u65b0\u200b CRC \u200b\u503c\u200b\uff0c<code>crc_done</code> \u200b\u7528\u4e8e\u200b\u590d\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u4ee5\u200b\u5f00\u59cb\u200b\u65b0\u200b\u8ba1\u7b97\u200b\u3002</li> </ul>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#174-mac","title":"1.7.4 MAC\u200b\u5c42\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4ee3\u7801","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-15 14:38:41\n * @LastEditTime: 2025-02-15 17:17:47\n * @FilePath: rtl/mac_send\n * @Description:\u200b\u4ee5\u592a\u7f51\u200bmac\u200b\u5c42\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\uff0c\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\u5982\u4e0b\u200b\uff1a\n 1. \u200b\u7ec4\u5305\u200b\uff1a\u200b\u6839\u636e\u200b\u4ee5\u592a\u7f51\u200b\u534f\u8bae\u200b\u5c01\u88c5\u200bMAC\u200b\u5e27\u200b\uff0c\u200b\u5305\u542b\u200b\u524d\u5bfc\u200b\u7801\u200b\u3001MAC\u200b\u5934\u90e8\u200b\u3001\u200b\u6709\u6548\u200b\u6570\u636e\u200b\u3001CRC\u200b\u6821\u9a8c\u200b\n 2. \u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u5904\u7406\u200b\uff1a\u200b\u7528\u6237\u200b\u65f6\u949f\u200b(clk)\u200b\u4e0e\u200bPHY\u200b\u65f6\u949f\u200b(phy_tx_clk)\u200b\u95f4\u200b\u7684\u200b\u6570\u636e\u4f20\u8f93\u200b\n 3. CRC\u200b\u6821\u9a8c\u200b\u8ba1\u7b97\u200b\uff1a\u200b\u5b9e\u65f6\u200b\u8ba1\u7b97\u200b\u5e76\u200b\u9644\u52a0\u200bCRC32\u200b\u6821\u9a8c\u7801\u200b\n 4. ARP\u200b\u4ea4\u4e92\u200b\u652f\u6301\u200b\uff1a\u200b\u52a8\u6001\u200b\u66f4\u65b0\u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\n\n module mac_send #(\n    parameter     LOCAL_MAC_ADDR    = 48'hffffffffffff,\n    parameter     TARGET_MAC_ADDR   = 48'hffffffffffff\n\n )(\n    input               sys_clk         , // \u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    input               phy_tx_clk      , // phy\u200b\u82af\u7247\u200b\u53d1\u9001\u200b\u65f6\u949f\u200b\n\n    input               phy_tx_reset    , // phy\u200b\u82af\u7247\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n    input               sys_reset_n       , // \u200b\u7cfb\u7edf\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n\n    /*-------\u200b\u4e0e\u200brgmii_send\u200b\u6a21\u5757\u200b\u4ea4\u4e92\u200b\u4fe1\u53f7\u200b--------*/\n    output reg          gmii_tx_data_vld, // \u200b\u8f93\u51fa\u200b\u7ed9\u200bgmii\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    output reg  [7:0]   gmii_tx_data    , // \u200b\u8f93\u51fa\u200b\u7ed9\u200bgmii\u200b\u6570\u636e\u4fe1\u53f7\u200b\n\n    /*-------\u200b\u4e0e\u200bip_send\u200b\u6a21\u5757\u200b\u4ea4\u4e92\u200b\u4fe1\u53f7\u200b--------*/\n    input               mac_tx_data_vld , // \u200b\u8f93\u5165\u200bmac\u200b\u7684\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    input               mac_tx_data_last, // \u200b\u8f93\u5165\u200bmac\u200b\u7684\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\n    input       [7:0]   mac_tx_data     , // \u200b\u8f93\u5165\u200bmac\u200b\u7684\u200b\u6570\u636e\u4fe1\u53f7\u200b\n    input       [15:0]  mac_tx_frame_type, // \u200b\u8f93\u5165\u200bmac\u200b\u7684\u200b\u5e27\u200b\u7c7b\u578b\u200b\uff08\u200b\u5982\u200b0x0800=IP, 0x0806=ARP\uff09\n    input       [15:0]  mac_tx_length   , // \u200b\u8f93\u5165\u200bmac\u200b\u7684\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\n\n    /*-------\u200b\u67e5\u8be2\u200barp\u200b\u94fe\u8868\u200b\u7684\u200bmac\u200b\u5730\u5740\u200b--------*/\n    input       [47:0]  rd_arp_list_mac , // \u200b\u67e5\u8be2\u200b\u5230\u200b\u7684\u200bMAC\u200b\u5730\u5740\u200b\n    input               rd_arp_list_mac_vld , // \u200b\u67e5\u8be2\u200b\u7ed3\u679c\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n\n    /*-------\u200b\u4e0e\u200btx_crc32_d8\u200b\u6a21\u5757\u200b\u4ea4\u4e92\u200b\u4fe1\u53f7\u200b--------*/\n    output reg          tx_crc_din_vld  , // \u200b\u8f93\u51fa\u200b\u7ed9\u200bCRC\u200b\u6709\u6548\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\n    output      [7:0]   tx_crc_din      , // \u200b\u8f93\u51fa\u200b\u7ed9\u200bCRC\u200b\u7684\u200b\u6570\u636e\u200b\n    output reg          tx_crc_done     , // \u200b\u8f93\u51fa\u200b\u7ed9\u200bCRC\u200b\u8ba1\u7b97\u200b\u5b8c\u6210\u200b\u4fe1\u53f7\u200b\n    input       [31:0]  tx_crc_dout       // CRC\u200b\u8ba1\u7b97\u7ed3\u679c\u200b\n );\n/*--------------------------------------------------*\\\n                       \u200b\u72b6\u6001\u673a\u200b\u4fe1\u53f7\u200b\u5b9a\u4e49\u200b\n\\*--------------------------------------------------*/\nreg [2:0] cur_status, nxt_status;\nlocalparam TX_IDLE = 3'b000;  // \u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b\nlocalparam TX_PRE  = 3'b001;  // \u200b\u524d\u5bfc\u200b\u7801\u200b\u9636\u6bb5\u200b\nlocalparam TX_DATA = 3'b010;  // \u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u9636\u6bb5\u200b\nlocalparam TX_END  = 3'b100;  // \u200b\u7ed3\u675f\u200b\u9636\u6bb5\u200b\uff08\u200b\u53d1\u9001\u200bCRC\uff09\n\n/*--------------------------------------------------*\\\n                       FIFO\u200b\u4fe1\u53f7\u200b\u5b9a\u4e49\u200b\n\\*--------------------------------------------------*/\n// frame_fifo\uff1a\u200b\u5b58\u50a8\u200b\u76ee\u6807\u200bMAC+\u200b\u5e27\u200b\u7c7b\u578b\u200b\uff0864\u200b\u4f4d\u4f4d\u200b\u5bbd\u200b\uff09\nreg  [63:0]  frame_din      ; // \u200b\u8f93\u5165\u200b\u6570\u636e\u200b\uff1a{\u200b\u76ee\u6807\u200bMAC(48b), \u200b\u7c7b\u578b\u200b(16b)}\nreg          frame_wren     ; // \u200b\u5199\u5165\u200b\u4f7f\u80fd\u200b\uff08\u200b\u7528\u6237\u200b\u4fa7\u200b\uff09\nwire [63:0]  frame_dout     ; // \u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\uff08PHY\u200b\u4fa7\u200b\uff09\nreg          frame_rden     ; // \u200b\u8bfb\u53d6\u200b\u4f7f\u80fd\u200b\uff08PHY\u200b\u4fa7\u200b\uff09\nwire         frame_wrfull   ;\nwire         frame_rdempty  ;\nwire [3:0]   frame_wrcount  ;\nwire [3:0]   frame_rdcount  ;\n\n// data_fifo\uff1a\u200b\u5b58\u50a8\u200b\u6709\u6548\u200b\u6570\u636e\u200b+\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\uff089\u200b\u4f4d\u4f4d\u200b\u5bbd\u200b\uff09\nreg  [8:0]   data_din       ; // \u200b\u8f93\u5165\u200b\u6570\u636e\u200b\uff1a{\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b(1b), \u200b\u6570\u636e\u200b(8b)}\nreg          data_wren      ; // \u200b\u5199\u5165\u200b\u4f7f\u80fd\u200b\uff08\u200b\u7528\u6237\u200b\u4fa7\u200b\uff09\nwire [8:0]   data_dout      ; // \u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\uff08PHY\u200b\u4fa7\u200b\uff09\nreg          data_rden      ; // \u200b\u8bfb\u53d6\u200b\u4f7f\u80fd\u200b\uff08PHY\u200b\u4fa7\u200b\uff09\nwire         data_wrfull    ;\nwire         data_rdempty   ;\nwire [11:0]  data_wrcount   ;\nwire [11:0]  data_rdcount   ;\n\n/*--------------------------------------------------*\\\n                       \u200b\u5185\u90e8\u200b\u4fe1\u53f7\u200b\n\\*--------------------------------------------------*/\nreg [10:0] tx_cnt           ; // \u200b\u53d1\u9001\u200b\u5b57\u8282\u200b\u8ba1\u6570\u5668\u200b\uff08\u200b\u63a7\u5236\u6570\u636e\u200b\u7ec4\u88c5\u200b\uff09\nreg [7:0]  send_data        ; // \u200b\u7ec4\u88c5\u200b\u540e\u200b\u7684\u200b\u53d1\u9001\u6570\u636e\u200b\nreg        send_data_en     ; // \u200b\u53d1\u9001\u6570\u636e\u200b\u6709\u6548\u200b\nreg        send_data_last   ; // \u200b\u53d1\u9001\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\nreg [7:0]  crc_data         ; // CRC\u200b\u6821\u9a8c\u200b\u6570\u636e\u200b\nreg        crc_data_en      ; // CRC\u200b\u6570\u636e\u200b\u6709\u6548\u200b\nreg [2:0]  crc_cnt          ; // CRC\u200b\u5b57\u8282\u200b\u8ba1\u6570\u5668\u200b\uff084\u200b\u5b57\u8282\u200b\u5206\u200b\u56db\u6b21\u200b\u53d1\u9001\u200b\uff09\nreg [15:0] mac_type         ; // \u200b\u5b58\u50a8\u200b\u5e27\u200b\u7c7b\u578b\u200b\uff08\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u540c\u6b65\u200b\u540e\u200b\uff09\nreg [47:0] send_target_mac  ; // \u200b\u5f53\u524d\u200b\u76ee\u6807\u200bMAC\uff08\u200b\u7528\u6237\u200b\u4fa7\u200b\uff09\nreg [47:0] send_target_mac_cdc; // \u200b\u540c\u6b65\u200b\u540e\u200b\u7684\u200b\u76ee\u6807\u200bMAC\uff08PHY\u200b\u4fa7\u200b\uff09\n\n\n/*--------------------------------------------------*\\\n                       \u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\u66f4\u65b0\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) \n        send_target_mac &lt;= TARGET_MAC_ADDR; // \u200b\u590d\u4f4d\u200b\u65f6\u200b\u521d\u59cb\u5316\u200b\u4e3a\u200b\u5e7f\u64ad\u200b\u5730\u5740\u200b\n    // ARP\u200b\u54cd\u5e94\u200b\u6709\u6548\u200b\u65f6\u200b\u66f4\u65b0\u200b\u76ee\u6807\u200bMAC\n    else if (rd_arp_list_mac_vld) \n        send_target_mac &lt;= rd_arp_list_mac;\n    // \u200b\u53d1\u9001\u200bARP\u200b\u5e27\u200b\u65f6\u200b\u5f3a\u5236\u200b\u4f7f\u7528\u200b\u5e7f\u64ad\u200b\u5730\u5740\u200b\n    else if (mac_tx_data_vld &amp;&amp; mac_tx_frame_type == 16'h0806)\n        send_target_mac &lt;= 48'hffff_ffff_ffff;\n    else \n        send_target_mac &lt;= send_target_mac; // \u200b\u4fdd\u6301\u200b\u5f53\u524d\u200b\u503c\u200b\nend\n\n/*--------------------------------------------------*\\\n                       FIFO\u200b\u5199\u5165\u200b\u903b\u8f91\u200b\uff08\u200b\u7528\u6237\u200b\u4fa7\u200b\uff09\n\\*--------------------------------------------------*/\n// frame_fifo\u200b\u5199\u5165\u200b\uff1a\u200b\u5728\u200b\u6570\u636e\u5305\u200b\u7ed3\u675f\u200b\u65f6\u200b\u5b58\u5165\u200b\u76ee\u6807\u200bMAC\u200b\u548c\u200b\u7c7b\u578b\u200b\nalways @(posedge sys_clk) begin\n    frame_din  &lt;= {send_target_mac, mac_tx_frame_type}; // \u200b\u62fc\u63a5\u200b48+16\u200b\u4f4d\u200b\n    frame_wren &lt;= mac_tx_data_last; // \u200b\u5728\u200b\u5305\u5c3e\u200b\u5199\u5165\u200b\nend\n\n// data_fifo\u200b\u5199\u5165\u200b\uff1a\u200b\u6301\u7eed\u200b\u5b58\u5165\u200b\u6709\u6548\u200b\u6570\u636e\u200b\u53ca\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\nalways @(posedge sys_clk) begin\n    data_wren &lt;= mac_tx_data_vld;\n    data_din  &lt;= {mac_tx_data_last, mac_tx_data}; // \u200b\u6700\u9ad8\u200b\u4f4d\u200b\u6807\u8bb0\u200b\u5305\u5c3e\u200b\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u72b6\u6001\u673a\u200b\u8f6c\u6362\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\nalways @(posedge phy_tx_clk) begin\n    if (phy_tx_reset) cur_status &lt;= TX_IDLE;\n    else cur_status &lt;= nxt_status;\nend\n\nalways @(*) begin\n    nxt_status = cur_status; // \u200b\u9ed8\u8ba4\u200b\u4fdd\u6301\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\n    if (phy_tx_reset) nxt_status = TX_IDLE;\n    else case(cur_status)\n        TX_IDLE: \n            if (!frame_rdempty) \n                nxt_status = TX_PRE; // FIFO\u200b\u975e\u7a7a\u200b\u5219\u200b\u542f\u52a8\u200b\u53d1\u9001\u200b\n            else\n                nxt_status = cur_status;\n        TX_PRE: \n            nxt_status = TX_DATA; // \u200b\u524d\u5bfc\u200b\u7801\u200b\u9636\u6bb5\u200b\u4ec5\u200b\u6301\u7eed\u200b1\u200b\u5468\u671f\u200b\n        TX_DATA: \n            // \u200b\u5f53\u200bCRC\u200b\u53d1\u9001\u200b\u5b8c\u6210\u200b\u4e14\u200b\u662f\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u5b57\u8282\u200b\u65f6\u200b\u7ed3\u675f\u200b\n            if (crc_cnt==3 &amp;&amp; crc_data_en) \n                nxt_status = TX_END;\n            else\n                nxt_status &lt;= cur_status;\n        TX_END: \n            nxt_status = TX_IDLE; // \u200b\u7ed3\u675f\u200b\u72b6\u6001\u200b\u8fd4\u56de\u200b\u7a7a\u95f2\u200b\n        default : nxt_status &lt;= TX_IDLE;\n    endcase\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u6570\u636e\u200b\u7ec4\u5305\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\nalways @(posedge phy_tx_clk) begin\n    if (phy_tx_reset) \n        tx_cnt &lt;= 0;\n    else if (cur_status == TX_DATA) \n        tx_cnt &lt;= tx_cnt + 1; // \u200b\u5728\u200b\u6570\u636e\u200b\u9636\u6bb5\u200b\u9012\u589e\u200b\u8ba1\u6570\u5668\u200b\n    else \n        tx_cnt &lt;= 0; // \u200b\u5176\u4ed6\u200b\u72b6\u6001\u200b\u590d\u4f4d\u200b\u8ba1\u6570\u5668\u200b\nend\nalways @(posedge phy_tx_clk) begin\n    if (phy_tx_reset) \n        send_data &lt;= 0;\n    else \n        case(tx_cnt)\n            0,1,2,3,4,5,6  : send_data &lt;= 8'h55; //// \u200b\u524d\u5bfc\u200b\u7801\u200b\uff087\u200b\u5b57\u8282\u200b0x55\uff09+ \u200b\u5e27\u200b\u8d77\u59cb\u200b\u7b26\u200b\uff081\u200b\u5b57\u8282\u200b0xD5\uff09\n            7              : send_data &lt;= 8'hd5; //\u200b\u5e27\u200b\u8d77\u59cb\u200b\u5b9a\u754c\u7b26\u200b\n\n            8              : send_data &lt;= send_target_mac_cdc[47:40]; // \u200b\u76ee\u6807\u200bMAC\uff086\u200b\u5b57\u8282\u200b\uff09 \u200b\u9ad8\u4f4d\u200b\u5148\u53d1\u200b\uff0c9-13\u200b\u4f9d\u6b21\u200b\u53d1\u9001\u200b\u540e\u7eed\u200b\u5b57\u8282\u200b\n            9              : send_data &lt;= send_target_mac_cdc[39:32];\n            10             : send_data &lt;= send_target_mac_cdc[31:24];\n            11             : send_data &lt;= send_target_mac_cdc[23:16];\n            12             : send_data &lt;= send_target_mac_cdc[15:8];\n            13             : send_data &lt;= send_target_mac_cdc[7:0];\n\n            14             : send_data &lt;= LOCAL_MAC_ADDR[47:40]; // \u200b\u6e90\u200bMAC\uff086\u200b\u5b57\u8282\u200b\uff09\n            15             : send_data &lt;= LOCAL_MAC_ADDR[39:32];\n            16             : send_data &lt;= LOCAL_MAC_ADDR[31:24];\n            17             : send_data &lt;= LOCAL_MAC_ADDR[23:16];\n            18             : send_data &lt;= LOCAL_MAC_ADDR[15:8];\n            19             : send_data &lt;= LOCAL_MAC_ADDR[7:0];                                              \n\n            20             : send_data &lt;= mac_type[15:8]; // \u200b\u7c7b\u578b\u200b\u5b57\u200b\u6bb5\u200b\uff082\u200b\u5b57\u8282\u200b\uff09\n            21             : send_data &lt;= mac_type[7:0];  \n            default        : send_data &lt;= data_dout[7:0]; // \u200b\u6709\u6548\u8f7d\u8377\u200b\uff08\u200b\u4ece\u200bdata_fifo\u200b\u8bfb\u53d6\u200b\uff09\n        endcase \nend\n\nalways @(*) begin\n    frame_rden &lt;= cur_status == TX_PRE;\nend\n\nalways @(posedge phy_tx_clk) begin\n    if (frame_rden) begin\n        mac_type             &lt;= frame_dout[15:0];\n        send_target_mac_cdc  &lt;= frame_dout[63:16];\n    end\n    else begin\n        mac_type             &lt;= mac_type;\n        send_target_mac_cdc  &lt;= send_target_mac_cdc;\n    end\nend\n\nalways @(posedge phy_tx_clk) begin\n    if (cur_status == TX_DATA &amp;&amp; tx_cnt == 21) \n        data_rden &lt;= 1'b1;\n    else if (data_rden &amp;&amp; data_dout[8]) //\u200b\u8bfb\u200b\u5230\u200blast\u200b\u6570\u636e\u200b\n        data_rden &lt;= 1'b0;\n    else \n        data_rden &lt;= data_rden;\nend\n\nalways @(posedge phy_tx_clk) begin\n    if (data_rden &amp;&amp; data_dout[8]) \n        send_data_last &lt;= 1'b1;\n    else \n        send_data_last &lt;= 0;\nend\n\nalways @(posedge phy_tx_clk) begin\n    if (phy_tx_reset)\n        send_data_en &lt;= 0;\n    else if (cur_status == TX_DATA &amp;&amp; tx_cnt == 0) \n        send_data_en &lt;= 1'b1;\n    else if (send_data_last) \n        send_data_en &lt;= 0;\n    else \n        send_data_en &lt;= send_data_en;\nend\n\n/*--------------------------------------------------*\\\n                       CRC\u200b\u5904\u7406\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\n// CRC\u200b\u8ba1\u7b97\u200b\u542f\u52a8\u200b\uff1a\u200b\u4ece\u200bMAC\u200b\u5934\u200b\u5f00\u59cb\u200b\uff08tx_cnt=8\uff09\nalways @(posedge phy_tx_clk) begin\n    if (tx_cnt == 8) \n        tx_crc_din_vld &lt;= 1'b1;\n    else if (send_data_last) \n        tx_crc_din_vld &lt;= 1'b0;\n    else \n        tx_crc_din_vld &lt;= tx_crc_din_vld;\nend\n// CRC\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\uff08\u200b\u4e0e\u200b\u53d1\u9001\u6570\u636e\u200b\u540c\u6b65\u200b\uff09\nassign tx_crc_din = send_data;\n\nalways @(posedge phy_tx_clk) begin\n    if (crc_data_en &amp;&amp; crc_cnt == 3) \n        tx_crc_done &lt;= 1'b1;\n    else \n        tx_crc_done &lt;= 0;\nend\n\nalways @(posedge phy_tx_clk) begin\n    if (phy_tx_reset) \n        crc_cnt &lt;= 0;\n    else if (crc_data_en &amp;&amp; crc_cnt == 3) \n        crc_cnt &lt;= 0;\n    else if (crc_data_en)\n        crc_cnt &lt;= crc_cnt + 1'b1;\n    else \n        crc_cnt &lt;= crc_cnt;\nend\n\nalways @(posedge phy_tx_clk) begin\n    if (phy_tx_reset)\n        crc_data_en &lt;= 0;\n    else if (crc_data_en &amp;&amp; crc_cnt == 3) \n        crc_data_en &lt;= 0;\n    else if (send_data_last) \n        crc_data_en &lt;= 1;\n    else \n        crc_data_en &lt;= crc_data_en;\nend\n\n// CRC\u200b\u7ed3\u679c\u200b\u5206\u200b\u56db\u6b21\u200b\u53d1\u9001\u200b\uff08\u200b\u5c0f\u7aef\u5e8f\u200b\uff09\nalways @(*) begin\n    case(crc_cnt)\n        0: crc_data = tx_crc_dout[7:0];   // \u200b\u7b2c\u200b1\u200b\u5b57\u8282\u200b\uff08LSB\uff09\n        1: crc_data = tx_crc_dout[15:8];\n        2: crc_data = tx_crc_dout[23:16];\n        3: crc_data = tx_crc_dout[31:24]; // \u200b\u7b2c\u200b4\u200b\u5b57\u8282\u200b\uff08MSB\uff09\n    endcase\nend\n\n/*--------------------------------------------------*\\\n                       GMII\u200b\u63a5\u53e3\u200b\u8f93\u51fa\u200b\n\\*--------------------------------------------------*/\nalways @(posedge phy_tx_clk) begin\n    if (phy_tx_reset) \n        gmii_tx_data &lt;= 0;\n    else if (send_data_en) \n        gmii_tx_data &lt;= send_data;\n    else if (crc_data_en)\n        gmii_tx_data &lt;= crc_data;\n    else  \n        gmii_tx_data &lt;= gmii_tx_data;  \nend\n\nalways @(posedge phy_tx_clk) begin\n    if (phy_tx_reset) \n        gmii_tx_data_vld &lt;= 0;\n    else \n        gmii_tx_data_vld &lt;= crc_data_en | send_data_en;\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u4f8b\u5316\u200bFIFO\n\\*--------------------------------------------------*/\nfifo_w64xd16 frame_fifo (\n  .rst(phy_tx_reset),                      // input wire rst\n  .wr_clk(sys_clk),                // input wire wr_clk\n  .rd_clk(phy_tx_clk),                // input wire rd_clk\n  .din(frame_din),                      // input wire [63 : 0] din\n  .wr_en(frame_wren),                  // input wire wr_en\n  .rd_en(frame_rden),                  // input wire rd_en\n  .dout(frame_dout),                    // output wire [63 : 0] dout\n  .full(frame_wrfull),                    // output wire full\n  .empty(frame_rdempty),                  // output wire empty\n  .rd_data_count(frame_rdcount),  // output wire [4 : 0] rd_data_count\n  .wr_data_count(frame_wrcount)  // output wire [4 : 0] wr_data_count\n);\n\nfifo_w9xd4096 data_fifo (\n  .rst(phy_tx_reset),                      // input wire rst\n  .wr_clk(sys_clk),                // input wire wr_clk\n  .rd_clk(phy_tx_clk),                // input wire rd_clk\n  .din(data_din),                      // input wire [8 : 0] din\n  .wr_en(data_wren),                  // input wire wr_en\n  .rd_en(data_rden),                  // input wire rd_en\n  .dout(data_dout),                    // output wire [8 : 0] dout\n  .full(data_wrfull),                    // output wire full\n  .empty(data_rdempty),                  // output wire empty\n  .rd_data_count(data_rdcount),  // output wire [11 : 0] rd_data_count\n  .wr_data_count(data_wrcount)  // output wire [11 : 0] wr_data_count\n);\n\n endmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#175","title":"1.7.5 \u200b\u4ee3\u7801\u200b\u4eff\u771f\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#18-ipip_receivev","title":"1.8 IP\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\uff1aip_receive.v","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#181","title":"1.8.1 \u200b\u6a21\u5757\u200b\u529f\u80fd\u200b\u7b80\u4ecb","text":"<p>\u200b\u5728\u200bIP\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4e2d\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u4e3b\u8981\u200b\u4efb\u52a1\u200b\u4ecd\u7136\u200b\u662f\u200b\u80fd\u591f\u200b\u6b63\u786e\u200b\u63a5\u6536\u200b\u6765\u200b\u7740\u200bMAC\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u8f93\u51fa\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u5305\u62ec\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u3001\u200b\u6570\u636e\u4fe1\u53f7\u200b\u3001\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u80fd\u591f\u200b\u8bb2\u200b\u6570\u636e\u200b\u89e3\u6790\u200b\u51fa\u200bIP\u200b\u5305\u5934\u200b\u7684\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u7136\u540e\u200b\u6b63\u786e\u200b\u5c06\u200b\u6570\u636e\u200b\u4f20\u9012\u200b\u7ed9\u200b\u4e0b\u200b\u4e00\u5c42\u200bUDP\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\uff0c\u200b\u5305\u62ec\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u3001\u200b\u6570\u636e\u4fe1\u53f7\u200b\u3001\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u4fe1\u53f7\u200b\u4ee5\u53ca\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u5224\u5b9a\u200b\u4e00\u4e0b\u200b\u6211\u4eec\u200b\u7684\u200b\u6570\u636e\u7c7b\u578b\u200b\u662f\u200bUDP\u200b\u534f\u8bae\u200b\u8fd8\u662f\u200bICMP\u200b\u534f\u8bae\u200b\uff0c\u200b\u9488\u5bf9\u200b\u4e0d\u540c\u200b\u7684\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u8f93\u51fa\u200b\u7ed9\u200b\u4e0d\u540c\u200b\u7684\u200b\u4e0b\u200b\u4e00\u5c42\u200b\u5904\u7406\u200b\u6a21\u5757\u200b\uff08UDP\u200b\u63a5\u6536\u200b\u548c\u200bICMP\u200b\u63a5\u6536\u200b\uff09\u3002\u200b\u5176\u4e2d\u200bICMP\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u6211\u4eec\u200b\u5728\u200b\u540e\u9762\u200b\u4f1a\u200b\u6709\u200b\u8be6\u7ec6\u200b\u7684\u200b\u4ecb\u7ecd\u200b\u3002</p> <p>\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u4ecd\u7136\u200b\u5728\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u57df\u200b\u4e2d\u200b\u8fdb\u884c\u200b\u5904\u7406\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u5c06\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u4e0e\u200bPHY\u200b\u65f6\u949f\u200b\u57df\u200b\u4fe1\u53f7\u200b\u505a\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u5904\u7406\u200b\u3002\u200b\u6a21\u5757\u200b\u6bd4\u8f83\u7b80\u5355\u200b\uff0c\u200b\u5728\u200b\u6574\u4e2a\u200b\u5927\u200b\u7684\u200b\u6a21\u5757\u200b\u4e2d\u200b\u626e\u6f14\u8005\u200b\u4e00\u4e2a\u200b\u4e2d\u95f4\u5c42\u200b\u7684\u200b\u89d2\u8272\u200b\uff0c\u200b\u603b\u7ed3\u200b\u4e00\u4e0b\u200b\uff0c\u200b\u6211\u4eec\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u7684\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\u5982\u4e0b\u200b\uff1a</p> <ol> <li>IPv4\u200b\u5934\u90e8\u200b\u89e3\u6790\u200b\uff1a\u200b\u63d0\u53d6\u200b\u603b\u957f\u5ea6\u200b\u3001\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u3001\u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\u7b49\u200b\u5173\u952e\u5b57\u200b\u6bb5\u200b\u3002</li> <li>\u200b\u672c\u5730\u200bIP\u200b\u8fc7\u6ee4\u200b\uff1a\u200b\u4ec5\u200b\u5904\u7406\u200b\u76ee\u6807\u200bIP\u200b\u4e0e\u200b\u672c\u5730\u200bIP\u200b\u5339\u914d\u200b\u7684\u200b\u6570\u636e\u5305\u200b\uff0c\u200b\u63d0\u5347\u200b\u7cfb\u7edf\u200b\u5b89\u5168\u6027\u200b\u3002</li> <li>\u200b\u534f\u8bae\u200b\u5206\u53d1\u200b\uff1a\u200b\u6839\u636e\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\uff08UDP/ICMP\uff09\u200b\u5c06\u200b\u8f7d\u8377\u200b\u6570\u636e\u200b\u8def\u7531\u200b\u81f3\u200b\u5bf9\u5e94\u200b\u4e0a\u5c42\u200b\u6a21\u5757\u200b\u3002</li> </ol> <p>FPGA\u200b\u89e3\u6790\u200bIP\u200b\u5c42\u200b\u6570\u636e\u5305\u200b\u8fc7\u7a0b\u200b\u52a8\u753b\u200b\u6f14\u793a\u200b</p> <pre><code>Step 1: \u200b\u63a5\u6536\u200b\u6570\u636e\u6d41\u200b\uff08\u200b\u5b57\u8282\u200b\u9010\u4e2a\u200b\u5230\u8fbe\u200b\uff09\n        \u2193\n        [0x45][0x00][0x00][0x3C][0x1A][0x2B]... \n\nStep 2: \u200b\u901a\u8fc7\u200b\u8ba1\u6570\u5668\u200b\uff08rx_cnt\uff09\u200b\u5b9a\u4f4d\u200b\u5b57\u200b\u6bb5\u200b\n        \u2193\n        rx_cnt=2 \u2192 \u200b\u603b\u957f\u5ea6\u200b\u9ad8\u5b57\u8282\u200b\uff080x00\uff09\n        rx_cnt=3 \u2192 \u200b\u603b\u957f\u5ea6\u200b\u4f4e\u5b57\u8282\u200b\uff080x3C\uff09\u2192 \u200b\u603b\u957f\u5ea6\u200b=60\n        rx_cnt=9 \u2192 \u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\uff080x11 \u2192 UDP\uff09\n        rx_cnt=16~19 \u2192 \u200b\u76ee\u6807\u200bIP\uff080xC0A80102\uff09\n\nStep 3: \u200b\u6821\u9a8c\u200b\u76ee\u6807\u200bIP\u200b\u662f\u5426\u200b\u4e3a\u200b\u672c\u673a\u200bIP\n        \u2193\n        0xC0A80102 vs LOCAL_IP_ADDR \u2192 \u200b\u5339\u914d\u200b\u5219\u200b\u8f6c\u53d1\u200b\n\nStep 4: \u200b\u6839\u636e\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u5206\u53d1\u200b\u6570\u636e\u200b\n        \u2193\n        UDP \u2192 \u200b\u8f93\u51fa\u200b\u5230\u200budp_receive*\n        ICMP \u2192 \u200b\u8f93\u51fa\u200b\u5230\u200bicmp_receive*\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#182","title":"1.8.2\u200b\u6838\u5fc3\u200b\u529f\u80fd\u200b\u5b9e\u73b0","text":"<pre><code>/*--------------------------------------------------*\\\n                       IP\u200b\u5305\u5934\u200b\u5b57\u200b\u6bb5\u200b\u89e3\u6790\u200b\n\\*--------------------------------------------------*/\n// \u200b\u603b\u957f\u5ea6\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u7b2c\u200b2-3\u200b\u5b57\u8282\u200b\uff0c\u200b\u5927\u7aef\u5e8f\u200b\uff09\nalways @(posedge sys_clk)begin\n    case(rx_cnt)\n        2:total_length[15:8] &lt;= ip_rx_data;//\u200b\u7b2c\u200b2\u200b\u5b57\u8282\u200b-\u200b\u9ad8\u5b57\u8282\u200b\n        3:total_length[7:0] &lt;=ip_rx_data; //\u200b\u7b2c\u200b3\u200b\u5b57\u8282\u200b-\u200b\u4f4e\u5b57\u8282\u200b\n    endcase\nend\n\n// \u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u7b2c\u200b9\u200b\u5b57\u8282\u200b\uff09\nalways @(posedge sys_clk)begin\n    if(rx_cnt==9)\n        ip_protocol &lt;= ip_rx_data;// \u200b\u8bb0\u5f55\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\n    else\n        ip_protocol &lt;= ip_protocol;\nend\n\n// \u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u7b2c\u200b16-19\u200b\u5b57\u8282\u200b\uff0c\u200b\u5927\u7aef\u5e8f\u200b\uff09\nalways @(posedge sys_clk)begin\n    if(rx_cnt &gt;=16 &amp;&amp; rx_cnt &lt;=19)\n        rx_target_ip &lt;= {rx_target_ip[23:0],ip_rx_data};//\u200b\u79fb\u4f4d\u200b\u62fc\u63a5\u200b\n    else\n        rx_target_ip &lt;= rx_target_ip;\nend\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#183-ip","title":"1.8.3 IP\u200b\u5c42\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-15 19:18:20\n * @LastEditTime: 2025-02-15 20:49:58\n * @FilePath: rtl/ip_receive.v\n * @Description:IP\u200b\u6570\u636e\u5305\u200b\u63a5\u6536\u200b\u548c\u200b\u89e3\u6790\u200b\u6a21\u5757\u200b\uff0c\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\u5982\u4e0b\u200b\uff1a\n  1. \u200b\u89e3\u6790\u200bIPv4\u200b\u5305\u5934\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u603b\u957f\u5ea6\u200b\u3001\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u3001\u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\uff09\n  2. \u200b\u6839\u636e\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u5206\u53d1\u200b\u6570\u636e\u5305\u200b\u5230\u200bUDP\u200b\u6216\u200bICMP\u200b\u5904\u7406\u200b\u6a21\u5757\u200b\n  3. \u200b\u652f\u6301\u200b\u672c\u5730\u200bIP\u200b\u5730\u5740\u200b\u8fc7\u6ee4\u200b\uff08\u200b\u4ec5\u200b\u5904\u7406\u200b\u76ee\u6807\u200bIP\u200b\u4e3a\u200b\u672c\u673a\u200b\u7684\u200b\u6570\u636e\u5305\u200b\uff09\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\n\n module ip_receive#(\n    parameter LOCAL_IP_ADDR = {8'd0,8'd0,8'd0,8'd0}\n )(\n    /*-------\u200b\u7cfb\u7edf\u200b\u63a5\u53e3\u200b--------*/\n    input               sys_clk         ,\n    input               sys_reset_n     ,\n\n    /*-------MAC\u200b\u5c42\u200b\u63a5\u53e3\u200b--------*/\n    input               ip_rx_data_vld  , // IP\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\uff08\u200b\u4e0e\u200bMAC\u200b\u89e3\u5e27\u200b\u540c\u6b65\u200b\uff09\n    input               ip_rx_data_last , // IP\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\uff08\u200b\u5305\u5c3e\u200b\u6307\u793a\u200b\uff09\n    input       [7:0]   ip_rx_data      , // IP\u200b\u6570\u636e\u200b\u5b57\u8282\u200b\uff08LSB\u200b\u5bf9\u9f50\u200b\uff09\n\n    /*-------UDP\u200b\u5c42\u200b\u63a5\u53e3\u200b--------*/\n    output reg          udp_rx_data_vld , // UDP\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    output reg          udp_rx_data_last, // UDP\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\n    output reg [7:0]    udp_rx_data     , // UDP\u200b\u6570\u636e\u200b\u5b57\u8282\u200b\n    output reg [15:0]   udp_rx_length   , // UDP\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\uff08IP\u200b\u8f7d\u8377\u200b\u957f\u5ea6\u200b\uff09\n\n\n    /*-------ICMP\u200b\u63a5\u53e3\u200b--------*/\n    output reg          icmp_rx_data_vld, // ICMP\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    output reg          icmp_rx_data_last,// ICMP\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\n    output reg [7:0]    icmp_rx_data    , // ICMP\u200b\u6570\u636e\u200b\u5b57\u8282\u200b\n    output reg [15:0]   icmp_rx_length    // ICMP\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\uff08IP\u200b\u8f7d\u8377\u200b\u957f\u5ea6\u200b\uff09\n\n );\n/*--------------------------------------------------*\\\n                       \u200b\u5b9a\u4e49\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\n\\*--------------------------------------------------*/\nlocalparam UDP_TYPE  = 8'd17; // UDP\u200b\u534f\u8bae\u200b\u53f7\u200b\uff08RFC 768\uff09\nlocalparam ICMP_TYPE = 8'd1;  // ICMP\u200b\u534f\u8bae\u200b\u53f7\u200b\uff08RFC 792\uff09\n\n/*--------------------------------------------------*\\\n                       \u200b\u5185\u90e8\u200b\u5bc4\u5b58\u5668\u200b\n\\*--------------------------------------------------*/\nreg [10:0] rx_cnt; // \u200b\u63a5\u6536\u200b\u5b57\u8282\u200b\u8ba1\u6570\u5668\u200b\nreg [31:0] rx_target_ip; //\u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\u5bc4\u5b58\u5668\u200b\nreg [7:0]  ip_protocol; // \u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u5bc4\u5b58\u5668\u200b\nreg [15:0] total_length; // IP\u200b\u5305\u200b\u603b\u957f\u5ea6\u200b\u5bc4\u5b58\u5668\u200b\n\n/*--------------------------------------------------*\\\n                       \u200b\u63a5\u6536\u200b\u5b57\u8282\u200b\u8ba1\u6570\u5668\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if(!sys_reset_n)\n        rx_cnt &lt;= 11'd0;\n    else if(ip_rx_data_vld)\n        rx_cnt &lt;= rx_cnt + 1'b1;\n    else\n        rx_cnt &lt;= 11'd0;\nend\n\n/*--------------------------------------------------*\\\n                       IP\u200b\u5305\u5934\u200b\u5b57\u200b\u6bb5\u200b\u89e3\u6790\u200b\n\\*--------------------------------------------------*/\n// \u200b\u603b\u957f\u5ea6\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u7b2c\u200b2-3\u200b\u5b57\u8282\u200b\uff0c\u200b\u5927\u7aef\u5e8f\u200b\uff09\nalways @(posedge sys_clk)begin\n    case(rx_cnt)\n        2:total_length[15:8] &lt;= ip_rx_data;//\u200b\u7b2c\u200b2\u200b\u5b57\u8282\u200b-\u200b\u9ad8\u5b57\u8282\u200b\n        3:total_length[7:0] &lt;=ip_rx_data; //\u200b\u7b2c\u200b3\u200b\u5b57\u8282\u200b-\u200b\u4f4e\u5b57\u8282\u200b\n    endcase\nend\n\n// \u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u7b2c\u200b9\u200b\u5b57\u8282\u200b\uff09\nalways @(posedge sys_clk)begin\n    if(rx_cnt==9)\n        ip_protocol &lt;= ip_rx_data;// \u200b\u8bb0\u5f55\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\n    else\n        ip_protocol &lt;= ip_protocol;\nend\n\n// \u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u7b2c\u200b16-19\u200b\u5b57\u8282\u200b\uff0c\u200b\u5927\u7aef\u5e8f\u200b\uff09\nalways @(posedge sys_clk)begin\n    if(rx_cnt &gt;=16 &amp;&amp; rx_cnt &lt;=19)\n        rx_target_ip &lt;= {rx_target_ip[23:0],ip_rx_data};//\u200b\u79fb\u4f4d\u200b\u62fc\u63a5\u200b\n    else\n        rx_target_ip &lt;= rx_target_ip;\nend\n\n/*--------------------------------------------------*\\\n                       UDP\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    // \u200b\u89e6\u53d1\u200b\u6761\u4ef6\u200b\uff1a\u200b\u534f\u8bae\u200b\u662f\u200budp+\u200b\u76ee\u6807\u200bIP\u200b\u5339\u914d\u200b+\u200b\u8d85\u8fc7\u200bIP\u200b\u5934\u200b\u957f\u5ea6\u200b\uff0820\u200b\u5b57\u8282\u200b\uff09\n    if(ip_protocol == UDP_TYPE &amp;&amp; rx_target_ip == LOCAL_IP_ADDR &amp;&amp; rx_cnt&gt;=20)begin\n        udp_rx_data_vld     &lt;= ip_rx_data_vld;\n        udp_rx_data_last    &lt;= ip_rx_data_last;\n        udp_rx_data         &lt;= ip_rx_data;\n        udp_rx_length       &lt;= total_length;\n    end\n    else begin //\u200b\u975e\u200bUDP\u200b\u6570\u636e\u200b\u65f6\u200b\u5173\u95ed\u200b\u8f93\u51fa\u200b\n        udp_rx_data_vld     &lt;= 0;\n        udp_rx_data_last    &lt;= 0;\n        udp_rx_data         &lt;= 0;\n        udp_rx_length       &lt;= 0;\n    end\nend\n\n/*--------------------------------------------------*\\\n                       ICMP\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    // \u200b\u89e6\u53d1\u200b\u6761\u4ef6\u200b\uff1a\u200b\u534f\u8bae\u200b\u662f\u200bICMP+\u200b\u76ee\u6807\u200bIP\u200b\u5339\u914d\u200b+\u200b\u8d85\u8fc7\u200bIP\u200b\u5934\u200b\u957f\u5ea6\u200b\n    if(ip_protocol == ICMP_TYPE &amp;&amp; rx_target_ip == LOCAL_IP_ADDR &amp;&amp; rx_cnt&gt;=20)begin\n        icmp_rx_data_vld    &lt;= ip_rx_data_vld;\n        icmp_rx_data_last   &lt;= ip_rx_data_last;\n        icmp_rx_data        &lt;= ip_rx_data;\n        icmp_rx_length      &lt;= total_length - 20;\n    end\n    else begin\n        icmp_rx_data_vld    &lt;= 0;  // \u200b\u975e\u200bICMP\u200b\u6570\u636e\u200b\u65f6\u200b\u5173\u95ed\u200b\u8f93\u51fa\u200b\n        icmp_rx_data_last   &lt;= 0;\n        icmp_rx_data        &lt;= 0;\n        icmp_rx_length      &lt;= 0;\n    end \nend\n\n endmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#184","title":"1.8.4 \u200b\u4ee3\u7801\u200b\u4eff\u771f\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#19-ipip_sendv","title":"1.9 IP\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\uff1aip_send.v","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#191","title":"1.9.1 \u200b\u6a21\u5757\u200b\u529f\u80fd\u200b\u7b80\u4ecb","text":"<p>\u200b\u8be5\u200b\u6a21\u5757\u200b\u662f\u200bFPGA\u200b\u4ee5\u592a\u7f51\u200b\u534f\u8bae\u200b\u6808\u4e2d\u200b\u7684\u200bIP\u200b\u5c42\u200b\u53d1\u9001\u200b\u6838\u5fc3\u200b\u5355\u5143\u200b\uff0c\u200b\u4e3b\u8981\u200b\u5b8c\u6210\u200b\u4ece\u200bFPGA\u200b\u4e2d\u200bUDP\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u53d1\u9001\u200b\u7684\u200b\u6570\u636e\u200b\u4f20\u9012\u200b\u5230\u200bIP\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4e2d\u200b\uff0c\u200b\u5c06\u200b\u6570\u636e\u200b\u4f7f\u7528\u200bIPv4\u200b\u6570\u636e\u5305\u200b\u7684\u200b\u5c01\u88c5\u200b\u4e0e\u200b\u53d1\u9001\u200b\uff0c\u200b\u7b26\u5408\u200bRFC 791\u200b\u89c4\u8303\u200b\u3002\u200b\u5176\u200b\u6838\u5fc3\u200b\u529f\u80fd\u200b\u5305\u62ec\u200b\uff1a</p> <ol> <li>IPv4\u200b\u5934\u90e8\u200b\u7ec4\u88c5\u200b\uff1a\u200b\u751f\u6210\u200b\u7248\u672c\u200b\u3001\u200b\u603b\u957f\u5ea6\u200b\u3001\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u7b49\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u652f\u6301\u200b\u6821\u9a8c\u200b\u548c\u200b\u8ba1\u7b97\u200b\u3002</li> <li>\u200b\u534f\u8bae\u200b\u652f\u6301\u200b\uff1a\u200b\u652f\u6301\u200bUDP\uff08\u200b\u534f\u8bae\u200b\u53f7\u200b17\uff09\u200b\u548c\u200bICMP\uff08\u200b\u534f\u8bae\u200b\u53f7\u200b1\uff09\u200b\u534f\u8bae\u200b\u5c01\u88c5\u200b\u3002</li> <li>\u200b\u5206\u7247\u200b\u6807\u8bc6\u200b\u7ba1\u7406\u200b\uff1a\u200b\u81ea\u52a8\u200b\u751f\u6210\u200b\u9012\u589e\u200b\u7684\u200bIP\u200b\u6807\u8bc6\u200b\u5b57\u200b\u6bb5\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5206\u7247\u200b\u91cd\u7ec4\u200b\u3002</li> <li>ARP\u200b\u67e5\u8be2\u200b\u89e6\u53d1\u200b\uff1a\u200b\u5728\u200b\u53d1\u9001\u200b\u524d\u200b\u89e6\u53d1\u200bARP\u200b\u8bf7\u6c42\u200b\uff0c\u200b\u83b7\u53d6\u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\u3002</li> <li>\u200b\u6570\u636e\u200b\u5bf9\u9f50\u200b\u5904\u7406\u200b\uff1a\u200b\u901a\u8fc7\u200b\u5ef6\u8fdf\u7ebf\u200b\u5b9e\u73b0\u200bIP\u200b\u5934\u200b\u4e0e\u200b\u8f7d\u8377\u200b\u6570\u636e\u200b\u7684\u200b\u65f6\u5e8f\u200b\u5bf9\u9f50\u200b\u3002</li> </ol>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#192","title":"1.9.2 \u200b\u6838\u5fc3\u200b\u4ee3\u7801","text":"<p>\u200b\u6838\u5fc3\u200b\u4ee3\u7801\u200b\u5206\u4e3a\u200b\u4e24\u4e2a\u200b\u5185\u5bb9\u200b\uff1a</p> <p>\u200b\u9996\u5148\u200b\u662f\u200bIP\u200b\u6570\u636e\u200b\u4ece\u200bUDP\u200b\u5f97\u5230\u200b\u7684\u200b\u6570\u636e\u200b\u6dfb\u52a0\u200bIP\u200b\u5934\u90e8\u200b\u5e76\u200b\u6210\u529f\u200b\u9001\u200b\u51fa\u200b\uff0c\u200b\u5728\u200b\u6dfb\u52a0\u200bIP\u200b\u5934\u90e8\u200b\u7684\u200b\u65f6\u5019\u200b\u9700\u8981\u200b\u5bf9\u200bIP\u200b\u6570\u636e\u7ed3\u6784\u200b\u6709\u200b\u4e00\u4e2a\u200b\u6e05\u6670\u200b\u7684\u200b\u8ba4\u8bc6\u200b\uff0c\u200b\u4e0b\u9762\u200b\u7ed9\u200b\u5927\u5bb6\u200b\u7ed8\u5236\u200b\u4e86\u200b\u4e00\u4e0b\u200b\u5b57\u200b\u6bb5\u200b\u7ed3\u6784\u56fe\u200b\uff1a</p> <pre><code>\u200b\u5b57\u8282\u200b\u5e8f\u53f7\u200b | \u200b\u5b57\u200b\u6bb5\u200b\u8bf4\u660e\u200b                | \u200b\u793a\u4f8b\u200b\u503c\u200b\uff08\u200b\u5341\u516d\u8fdb\u5236\u200b\uff09\n--------|------------------------|------------------\n0       | \u200b\u7248\u672c\u200b(4) + \u200b\u5934\u90e8\u200b\u957f\u5ea6\u200b(5)   | 0x45 \u2192 4: IPv4, 5*4=20\u200b\u5b57\u8282\u200b\u5934\u200b\n1       | \u200b\u670d\u52a1\u7c7b\u578b\u200b                | 0x00\uff08\u200b\u901a\u5e38\u200b\u5ffd\u7565\u200b\uff09\n2-3     | **\u200b\u603b\u957f\u5ea6\u200b**             | 0x00 0x3C \u2192 60\u200b\u5b57\u8282\u200b\uff08IP\u200b\u5305\u200b\u603b\u957f\u200b\uff09\n4-5     | \u200b\u6807\u8bc6\u200b (ID)              | 0x1A 0x2B\uff08\u200b\u5206\u7247\u200b\u7528\u200b\uff09\n6-7     | \u200b\u6807\u5fd7\u200b + \u200b\u5206\u7247\u200b\u504f\u79fb\u200b         | 0x00 0x00\uff08\u200b\u672a\u200b\u5206\u7247\u200b\uff09\n8       | TTL                    | 0x40 \u2192 64\u200b\u8df3\u200b\n9       | **\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b**           | 0x11 \u2192 UDP\uff0817\uff09\n10-11   | \u200b\u5934\u90e8\u200b\u6821\u9a8c\u200b\u548c\u200b              | 0xA0 0xC0\n12-15   | **\u200b\u6e90\u200bIP\u200b\u5730\u5740\u200b**           | 0xC0 0xA8 0x01 0x01 \u2192 192.168.1.1\n16-19   | **\u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b**         | 0xC0 0xA8 0x01 0x02 \u2192 192.168.1.2\n20-...  | \u200b\u6570\u636e\u200b\u8f7d\u8377\u200b               | UDP/ICMP\u200b\u6570\u636e\u200b\u5f00\u59cb\u200b\n</code></pre> <p>\u200b\u7ec4\u5305\u200b\u4ee3\u7801\u200b\u5982\u4e0b\u200b\uff1a</p> <pre><code>/*--------------------------------------------------*\\\n                       IP\u200b\u5305\u5934\u200b\u7ec4\u88c5\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    case(tx_cnt)\n        // [0] \u200b\u7248\u672c\u53f7\u200b(4bit) + \u200b\u5934\u200b\u957f\u5ea6\u200b(4bit): IPv4(0x4), 5*4=20\u200b\u5b57\u8282\u200b\u5934\u200b(0x5)\n        0 : ip_tx_data &lt;= {4'h4, 4'h5}; \n\n        // [1] \u200b\u670d\u52a1\u7c7b\u578b\u200b(TOS)\uff0c\u200b\u9ed8\u8ba4\u200b0\n        1 : ip_tx_data &lt;= 0; \n\n        // [2-3] \u200b\u603b\u957f\u5ea6\u200b\uff08\u200b\u5927\u7aef\u5e8f\u200b\uff09\n        2 : ip_tx_data &lt;= ip_tx_length[15:8]; // \u200b\u9ad8\u5b57\u8282\u200b\n        3 : ip_tx_data &lt;= ip_tx_length[7:0];  // \u200b\u4f4e\u5b57\u8282\u200b\n\n        // [4-5] \u200b\u6807\u8bc6\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u7528\u4e8e\u200b\u5206\u7247\u200b\uff09\n        4 : ip_tx_data &lt;= package_id[15:8]; \n        5 : ip_tx_data &lt;= package_id[7:0];\n\n        // [6-7] \u200b\u6807\u5fd7\u200b(3bit)+\u200b\u5206\u7247\u200b\u504f\u79fb\u200b(13bit)\uff1a\u200b\u9ed8\u8ba4\u200b\u4e0d\u200b\u5206\u7247\u200b\n        6 : ip_tx_data &lt;= {3'b010, 5'h0}; // 010\u200b\u8868\u793a\u200b\u5141\u8bb8\u200b\u5206\u7247\u200b\n        7 : ip_tx_data &lt;= 8'h0;\n\n        // [8] \u200b\u751f\u5b58\u200b\u65f6\u95f4\u200b(TTL)\uff1a\u200b\u9ed8\u8ba4\u200b128\u200b\u8df3\u200b\n        8 : ip_tx_data &lt;= 8'h80;\n\n        // [9] \u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\uff08UDP/ICMP\uff09\n        9 : ip_tx_data &lt;= tx_type_r;\n\n        // [10-11] \u200b\u5934\u90e8\u200b\u6821\u9a8c\u200b\u548c\u200b\uff08\u200b\u5927\u7aef\u5e8f\u200b\uff09\n        10 : ip_tx_data &lt;= ip_head_chack[15:8];\n        11 : ip_tx_data &lt;= ip_head_chack[7:0];\n\n        // [12-15] \u200b\u6e90\u200bIP\u200b\u5730\u5740\u200b\uff08\u200b\u5927\u7aef\u5e8f\u200b\uff09\n        12 : ip_tx_data &lt;= LOCAL_IP_ADDR[31:24];\n        13 : ip_tx_data &lt;= LOCAL_IP_ADDR[23:16];\n        14 : ip_tx_data &lt;= LOCAL_IP_ADDR[15:8];\n        15 : ip_tx_data &lt;= LOCAL_IP_ADDR[7:0];\n\n        // [16-19] \u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\uff08\u200b\u5927\u7aef\u5e8f\u200b\uff09\n        16 : ip_tx_data &lt;= TARGET_IP_ADDR[31:24];\n        17 : ip_tx_data &lt;= TARGET_IP_ADDR[23:16];\n        18 : ip_tx_data &lt;= TARGET_IP_ADDR[15:8];\n        19 : ip_tx_data &lt;= TARGET_IP_ADDR[7:0];\n\n        // [20+] \u200b\u8f7d\u8377\u200b\u6570\u636e\u200b\uff08\u200b\u5ef6\u8fdf\u200b\u5bf9\u9f50\u200b\uff09\n        default : ip_tx_data &lt;= tx_data_delay;\n    endcase\nend\n</code></pre> <p>\u200b\u63a5\u7740\u200b\u8981\u200b\u5bf9\u200b\u7ec4\u5305\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u4e00\u4e2a\u200bIP\u200b\u5934\u200b\u6821\u9a8c\u200b\u548c\u200b\u7684\u200b\u5904\u7406\u200b\uff0cIP\u200b\u5934\u200b\u6821\u9a8c\u200b\u548c\u200b\u662f\u200bIPv4\u200b\u534f\u8bae\u200b\u7684\u200b\u6838\u5fc3\u200b\u5b57\u200b\u6bb5\u200b\u6240\u6709\u200bIPv4\u200b\u6570\u636e\u5305\u200b\u5fc5\u987b\u200b\u5305\u542b\u200b\u6b63\u786e\u200b\u7684\u200b\u5934\u90e8\u200b\u6821\u9a8c\u200b\u548c\u200b\u3002\u200b\u5982\u679c\u200b\u6821\u9a8c\u200b\u5931\u8d25\u200b\u6211\u4eec\u200b\u4f1a\u200b\u76f4\u63a5\u200b\u4e22\u5f03\u200b\u8be5\u200b\u6570\u636e\u5305\u200b\u3002\u200b\u82e5\u200bIP\u200b\u5934\u200b\u6821\u9a8c\u200b\u7f3a\u5931\u200b\uff0c\u200b\u9519\u8bef\u200b\u6570\u636e\u5305\u200b\u53ef\u80fd\u200b\u88ab\u200b\u9519\u8bef\u200b\u8def\u7531\u200b\u6216\u200b\u5f15\u53d1\u200b\u5b89\u5168\u200b\u95ee\u9898\u200b\u3002</p> <pre><code>/*--------------------------------------------------*\\\n                       IP\u200b\u5934\u200b\u6821\u9a8c\u200b\u548c\u200b\u8ba1\u7b97\u200b\n\\*--------------------------------------------------*/\n// \u200b\u6821\u9a8c\u200b\u548c\u200b\u7b97\u6cd5\u200b\uff1a\u200b\u53cd\u7801\u200b\u6c42\u548c\u200b\u518d\u200b\u53d6\u53cd\u200b\n// \u200b\u8ba1\u7b97\u200b\u6b65\u9aa4\u200b\uff1a\n// 1. \u200b\u5c06\u200bIP\u200b\u5934\u200b\u6309\u200b16\u200b\u4f4d\u200b\u5206\u7ec4\u200b\u6c42\u548c\u200b\n// 2. \u200b\u7d2f\u52a0\u200b\u8fdb\u4f4d\u200b\u56de\u5377\u200b\n// 3. \u200b\u7ed3\u679c\u200b\u53d6\u53cd\u200b\nalways @(posedge sys_clk) begin\n    // \u200b\u7b2c\u4e00\u7ec4\u200b\uff1a\u200b\u7248\u672c\u200b(4)+\u200b\u5934\u957f\u200b(4)+TOS(8) | \u200b\u603b\u957f\u5ea6\u200b(16)\n    add0 &lt;= 16'h4500 + ip_tx_length + package_id;\n\n    // \u200b\u7b2c\u4e8c\u7ec4\u200b\uff1a\u200b\u6807\u5fd7\u200b(3)+\u200b\u504f\u79fb\u200b(13) | TTL(8)+\u200b\u534f\u8bae\u200b(8)\n    add1 &lt;= 16'h4000 + {8'h80, tx_type_r} + LOCAL_IP_ADDR[31:16];\n\n    // \u200b\u7b2c\u4e09\u7ec4\u200b\uff1a\u200b\u6e90\u200bIP\u200b\u540e\u200b\u534a\u200b+\u200b\u76ee\u6807\u200bIP\n    add2 &lt;= LOCAL_IP_ADDR[15:0] + TARGET_IP_ADDR[31:16] + TARGET_IP_ADDR[15:0];\n\n    // \u200b\u7d2f\u52a0\u200b\u603b\u548c\u200b\n    chack_sum &lt;= add0 + add1 + add2;\nend\n\n// \u200b\u6821\u9a8c\u200b\u548c\u200b\u7ed3\u679c\u200b\u5904\u7406\u200b\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n)\n        ip_head_chack &lt;= 0;\n    else if (tx_cnt == 5) \n        // \u200b\u8fdb\u4f4d\u200b\u56de\u5377\u200b\uff1a\u200b\u5c06\u200b32\u200b\u4f4d\u200b\u548c\u200b\u8f6c\u6362\u200b\u4e3a\u200b16\u200b\u4f4d\u200b\n        ip_head_chack &lt;= chack_sum[31:16] + chack_sum[15:0]; \n    else if (tx_cnt == 6)\n        // \u200b\u6700\u7ec8\u200b\u53d6\u53cd\u200b\n        ip_head_chack &lt;= ~ip_head_chack; \nend\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#193-ip","title":"1.9.3 IP\u200b\u5c42\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-15 20:09:37\n * @LastEditTime: 2025-02-15 20:38:03\n * @FilePath: rtl/ip_send.v\n * @Description:IPv4\u200b\u6570\u636e\u5305\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\uff0c\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\u5982\u4e0b\u200b\uff1a\n  1. \u200b\u7ec4\u88c5\u200b\u5b8c\u6574\u200bIPv4\u200b\u5305\u5934\u200b\uff08\u200b\u542b\u200b\u6821\u9a8c\u200b\u548c\u200b\u8ba1\u7b97\u200b\uff09\n  2. \u200b\u652f\u6301\u200bUDP/ICMP\u200b\u534f\u8bae\u200b\u5c01\u88c5\u200b\n  3. \u200b\u81ea\u52a8\u200b\u751f\u6210\u200bIP\u200b\u6807\u8bc6\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u7528\u4e8e\u200b\u5206\u7247\u200b\u8bc6\u522b\u200b\uff09\n  4. \u200b\u96c6\u6210\u200bARP\u200b\u67e5\u8be2\u200b\u89e6\u53d1\u200b\u673a\u5236\u200b\n  5. \u200b\u6570\u636e\u200b\u5ef6\u8fdf\u200b\u5bf9\u9f50\u200b\u5904\u7406\u200b\uff08IP\u200b\u5934\u200b\u4e0e\u200b\u8f7d\u8377\u200b\u6570\u636e\u200b\u65f6\u5e8f\u200b\u5bf9\u9f50\u200b\uff09\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\n\n module ip_send #(\n    parameter LOCAL_IP_ADDR = {8'd0,8'd0,8'd0,8'd0}, // \u200b\u672c\u5730\u200bIP\u200b\u5730\u5740\u200b\uff08\u200b\u9700\u200b\u914d\u7f6e\u200b\uff09\n    parameter TARGET_IP_ADDR = {8'd0,8'd0,8'd0,8'd0}  // \u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\uff08\u200b\u9700\u200b\u914d\u7f6e\u200b\uff09\n )(\n    /*-------\u200b\u7cfb\u7edf\u200b\u63a5\u53e3\u200b--------*/\n    input               sys_clk         ,\n    input               sys_reset_n     ,\n\n    /*-------MAC\u200b\u5c42\u200b\u63a5\u53e3\u200b--------*/\n    output reg          ip_tx_data_vld  , // IP\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    output reg          ip_tx_data_last , // IP\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\n    output reg [15:0]   ip_tx_length    , // IP\u200b\u5305\u200b\u603b\u957f\u5ea6\u200b\uff08\u200b\u5934\u200b+\u200b\u8f7d\u8377\u200b\uff09\n    output reg [7:0]    ip_tx_data      , // IP\u200b\u6570\u636e\u200b\u5b57\u8282\u200b\n\n    /*-------\u200b\u53d1\u9001\u200b\u7aef\u53e3\u200b--------*/\n    input               tx_data_vld     , // \u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    input               tx_data_last    , // \u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\n    input [7:0]         tx_data         , // \u200b\u6570\u636e\u200b\u5b57\u8282\u200b\n    input [15:0]        tx_length       , // \u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\n    input [7:0]         tx_type         , // \u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\uff08UDP=17\uff0cICMP=1\uff09\n\n    /*-------ARP\u200b\u67e5\u8be2\u200b\u63a5\u53e3\u200b--------*/\n    output reg          rd_arp_list_en  , // ARP\u200b\u67e5\u8be2\u200b\u4f7f\u80fd\u200b\n    output reg [31:0]   rd_arp_list_ip    // \u200b\u67e5\u8be2\u200b\u7684\u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\n );\n/*--------------------------------------------------*\\\n                       \u200b\u5185\u90e8\u200b\u5bc4\u5b58\u5668\u200b\u5b9a\u4e49\u200b\n\\*--------------------------------------------------*/\nreg [10:0] tx_cnt;        // \u200b\u53d1\u9001\u200b\u5b57\u8282\u200b\u8ba1\u6570\u5668\u200b\uff08\u200b\u6700\u5927\u200b2048\u200b\u5b57\u8282\u200b\uff09\nreg [15:0] package_id;    // IP\u200b\u6807\u8bc6\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u6bcf\u5305\u200b\u9012\u589e\u200b\uff09\nreg [15:0] ip_head_chack; // IP\u200b\u5934\u200b\u6821\u9a8c\u200b\u548c\u200b\u5bc4\u5b58\u5668\u200b\nreg [31:0] add0, add1, add2; // \u200b\u6821\u9a8c\u200b\u548c\u200b\u8ba1\u7b97\u200b\u4e2d\u95f4\u200b\u503c\u200b\nreg [31:0] chack_sum;     // \u200b\u6821\u9a8c\u200b\u548c\u200b\u7d2f\u52a0\u200b\u7ed3\u679c\u200b\nreg [7:0]  tx_type_r;     // \u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u9501\u5b58\u200b\nreg        tx_data_vld_d0, tx_data_vld_d1; // \u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u5ef6\u8fdf\u7ebf\u200b\uff08\u200b\u6253\u200b\u62cd\u200b\uff09\n\n/*--------------------------------------------------*\\\n                       \u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u63a5\u53e3\u200b\n\\*--------------------------------------------------*/\nwire [7:0] tx_data_delay; // \u200b\u5ef6\u8fdf\u200b\u540e\u200b\u7684\u200b\u4e0a\u5c42\u200b\u6570\u636e\u200b\uff08\u200b\u5bf9\u9f50\u200bIP\u200b\u5934\u200b\u65f6\u5e8f\u200b\uff09\n\n/*--------------------------------------------------*\\\n                       \u200b\u534f\u8bae\u200b\u7c7b\u578b\u5b9a\u4e49\u200b\n\\*--------------------------------------------------*/\nlocalparam UDP_TYPE  = 8'd17; // UDP\u200b\u534f\u8bae\u200b\u53f7\u200b\nlocalparam ICMP_TYPE = 8'd1;  // ICMP\u200b\u534f\u8bae\u200b\u53f7\u200b\n\n/*--------------------------------------------------*\\\n                       \u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u9501\u5b58\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    tx_data_vld_d0 &lt;= tx_data_vld; // \u200b\u4e00\u7ea7\u200b\u5ef6\u8fdf\u200b\n    tx_data_vld_d1 &lt;= tx_data_vld_d0; // \u200b\u4e8c\u7ea7\u200b\u5ef6\u8fdf\u200b\nend\n\n// \u200b\u603b\u957f\u5ea6\u200b\u8ba1\u7b97\u200b\uff1a\u200b\u8f7d\u8377\u200b\u957f\u5ea6\u200b+20\u200b\u5b57\u8282\u200bIP\u200b\u5934\u200b\nalways @(posedge sys_clk) begin\n    if (tx_data_vld) \n        ip_tx_length &lt;= tx_length + 20; // \u200b\u5b58\u50a8\u200b\u603b\u957f\u5ea6\u200b\nend\n\n// \u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\u9501\u5b58\u200b\uff08\u200b\u4fdd\u8bc1\u200b\u5305\u5934\u200b\u5b57\u200b\u6bb5\u200b\u4e00\u81f4\u6027\u200b\uff09\nalways @(posedge sys_clk) begin\n    if (tx_data_vld) \n        tx_type_r &lt;= tx_type; // \u200b\u6355\u83b7\u200b\u5f53\u524d\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u53d1\u9001\u200b\u5b57\u8282\u200b\u8ba1\u6570\u5668\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) \n        tx_cnt &lt;= 0;// \u200b\u540c\u6b65\u200b\u590d\u4f4d\u200b\n    else if (tx_cnt == ip_tx_length - 1) \n        tx_cnt &lt;= 0;// \u200b\u5305\u5c3e\u200b\u590d\u4f4d\u200b\n    else if (tx_data_vld || tx_cnt != 0)\n        tx_cnt &lt;= tx_cnt + 1;// \u200b\u6570\u636e\u200b\u6709\u6548\u200b\u6216\u200b\u8ba1\u6570\u200b\u4e2d\u200b\u9012\u589e\u200b\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u8f93\u51fa\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b\u751f\u6210\u200b\n\\*--------------------------------------------------*/\n// \u200b\u5305\u5c3e\u200b\u4fe1\u53f7\u200b\u751f\u6210\u200b\uff08\u200b\u63d0\u524d\u200b1\u200b\u5468\u671f\u200b\uff09\nalways @(posedge sys_clk) begin\n    if (tx_cnt == ip_tx_length - 1) \n        ip_tx_data_last &lt;= 1;\n    else \n        ip_tx_data_last &lt;= 0;\nend\n\n// \u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u751f\u6210\u200b\uff08\u200b\u6d41\u6c34\u7ebf\u200b\u63a7\u5236\u200b\uff09\nalways @(posedge sys_clk) begin\n    if (ip_tx_data_last) \n        ip_tx_data_vld &lt;= 0; // \u200b\u5305\u5c3e\u200b\u5173\u95ed\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    else if (tx_data_vld) \n        ip_tx_data_vld &lt;= 1; // \u200b\u6570\u636e\u200b\u8f93\u5165\u200b\u542f\u52a8\u200b\u53d1\u9001\u200b\nend\n\n/*--------------------------------------------------*\\\n                       IP\u200b\u5305\u5934\u200b\u7ec4\u88c5\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    case(tx_cnt)\n        // [0] \u200b\u7248\u672c\u53f7\u200b(4bit) + \u200b\u5934\u200b\u957f\u5ea6\u200b(4bit): IPv4(0x4), 5*4=20\u200b\u5b57\u8282\u200b\u5934\u200b(0x5)\n        0 : ip_tx_data &lt;= {4'h4, 4'h5}; \n\n        // [1] \u200b\u670d\u52a1\u7c7b\u578b\u200b(TOS)\uff0c\u200b\u9ed8\u8ba4\u200b0\n        1 : ip_tx_data &lt;= 0; \n\n        // [2-3] \u200b\u603b\u957f\u5ea6\u200b\uff08\u200b\u5927\u7aef\u5e8f\u200b\uff09\n        2 : ip_tx_data &lt;= ip_tx_length[15:8]; // \u200b\u9ad8\u5b57\u8282\u200b\n        3 : ip_tx_data &lt;= ip_tx_length[7:0];  // \u200b\u4f4e\u5b57\u8282\u200b\n\n        // [4-5] \u200b\u6807\u8bc6\u200b\u5b57\u200b\u6bb5\u200b\uff08\u200b\u7528\u4e8e\u200b\u5206\u7247\u200b\uff09\n        4 : ip_tx_data &lt;= package_id[15:8]; \n        5 : ip_tx_data &lt;= package_id[7:0];\n\n        // [6-7] \u200b\u6807\u5fd7\u200b(3bit)+\u200b\u5206\u7247\u200b\u504f\u79fb\u200b(13bit)\uff1a\u200b\u9ed8\u8ba4\u200b\u4e0d\u200b\u5206\u7247\u200b\n        6 : ip_tx_data &lt;= {3'b010, 5'h0}; // 010\u200b\u8868\u793a\u200b\u5141\u8bb8\u200b\u5206\u7247\u200b\n        7 : ip_tx_data &lt;= 8'h0;\n\n        // [8] \u200b\u751f\u5b58\u200b\u65f6\u95f4\u200b(TTL)\uff1a\u200b\u9ed8\u8ba4\u200b128\u200b\u8df3\u200b\n        8 : ip_tx_data &lt;= 8'h80;\n\n        // [9] \u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\uff08UDP/ICMP\uff09\n        9 : ip_tx_data &lt;= tx_type_r;\n\n        // [10-11] \u200b\u5934\u90e8\u200b\u6821\u9a8c\u200b\u548c\u200b\uff08\u200b\u5927\u7aef\u5e8f\u200b\uff09\n        10 : ip_tx_data &lt;= ip_head_chack[15:8];\n        11 : ip_tx_data &lt;= ip_head_chack[7:0];\n\n        // [12-15] \u200b\u6e90\u200bIP\u200b\u5730\u5740\u200b\uff08\u200b\u5927\u7aef\u5e8f\u200b\uff09\n        12 : ip_tx_data &lt;= LOCAL_IP_ADDR[31:24];\n        13 : ip_tx_data &lt;= LOCAL_IP_ADDR[23:16];\n        14 : ip_tx_data &lt;= LOCAL_IP_ADDR[15:8];\n        15 : ip_tx_data &lt;= LOCAL_IP_ADDR[7:0];\n\n        // [16-19] \u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\uff08\u200b\u5927\u7aef\u5e8f\u200b\uff09\n        16 : ip_tx_data &lt;= TARGET_IP_ADDR[31:24];\n        17 : ip_tx_data &lt;= TARGET_IP_ADDR[23:16];\n        18 : ip_tx_data &lt;= TARGET_IP_ADDR[15:8];\n        19 : ip_tx_data &lt;= TARGET_IP_ADDR[7:0];\n\n        // [20+] \u200b\u8f7d\u8377\u200b\u6570\u636e\u200b\uff08\u200b\u5ef6\u8fdf\u200b\u5bf9\u9f50\u200b\uff09\n        default : ip_tx_data &lt;= tx_data_delay;\n    endcase\nend\n\n/*--------------------------------------------------*\\\n                       IP\u200b\u6807\u8bc6\u200b\u5b57\u200b\u6bb5\u200b\u7ba1\u7406\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n)\n        package_id &lt;= 0; // \u200b\u590d\u4f4d\u200b\u6e05\u96f6\u200b\n    else if (ip_tx_data_last)\n        package_id &lt;= package_id + 1; // \u200b\u6bcf\u5305\u200b\u9012\u589e\u200b\nend\n\n/*--------------------------------------------------*\\\n                       IP\u200b\u5934\u200b\u6821\u9a8c\u200b\u548c\u200b\u8ba1\u7b97\u200b\n\\*--------------------------------------------------*/\n// \u200b\u6821\u9a8c\u200b\u548c\u200b\u7b97\u6cd5\u200b\uff1a\u200b\u53cd\u7801\u200b\u6c42\u548c\u200b\u518d\u200b\u53d6\u53cd\u200b\n// \u200b\u8ba1\u7b97\u200b\u6b65\u9aa4\u200b\uff1a\n// 1. \u200b\u5c06\u200bIP\u200b\u5934\u200b\u6309\u200b16\u200b\u4f4d\u200b\u5206\u7ec4\u200b\u6c42\u548c\u200b\n// 2. \u200b\u7d2f\u52a0\u200b\u8fdb\u4f4d\u200b\u56de\u5377\u200b\n// 3. \u200b\u7ed3\u679c\u200b\u53d6\u53cd\u200b\nalways @(posedge sys_clk) begin\n    // \u200b\u7b2c\u4e00\u7ec4\u200b\uff1a\u200b\u7248\u672c\u200b(4)+\u200b\u5934\u957f\u200b(4)+TOS(8) | \u200b\u603b\u957f\u5ea6\u200b(16)\n    add0 &lt;= 16'h4500 + ip_tx_length + package_id;\n\n    // \u200b\u7b2c\u4e8c\u7ec4\u200b\uff1a\u200b\u6807\u5fd7\u200b(3)+\u200b\u504f\u79fb\u200b(13) | TTL(8)+\u200b\u534f\u8bae\u200b(8)\n    add1 &lt;= 16'h4000 + {8'h80, tx_type_r} + LOCAL_IP_ADDR[31:16];\n\n    // \u200b\u7b2c\u4e09\u7ec4\u200b\uff1a\u200b\u6e90\u200bIP\u200b\u540e\u200b\u534a\u200b+\u200b\u76ee\u6807\u200bIP\n    add2 &lt;= LOCAL_IP_ADDR[15:0] + TARGET_IP_ADDR[31:16] + TARGET_IP_ADDR[15:0];\n\n    // \u200b\u7d2f\u52a0\u200b\u603b\u548c\u200b\n    chack_sum &lt;= add0 + add1 + add2;\nend\n\n// \u200b\u6821\u9a8c\u200b\u548c\u200b\u7ed3\u679c\u200b\u5904\u7406\u200b\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n)\n        ip_head_chack &lt;= 0;\n    else if (tx_cnt == 5) \n        // \u200b\u8fdb\u4f4d\u200b\u56de\u5377\u200b\uff1a\u200b\u5c06\u200b32\u200b\u4f4d\u200b\u548c\u200b\u8f6c\u6362\u200b\u4e3a\u200b16\u200b\u4f4d\u200b\n        ip_head_chack &lt;= chack_sum[31:16] + chack_sum[15:0]; \n    else if (tx_cnt == 6)\n        // \u200b\u6700\u7ec8\u200b\u53d6\u53cd\u200b\n        ip_head_chack &lt;= ~ip_head_chack; \nend\n\n/*--------------------------------------------------*\\\n                        ARP\u200b\u67e5\u8be2\u200b\u89e6\u53d1\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) begin\n        rd_arp_list_en &lt;= 0;\n        rd_arp_list_ip &lt;= 0;\n    end\n    // \u200b\u68c0\u6d4b\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4e0a\u5347\u200b\u6cbf\u200b\uff08\u200b\u542f\u52a8\u200bARP\u200b\u67e5\u8be2\u200b\uff09\n    else if (tx_data_vld_d0 &amp;&amp; ~tx_data_vld_d1) begin\n        rd_arp_list_en &lt;= 1'b1;\n        rd_arp_list_ip &lt;= TARGET_IP_ADDR;\n    end else begin\n        rd_arp_list_en &lt;= 0; // \u200b\u5355\u200b\u5468\u671f\u200b\u8109\u51b2\u200b\u4fe1\u53f7\u200b\n    end\nend\n\n// ********** \u200b\u6570\u636e\u200b\u5ef6\u8fdf\u200b\u5bf9\u9f50\u200b\u6a21\u5757\u200b **********\n// \u200b\u529f\u80fd\u200b\uff1a\u200b\u5c06\u200b\u4e0a\u5c42\u200b\u6570\u636e\u200b\u5ef6\u8fdf\u200b20\u200b\u62cd\u200b\uff0c\u200b\u5bf9\u9f50\u200bIP\u200b\u5934\u200b\u65f6\u5e8f\u200b\nc_shift_ram_0 ip_delay (\n  .A(19),       // \u200b\u5ef6\u8fdf\u200b\u6df1\u5ea6\u200b = A+1 = 20\u200b\u62cd\u200b\n  .D(tx_data),   // \u200b\u539f\u59cb\u6570\u636e\u200b\u8f93\u5165\u200b\n  .CLK(sys_clk),     // \u200b\u540c\u6b65\u200b\u65f6\u949f\u200b\n  .Q(tx_data_delay) // \u200b\u5ef6\u8fdf\u200b\u540e\u200b\u8f93\u51fa\u200b\n);\n\n endmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#194","title":"1.9.4 \u200b\u4ee3\u7801\u200b\u4eff\u771f\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#110-udpudp_receivev","title":"1.10 UDP\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\uff1audp_receive.v","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1101-udp","title":"1.10.1 UDP\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u529f\u80fd\u200b\u7b80\u4ecb","text":"<p>\u200b\u5728\u200b\u8fd9\u200b\u4e00\u8282\u200b\u4e2d\u5230\u200b\u4e86\u200bUDP\u200b\u6a21\u5757\u200b\u7684\u200b\u7f16\u5199\u200b\u4e86\u200b\uff0cUDP\u200b\u6a21\u5757\u200b\u662f\u200b\u6700\u200b\u63a5\u8fd1\u200b\u6570\u636e\u200b\u4e0e\u200bFPGA\u200b\u4ea4\u4e92\u200b\u7684\u200b\u6a21\u5757\u200b\u3002</p> <p>FPGA\u200b\u5728\u200b\u63a5\u6536\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5148\u200b\u7ecf\u8fc7\u200bremii_receive\u200b\u6a21\u5757\u200b\u5c06\u200brgmii\u200b\u683c\u5f0f\u200b\u7684\u200b\u6570\u636e\u200b\u8f6c\u6362\u6210\u200bgmii\u200b\u683c\u5f0f\u200b\u5e76\u200b\u7ecf\u8fc7\u200b\u591a\u5c42\u200bBUFG\u200b\u7a33\u5b9a\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u518d\u200b\u7ecf\u8fc7\u200bmac_receive\u200b\u6a21\u5757\u200b\u5c06\u200b\u6570\u636e\u200b\u53bb\u6389\u200bmac\u200b\u5934\u90e8\u200b\uff0c\u200b\u7136\u540e\u200b\u8fdb\u5165\u200bip_receive\u200b\u6a21\u5757\u200b\u53bb\u6389\u200bip\u200b\u5934\u90e8\u200b\uff0c\u200b\u5c06\u200b\u6700\u540e\u200b\u7684\u200b\u6709\u6548\u200b\u6570\u636e\u200b\u4f20\u9012\u200b\u7ed9\u200budp_receive\u200b\u6a21\u5757\u200b\u53bb\u6389\u200budp\u200b\u5934\u90e8\u200b\uff0c\u200b\u6700\u540e\u200b\u5c31\u200b\u4f1a\u200b\u88ab\u200bFPGA\u200b\u8bfb\u53d6\u200b\u540e\u200b\u6267\u884c\u200b\u6307\u5b9a\u200b\u7684\u200b\u64cd\u4f5c\u200b\u4e86\u200b\u3002</p> <p>\u200b\u5728\u200bFPGA\u200b\u53d1\u9001\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u5148\u200b\u5c06\u200bFPGA\u200b\u7684\u200b\u6570\u636e\u200b\u7ecf\u8fc7\u200budp_send\u200b\u6a21\u5757\u200b\u6dfb\u52a0\u200b\u5934\u90e8\u200b\uff0c\u200b\u518d\u200b\u8fdb\u5165\u200bip_send\u200b\u6dfb\u52a0\u200bIP\u200b\u5934\u90e8\u200b\uff0c\u200b\u63a5\u7740\u200b\u8fdb\u5165\u200bmac_send\u200b\u6dfb\u52a0\u200bmac\u200b\u5934\u90e8\u200b\uff0c\u200b\u6700\u540e\u200b\u7ecf\u8fc7\u200bregmii_send\u200b\u5c06\u200bgmii\u200b\u6570\u636e\u200b\u8f6c\u200b\u6210\u200brgmii\u200b\u6570\u636e\u200b\u5e76\u200b\u7ecf\u8fc7\u200b\u591a\u5c42\u200bBUFG\u200b\u7528\u6765\u200b\u7a33\u5b9a\u200b\u4fe1\u53f7\u200b\u3002</p> <p>\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u4e0e\u200b\u4e4b\u524d\u200b\u6a21\u5757\u200b\u7684\u200b\u529f\u80fd\u200b\u5f88\u200b\u76f8\u4f3c\u200b\uff0c\u200b\u5bf9\u200b\u4f20\u8fdb\u200b\u7684\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5265\u79bb\u200b\u6570\u636e\u200b\u5934\u90e8\u200b\u7559\u4e0b\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u518d\u200b\u5c06\u200b\u4fe1\u53f7\u200b\u4f20\u9012\u200b\u7ed9\u200b\u4e0b\u200b\u4e00\u5c42\u200b\u5373\u53ef\u200b</p> <p>\u200b\u5728\u200b\u524d\u9762\u200b\u7684\u200b\u51e0\u4e2a\u200b\u6a21\u5757\u200b\u4e2d\u200b\u5df2\u7ecf\u200b\u5f88\u200b\u8be6\u7ec6\u200b\u7684\u200b\u8bb2\u200b\u4e86\u200b\u5982\u4f55\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u5265\u79bb\u200b\u5305\u5934\u200b\uff0c\u200b\u8fd9\u91cc\u200b\u5c31\u200b\u4e0d\u518d\u200b\u8d58\u8ff0\u200b\uff0c\u200b\u4e0b\u9762\u200b\u7ed9\u200b\u5927\u5bb6\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u7684\u200b\u4ee3\u7801\u200b\u5de5\u7a0b\u200b</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1102-udp","title":"1.10.2 UDP\u200b\u5c42\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-16 14:54:03\n * @LastEditTime: 2025-02-16 16:46:19\n * @FilePath: ttl/udp_receive.vp_receive.v\n * @Description:UDP\u200b\u6570\u636e\u5305\u200b\u63a5\u6536\u200b\u89e3\u6790\u200b\u6a21\u5757\u200b\uff0c\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\u5982\u4e0b\u200b\uff1a\n  1. \u200b\u8fc7\u6ee4\u200b\u6307\u5b9a\u200b\u672c\u5730\u200b\u7aef\u53e3\u200b\u7684\u200bUDP\u200b\u6570\u636e\u5305\u200b\n  2. \u200b\u5265\u79bb\u200bUDP\u200b\u5934\u90e8\u200b\uff088\u200b\u5b57\u8282\u200b\uff09\u200b\u540e\u200b\u5411\u4e0b\u200b\u4e00\u5c42\u200b\u4f20\u9012\u200b\u6709\u6548\u200b\u6570\u636e\u200b\n  3. \u200b\u81ea\u52a8\u200b\u8ba1\u7b97\u200b\u6709\u6548\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\n  4. \u200b\u652f\u6301\u200b\u6570\u636e\u6d41\u200b\u8fde\u7eed\u200b\u4f20\u8f93\u200b\u63a7\u5236\u200b\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\n\n module udp_receive#(\n    parameter LOCAL_PORT = 16'h8060 // \u200b\u76d1\u542c\u200b\u672c\u5730\u200b\u7aef\u53e3\u200b\uff0c\u200b\u9ed8\u8ba4\u200b8060\u200b\u7aef\u53e3\u200b\n )(\n    /*-------\u200b\u7cfb\u7edf\u200b\u4fe1\u53f7\u200b--------*/\n    input           sys_clk             ,\n    input           sys_reset_n         ,\n\n    /*-------IP\u200b\u5c42\u200b\u63a5\u53e3\u200b--------*/\n    input           udp_rx_data_vld     , // UDP\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    input           udp_rx_data_last    , // UDP\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\n    input [7:0]     udp_rx_data         , // UDP\u200b\u6570\u636e\u200b\u5b57\u8282\u200b\n    input [15:0]    udp_rx_length       , // UDP\u200b\u6570\u636e\u200b\u603b\u957f\u5ea6\u200b\n\n    /*-------\u200b\u5e94\u7528\u5c42\u200b\u7aef\u53e3\u200b--------*/\n    output reg      app_rx_data_vld     , // \u200b\u5e94\u7528\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    output reg      app_rx_data_last    , // \u200b\u5e94\u7528\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\n    output reg [7:0] app_rx_data        , // \u200b\u5e94\u7528\u200b\u6570\u636e\u200b\u5b57\u8282\u200b\n    output reg [15:0] app_rx_length       // \u200b\u5e94\u7528\u200b\u6570\u636e\u200b\u603b\u957f\u5ea6\u200b\n );\n/*--------------------------------------------------*\\\n                       \u200b\u5185\u90e8\u200b\u4fe1\u53f7\u200b\u5b9a\u4e49\u200b\n\\*--------------------------------------------------*/\nreg [10:0] rx_cnt;\nreg [15:0] rx_target_port;\n\n/*--------------------------------------------------*\\\n                       \u200b\u5b57\u8282\u200b\u8ba1\u6570\u5668\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) begin\n        rx_cnt &lt;= 0;\n    end\n    else if(udp_rx_data_vld)\n        rx_cnt &lt;= rx_cnt + 1'b1;\n    else\n        rx_cnt &lt;= 0;\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u76ee\u6807\u200b\u7aef\u53e3\u200b\u6355\u83b7\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\n/*\nUDP\u200b\u5305\u5934\u200b\u7ed3\u6784\u200b\uff088\u200b\u5b57\u8282\u200b\uff09\uff1a\n0-1: \u200b\u6e90\u200b\u7aef\u53e3\u200b | 2-3: \u200b\u76ee\u6807\u200b\u7aef\u53e3\u200b | 4-5: \u200b\u957f\u5ea6\u200b | 6-7: \u200b\u6821\u9a8c\u200b\u548c\u200b\n*/\nalways @(posedge sys_clk)begin\n    case (rx_cnt)\n       2 : rx_target_port &lt;= udp_rx_data; // \u200b\u6355\u83b7\u200b\u9ad8\u5b57\u8282\u200b\n       3 : rx_target_port &lt;= udp_rx_data; // \u200b\u6355\u83b7\u200b\u4f4e\u5b57\u8282\u200b\n    endcase\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u5e94\u7528\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    // \u200b\u89e6\u53d1\u200b\u6761\u4ef6\u200b\uff1a\u200b\u7aef\u53e3\u200b\u5339\u914d\u200b + \u200b\u8d85\u8fc7\u200bUDP\u200b\u5934\u200b\uff08&gt;=8\u200b\u5b57\u8282\u200b\uff09\n    if ((LOCAL_PORT == rx_target_port) &amp;&amp; (rx_cnt &gt;= 8)) begin\n        // \u200b\u76f4\u901a\u200b\u4fe1\u53f7\u200b\n        app_rx_data_vld  &lt;= udp_rx_data_vld;  // \u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n        app_rx_data_last &lt;= udp_rx_data_last; // \u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\n\n        // \u200b\u6570\u636e\u200b\u900f\u4f20\u200b\n        app_rx_data      &lt;= udp_rx_data;      // \u200b\u8f7d\u8377\u200b\u6570\u636e\u200b\n\n        // \u200b\u957f\u5ea6\u200b\u8ba1\u7b97\u200b\uff1a\u200b\u603b\u957f\u200b - UDP\u200b\u5934\u200b\u957f\u5ea6\u200b\uff088\u200b\u5b57\u8282\u200b\uff09\n        app_rx_length    &lt;= udp_rx_length - 8;\n    end else begin\n        // \u200b\u975e\u200b\u76ee\u6807\u200b\u7aef\u53e3\u200b\u6216\u200b\u5934\u90e8\u200b\u6570\u636e\u200b\u65f6\u200b\u5173\u95ed\u200b\u8f93\u51fa\u200b\n        app_rx_data_vld  &lt;= 0;\n        app_rx_data_last &lt;= 0;\n        app_rx_data      &lt;= 0;\n        app_rx_length    &lt;= 0;\n    end\nend\n\n endmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1103","title":"1.10.3 \u200b\u4ee3\u7801\u200b\u4eff\u771f\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#111-udpudp_sendv","title":"1.11 UDP\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\uff1audp_send.v","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1111-udp","title":"1.11.1 UDP\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u7b80\u4ecb","text":"<p>\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u7684\u200b\u529f\u80fd\u200b\u4e5f\u200b\u6bd4\u8f83\u7b80\u5355\u200b\uff0c\u200b\u8fd8\u662f\u200b\u7528\u6765\u200b\u5c06\u200b\u6570\u636e\u200b\u62fc\u63a5\u200b\u4e0a\u200bUDP\u200b\u5934\u90e8\u200b\u540e\u200b\u8f93\u51fa\u200b\u7ed9\u200b\u4e0b\u200b\u4e00\u5c42\u200b</p> <p>UDP\u200b\u5934\u90e8\u200b\u683c\u5f0f\u200b\u5982\u4e0b\u200b\uff1a</p> <pre><code>0-1: \u200b\u6e90\u200b\u7aef\u53e3\u200b | 2-3: \u200b\u76ee\u6807\u200b\u7aef\u53e3\u200b | 4-5: \u200b\u957f\u5ea6\u200b | 6-7: \u200b\u6821\u9a8c\u200b\u548c\u200b\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1112-udp","title":"1.11.2 UDP\u200b\u5c42\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-16 15:36:47\n * @LastEditTime: 2025-02-16 16:57:58\n * @FilePath: rtl/udp_send.v\n * @Description:UDP\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\uff0c\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\u5982\u4e0b\u200b\uff1a\n  1. \u200b\u5c06\u200b\u7528\u6237\u200b\u63d0\u4f9b\u200b\u7684\u200b\u6570\u636e\u200b\u628a\u200b\u5305\u6210\u200b\u7b26\u5408\u200bUDP\u200b\u534f\u8bae\u200b\u7684\u200b\u6570\u636e\u200b\u62a5\u200b\n  2. \u200b\u6a21\u5757\u200b\u5185\u5bb9\u200b\u81ea\u52a8\u200b\u751f\u6210\u200bUDP\u200b\u62a5\u5934\u200b\uff0c\u200b\u5904\u7406\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u903b\u8f91\u200b\uff08\u200b\u5305\u62ec\u200b\u6570\u636e\u200b\u65f6\u5e8f\u200b\u5bf9\u9f50\u200b\uff0c\u200b\u72b6\u6001\u673a\u200b\u7ba1\u7406\u200b\u548c\u200b\u534f\u8bae\u200b\u63a7\u5236\u200b\uff09 \n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\n\n module udp_send #(\n    parameter LOCAL_PORT    = 16'h0, // \u200b\u672c\u5730\u200b\u7aef\u53e3\u53f7\u200b\n    parameter TARGET_PORT   = 16'h0 // \u200b\u76ee\u6807\u200b\u7aef\u53e3\u53f7\u200b\n ) (\n    /*-------\u200b\u7cfb\u7edf\u200b\u4fe1\u53f7\u200b--------*/\n    input               sys_clk             ,\n    input               sys_reset_n         ,\n\n    /*-------\u200b\u4e0e\u200bip_send\u200b\u6a21\u5757\u200b\u4ea4\u4e92\u200b\u4fe1\u53f7\u200b--------*/\n    output reg          udp_tx_data_vld     , // UDP\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    output reg          udp_tx_data_last    , // UDP\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\n    output reg [7:0]    udp_tx_data         , // UDP\u200b\u6570\u636e\u200b\n    output reg [15:0]   udp_tx_length       , // UDP\u200b\u6570\u636e\u200b\u603b\u957f\u5ea6\u200b\n\n    /*-------\u200b\u7528\u6237\u200b\u53d1\u9001\u200b\u7aef\u53e3\u200b--------*/\n    input               app_tx_data_vld     , // \u200b\u7528\u6237\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    input               app_tx_data_last    , // \u200b\u7528\u6237\u200b\u6570\u636e\u200b\u7ed3\u675f\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\n    input [7:0]         app_tx_data         , // \u200b\u7528\u6237\u200b\u6570\u636e\u200b\n    input [15:0]        app_tx_length       , // \u200b\u7528\u6237\u200b\u6570\u636e\u200b\u603b\u957f\u5ea6\u200b\n    output              app_tx_req          , // \u200b\u7528\u6237\u200b\u6570\u636e\u200b\u8bf7\u6c42\u200b\u4fe1\u53f7\u200b\n    output              app_tx_ready          // \u200b\u7528\u6237\u200b\u51c6\u5907\u200b\u597d\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u8868\u793a\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u7528\u6237\u200b\u6570\u636e\u200b\n );\nlocalparam  READY_CNT_MAX =  50; // \u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u5e38\u6570\u200b\uff0c\u200b\u7528\u4e8e\u200b\u63a7\u5236\u200bapp_tx_ready\u200b\u4fe1\u53f7\u200b\u7684\u200b\u95f4\u9694\u200b\n/*--------------------------------------------------*\\\n                       \u200b\u5185\u90e8\u200b\u4fe1\u53f7\u200b\u5b9a\u4e49\u200b\n\\*--------------------------------------------------*/\nreg  [7:0]  ready_cnt          ;   // app_tx_ready\u200b\u4fe1\u53f7\u200b\u63a7\u5236\u200b\u76f8\u5173\u200b\u7684\u200b\u8ba1\u6570\u5668\u200b\nreg         app_tx_data_vld_r  ;   // \u200b\u7528\u6237\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u5bc4\u5b58\u5668\u200b\nreg         app_tx_data_last_r ;   // \u200b\u7528\u6237\u200b\u6570\u636e\u200b\u672b\u5c3e\u200b\u4fe1\u53f7\u200b\u5bc4\u5b58\u5668\u200b\nreg  [7:0]  app_tx_data_r      ;   // \u200b\u7528\u6237\u200b\u6570\u636e\u200b\u5bc4\u5b58\u5668\u200b\nreg  [15:0] app_tx_length_r    ;   // \u200b\u7528\u6237\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u5bc4\u5b58\u5668\u200b\nreg  [10:0] tx_cnt             ;   // \u200b\u4f20\u8f93\u200b\u8ba1\u6570\u5668\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8ddf\u8e2a\u200b\u5f53\u524d\u200b\u6570\u636e\u4f20\u8f93\u200b\u7684\u200b\u8fdb\u5ea6\u200b\nwire [7:0]  app_tx_data_delay  ;   // \u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u5ef6\u8fdf\u200b\u540e\u200b\u7684\u200b\u7528\u6237\u200b\u6570\u636e\u200b\n\n/*--------------------------------------------------*\\\n                       \u200b\u7528\u6237\u200b\u53d1\u9001\u200b\u8bf7\u6c42\u200b\u4fe1\u53f7\u200b\n\\*--------------------------------------------------*/\nassign app_tx_req = app_tx_data_vld;   // \u200b\u7528\u6237\u200b\u6570\u636e\u200b\u8bf7\u6c42\u200b\u4fe1\u53f7\u200b\u76f4\u63a5\u200b\u6765\u81ea\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n\n/*--------------------------------------------------*\\\n                       \u200b\u6253\u200b\u62cd\u200b\uff0c\u200b\u91c7\u6837\u200b\u7528\u6237\u200b\u6570\u636e\u200b\n\\*--------------------------------------------------*/\n// \u200b\u8fd9\u90e8\u5206\u200b\u903b\u8f91\u200b\u7528\u4e8e\u200b\u5728\u200b\u65f6\u949f\u200b\u8fb9\u6cbf\u200b\u5bf9\u200b\u7528\u6237\u200b\u6570\u636e\u4fe1\u53f7\u200b\u8fdb\u884c\u200b\u91c7\u6837\u200b\u548c\u200b\u4fdd\u6301\u200b\uff0c\u200b\u786e\u4fdd\u200b\u6570\u636e\u200b\u7a33\u5b9a\u200b\nalways @(posedge sys_clk) begin\n    if (app_tx_ready) begin\n       app_tx_data_vld_r  &lt;= app_tx_data_vld;   // \u200b\u91c7\u6837\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n       app_tx_data_last_r &lt;= app_tx_data_last;  // \u200b\u91c7\u6837\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u672b\u5c3e\u200b\u4fe1\u53f7\u200b\n       app_tx_data_r      &lt;= app_tx_data;       // \u200b\u91c7\u6837\u200b\u7528\u6237\u200b\u6570\u636e\u200b\n    end\n    else begin\n       app_tx_data_vld_r  &lt;= 0;                 // \u200b\u5728\u200b\u975e\u200b\u51c6\u5907\u200b\u72b6\u6001\u200b\u4e0b\u200b\uff0c\u200b\u7f6e\u200b\u4e3a\u200b\u65e0\u6548\u200b\n       app_tx_data_last_r &lt;= 0;                 // \u200b\u6e05\u9664\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u672b\u5c3e\u200b\u4fe1\u53f7\u200b\n       app_tx_data_r      &lt;= 0;                 // \u200b\u6e05\u9664\u200b\u7528\u6237\u200b\u6570\u636e\u200b\n    end\nend\n// \u200b\u5bf9\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u8fdb\u884c\u200b\u91c7\u6837\u200b\u548c\u200b\u4fdd\u6301\u200b\nalways @(posedge sys_clk) begin\n    if (app_tx_data_vld &amp;&amp; app_tx_ready) \n        app_tx_length_r &lt;= app_tx_length;       // \u200b\u5728\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4e14\u200b\u51c6\u5907\u200b\u597d\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u91c7\u6837\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\n    else \n        app_tx_length_r &lt;= app_tx_length_r;     // \u200b\u4fdd\u6301\u200b\u5f53\u524d\u200b\u957f\u5ea6\u200b\nend\n\n/*--------------------------------------------------*\\\n                       tx_cnt\u200b\u8ba1\u6570\u5668\u200b\uff1a\u200b\u8ddf\u8e2a\u200b\u4f20\u8f93\u200b\u8fdb\u5ea6\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) \n        tx_cnt &lt;= 0;                            // \u200b\u590d\u4f4d\u200b\u65f6\u200b\uff0c\u200b\u6e05\u96f6\u200b\u8ba1\u6570\u5668\u200b\n    else if (app_tx_length_r &lt; 18 &amp;&amp; tx_cnt == 25)  // \u200b\u6570\u636e\u200b\u6700\u5c0f\u200b\u5e27\u200b\u957f\u4e3a\u200b18 byte\uff0c\u200b\u4e0d\u8db3\u200b\u65f6\u200b\u586b\u5145\u200b\u81f3\u200b 26 byte\n        tx_cnt &lt;= 0;                            // \u200b\u5f53\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u5c0f\u4e8e\u200b18\uff0c\u200b\u4e14\u200b tx_cnt \u200b\u8fbe\u5230\u200b25\u200b\u65f6\u200b\u590d\u4f4d\u200b\n    else if (app_tx_length_r &gt;= 18 &amp;&amp; tx_cnt == app_tx_length_r + 7)\n        tx_cnt &lt;= 0;                            // \u200b\u5f53\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b18\uff0c\u200b\u4e14\u200b tx_cnt \u200b\u8fbe\u5230\u200b app_tx_length_r +7\u200b\u65f6\u200b\u590d\u4f4d\u200b\n    else if (app_tx_data_vld_r || tx_cnt != 0)\n        tx_cnt &lt;= tx_cnt + 1;                   // \u200b\u7528\u6237\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u6216\u200b\u8ba1\u6570\u5668\u200b\u975e\u200b\u96f6\u65f6\u200b\u9012\u589e\u200b\n    else \n        tx_cnt &lt;= tx_cnt;                       // \u200b\u4fdd\u6301\u200b\u8ba1\u6570\u5668\u200b\u503c\u200b\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u7ec4\u5305\u200b\uff1a\u200b\u751f\u6210\u200bUDP\u200b\u6570\u636e\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk)begin\n    if(!sys_reset_n)begin\n        udp_tx_data &lt;= 0; // \u200b\u590d\u4f4d\u200b\u65f6\u200b\u53d1\u9001\u6570\u636e\u200b\u6e05\u96f6\u200b\n    end\n    else begin\n       case(tx_cnt)\n            0 : udp_tx_data &lt;= LOCAL_PORT[15:8];    // \u200b\u53d1\u9001\u200b\u672c\u5730\u200b\u7aef\u53e3\u200b\u7684\u200b\u9ad8\u5b57\u8282\u200b\n            1 : udp_tx_data &lt;= LOCAL_PORT[7:0];     // \u200b\u53d1\u9001\u200b\u672c\u5730\u200b\u7aef\u53e3\u200b\u7684\u200b\u4f4e\u5b57\u8282\u200b\n\n            2 : udp_tx_data &lt;= TARGET_PORT[15:8];   // \u200b\u53d1\u9001\u200b\u76ee\u6807\u200b\u7aef\u53e3\u200b\u7684\u200b\u9ad8\u5b57\u8282\u200b\n            3 : udp_tx_data &lt;= TARGET_PORT[7:0];    // \u200b\u53d1\u9001\u200b\u76ee\u6807\u200b\u7aef\u53e3\u200b\u7684\u200b\u4f4e\u5b57\u8282\u200b\n\n            4 : udp_tx_data &lt;= udp_tx_length[15:8]; // \u200b\u53d1\u9001\u200bUDP\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u7684\u200b\u9ad8\u5b57\u8282\u200b\n            5 : udp_tx_data &lt;= udp_tx_length[7:0];  // \u200b\u53d1\u9001\u200bUDP\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u7684\u200b\u4f4e\u5b57\u8282\u200b\n\n            6 : udp_tx_data &lt;= 0;                  // \u200b\u586b\u5145\u200b\u4e24\u4e2a\u200b\u5b57\u8282\u200b\u7684\u200b0\n            7 : udp_tx_data &lt;= 0;                  // \u200b\u586b\u5145\u200b\u4e24\u4e2a\u200b\u5b57\u8282\u200b\u7684\u200b0\n            default : udp_tx_data &lt;= app_tx_data_delay; // \u200b\u53d1\u9001\u200b\u7528\u6237\u200b\u6570\u636e\u200b\n       endcase\n    end\nend\n// \u200b\u6839\u636e\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u751f\u6210\u200bUDP\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\nalways @(posedge sys_clk) begin\n    if (app_tx_data_vld_r &amp;&amp; app_tx_length_r &lt;= 18) \n        udp_tx_length &lt;= 26;                      // \u200b\u5f53\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u5c0f\u4e8e\u200b18\u200b\u65f6\u200b\uff0cUDP\u200b\u6570\u636e\u200b\u603b\u957f\u5ea6\u200b\u4e3a\u200b26\n    else if (app_tx_data_vld_r &amp;&amp;  app_tx_length_r &gt; 18) \n        udp_tx_length &lt;= app_tx_length_r + 8;     // \u200b\u5f53\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u5927\u4e8e\u200b18\u200b\u65f6\u200b\uff0cUDP\u200b\u6570\u636e\u200b\u603b\u957f\u5ea6\u200b\u4e3a\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u52a0\u200b8\n    else \n        udp_tx_length &lt;= udp_tx_length;           // \u200b\u4fdd\u6301\u200bUDP\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\nend\n\n// \u200b\u63a7\u5236\u200budp_tx_data_vld\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u8868\u793a\u200b\u6570\u636e\u200b\u6709\u6548\u200b\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) \n        udp_tx_data_vld &lt;= 0;                     // \u200b\u590d\u4f4d\u200b\u65f6\u200b\uff0c\u200b\u6570\u636e\u200b\u65e0\u6548\u200b\n    else if (udp_tx_data_last) \n        udp_tx_data_vld &lt;= 0;                     // \u200b\u6570\u636e\u200b\u672b\u5c3e\u200b\u65f6\u200b\uff0c\u200b\u6570\u636e\u200b\u65e0\u6548\u200b\n    else if (app_tx_data_vld_r)\n        udp_tx_data_vld &lt;= 1;                     // \u200b\u7528\u6237\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u65f6\u200b\uff0c\u200b\u6570\u636e\u200b\u6709\u6548\u200b\n    else \n        udp_tx_data_vld &lt;= udp_tx_data_vld;       // \u200b\u4fdd\u6301\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\nend\n\n// \u200b\u63a7\u5236\u200budp_tx_data_last\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u8868\u793a\u200b\u6570\u636e\u200b\u672b\u5c3e\u200b\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) \n        udp_tx_data_last &lt;= 0;                    // \u200b\u590d\u4f4d\u200b\u65f6\u200b\uff0c\u200b\u6570\u636e\u200b\u975e\u200b\u672b\u5c3e\u200b\n    else if (app_tx_length_r &lt; 18 &amp;&amp; tx_cnt == 25) \n        udp_tx_data_last &lt;= 1'b1;                 // \u200b\u5f53\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u5c0f\u4e8e\u200b18\uff0c\u200b\u4e14\u200btx_cnt=25\u200b\u65f6\u200b\uff0c\u200b\u6570\u636e\u200b\u672b\u5c3e\u200b\n    else if (app_tx_length_r &gt;= 18 &amp;&amp; tx_cnt == app_tx_length_r + 7)\n        udp_tx_data_last &lt;= 1'b1;                 // \u200b\u5f53\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u957f\u5ea6\u200b\u5927\u4e8e\u200b\u7b49\u4e8e\u200b18\uff0c\u200b\u4e14\u200btx_cnt=app_tx_length_r+7\u200b\u65f6\u200b\uff0c\u200b\u6570\u636e\u200b\u672b\u5c3e\u200b\n    else \n        udp_tx_data_last &lt;= 0;                    // \u200b\u5176\u4ed6\u200b\u60c5\u51b5\u200b\u4e3a\u200b\u975e\u200b\u672b\u5c3e\u200b\nend\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) \n        ready_cnt &lt;= 0;\n    else if (ready_cnt == READY_CNT_MAX) \n        ready_cnt &lt;= 0;\n    else if (app_tx_data_last || ready_cnt != 0)\n        ready_cnt &lt;= ready_cnt + 1;\n    else \n        ready_cnt &lt;= ready_cnt;\nend\n\n\n// \u200b\u903b\u8f91\u200b\u590d\u6742\u200b\uff0c\u200b\u4e0b\u9762\u200b\u662f\u200b\u8be6\u7ec6\u200b\u6ce8\u91ca\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\u590d\u4f4d\u200b\uff0c\u200b\u5f53\u200b\u6309\u200b\u4e0b\u200b\u590d\u4f4d\u200b\u6309\u94ae\u200b\u65f6\u200b\uff0csys_reset_n\u200b\u4e3a\u200b\u4f4e\u200b\uff0c\u200b\u53d6\u53cd\u200b\u540e\u200b\u4e3a\u200b\u9ad8\u200b\uff0c\u200b\u5219\u200bapp_tx_ready\u200b\u88ab\u200b\u8d4b\u503c\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\uff0c\u200b\u8868\u793a\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u7528\u6237\u200b\u6570\u636e\u200b\uff0c\n// \u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u6ca1\u6709\u200b\u590d\u4f4d\u200b\u65f6\u200b\uff0c\u200b\u5f53\u200bready_cnt\u200b\u8ba1\u6570\u200b\u5230\u200b0\u200b\u7684\u200b\u65f6\u5019\u200b\uff08\u200b\u6216\u8005\u200b\u5904\u7406\u200b\u5b8c\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b\u540e\u200b\uff09\uff0capp_tx_ready\u200b\u88ab\u200b\u8d4b\u503c\u200b\u7ed9\u200b\u9ad8\u7535\u5e73\u200b\uff0c\u200b\u8868\u793a\u200b\u53ef\u4ee5\u200b\u63a5\u6536\u200b\u7528\u6237\u200b\u6570\u636e\u200b\n// \u200b\u5f53\u200b\u6211\u4eec\u200b\u6ca1\u6709\u200b\u590d\u4f4d\u200b\uff0c\u200b\u5e76\u4e14\u200b\u6709\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b\u6b63\u5728\u200b\u53d1\u9001\u200b\u7684\u200b\u65f6\u5019\u200b\uff08ready_cnt\u200b\u4e0d\u4e3a\u200b\u96f6\u200b\uff09\uff0c\u200b\u5219\u200bapp_tx_ready\u200b\u88ab\u200b\u8d4b\u503c\u200b\u4e3a\u200b\u4f4e\u200b\uff0c\u200b\u8868\u793a\u200b\u6ca1\u6709\u200b\u51c6\u5907\u200b\u597d\u200b\u63a5\u6536\u200b\u65b0\u200b\u7684\u200b\u4e00\u7ec4\u200b\u6570\u636e\u200b\nassign app_tx_ready  = ~sys_reset_n ? 1'b1 : ready_cnt == 0;\n\n/*--------------------------------------------------*\\\n                       \u200b\u6570\u636e\u200b\u5ef6\u8fdf\u200b\u6a21\u5757\u200b\n\\*--------------------------------------------------*/\n// \u200b\u4f7f\u7528\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u5bf9\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6253\u200b\u62cd\u200b\uff0c\u200b\u786e\u4fdd\u200b\u6570\u636e\u200b\u5728\u200b\u6b63\u786e\u200b\u7684\u200b\u65f6\u95f4\u200b\u70b9\u200b\u8fdb\u5165\u200b\u53d1\u9001\u200b\u901a\u9053\u200b\n// \u200b\u6ce8\u610f\u200b\uff1a\u200b\u5982\u679c\u200bA\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b7\uff0cudp_tx_data_delay \u200b\u6253\u200b\u62cd\u200b\u4e3a\u200b8\u200b\u62cd\u200b\nc_shift_ram_0 udp_delay (\n  .A(7),      // input wire [5 : 0] A\n  .D(app_tx_data_r),      // input wire [7 : 0] D\n  .CLK(sys_clk),  // input wire CLK\n  .Q(app_tx_data_delay)      // output wire [7 : 0] Q\n);\n\n\n endmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1113","title":"1.11.3 \u200b\u4ee3\u7801\u200b\u4eff\u771f\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#112-arp","title":"1.12 ARP\u200b\u4ecb\u7ecd","text":"<p>\u200b\u5728\u200b\u6211\u4eec\u200b\u7684\u200b\u7a0b\u5e8f\u8bbe\u8ba1\u200b\u4e2d\u200b\uff0carp\u200b\u9700\u8981\u200b\u4e09\u4e2a\u200b\u6a21\u5757\u200b\u7ec4\u6210\u200b\uff0c<code>arp_receive</code>\u3001<code>arp_send</code>,<code>arp_dynamic_list</code>\u200b\u5206\u522b\u200b\u662f\u200barp\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u3001arp\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u3001arp\u200b\u52a8\u6001\u200b\u5217\u8868\u200b\u6a21\u5757\u200b</p> <p></p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#113-arparp_receivev","title":"1.13 ARP\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\uff1aarp_receive.v","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1131-arp","title":"1.13.1 ARP\u200b\u5c42\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-17 18:00:49\n * @LastEditTime: 2025-02-17 18:08:24\n * @FilePath: rtl/receive.v\n * @Description:\u200b\u7528\u4e8e\u200b\u5c06\u200b IP \u200b\u5730\u5740\u6620\u5c04\u200b\u4e3a\u200b\u7269\u7406\u200b\u7f51\u7edc\u5730\u5740\u200b(MAC\u200b\u5730\u5740\u200b)\uff0c\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\u5982\u4e0b\u200b\uff1a\n  1. \u200b\u63a5\u6536\u200bARP\u200b\u8bf7\u6c42\u200b\u6570\u636e\u5305\u200b\n  2. \u200b\u89e3\u6790\u200b\u5176\u4e2d\u200b\u7684\u200bIP\u200b\u548c\u200bMAC\u200b\u5730\u5740\u200b\u4fe1\u606f\u200b\u5e76\u200b\u5224\u65ad\u200b\u662f\u5426\u200b\u9700\u8981\u200b\u751f\u6210\u200bARP\u200b\u56de\u590d\u200b\u5305\u200b\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\nmodule arp_receive #(\n    parameter LOCAL_IP_ADDR = {8'd0,8'd0,8'd0,8'd0}  // \u200b\u672c\u5730\u200b\u8bbe\u5907\u200b\u7684\u200bIP\u200b\u5730\u5740\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b0.0.0.0\n)(\n    /*-------\u200b\u63a5\u6536\u200b\u65f6\u949f\u200b\u4e0e\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b--------*/\n    input                   app_rx_clk,           // \u200b\u63a5\u6536\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    input                   app_tx_clk,           // \u200b\u53d1\u9001\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    input                   app_rx_reset,         // \u200b\u63a5\u6536\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f4e\u200b\u6709\u6548\u200b\n    input                   app_tx_reset,         // \u200b\u53d1\u9001\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f4e\u200b\u6709\u6548\u200b\n\n    /*-------\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200bARP\u200b\u6570\u636e\u200b--------*/\n    input                   arp_rx_data_vld,      // ARP\u200b\u63a5\u6536\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    input                   arp_rx_data_last,     // ARP\u200b\u63a5\u6536\u6570\u636e\u200b\u6700\u540e\u200b\u4e00\u4f4d\u200b\u6807\u5fd7\u200b\n    input       [7:0]       arp_rx_data,          // ARP\u200b\u63a5\u6536\u6570\u636e\u200b\n\n    /*-------\u200b\u5904\u7406\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b--------*/\n    output reg              rx_source_vld,        // \u200b\u6e90\u200bMAC\u200b\u5730\u5740\u200b\u548c\u6e90\u200bIP\u200b\u5730\u5740\u200b\u6709\u6548\u200b\u6807\u5fd7\u200b\n    output reg  [47:0]      rx_source_mac_addr,   // \u200b\u6e90\u200bMAC\u200b\u5730\u5740\u200b\n    output reg  [31:0]      rx_source_ip_addr,    // \u200b\u6e90\u200bIP\u200b\u5730\u5740\u200b\n\n    output reg              arp_reply_req         // ARP\u200b\u56de\u590d\u200b\u8bf7\u6c42\u200b\u4fe1\u53f7\u200b\n);\n/*--------------------------------------------------*\\\n                       \u200b\u5185\u90e8\u200b\u5bc4\u5b58\u5668\u200b\u4fe1\u53f7\u200b\u5b9a\u4e49\u200b\n\\*--------------------------------------------------*/\nreg [15:0]      opcode;                // \u200b\u64cd\u4f5c\u7801\u200b\uff0c1\u200b\u8868\u793a\u200bARP\u200b\u8bf7\u6c42\u200b\uff0c2\u200b\u8868\u793a\u200bARP\u200b\u5e94\u7b54\u200b\nreg [31:0]      rx_target_ip;          // \u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\nreg             rx_target_ip_chack;    // \u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\u68c0\u67e5\u200b\u6807\u5fd7\u200b\nreg [5:0]       rx_cnt;                // \u200b\u63a5\u6536\u200b\u8ba1\u6570\u5668\u200b\nreg [47:0]      source_mac_addr;       // \u200b\u6e90\u200bMAC\u200b\u5730\u5740\u200b\nreg [31:0]      source_ip_addr;        // \u200b\u6e90\u200bIP\u200b\u5730\u5740\u200b\nreg             arp_reply_active;      // ARP\u200b\u56de\u590d\u200b\u6d3b\u52a8\u200b\u6807\u5fd7\u200b\n\n/*--------------------------------------------------*\\\n                       rx_cnt:\u200b\u63a5\u6536\u200b\u8ba1\u6570\u5668\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\nalways @(posedge app_rx_clk) begin\n    if (app_rx_reset) \n        rx_cnt &lt;= 0;  // \u200b\u91cd\u7f6e\u200b\u8ba1\u6570\u5668\u200b\n    else if (arp_rx_data_vld) \n        rx_cnt &lt;= rx_cnt + 1;  // \u200b\u5982\u679c\u200b\u63a5\u6536\u200b\u5230\u200b\u6709\u6548\u200b\u6570\u636e\u200b\uff0c\u200b\u8ba1\u6570\u5668\u200b\u52a0\u200b1\n    else \n        rx_cnt &lt;= 0;  // \u200b\u5982\u679c\u200b\u6570\u636e\u200b\u65e0\u6548\u200b\uff0c\u200b\u8ba1\u6570\u5668\u200b\u91cd\u7f6e\u200b\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u64cd\u4f5c\u7801\u200b\u7684\u200b\u62fc\u63a5\u200b\n\\*--------------------------------------------------*/\n// \u200b\u6839\u636e\u200b\u63a5\u6536\u200b\u8ba1\u6570\u5668\u200b\u7684\u200b\u503c\u200b\uff0c\u200b\u62fc\u63a5\u200b\u64cd\u4f5c\u7801\u200b\u3002\u200b\u64cd\u4f5c\u7801\u200b\u5728\u200b ARP \u200b\u5305\u200b\u7684\u200b\u7b2c\u200b 6 \u200b\u4f4d\u200b\u548c\u200b\u7b2c\u200b 7 \u200b\u4f4d\u200b\u3002\nalways @(posedge app_rx_clk) begin\n    if (app_rx_reset) \n        opcode &lt;= 0;\n    else if (rx_cnt == 6 || rx_cnt == 7) \n        opcode &lt;= {opcode[7:0], arp_rx_data};  // \u200b\u62fc\u63a5\u200b\u64cd\u4f5c\u7801\u200b\n    else \n        opcode &lt;= opcode;  // \u200b\u4fdd\u6301\u200b\u5f53\u524d\u200b\u64cd\u4f5c\u7801\u200b\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u6e90\u200bMAC\u200b\u5730\u5740\u200b\u62fc\u63a5\u200b\n\\*--------------------------------------------------*/\n// \u200b\u4ece\u200b\u7b2c\u200b 8 \u200b\u4f4d\u5230\u200b\u7b2c\u200b 13 \u200b\u4f4d\u200b\uff0c\u200b\u63a5\u6536\u200b\u5e76\u200b\u62fc\u63a5\u200b\u6e90\u200b MAC \u200b\u5730\u5740\u200b\nalways @(posedge app_rx_clk) begin\n    if (app_rx_reset) \n        source_mac_addr &lt;= 0;\n    else if (rx_cnt &gt;= 8 &amp;&amp; rx_cnt &lt;= 13) \n        source_mac_addr &lt;= {source_mac_addr[39:0], arp_rx_data};  // \u200b\u62fc\u63a5\u200b\u6e90\u200bMAC\u200b\u5730\u5740\u200b\n    else \n        source_mac_addr &lt;= source_mac_addr;\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\u7684\u200b\u62fc\u63a5\u200b\n\\*--------------------------------------------------*/\n// \u200b\u4ece\u200b\u7b2c\u200b 24 \u200b\u4f4d\u5230\u200b\u7b2c\u200b 27 \u200b\u4f4d\u200b\uff0c\u200b\u63a5\u6536\u200b\u5e76\u200b\u62fc\u63a5\u200b\u76ee\u6807\u200b IP \u200b\u5730\u5740\u200b\u3002\nalways @(posedge app_rx_clk) begin\n    if (app_rx_reset) \n        rx_target_ip &lt;= 0;\n    else if (rx_cnt &gt;= 24 &amp;&amp; rx_cnt &lt;= 27) \n        rx_target_ip &lt;= {rx_target_ip[23:0], arp_rx_data};  // \u200b\u62fc\u63a5\u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\n    else \n        rx_target_ip &lt;= rx_target_ip;\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\u68c0\u67e5\u200b\n\\*--------------------------------------------------*/\n// \u200b\u68c0\u67e5\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u76ee\u6807\u200b IP \u200b\u5730\u5740\u200b\u662f\u5426\u662f\u200b\u672c\u5730\u200b\u8bbe\u5907\u200b\u7684\u200b IP \u200b\u5730\u5740\u200b\u3002\u200b\u5982\u679c\u200b\u5339\u914d\u200b\uff0c\u200b\u5219\u200b\u9700\u8981\u200b\u751f\u6210\u200b ARP \u200b\u56de\u590d\u200b\u8bf7\u6c42\u200b\u3002\nalways @(posedge app_rx_clk) begin\n    if (app_rx_reset) \n        rx_target_ip_chack &lt;= 0;\n    else if (rx_target_ip == LOCAL_IP_ADDR) \n        rx_target_ip_chack &lt;= 1'b1;  // \u200b\u5982\u679c\u200b\u76ee\u6807\u200b IP \u200b\u5730\u5740\u200b\u5339\u914d\u200b\u672c\u5730\u200b\u5730\u5740\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 1\n    else if (rx_target_ip != LOCAL_IP_ADDR)\n        rx_target_ip_chack &lt;= 1'b0;  // \u200b\u5982\u679c\u200b\u76ee\u6807\u200b IP \u200b\u5730\u5740\u200b\u4e0d\u200b\u5339\u914d\u200b\u672c\u5730\u200b\u5730\u5740\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 0\n    else \n        rx_target_ip_chack &lt;= rx_target_ip_chack;\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u751f\u6210\u200bARP\u200b\u56de\u590d\u200b\u8bf7\u6c42\u200b\n\\*--------------------------------------------------*/\n// \u200b\u5982\u679c\u200b\u76ee\u6807\u200b IP \u200b\u5730\u5740\u200b\u5339\u914d\u200b\u4e14\u200b\u64cd\u4f5c\u7801\u200b\u4e3a\u200b 1\uff08ARP \u200b\u8bf7\u6c42\u200b\uff09\uff0c\u200b\u5219\u200b\u8bbe\u7f6e\u200b arp_reply_active \u200b\u4e3a\u200b 1\uff0c\u200b\u8868\u793a\u200b\u9700\u8981\u200b\u751f\u6210\u200b ARP \u200b\u56de\u590d\u200b\u5305\u200b\u3002\nalways @(posedge app_rx_clk) begin\n    if (app_rx_reset) \n        arp_reply_active &lt;= 0;\n    else if (rx_target_ip_chack &amp;&amp; opcode == 1) \n        arp_reply_active &lt;= 1'b1;  // \u200b\u6536\u5230\u200bARP\u200b\u8bf7\u6c42\u200b\u5305\u65f6\u200b\uff0c\u200b\u6fc0\u6d3b\u200bARP\u200b\u56de\u590d\u200b\n    else if (!(rx_target_ip_chack &amp;&amp; opcode == 1))\n        arp_reply_active &lt;= 0;    // \u200b\u5426\u5219\u200b\u505c\u6b62\u200bARP\u200b\u56de\u590d\u200b\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u5c06\u200bARP\u200b\u56de\u590d\u200b\u6570\u636e\u200b\u5b58\u5165\u200bFIFO\n\\*--------------------------------------------------*/\n// \u200b\u5982\u679c\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u200b\u662f\u200b\u6570\u636e\u5305\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4f4d\u200b\uff0c\u200b\u751f\u6210\u200b ARP \u200b\u56de\u590d\u200b\u6570\u636e\u200b\u5e76\u200b\u5c06\u200b\u5176\u200b\u5199\u5165\u200b FIFO\u3002\nalways @(posedge app_rx_clk) begin\n    if (app_rx_reset) begin\n        arp_wren &lt;= 0;\n        arp_din  &lt;= 0;\n    end\n    else if (arp_rx_data_last) begin\n        arp_wren &lt;= 1'b1;\n        arp_din  &lt;= {arp_reply_active, source_mac_addr, source_ip_addr};  // \u200b\u751f\u6210\u200b\u5b58\u50a8\u200b\u5230\u200bFIFO\u200b\u7684\u200bARP\u200b\u56de\u590d\u200b\u6570\u636e\u200b\n    end\n    else begin\n        arp_wren &lt;= 0;\n        arp_din  &lt;= 0;\n    end\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u6570\u636e\u200b\u8bfb\u53d6\u200b\n\\*--------------------------------------------------*/\n// \u200b\u4ece\u200b FIFO \u200b\u4e2d\u200b\u8bfb\u53d6\u200b ARP \u200b\u56de\u590d\u200b\u6570\u636e\u200b\u5e76\u53d1\u200b\u9001\u5230\u200b\u4e0a\u6e38\u200b\u6a21\u5757\u200b\u6216\u786c\u4ef6\u200b\u3002\nalways @(posedge app_tx_clk) begin\n    if (app_tx_reset) begin\n        rx_source_vld       &lt;= 0;\n        rx_source_mac_addr  &lt;= 0;\n        rx_source_ip_addr   &lt;= 0;\n        arp_reply_req       &lt;= 0;\n    end\n    else if (arp_rden) begin\n        rx_source_vld       &lt;= 1'b1;\n        arp_reply_req       &lt;= arp_dout[80];  // \u200b\u4ece\u200b FIFO \u200b\u4e2d\u200b\u8bfb\u53d6\u200b ARP \u200b\u56de\u590d\u200b\u8bf7\u6c42\u200b\u4fe1\u53f7\u200b\n        rx_source_mac_addr  &lt;= arp_dout[79:32]; // \u200b\u4ece\u200b FIFO \u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u6e90\u200b MAC \u200b\u5730\u5740\u200b\n        rx_source_ip_addr   &lt;= arp_dout[31:0];  // \u200b\u4ece\u200b FIFO \u200b\u4e2d\u200b\u8bfb\u53d6\u200b\u6e90\u200b IP \u200b\u5730\u5740\u200b\n    end  \n    else begin\n        rx_source_vld       &lt;= 0;\n        rx_source_mac_addr  &lt;= 0;\n        rx_source_ip_addr   &lt;= 0;\n        arp_reply_req       &lt;= 0;\n    end\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u5b9e\u4f8b\u200b\u5316\u200bFIFO\n\\*--------------------------------------------------*/\nfifo_w81xd16 arp_rx_fifo (\n    .rst(app_rx_reset),        // \u200b\u8f93\u5165\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n    .wr_clk(app_rx_clk),       // \u200b\u5199\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    .rd_clk(app_tx_clk),       // \u200b\u8bfb\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    .din(arp_din),             // \u200b\u8f93\u5165\u200b\u6570\u636e\u200b\n    .wr_en(arp_wren),          // \u200b\u5199\u200b\u4f7f\u200b\u80fd\u200b\u4fe1\u53f7\u200b\n    .rd_en(arp_rden),          // \u200b\u8bfb\u4f7f\u200b\u80fd\u200b\u4fe1\u53f7\u200b\n    .dout(arp_dout),           // \u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\n    .full(arp_wrfull),         // FIFO\u200b\u6ee1\u200b\u6807\u5fd7\u200b\n    .empty(arp_rdempty)        // FIFO\u200b\u7a7a\u200b\u6807\u5fd7\u200b\n);\n\nendmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1132","title":"1.13.2 \u200b\u4ee3\u7801\u200b\u4eff\u771f\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#114-arparp_sendv","title":"1.14 ARP\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\uff1aarp_send.v","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1141-arp","title":"1.14.1 ARP\u200b\u5c42\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4ee3\u7801","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-17 18:53:12\n * @LastEditTime: 2025-02-17 18:56:25\n * @FilePath: rtl/arp_send.v\n * @Description:\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\n `timescale 1ns / 1ps\n\nmodule arp_send #(\n    parameter     LOCAL_MAC_ADDR    =  48'hffffffffffff,  // \u200b\u672c\u5730\u200bMAC\u200b\u5730\u5740\u200b\uff08\u200b\u9ed8\u8ba4\u200b\u5e7f\u64ad\u200b\u5730\u5740\u200b\uff09\n    parameter     LOCAL_IP_ADDR     =  {8'd0,8'd0,8'd0,8'd0}   // \u200b\u672c\u5730\u200bIP\u200b\u5730\u5740\u200b\uff08\u200b\u9ed8\u8ba4\u200b0.0.0.0\uff09\n)(\n    input           sys_clk,                    // \u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    input           sys_reset_n,                  // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n    input [47:0]    rx_source_mac_addr,     // \u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u6e90\u200bMAC\u200b\u5730\u5740\u200b\n    input [31:0]    rx_source_ip_addr,      // \u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u6e90\u200bIP\u200b\u5730\u5740\u200b\n    input           arp_reply_req,          // ARP\u200b\u5e94\u7b54\u200b\u8bf7\u6c42\u200b\u4fe1\u53f7\u200b\n    output reg      arp_tx_data_vld,        // ARP\u200b\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    output reg      arp_tx_data_last,       // ARP\u200b\u6570\u636e\u5305\u200b\u6700\u540e\u200b\u4e00\u200b\u5b57\u8282\u200b\u6807\u5fd7\u200b\n    output reg [7:0] arp_tx_data,           // \u200b\u5f53\u524d\u200b\u53d1\u9001\u200b\u7684\u200bARP\u200b\u6570\u636e\u200b\n    output [15:0]   arp_tx_length           // ARP\u200b\u5305\u200b\u7684\u200b\u957f\u5ea6\u200b\uff08\u200b\u56fa\u5b9a\u200b\u4e3a\u200b46\uff09\n);\n\n    reg [5:0] tx_cnt;                       // \u200b\u53d1\u9001\u6570\u636e\u200b\u8ba1\u6570\u5668\u200b\n    reg [47:0] target_mac_addr;             // \u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\n    reg [31:0] target_ip_addr;              // \u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\n\n    assign arp_tx_length = 46;  // ARP\u200b\u5305\u200b\u7684\u200b\u56fa\u5b9a\u200b\u957f\u5ea6\u200b\n\n    // \u200b\u63a5\u6536\u200b\u5230\u200bARP\u200b\u8bf7\u6c42\u200b\u65f6\u200b\uff0c\u200b\u66f4\u65b0\u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\u548c\u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\n    always @(posedge sys_clk) begin\n        if (arp_reply_req &amp;&amp; ~arp_tx_data_vld) begin\n            target_mac_addr &lt;= rx_source_mac_addr;\n            target_ip_addr  &lt;= rx_source_ip_addr;\n        end\n    end\n\n    // \u200b\u8ba1\u6570\u5668\u200btx_cnt\u200b\u63a7\u5236\u6570\u636e\u200b\u7684\u200b\u53d1\u9001\u200b\n    always @(posedge sys_clk) begin\n        if (!sys_reset_n) \n            tx_cnt &lt;= 0;\n        else if (tx_cnt == 45) \n            tx_cnt &lt;= 0;\n        else if (arp_reply_req || tx_cnt != 0) \n            tx_cnt &lt;= tx_cnt + 1;\n    end\n\n    // \u200b\u53d1\u9001\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u63a7\u5236\u200b\n    always @(posedge sys_clk) begin\n        if (!sys_reset_n) \n            arp_tx_data_vld &lt;= 0;\n        else if (arp_reply_req) \n            arp_tx_data_vld &lt;= 1'b1;\n        else if (arp_tx_data_last) \n            arp_tx_data_vld &lt;= 1'b0;\n    end\n\n    // \u200b\u6570\u636e\u5305\u200b\u6700\u540e\u200b\u4e00\u200b\u5b57\u8282\u200b\u6807\u5fd7\u200b\n    always @(posedge sys_clk) begin\n        if (!sys_reset_n) \n            arp_tx_data_last &lt;= 0;\n        else if (tx_cnt == 45) \n            arp_tx_data_last &lt;= 1'b1;\n        else \n            arp_tx_data_last &lt;= 0;\n    end\n\n    // \u200b\u6839\u636e\u200b\u8ba1\u6570\u5668\u200b\u503c\u200b\u53d1\u9001\u200b\u5404\u4e2a\u200b\u5b57\u8282\u200b\u7684\u200bARP\u200b\u6570\u636e\u200b\n    always @(posedge sys_clk) begin\n        if (!sys_reset_n) \n            arp_tx_data &lt;= 0; \n        else begin\n            case(tx_cnt)\n                0   : arp_tx_data &lt;= 0;                               // \u200b\u786c\u4ef6\u200b\u7c7b\u578b\u200b\uff1a\u200b\u4ee5\u592a\u7f51\u200b\uff080x0001\uff09\n                1   : arp_tx_data &lt;= 1;                               // \u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\uff1aIP\uff080x0800\uff09\n                2   : arp_tx_data &lt;= 8;                               // \u200b\u786c\u4ef6\u200b\u5730\u5740\u200b\u957f\u5ea6\u200b\uff1a6\u200b\u5b57\u8282\u200b\uff08MAC\u200b\u5730\u5740\u200b\uff09\n                3   : arp_tx_data &lt;= 0;                               // \u200b\u534f\u8bae\u200b\u5730\u5740\u200b\u957f\u5ea6\u200b\uff1a4\u200b\u5b57\u8282\u200b\uff08IP\u200b\u5730\u5740\u200b\uff09\n                4   : arp_tx_data &lt;= 6;                               // \u200b\u64cd\u4f5c\u7801\u200b\uff1a\u200b\u8bf7\u6c42\u200b\uff080x0001\uff09\n                5   : arp_tx_data &lt;= 4;                               // \u200b\u64cd\u4f5c\u7801\u200b\uff08\u200b\u5177\u4f53\u200b\u503c\u200b\uff09\n                6   : arp_tx_data &lt;= 0;\n                7   : arp_tx_data &lt;= 2;\n                8   : arp_tx_data &lt;= LOCAL_MAC_ADDR[47:40];           // \u200b\u672c\u200b\u673a\u200bMAC\u200b\u5730\u5740\u200b\uff08\u200b\u9ad8\u5b57\u8282\u200b\uff09\n                9   : arp_tx_data &lt;= LOCAL_MAC_ADDR[39:32];\n                10  : arp_tx_data &lt;= LOCAL_MAC_ADDR[31:24];\n                11  : arp_tx_data &lt;= LOCAL_MAC_ADDR[23:16];\n                12  : arp_tx_data &lt;= LOCAL_MAC_ADDR[15:8];\n                13  : arp_tx_data &lt;= LOCAL_MAC_ADDR[7:0];            // \u200b\u672c\u200b\u673a\u200bMAC\u200b\u5730\u5740\u200b\uff08\u200b\u4f4e\u5b57\u8282\u200b\uff09\n                14  : arp_tx_data &lt;= LOCAL_IP_ADDR[31:24];            // \u200b\u672c\u200b\u673a\u200bIP\u200b\u5730\u5740\u200b\uff08\u200b\u9ad8\u5b57\u8282\u200b\uff09\n                15  : arp_tx_data &lt;= LOCAL_IP_ADDR[23:16];\n                16  : arp_tx_data &lt;= LOCAL_IP_ADDR[15:8];\n                17  : arp_tx_data &lt;= LOCAL_IP_ADDR[7:0];             // \u200b\u672c\u200b\u673a\u200bIP\u200b\u5730\u5740\u200b\uff08\u200b\u4f4e\u5b57\u8282\u200b\uff09\n                18  : arp_tx_data &lt;= target_mac_addr[47:40];          // \u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\uff08\u200b\u9ad8\u5b57\u8282\u200b\uff09\n                19  : arp_tx_data &lt;= target_mac_addr[39:32];\n                20  : arp_tx_data &lt;= target_mac_addr[31:24];\n                21  : arp_tx_data &lt;= target_mac_addr[23:16];\n                22  : arp_tx_data &lt;= target_mac_addr[15:8];\n                23  : arp_tx_data &lt;= target_mac_addr[7:0];           // \u200b\u76ee\u6807\u200bMAC\u200b\u5730\u5740\u200b\uff08\u200b\u4f4e\u5b57\u8282\u200b\uff09\n                24  : arp_tx_data &lt;= target_ip_addr[31:24];           // \u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\uff08\u200b\u9ad8\u5b57\u8282\u200b\uff09\n                25  : arp_tx_data &lt;= target_ip_addr[23:16];\n                26  : arp_tx_data &lt;= target_ip_addr[15:8];\n                27  : arp_tx_data &lt;= target_ip_addr[7:0];            // \u200b\u76ee\u6807\u200bIP\u200b\u5730\u5740\u200b\uff08\u200b\u4f4e\u5b57\u8282\u200b\uff09\n                default : arp_tx_data &lt;= 0;\n            endcase\n        end    \n    end\n\nendmodule\n\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1142","title":"1.14.2 \u200b\u4ee3\u7801\u200b\u4eff\u771f\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#115-arparp_dynamic_listv","title":"1.15 ARP\u200b\u52a8\u6001\u200b\u5217\u8868\u200b\u6a21\u5757\u200b\u7f16\u5199\u200barp_dynamic_list.v","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1151-arp","title":"1.15.1 ARP\u200b\u52a8\u6001\u200b\u5217\u8868\u200b\u4ee3\u7801","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-25 22:07:07\n * @LastEditTime: 2025-02-25 22:22:29\n * @FilePath: rtl/arp_dynamic_list.v\n * @Description:\u200b\u5b9e\u73b0\u200bARP\u200b\u534f\u8bae\u200b\u4e2d\u200b\u7684\u200bIP-MAC\u200b\u5730\u5740\u200b\u52a8\u6001\u200b\u6620\u5c04\u200b\u8868\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u548c\u200b\u67e5\u8be2\u200bIP\u200b\u5730\u5740\u200b\u4e0e\u200bMAC\u200b\u5730\u5740\u200b\u7684\u200b\u5bf9\u5e94\u200b\u5173\u7cfb\u200b\u3002\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\u5982\u4e0b\u200b\uff1a\n 1. \u200b\u5feb\u901f\u200b\u67e5\u8be2\u200b\uff1a\u200b\u901a\u8fc7\u200b\u5e76\u884c\u200b\u6bd4\u200b\u5bf9\u200b\u5b9e\u73b0\u200bIP\u200b\u5730\u5740\u200b\u5230\u200bMAC\u200b\u5730\u5740\u200b\u7684\u200b\u5feb\u901f\u200b\u67e5\u627e\u200b\uff0c\u200b\u4f7f\u7528\u200b\u5e76\u884c\u200b\u6bd4\u200b\u5bf9\u200b\u4ee3\u66ff\u200b\u8f6f\u4ef6\u200b\u904d\u5386\u200b\uff0c\u200b\u67e5\u8be2\u200b\u901f\u5ea6\u200b\u4ec5\u200b\u9700\u200b1\u200b\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\n\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\n\n module arp_dynamic_list(\n    input            sys_clk,        // \u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\n    input            sys_reset_n,    // \u200b\u5168\u5c40\u200b\u590d\u4f4d\u200b\uff0c\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\n\n    // \u200b\u66f4\u65b0\u200b\u52a8\u6001\u200b\u94fe\u8868\u200b\u7684\u200b\u5199\u5165\u200b\u7aef\u53e3\u200b\u4fe1\u53f7\u200b\n    input            wr_arp_en,      // ARP\u200b\u8868\u200b\u5199\u5165\u200b\u4f7f\u80fd\u200b\uff0c\u200b\u9ad8\u200b\u6709\u6548\u200b\n    input  [31:0]    wr_ip_addr,     // \u200b\u5f85\u200b\u5199\u5165\u200b\u7684\u200b32\u200b\u4f4d\u200bIP\u200b\u5730\u5740\u200b\n    input  [47:0]    wr_mac_addr,    // \u200b\u5f85\u200b\u5199\u5165\u200b\u7684\u200b48\u200b\u4f4d\u200bMAC\u200b\u5730\u5740\u200b\n\n    // \u200b\u67e5\u8be2\u200b\u52a8\u6001\u200b\u94fe\u8868\u200b\u7684\u200b\u8bfb\u51fa\u200b\u7aef\u53e3\u200b\u4fe1\u53f7\u200b\n    input            rd_arp_en,      // ARP\u200b\u8868\u200b\u8bfb\u53d6\u200b\u4f7f\u80fd\u200b\uff0c\u200b\u9ad8\u200b\u6709\u6548\u200b\n    input  [31:0]    rd_ip_addr,     // \u200b\u5f85\u200b\u67e5\u8be2\u200b\u7684\u200b32\u200b\u4f4d\u200bIP\u200b\u5730\u5740\u200b\n    output reg [47:0] rd_mac_addr,    // \u200b\u67e5\u8be2\u200b\u5230\u200b\u7684\u200b48\u200b\u4f4d\u200bMAC\u200b\u5730\u5740\u200b\n    output reg       rd_mac_addr_vld  // MAC\u200b\u5730\u5740\u200b\u6709\u6548\u200b\u6807\u5fd7\u200b\n);\n\n// \u200b\u53c2\u6570\u200b\u5b9a\u4e49\u200b\nlocalparam SIZE = 4;     // ARP\u200b\u8868\u200b\u6df1\u5ea6\u200b\uff0c\u200b\u652f\u6301\u200b\u5b58\u50a8\u200b4\u200b\u4e2a\u200bIP-MAC\u200b\u6620\u5c04\u200b\n\n// \u200b\u5bc4\u5b58\u5668\u200b\u5b9a\u4e49\u200b\nreg [31:0] ip_addr_buffer [SIZE-1:0];  // IP\u200b\u5730\u5740\u200b\u5b58\u50a8\u9635\u5217\u200b\nreg [47:0] mac_addr_buffer[SIZE-1:0];   // MAC\u200b\u5730\u5740\u200b\u5b58\u50a8\u9635\u5217\u200b\nreg [3:0]  pointer;                     // \u200b\u5faa\u73af\u200b\u5199\u5165\u200b\u6307\u9488\u200b\uff08\u200b\u8303\u56f4\u200b0-3\uff09\n\n//==========================================================================\n// \u200b\u4e3b\u8981\u200b\u903b\u8f91\u200b\u90e8\u5206\u200b\n//==========================================================================\n\n//---------------------------------------------------------------------\n// \u200b\u65f6\u949f\u200b\u540c\u6b65\u200b\u5904\u7406\u200b\uff1aARP\u200b\u8868\u200b\u5199\u5165\u200b\u903b\u8f91\u200b\n// \u200b\u529f\u80fd\u200b\uff1a1. \u200b\u590d\u4f4d\u200b\u521d\u59cb\u5316\u200b  2. \u200b\u66f4\u65b0\u200b/\u200b\u6dfb\u52a0\u200bIP-MAC\u200b\u6620\u5c04\u200b\n//---------------------------------------------------------------------\nalways @(posedge sys_clk) begin\n    // \u200b\u4f4e\u7535\u5e73\u200b\u590d\u4f4d\u200b\u521d\u59cb\u5316\u200b\n    if (!sys_reset_n) begin \n        ip_addr_buffer[0]  &lt;= 32'd0;    // \u200b\u521d\u59cb\u5316\u200bIP\u200b\u5b58\u50a8\u9635\u5217\u200b\n        ip_addr_buffer[1]  &lt;= 32'd0;\n        ip_addr_buffer[2]  &lt;= 32'd0;\n        ip_addr_buffer[3]  &lt;= 32'd0;    \n        mac_addr_buffer[0] &lt;= 48'd0;    // \u200b\u521d\u59cb\u5316\u200bMAC\u200b\u5b58\u50a8\u9635\u5217\u200b\n        mac_addr_buffer[1] &lt;= 48'd0;\n        mac_addr_buffer[2] &lt;= 48'd0;\n        mac_addr_buffer[3] &lt;= 48'd0;    \n        pointer            &lt;= 4'd0;     // \u200b\u590d\u4f4d\u200b\u5199\u5165\u200b\u6307\u9488\u200b\n    end\n\n    // ARP\u200b\u8868\u200b\u5199\u5165\u200b\u64cd\u4f5c\u200b\n    else if (wr_arp_en) begin\n        case(wr_ip_addr)\n            // \u200b\u5b58\u5728\u200b\u6027\u200b\u68c0\u67e5\u200b\uff1a\u200b\u5982\u679c\u200bIP\u200b\u5df2\u200b\u5b58\u5728\u200b\uff0c\u200b\u76f4\u63a5\u200b\u66f4\u65b0\u200b\u5bf9\u5e94\u200bMAC\u200b\u5730\u5740\u200b\n            ip_addr_buffer[0] : mac_addr_buffer[0] &lt;= wr_mac_addr;\n            ip_addr_buffer[1] : mac_addr_buffer[1] &lt;= wr_mac_addr;\n            ip_addr_buffer[2] : mac_addr_buffer[2] &lt;= wr_mac_addr;\n            ip_addr_buffer[3] : mac_addr_buffer[3] &lt;= wr_mac_addr;\n\n            // \u200b\u65b0\u589e\u200b\u6761\u76ee\u200b\uff1aIP\u200b\u4e0d\u200b\u5b58\u5728\u200b\u65f6\u200b\u5199\u5165\u200b\u6307\u9488\u200b\u4f4d\u7f6e\u200b\uff0c\u200b\u5e76\u200b\u66f4\u65b0\u200b\u6307\u9488\u200b\n            default : begin\n                mac_addr_buffer[pointer] &lt;= wr_mac_addr;  // \u200b\u5199\u5165\u200b\u65b0\u200bMAC\n                ip_addr_buffer [pointer] &lt;= wr_ip_addr;  // \u200b\u5199\u5165\u200b\u65b0\u200bIP\n                // \u200b\u6307\u9488\u200b\u5faa\u73af\u200b\u9012\u589e\u200b\uff080-&gt;1-&gt;2-&gt;3-&gt;0...\uff09\n                pointer &lt;= (pointer == 3'd3) ? 3'd0 : pointer + 3'd1;\n            end\n        endcase\n    end\nend\n\n//---------------------------------------------------------------------\n// \u200b\u65f6\u949f\u200b\u540c\u6b65\u200b\u5904\u7406\u200b\uff1aARP\u200b\u8868\u200b\u8bfb\u53d6\u200b\u903b\u8f91\u200b\n// \u200b\u529f\u80fd\u200b\uff1a\u200b\u6839\u636e\u200bIP\u200b\u5730\u5740\u200b\u67e5\u8be2\u200b\u5bf9\u5e94\u200b\u7684\u200bMAC\u200b\u5730\u5740\u200b\n//---------------------------------------------------------------------\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) begin\n        rd_mac_addr &lt;= 48'd0;  // \u200b\u590d\u4f4d\u200b\u65f6\u200b\u6e05\u9664\u200bMAC\u200b\u8f93\u51fa\u200b\n    end  \n    else if (rd_arp_en) begin\n        case(rd_ip_addr)  // \u200b\u987a\u5e8f\u200b\u67e5\u8be2\u200b\u56db\u4e2a\u200b\u5b58\u50a8\u5355\u5143\u200b\n            ip_addr_buffer[0] : rd_mac_addr &lt;= mac_addr_buffer[0];\n            ip_addr_buffer[1] : rd_mac_addr &lt;= mac_addr_buffer[1];\n            ip_addr_buffer[2] : rd_mac_addr &lt;= mac_addr_buffer[2];\n            ip_addr_buffer[3] : rd_mac_addr &lt;= mac_addr_buffer[3];   \n            default :         rd_mac_addr &lt;= 48'd0;  // \u200b\u672a\u200b\u547d\u4e2d\u200b\u8fd4\u56de\u200b0\n        endcase\n    end\nend\n\n//---------------------------------------------------------------------\n// \u200b\u65f6\u949f\u200b\u540c\u6b65\u200b\u5904\u7406\u200b\uff1a\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u751f\u6210\u200b\n// \u200b\u529f\u80fd\u200b\uff1a\u200b\u5728\u200b\u8bfb\u53d6\u200b\u64cd\u4f5c\u200b\u540e\u200b\u751f\u6210\u200b\u5355\u200b\u5468\u671f\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n//---------------------------------------------------------------------\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) \n        rd_mac_addr_vld &lt;= 1'b0;       // \u200b\u590d\u4f4d\u200b\u65f6\u200b\u6e05\u9664\u200b\u6709\u6548\u200b\u6807\u5fd7\u200b\n    else \n        // \u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u6bd4\u200b\u8bfb\u53d6\u200b\u64cd\u4f5c\u200b\u5ef6\u8fdf\u200b1\u200b\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\n        rd_mac_addr_vld &lt;= rd_arp_en;  // \u200b\u8bfb\u53d6\u200b\u4f7f\u80fd\u200b\u76f4\u63a5\u200b\u4f5c\u4e3a\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\nend\n\nendmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#116-icmp","title":"1.16 ICMP\u200b\u534f\u8bae\u200b\u4ecb\u7ecd","text":"<p>\u200b\u8bf4\u8d77\u200bicmp\u200b\u534f\u8bae\u200b\u5927\u5bb6\u200b\u53ef\u80fd\u200b\u6bd4\u8f83\u200b\u964c\u751f\u200b\uff0c\u200b\u4f46\u662f\u200b\u8bf4\u200b\u5230\u200bping\u200b\u547d\u4ee4\u200b\u4e86\u200b\uff0c\u200b\u6211\u200b\u60f3\u200b\u5728\u5ea7\u200b\u7684\u200b\u540c\u5b66\u200b\u4eec\u200b\u5e94\u8be5\u200b\u90fd\u200b\u518d\u200b\u719f\u6089\u200b\u4e0d\u8fc7\u200b\u4e86\u200b\u5427\u200b\u3002\u200b\u4f7f\u7528\u200b\u8fc7\u200bping\u200b\u547d\u4ee4\u200b\u7684\u200b\u540c\u5b66\u200b\u90fd\u200b\u77e5\u9053\u200b\uff0c\u200b\u5f53\u200b\u6211\u4eec\u200b\u4e0d\u200b\u786e\u5b9a\u200b\u76ee\u6807\u200b\u4e3b\u9898\u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u8fde\u901a\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u90fd\u200b\u53ef\u4ee5\u200b\u62fc\u200b\u4e00\u4e0b\u200b\u76ee\u6807\u200b\u3002</p> <p>\u200b\u6bd4\u5982\u200b\u6211\u4eec\u200b\u60f3\u200b\u770b\u200b\u4e00\u4e0b\u200b\u6211\u4eec\u200b\u7684\u200b\u8ba1\u7b97\u673a\u200b\u80fd\u5426\u200b\u4e0e\u200bbaidu.com\u200b\u8054\u901a\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u6267\u884c\u200b\u4e00\u4e0b\u200bping baidu.com\u200b\u7684\u200b\u547d\u4ee4\u200b\u3002\u200b\u5982\u679c\u200b\u53ef\u4ee5\u200b\u8fde\u901a\u200b\uff0c\u200b\u90a3\u200b\u6211\u4eec\u200b\u4f1a\u200b\u770b\u5230\u200b\u8fd9\u6837\u200b\u7684\u200b\u663e\u793a\u200b\uff0c\u200b\u8868\u793a\u200b\u53ef\u4ee5\u200b\u8fde\u901a\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5e73\u5747\u200b\u5ef6\u8fdf\u200b\u4e3a\u200b15\u200b\u6beb\u79d2\u200b\u3002</p> <p></p> <p>\u200b\u4eca\u5929\u200b\u54b1\u4eec\u200b\u5c31\u200b\u4e00\u200b\u8d77\u6765\u200b\u5b66\u4e60\u200b\u4e00\u4e0b\u200b\u62fc\u547d\u200b\u4ee4\u200b\u80cc\u540e\u200b\u7684\u200b\u534f\u8bae\u200bicmp\u200b\u534f\u8bae\u200b\u3002ICMP\u200b\u534f\u8bae\u200b\u7b80\u5355\u200b\u6765\u8bf4\u200b\uff0c\u200b\u5b83\u200b\u7684\u200b\u4f5c\u7528\u200b\u5c31\u662f\u200b\u5e2e\u52a9\u200b\u7f51\u7edc\u7ba1\u7406\u5458\u200b\u68c0\u6d4b\u200b\u7f51\u7edc\u200b\u4e2d\u200b\u53d1\u751f\u200b\u7684\u200b\u5404\u79cd\u200b\u95ee\u9898\u200b\uff0c\u200b\u7136\u540e\u200b\u6839\u636e\u200b\u95ee\u9898\u200b\u539f\u56e0\u200b\u505a\u51fa\u200b\u8bca\u65ad\u200b\u548c\u200b\u89e3\u51b3\u200b\u3002</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1161-icmp","title":"1.16.1 ICMP\u200b\u534f\u8bae\u200b\u5206\u7c7b","text":"<p>\u200b\u4ece\u5927\u7c7b\u200b\u4e0a\u6765\u200b\u5206\u200b\uff0c\u200b\u5b83\u200b\u4e3b\u8981\u200b\u662f\u200b\u4e24\u5927\u5757\u200b\u7684\u200b\u529f\u80fd\u200b\u3002</p> <p>\u200b\u4e00\u662f\u200b\u8be2\u95ee\u200b\u62a5\u544a\u200b\uff0c\u200b\u6bd4\u5982\u200b\u8be2\u95ee\u200b\u4e00\u4e0b\u200b\u76ee\u6807\u200b\u4e3b\u673a\u200b\u662f\u5426\u200b\u53ef\u4ee5\u200b\u8fde\u901a\u200b\u5e76\u200b\u505a\u51fa\u200b\u56de\u7b54\u200b\uff0c\u200b\u6211\u4eec\u200b\u5e38\u7528\u200b\u7684\u200bPing\u200b\u547d\u4ee4\u200b\u5c31\u662f\u200b\u7528\u200b\u8fd9\u4e2a\u200b\u529f\u80fd\u200b\u6765\u200b\u5b9e\u73b0\u200b\u7684\u200b\u3002</p> <p>\u200b\u4e8c\u662f\u200b\u7528\u6765\u200b\u505a\u200b\u5dee\u9519\u200b\u62a5\u544a\u200b\uff0c\u200b\u6bd4\u5982\u200b\u7f51\u5173\u200b\u53d1\u73b0\u200b\u76ee\u6807\u200b\u7f51\u7edc\u200b\u4e0d\u53ef\u200b\u8c08\u200b\uff0c\u200b\u6216\u8005\u200b\u76ee\u6807\u200b\u4e3b\u673a\u200b\u53d1\u73b0\u200b\u8bbf\u95ee\u200b\u7684\u200bUDP\u200b\u7aef\u53e3\u200b\u4e0d\u53ef\u200b\u7528\u200b\uff0c\u200b\u9700\u8981\u200b\u628a\u200b\u9519\u8bef\u62a5\u544a\u200b\u7ed9\u200b\u539f\u200b\u4e3b\u673a\u200b\u3002Tracroot\u200b\u8fd9\u4e2a\u200b\u5de5\u5e8f\u200b\u5c31\u662f\u200b\u7528\u200b\u8fd9\u4e2a\u200b\u529f\u80fd\u200b\u6765\u200b\u5b9e\u73b0\u200b\u7684\u200b\u3002</p> <p>\u200b\u6211\u4eec\u200b\u8fd9\u4e2a\u200b\u9879\u76ee\u200b\u4e2d\u200bICMP\u200b\u534f\u8bae\u200b\u5c31\u662f\u200b\u53ea\u662f\u200b\u7528\u5230\u200b\u7b2c\u4e00\u4e2a\u200b\u529f\u80fd\u200b\u7528\u6765\u200b\u68c0\u67e5\u200b\u6211\u4eec\u200b\u7684\u200b\u7535\u8111\u200b\u662f\u5426\u200b\u4e0e\u200bFPGA\u200b\u5f00\u53d1\u677f\u200b\u8054\u901a\u200b\u3002</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1162-icmp","title":"1.16.2. ICMP\u200b\u6570\u636e\u5305\u200b\u7684\u200b\u7ed3\u6784\u200b\u4e0e\u200b\u5b9e\u73b0\u200b\u6d41\u7a0b","text":"<p>ICMP\u200b\u6570\u636e\u5305\u200b\u5305\u542b\u200b\u4ee5\u4e0b\u200b\u51e0\u4e2a\u200b\u90e8\u5206\u200b\uff1a</p> <ul> <li>ICMP\u200b\u5934\u90e8\u200b\uff1a\u200b\u5305\u62ec\u200b\u7c7b\u578b\u200b\uff08Type\uff09\u3001\u200b\u4ee3\u7801\u200b\uff08Code\uff09\u3001\u200b\u6821\u9a8c\u200b\u548c\u200b\uff08Checksum\uff09\u3001\u200b\u6807\u8bc6\u7b26\u200b\uff08Identifier\uff09\u200b\u548c\u200b\u5e8f\u5217\u53f7\u200b\uff08Sequence Number\uff09\u3002</li> <li>\u200b\u6570\u636e\u200b\u90e8\u5206\u200b\uff1a\u200b\u901a\u5e38\u200b\u7528\u4e8e\u200b\u643a\u5e26\u200b\u989d\u5916\u200b\u7684\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5982\u200b\u65f6\u95f4\u200b\u6233\u200b\u6216\u200b\u7528\u6237\u200b\u6570\u636e\u200b\u3002</li> </ul> <p></p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#117-icmpicmp_receivev","title":"1.17 ICMP\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\uff1aicmp_receive.v","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1171-icmp","title":"1.17.1 ICMP\u200b\u5c42\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\u4ee3\u7801","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-17 17:23:58\n * @LastEditTime: 2025-02-17 17:35:19\n * @FilePath: rtl/icmp_receive.v\n * @Description:\u200b\u6536\u5230\u200b\u6570\u636e\u200b\u540e\u200b\u901a\u8fc7\u200bFIFO\u200b\u7f13\u5b58\u6570\u636e\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u5904\u7406\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5c06\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u5305\u200b\u8bc6\u522b\u200b\u7b26\u200b\u548c\u200b\u5e8f\u5217\u53f7\u200b\u63d0\u53d6\u200b\u51fa\u6765\u200b\u5e76\u200b\u8f93\u51fa\u200b\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\n module icmp_receive (\n    /*-------\u200b\u7528\u6237\u200b\u7aef\u53e3\u200b\u4fe1\u53f7\u200b--------*/\n    input                   app_rx_clk;            // \u200b\u63a5\u6536\u200b\u65f6\u949f\u200b\n    input                   app_tx_clk;            // \u200b\u53d1\u9001\u200b\u65f6\u949f\u200b\n    input                   app_rx_reset;          // \u200b\u63a5\u6536\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n    input                   app_tx_reset;          // \u200b\u53d1\u9001\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n\n    /*-------ICMP\u200b\u8f93\u5165\u200b\u7aef\u53e3\u200b\u4fe1\u53f7\u200b--------*/\n    input                   icmp_rx_data_vld;      // ICMP\u200b\u63a5\u6536\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    input                   icmp_rx_data_last;     // ICMP\u200b\u63a5\u6536\u6570\u636e\u200b\u7684\u200b\u6700\u540e\u200b\u4e00\u4f4d\u200b\u6807\u5fd7\u200b\n    input [7:0]             icmp_rx_data;          // ICMP\u200b\u63a5\u6536\u6570\u636e\u200b\n    input [15:0]            icmp_rx_length;        // ICMP\u200b\u63a5\u6536\u200b\u6570\u636e\u5305\u200b\u7684\u200b\u957f\u5ea6\u200b\n\n    /*-------ICMP\u200b\u8f93\u51fa\u200b\u7aef\u53e3\u200b\u4fe1\u53f7\u200b--------*/\n    output reg              icmp_reply_req;        // ICMP\u200b\u56de\u590d\u200b\u8bf7\u6c42\u200b\n    output reg [15:0]       icmp_rx_identify;      // ICMP\u200b\u5305\u200b\u7684\u200b\u6807\u8bc6\u7b26\u200b\n    output reg [15:0]       icmp_rx_sequence;      // ICMP\u200b\u5305\u200b\u7684\u200b\u5e8f\u5217\u53f7\u200b\n );\n/*--------------------------------------------------*\\\n                       \u200b\u5185\u90e8\u200b\u5bc4\u5b58\u5668\u200b\u548c\u200b\u4fe1\u53f7\u200b\n\\*--------------------------------------------------*/\nreg [10:0]             rx_cnt;               // \u200b\u63a5\u6536\u200b\u8ba1\u6570\u5668\u200b\nreg [15:0]             rx_identify;          // \u200b\u4e34\u65f6\u200b\u5b58\u50a8\u200bICMP\u200b\u7684\u200b\u6807\u8bc6\u7b26\u200b\nreg [15:0]             rx_sequence;          // \u200b\u4e34\u65f6\u200b\u5b58\u50a8\u200bICMP\u200b\u7684\u200b\u5e8f\u5217\u53f7\u200b\nreg [7:0]              imcp_type;            // \u200b\u4e34\u65f6\u200b\u5b58\u50a8\u200bICMP\u200b\u7c7b\u578b\u200b\nreg [31:0]             icmp_din;             // \u200b\u7528\u4e8e\u200bFIFO\u200b\u7684\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\nreg                    icmp_wren;            // FIFO\u200b\u5199\u200b\u4f7f\u200b\u80fd\u200b\u4fe1\u53f7\u200b\nwire [31:0]            icmp_dout;            // FIFO\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\nwire                   icmp_rden;            // FIFO\u200b\u8bfb\u4f7f\u200b\u80fd\u200b\u4fe1\u53f7\u200b\nwire                   icmp_wrfull;          // FIFO\u200b\u5199\u6ee1\u200b\u6807\u5fd7\u200b\nwire                   icmp_rdempty;         // FIFO\u200b\u8bfb\u7a7a\u200b\u6807\u5fd7\u200b\n\n/*--------------------------------------------------*\\\n                       \u200b\u63a5\u6536\u200b\u8ba1\u6570\u5668\u200b\u903b\u8f91\u200b\n\\*--------------------------------------------------*/\nalways @(posedge app_rx_clk) begin\n    if (app_rx_reset) \n        rx_cnt &lt;= 0;                         // \u200b\u5982\u679c\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\u6709\u6548\u200b\uff0c\u200b\u5219\u200b\u6e05\u96f6\u200b\u8ba1\u6570\u5668\u200b\n    else if (icmp_rx_data_vld) \n        rx_cnt &lt;= rx_cnt + 1;               // \u200b\u6570\u636e\u200b\u6709\u6548\u200b\u65f6\u200b\uff0c\u200b\u8ba1\u6570\u5668\u200b\u9012\u589e\u200b\n    else \n        rx_cnt &lt;= 0;                         // \u200b\u5982\u679c\u200b\u6570\u636e\u200b\u65e0\u6548\u200b\uff0c\u200b\u5219\u200b\u8ba1\u6570\u5668\u200b\u6e05\u96f6\u200b\nend\n\n/*--------------------------------------------------*\\\n                       ICMP\u200b\u7c7b\u578b\u200b\u7684\u200b\u63d0\u53d6\u200b\n\\*--------------------------------------------------*/\nalways @(posedge app_rx_clk) begin\n    if (app_rx_reset) \n        imcp_type &lt;= 0;                  // \u200b\u590d\u4f4d\u200b\u65f6\u200b\u6e05\u7a7a\u200bICMP\u200b\u7c7b\u578b\u200b\n    else if (rx_cnt == 0) \n        imcp_type &lt;= icmp_rx_data;       // \u200b\u7b2c\u4e00\u4e2a\u200b\u5b57\u8282\u200b\uff08ICMP\u200b\u6570\u636e\u5305\u200b\u7684\u200b\u7c7b\u578b\u200b\uff09\n    else \n        imcp_type &lt;= imcp_type;          // \u200b\u4fdd\u6301\u200b\u539f\u503c\u200b\nend\n\n/*--------------------------------------------------*\\\n                       ICMP\u200b\u6807\u8bc6\u7b26\u200b\u63d0\u53d6\u200b\n\\*--------------------------------------------------*/\nalways @(posedge app_rx_clk) begin\n    if (app_rx_reset) \n        rx_identify &lt;= 0;                // \u200b\u590d\u4f4d\u200b\u65f6\u200b\u6e05\u7a7a\u200b\u6807\u8bc6\u7b26\u200b\n    else if (rx_cnt == 4 || rx_cnt == 5) \n        rx_identify &lt;= {rx_identify[7:0], icmp_rx_data};  // \u200b\u4ece\u200b\u7b2c\u200b4\u3001\u200b\u7b2c\u200b5\u200b\u5b57\u8282\u200b\u62fc\u63a5\u200b\u6807\u8bc6\u7b26\u200b\n    else \n        rx_identify &lt;= rx_identify;      // \u200b\u4fdd\u6301\u200b\u539f\u503c\u200b\nend\n\n/*--------------------------------------------------*\\\n                       ICMP\u200b\u5e8f\u5217\u53f7\u200b\u63d0\u53d6\u200b\n\\*--------------------------------------------------*/\nalways @(posedge app_rx_clk) begin\n    if (app_rx_reset) \n        rx_sequence &lt;= 0;                // \u200b\u590d\u4f4d\u200b\u65f6\u200b\u6e05\u7a7a\u200b\u5e8f\u5217\u53f7\u200b\n    else if (rx_cnt == 6 || rx_cnt == 7) \n        rx_sequence &lt;= {rx_sequence[7:0], icmp_rx_data};  // \u200b\u4ece\u200b\u7b2c\u200b6\u3001\u200b\u7b2c\u200b7\u200b\u5b57\u8282\u200b\u62fc\u63a5\u200b\u5e8f\u5217\u53f7\u200b\n    else \n        rx_sequence &lt;= rx_sequence;      // \u200b\u4fdd\u6301\u200b\u539f\u503c\u200b\nend\n\n/*--------------------------------------------------*\\\n                       FIFO \u200b\u5b58\u50a8\u200b ICMP \u200b\u6570\u636e\u200b\n\\*--------------------------------------------------*/\nalways @(posedge app_rx_clk) begin\n    if (app_rx_reset) begin\n        icmp_wren &lt;= 0;                  // \u200b\u590d\u4f4d\u200b\u65f6\u200b\u4e0d\u200b\u5199\u5165\u200bFIFO\n        icmp_din &lt;= 0;                   // \u200b\u6e05\u7a7a\u200bFIFO\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\n    end  \n    else begin\n        icmp_wren &lt;= icmp_rx_data_last;  // \u200b\u5982\u679c\u200b\u662f\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u5b57\u8282\u200b\uff0c\u200b\u5199\u5165\u200bFIFO\n        icmp_din &lt;= {rx_identify, rx_sequence};  // \u200b\u5c06\u200b\u6807\u8bc6\u7b26\u200b\u548c\u200b\u5e8f\u5217\u53f7\u200b\u4e00\u8d77\u200b\u5199\u5165\u200bFIFO\n    end\nend\n\n/*--------------------------------------------------*\\\n             \u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u5904\u7406\u200b\uff08\u200b\u4ece\u200b\u63a5\u6536\u200b\u65f6\u949f\u200b\u5230\u200b\u53d1\u9001\u200b\u65f6\u949f\u200b\uff09\n\\*--------------------------------------------------*/\nalways @(posedge app_tx_clk) begin\n    if (app_tx_reset) begin\n        icmp_reply_req &lt;= 0;            // \u200b\u590d\u4f4d\u200b\u65f6\u200b\u4e0d\u200b\u8bf7\u6c42\u200b\u56de\u590d\u200b\n        icmp_rx_identify &lt;= 0;          // \u200b\u6e05\u7a7a\u200bICMP\u200b\u6807\u8bc6\u7b26\u200b\n        icmp_rx_sequence &lt;= 0;          // \u200b\u6e05\u7a7a\u200bICMP\u200b\u5e8f\u5217\u53f7\u200b\n    end \n    else if (icmp_rden) begin\n        icmp_reply_req &lt;= 1;            // \u200b\u5982\u679c\u200bFIFO\u200b\u8bfb\u53d6\u200b\u6709\u6548\u200b\u6570\u636e\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u56de\u590d\u200b\u8bf7\u6c42\u200b\n        icmp_rx_identify &lt;= icmp_dout[31:16];  // \u200b\u63d0\u53d6\u200b\u6807\u8bc6\u7b26\u200b\n        icmp_rx_sequence &lt;= icmp_dout[15:0];   // \u200b\u63d0\u53d6\u200b\u5e8f\u5217\u53f7\u200b\n    end \n    else begin\n        icmp_reply_req &lt;= 0;            // \u200b\u5426\u5219\u200b\u4e0d\u200b\u8bf7\u6c42\u200b\u56de\u590d\u200b\n        icmp_rx_identify &lt;= 0;          // \u200b\u6e05\u7a7a\u200b\u6807\u8bc6\u7b26\u200b\n        icmp_rx_sequence &lt;= 0;          // \u200b\u6e05\u7a7a\u200b\u5e8f\u5217\u53f7\u200b\n    end     \nend\n\n/*--------------------------------------------------*\\\n                       FIFO \u200b\u5b9e\u4f8b\u200b\n\\*--------------------------------------------------*/\nfifo_w32xd16_async icmp_rx_fifo (\n  .rst(app_rx_reset),        // \u200b\u8f93\u5165\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n  .wr_clk(app_rx_clk),       // \u200b\u5199\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\uff08\u200b\u63a5\u6536\u200b\u65f6\u949f\u200b\uff09\n  .rd_clk(app_tx_clk),       // \u200b\u8bfb\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\uff08\u200b\u53d1\u9001\u200b\u65f6\u949f\u200b\uff09\n  .din(icmp_din),            // \u200b\u8f93\u5165\u200b\u6570\u636e\u200b\uff08\u200b\u6807\u8bc6\u7b26\u200b\u548c\u200b\u5e8f\u5217\u53f7\u200b\uff09\n  .wr_en(icmp_wren),         // \u200b\u5199\u200b\u4f7f\u200b\u80fd\u200b\u4fe1\u53f7\u200b\n  .rd_en(icmp_rden),         // \u200b\u8bfb\u4f7f\u200b\u80fd\u200b\u4fe1\u53f7\u200b\n  .dout(icmp_dout),          // \u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\uff08\u200b\u6807\u8bc6\u7b26\u200b\u548c\u200b\u5e8f\u5217\u53f7\u200b\uff09\n  .full(icmp_wrfull),        // FIFO\u200b\u5199\u6ee1\u200b\u6807\u5fd7\u200b\n  .empty(icmp_rdempty)       // FIFO\u200b\u8bfb\u7a7a\u200b\u6807\u5fd7\u200b\n);\n\n endmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1172","title":"1.17.2 \u200b\u4ee3\u7801\u200b\u4eff\u771f\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#118-icmpicmp_sendv","title":"1.18 ICMP\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\uff1aicmp_send.v","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1181-icmp","title":"1.18.1 ICMP\u200b\u5c42\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u4ee3\u7801","text":"<pre><code>/*\n * ****************************************Copyright (c)***********************************\n * @Date: 2025-02-17 17:46:37\n * @LastEditTime: 2025-02-17 17:55:14\n * @FilePath: rtl/icmp_send.v\n * @Description:\u200b\u7528\u4e8e\u200b\u6309\u7167\u200b ICMP \u200b\u534f\u8bae\u200b\u89c4\u5219\u200b\u751f\u6210\u200b\u5e76\u200b\u56de\u590d\u200b Echo \u200b\u56de\u590d\u200b\u5305\u200b\uff0cICMP Echo \u200b\u8bf7\u6c42\u200b\u5305\u200b\u548c\u200b\u56de\u590d\u200b\u5305\u200b\u7684\u200b\u683c\u5f0f\u200b\u5927\u81f4\u76f8\u540c\u200b\uff0c\u200b\u533a\u522b\u200b\u4e3b\u8981\u200b\u5728\u4e8e\u200b\u5176\u4e2d\u200b\u7684\u200b\u7c7b\u578b\u200b\u5b57\u200b\u6bb5\u200b\u3002\u200b\u4e3b\u8981\u200b\u529f\u80fd\u200b\u5982\u4e0b\u200b\uff1a\n 1. \u200b\u63a5\u6536\u200b\u5e76\u200b\u4fdd\u5b58\u200b\u8bf7\u6c42\u200b\u4fe1\u606f\u200b\uff1a\u200b\u5f53\u200b\u6536\u5230\u200b ICMP \u200b\u56de\u590d\u200b\u8bf7\u6c42\u200b\u65f6\u200b\uff0c\u200b\u6a21\u5757\u200b\u4f1a\u200b\u4ece\u200b\u8bf7\u6c42\u200b\u4e2d\u200b\u63d0\u53d6\u200b\u6807\u8bc6\u7b26\u200b\u548c\u200b\u5e8f\u5217\u53f7\u200b\u3002\n 2. \u200b\u6570\u636e\u200b\u5b57\u8282\u200b\u751f\u6210\u200b\u4e0e\u200b\u53d1\u9001\u200b\uff1a\u200b\u6839\u636e\u200b ICMP \u200b\u534f\u8bae\u200b\u7684\u200b\u683c\u5f0f\u200b\uff08\u200b\u7c7b\u578b\u200b\u3001\u200b\u4ee3\u7801\u200b\u3001\u200b\u6821\u9a8c\u200b\u548c\u200b\u3001\u200b\u6807\u8bc6\u7b26\u200b\u3001\u200b\u5e8f\u5217\u53f7\u200b\u7b49\u200b\uff09\uff0c\u200b\u6a21\u5757\u200b\u5c06\u200b\u6570\u636e\u200b\u5b57\u8282\u200b\u9010\u4e2a\u200b\u751f\u6210\u200b\u5e76\u200b\u53d1\u9001\u200b\u3002\n 3. \u200b\u6821\u9a8c\u200b\u548c\u200b\u8ba1\u7b97\u200b\uff1a\u200b\u8ba1\u7b97\u200b ICMP \u200b\u5305\u200b\u7684\u200b\u6821\u9a8c\u200b\u548c\u200b\uff0c\u200b\u4fdd\u8bc1\u6570\u636e\u200b\u7684\u200b\u5b8c\u6574\u6027\u200b\u3002\n 4. \u200b\u53d1\u9001\u200b\u63a7\u5236\u200b\uff1a\u200b\u901a\u8fc7\u200b\u8ba1\u6570\u5668\u200b\u548c\u200b\u72b6\u6001\u200b\u4fe1\u53f7\u200b\u63a7\u5236\u6570\u636e\u200b\u7684\u200b\u53d1\u9001\u200b\u987a\u5e8f\u200b\uff0c\u200b\u786e\u4fdd\u200b\u6570\u636e\u200b\u7684\u200b\u6b63\u786e\u200b\u53d1\u9001\u200b\u3002\n * Copyright (c) 2025 by \u200b\u7845\u519c\u200b\u516c\u793e\u200b, All Rights Reserved.\n *\n * \u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1ahttps://space.bilibili.com/500610348?spm_id_from=333.1007.0.0\n * ****************************************************************************************\n */\n\n module icmp_send(\n    /*-------\u200b\u7cfb\u7edf\u200b\u7aef\u53e3\u200b\u4fe1\u53f7\u200b--------*/\n    input                   sys_clk;               // \u200b\u8f93\u5165\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    input                   sys_reset_n;             // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n\n    /*-------ICMP\u200b\u63a5\u6536\u200b\u7aef\u53e3\u200b\u4fe1\u53f7\u200b--------*/\n    input                   icmp_reply_req;    // ICMP \u200b\u56de\u590d\u200b\u8bf7\u6c42\u200b\u4fe1\u53f7\u200b\n    input      [15:0]      icmp_rx_identify;  // \u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b ICMP \u200b\u5305\u200b\u6807\u8bc6\u7b26\u200b\n    input      [15:0]      icmp_rx_sequence;  // \u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b ICMP \u200b\u5305\u200b\u5e8f\u5217\u53f7\u200b\n\n    /*-------ICMP\u200b\u53d1\u9001\u200b\u7aef\u53e3\u200b\u4fe1\u53f7\u200b--------*/\n    output reg              icmp_tx_data_vld;  // ICMP \u200b\u53d1\u9001\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\n    output reg              icmp_tx_data_last; // ICMP \u200b\u53d1\u9001\u6570\u636e\u200b\u6700\u540e\u200b\u4e00\u4f4d\u200b\u6807\u5fd7\u200b\n    output reg [7:0]        icmp_tx_data;      // ICMP \u200b\u53d1\u9001\u6570\u636e\u200b\u5b57\u8282\u200b\n    output     [15:0]       icmp_tx_length;    // ICMP \u200b\u53d1\u9001\u200b\u6570\u636e\u5305\u200b\u7684\u200b\u957f\u5ea6\u200b\n );\n /*--------------------------------------------------*\\\n                        \u200b\u5185\u90e8\u200b\u5bc4\u5b58\u5668\u200b\u548c\u200b\u4fe1\u53f7\u200b\n \\*--------------------------------------------------*/\nreg [5:0]              tx_cnt;            // \u200b\u53d1\u9001\u200b\u8ba1\u6570\u5668\u200b\uff0c\u200b\u7528\u4e8e\u200b\u63a7\u5236\u6570\u636e\u200b\u53d1\u9001\u200b\u7684\u200b\u987a\u5e8f\u200b\nreg [15:0]             icmp_tx_identify;  // ICMP \u200b\u56de\u590d\u200b\u5305\u200b\u7684\u200b\u6807\u8bc6\u7b26\u200b\nreg [15:0]             icmp_tx_sequence;  // ICMP \u200b\u56de\u590d\u200b\u5305\u200b\u7684\u200b\u5e8f\u5217\u53f7\u200b\nreg [31:0]             icmp_tx_chack;     // ICMP \u200b\u6821\u9a8c\u200b\u548c\u200b\n\n/*--------------------------------------------------*\\\n            \u200b\u5904\u7406\u200b ICMP \u200b\u56de\u590d\u200b\u8bf7\u6c42\u200b,\u200b\u83b7\u53d6\u200b\u6807\u8bc6\u7b26\u200b\u548c\u200b\u5e8f\u5217\u53f7\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) begin\n        icmp_tx_identify &lt;= 0;\n        icmp_tx_sequence &lt;= 0;\n    end\n    else if (icmp_reply_req &amp;&amp; ~icmp_tx_data_vld) begin\n        icmp_tx_identify &lt;= icmp_rx_identify;   // \u200b\u4ece\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u5305\u200b\u4e2d\u200b\u83b7\u53d6\u200b\u6807\u8bc6\u7b26\u200b\n        icmp_tx_sequence &lt;= icmp_rx_sequence;   // \u200b\u4ece\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u5305\u200b\u4e2d\u200b\u83b7\u53d6\u200b\u5e8f\u5217\u53f7\u200b\n    end\n    else begin\n        icmp_tx_identify &lt;= icmp_tx_identify;   // \u200b\u4fdd\u6301\u200b\u539f\u503c\u200b\n        icmp_tx_sequence &lt;= icmp_tx_sequence;   // \u200b\u4fdd\u6301\u200b\u539f\u503c\u200b\n    end \nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u53d1\u9001\u200b\u8ba1\u6570\u5668\u200b\u63a7\u5236\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) \n        tx_cnt &lt;= 0;                            // \u200b\u590d\u4f4d\u200b\u65f6\u200b\uff0c\u200b\u8ba1\u6570\u5668\u200b\u5f52\u96f6\u200b\n    else if (tx_cnt == 39)                      // \u200b\u5982\u679c\u200b\u5df2\u7ecf\u200b\u53d1\u9001\u200b\u4e86\u200b40\u200b\u4e2a\u200b\u5b57\u8282\u200b\uff08ICMP\u200b\u6570\u636e\u5305\u200b\u957f\u5ea6\u200b\uff09\n        tx_cnt &lt;= 0;                            // \u200b\u91cd\u65b0\u200b\u5f00\u59cb\u200b\n    else if (icmp_reply_req || tx_cnt != 0)     // \u200b\u5f53\u6709\u200b\u56de\u590d\u200b\u8bf7\u6c42\u200b\u6216\u200b\u8ba1\u6570\u5668\u200b\u672a\u6e05\u200b\u96f6\u65f6\u200b\uff0c\u200b\u8ba1\u6570\u5668\u200b\u9012\u589e\u200b\n        tx_cnt &lt;= tx_cnt + 1;\n    else \n        tx_cnt &lt;= tx_cnt;                       // \u200b\u4fdd\u6301\u200b\u8ba1\u6570\u5668\u200b\u503c\u200b\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u53d1\u9001\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u63a7\u5236\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) \n        icmp_tx_data_vld &lt;= 0;                // \u200b\u590d\u4f4d\u200b\u65f6\u200b\uff0c\u200b\u53d1\u9001\u6570\u636e\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b\u4e3a\u200b 0\n    else if (icmp_tx_data_last) \n        icmp_tx_data_vld &lt;= 0;                // \u200b\u5982\u679c\u200b\u662f\u200b\u6700\u540e\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u5b57\u8282\u200b\uff0c\u200b\u6570\u636e\u200b\u65e0\u6548\u200b\n    else if (icmp_reply_req)\n        icmp_tx_data_vld &lt;= 1'b1;             // \u200b\u5f53\u6709\u200b ICMP \u200b\u56de\u590d\u200b\u8bf7\u6c42\u200b\u65f6\u200b\uff0c\u200b\u6570\u636e\u200b\u6709\u6548\u200b\n    else \n        icmp_tx_data_vld &lt;= icmp_tx_data_vld; // \u200b\u4fdd\u6301\u200b\u539f\u503c\u200b\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u53d1\u9001\u6570\u636e\u200b\u6700\u540e\u200b\u4e00\u4f4d\u200b\u6807\u5fd7\u200b\u63a7\u5236\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) \n        icmp_tx_data_last &lt;= 0;                  // \u200b\u590d\u4f4d\u200b\u65f6\u200b\uff0c\u200b\u6700\u540e\u200b\u4e00\u4f4d\u200b\u6807\u5fd7\u200b\u4e3a\u200b 0\n    else if (tx_cnt == 39) \n        icmp_tx_data_last &lt;= 1'b1;               // \u200b\u53d1\u9001\u200b\u5b8c\u200b40\u200b\u4e2a\u200b\u5b57\u8282\u200b\u540e\u200b\uff0c\u200b\u6807\u5fd7\u200b\u7f6e\u200b\u4e3a\u200b 1\n    else \n        icmp_tx_data_last &lt;= 0;                  // \u200b\u5176\u4ed6\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u6807\u5fd7\u200b\u7f6e\u200b\u4e3a\u200b 0\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u6821\u9a8c\u200b\u548c\u200b\u8ba1\u7b97\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) \n        icmp_tx_chack &lt;= 0;                         // \u200b\u590d\u4f4d\u200b\u65f6\u200b\uff0c\u200b\u6821\u9a8c\u200b\u548c\u200b\u4e3a\u200b0\n    else if (icmp_reply_req) \n        icmp_tx_chack &lt;= icmp_rx_identify + icmp_rx_sequence;  // \u200b\u521d\u59cb\u200b\u6821\u9a8c\u200b\u548c\u200b\u4e3a\u200b\u6807\u8bc6\u7b26\u200b\u548c\u200b\u5e8f\u5217\u53f7\u200b\u4e4b\u200b\u548c\u200b\n    else if (tx_cnt == 1)\n        icmp_tx_chack &lt;= ~(icmp_tx_chack[31:16] + icmp_tx_chack[15:0]); // \u200b\u8ba1\u7b97\u200b\u6821\u9a8c\u200b\u548c\u200b\n    else \n        icmp_tx_chack &lt;= icmp_tx_chack;             // \u200b\u4fdd\u6301\u200b\u539f\u503c\u200b\nend\n\n/*--------------------------------------------------*\\\n                       \u200b\u6570\u636e\u200b\u5b57\u8282\u200b\u751f\u6210\u200b\n\\*--------------------------------------------------*/\nalways @(posedge sys_clk) begin\n    if (!sys_reset_n) \n        icmp_tx_data &lt;= 0;\n    else begin\n        case(tx_cnt)\n            0  : icmp_tx_data &lt;= 0;                        // \u200b\u7c7b\u578b\u200b\u5b57\u8282\u200b\uff080\u200b\u8868\u793a\u200b\u5e94\u7b54\u200b\uff09\n            1  : icmp_tx_data &lt;= 0;                        // \u200b\u4ee3\u7801\u200b\u5b57\u8282\u200b\uff08\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b0\uff09\n            2  : icmp_tx_data &lt;= icmp_tx_chack[15:8];      // \u200b\u6821\u9a8c\u200b\u548c\u200b\u7684\u200b\u9ad8\u5b57\u8282\u200b\n            3  : icmp_tx_data &lt;= icmp_tx_chack[7:0];       // \u200b\u6821\u9a8c\u200b\u548c\u200b\u7684\u200b\u4f4e\u5b57\u8282\u200b\n            4  : icmp_tx_data &lt;= icmp_tx_identify[15:8];   // \u200b\u6807\u8bc6\u7b26\u200b\u7684\u200b\u9ad8\u5b57\u8282\u200b\n            5  : icmp_tx_data &lt;= icmp_tx_identify[7:0];    // \u200b\u6807\u8bc6\u7b26\u200b\u7684\u200b\u4f4e\u5b57\u8282\u200b\n            6  : icmp_tx_data &lt;= icmp_tx_sequence[15:8];   // \u200b\u5e8f\u5217\u53f7\u200b\u7684\u200b\u9ad8\u5b57\u8282\u200b\n            7  : icmp_tx_data &lt;= icmp_tx_sequence[7:0];    // \u200b\u5e8f\u5217\u53f7\u200b\u7684\u200b\u4f4e\u5b57\u8282\u200b\n            default : icmp_tx_data &lt;= 0;                   // \u200b\u9ed8\u8ba4\u503c\u200b\n        endcase\n    end    \nend\n\n\n endmodule\n</code></pre>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1182","title":"1.18.2 \u200b\u4ee3\u7801\u200b\u4eff\u771f\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#2_2","title":"2. \u200b\u4ee5\u592a\u7f51\u200b\u6570\u636e\u200b\u56de\u73af\u200b\u5b9e\u9a8c","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#3-lcd","title":"3. LCD\u200b\u5c4f\u5e55\u200b\u9a71\u52a8\u200b\u663e\u793a","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#31-vga","title":"3.1 VGA\u200b\u9a71\u52a8\u200b\u663e\u793a","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#32ddr3","title":"3.2DDR3\u200b\u56fe\u50cf\u200b\u7f13\u5b58","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#33-ddr3lcd","title":"3.3 \u200b\u57fa\u4e8e\u200bDDR3\u200b\u5b58\u50a8\u200b\u663e\u793a\u200bLCD\u200b\u5f69\u6761","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#4-adc","title":"4. ADC\u200b\u91c7\u96c6\u200b\u5b58\u50a8\u7cfb\u7edf","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#5-udp","title":"5. \u200b\u57fa\u4e8e\u200bUDP\u200b\u534f\u8bae\u200b\u7684\u200b\u5b9e\u65f6\u200b\u753b\u9762\u200b\u663e\u793a","text":""},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#_8","title":"\u53c2\u8003\u200b\u6559\u7a0b","text":"<p>\u200b\u7b14\u8bb0\u200b\u5185\u5bb9\u200b\u56fe\u7247\u200b\u90e8\u5206\u200b\u4f7f\u7528\u200b\u4e92\u8054\u7f51\u200b\u56fe\u7247\u200b\uff0c\u200b\u56fe\u7247\u200b\u5747\u4f1a\u200b\u6807\u660e\u200b\u6765\u6e90\u200b\uff0c\u200b\u5982\u200b\u6709\u200b\u4fb5\u6743\u200b\uff0c\u200b\u8bf7\u200b\u8054\u7cfb\u200b\u4f5c\u8005\u200b\u8fdb\u884c\u200b\u5220\u9664\u200b\u6539\u6b63\u200b</p> <p>\u200b\u81f4\u8c22\u200b\uff1a</p> <ol> <li>\u200b\u5c0f\u767d\u200bFPGA\u200b\u8bfe\u7a0b\u200b</li> <li>\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b\uff1a\u200b\u91ce\u706b\u200bFPGA</li> <li>CSDN</li> <li>\u200b\u535a\u5ba2\u56ed\u200b</li> <li>Kimi\u200b\u4eba\u5de5\u667a\u80fd\u200b\u5e2e\u52a9\u200b\u7f16\u5199\u200b\u6587\u7ae0\u5185\u5bb9\u200b</li> <li>\u200b\u82f1\u7279\u5c14\u200b5.1.7.1.2. RMII\u200b\u548c\u200bRGMII PHY\u200b\u63a5\u53e3\u200b</li> <li>DeepSeek | \u200b\u6df1\u5ea6\u200b\u6c42\u7d22\u200b</li> <li>\u200b\u5fae\u4fe1\u200b\u516c\u4f17\u200b\u5e73\u53f0\u200b</li> </ol>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#1-phydatasheet","title":"\u9644\u5f55\u200b1 PHY\u200b\u539f\u7406\u56fe\u200b\u5373\u200bDataSheet\u200b\u8bf4\u660e","text":"<p>\u200b\u53c2\u8003\u200b\u94fe\u63a5\u200b\uff1a136-\u200b\u7b2c\u4e09\u5341\u516b\u200b\u8bb2\u200b-\u200b\u4ee5\u592a\u7f51\u200b\u6570\u636e\u200b\u56de\u73af\u200b\u5b9e\u9a8c\u200b\uff08\u200b\u5b9e\u6218\u200b\u6f14\u7ec3\u200b\uff08\u200b\u4e00\u200b\uff09\uff09_\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b_bilibili</p> <p>\u200b\u56e0\u4e3a\u200b\u662f\u200b\u539f\u7406\u56fe\u200b\u548c\u200b\u624b\u518c\u200b\u7684\u200b\u8bb2\u89e3\u200b\uff0c\u200b\u4f7f\u7528\u200b\u56fe\u6587\u200b\u7684\u200b\u65b9\u5f0f\u200b\u5f88\u96be\u200b\u7ed9\u200b\u5927\u5bb6\u200b\u8bb2\u6e05\u695a\u200b\u91cc\u9762\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u8bf7\u200b\u914d\u5408\u200b\u89c2\u770b\u200b\u89c6\u9891\u200b\u8fdb\u884c\u200b\u5b66\u4e60\u200b\u5de9\u56fa\u200b\u3002</p> <p></p> <p>\u200b\u53c2\u8003\u624b\u518c\u200b\u4e0b\u8f7d\u200b\u5730\u5740\u200b\uff1ahttps://raw.githubusercontent.com/zikwq/Blog_Pic/main/new_migRealtek%20RTL8211F(D)(I)-CG%20DataSheet%201.9.pdf</p>"},{"location":"fpga/%E4%BB%A5%E5%A4%AA%E7%BD%91%E9%80%9A%E4%BF%A1/#2_3","title":"\u9644\u5f55\u200b2 \u200b\u4ee5\u5916\u200b\u7f51\u200b\u76f8\u5173\u200b\u534f\u8bae\u200b\u6587\u6863\u200b\u9605\u8bfb","text":""},{"location":"fpga/%E4%BF%AE%E6%94%B9%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F/","title":"\u529f\u80fd\u200b\u53ca\u200b\u4ee3\u7801","text":"<p>\u200b\u7528\u6237\u200b\u8f93\u5165\u200b\u56fe\u50cf\u200b\u8def\u5f84\u200b\u3001\u200b\u65b0\u200b\u5bbd\u5ea6\u200b\u3001\u200b\u65b0\u200b\u9ad8\u5ea6\u200b\u3002\u200b\u8f93\u51fa\u200b16\u200b\u8fdb\u5236\u200b\u56fe\u50cf\u200b\u6570\u636e\u200b</p> <p>\u200b\u7a0b\u5e8f\u200b\u4e3b\u8981\u200b\u7528\u200b\u5728\u200b\u4e32\u53e3\u200b\u4f20\u56fe\u200b\u65b9\u9762\u200b\u3002</p> <p>```python main.py import cv2 import numpy as np</p> <p>def convert_to_rgb332(img):     # \u200b\u53d6\u200bR\u200b\u9ad8\u200b3\u200b\u4f4d\u200b, {5'b0, R[7:5]}     R = np.right_shift(img[:, :, 2], 5)     # \u200b\u53d6\u200bG\u200b\u9ad8\u200b3\u200b\u4f4d\u200b, {5'd0, G[7:5]}     G = np.right_shift(img[:, :, 1], 5)     # \u200b\u53d6\u200bB\u200b\u9ad8\u200b2\u200b\u4f4d\u200b, {6'd0, B[7:6]}     B = np.right_shift(img[:, :, 0], 6)</p> <pre><code># \u200b\u62fc\u63a5\u200b {R[7:5], G[7:5], B[7:6]}\nrgb332 = (R &lt;&lt; 5) + (G &lt;&lt; 2) + B\nreturn rgb332\n</code></pre> <p>def save_hex_data(data, filename):     # \u200b\u5c06\u200b\u6570\u636e\u200b\u4ee5\u200b\u5341\u516d\u8fdb\u5236\u200b\u5f62\u5f0f\u200b\u4fdd\u5b58\u200b\u5230\u200b\u6587\u672c\u6587\u4ef6\u200b     with open(filename, 'w') as f:         for value in data.flatten():             f.write(f'{value:02x} ')  # \u200b\u4f7f\u7528\u200b\u683c\u5f0f\u5316\u200b\u5b57\u7b26\u4e32\u200b\u5c06\u200b\u6574\u6570\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e24\u4f4d\u200b\u5341\u516d\u8fdb\u5236\u200b\u6570\u200b</p> <p>def process_image(image_path, new_width, new_height):     # \u200b\u8bfb\u53d6\u200b\u56fe\u50cf\u200b     img = cv2.imread(image_path)     if img is None:         print(\"Image not found. Please check the image path.\")         return None     img = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)  # \u200b\u8f6c\u6362\u200b\u4e3a\u200bRGB\u200b\u683c\u5f0f\u200b</p> <pre><code># \u200b\u8c03\u6574\u200b\u56fe\u50cf\u200b\u5927\u5c0f\u200b\nimg = cv2.resize(img, (new_width, new_height))\nreturn img\n</code></pre>","tags":["python"]},{"location":"fpga/%E4%BF%AE%E6%94%B9%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F/#_2","title":"\u56fe\u7247\u200b\u8def\u5f84\u200b\u548c\u200b\u5c3a\u5bf8","text":"<p>image_path = r\"C:\\Users\\Administrator\\Desktop\\5fcf95f976f3998469e9338e61d351f.jpg\" new_width = 100 new_height = 100</p>","tags":["python"]},{"location":"fpga/%E4%BF%AE%E6%94%B9%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F/#_3","title":"\u5904\u7406\u200b\u56fe\u50cf","text":"<p>img = process_image(image_path, new_width, new_height) if img is not None:     # \u200b\u8f6c\u6362\u200b\u4e3a\u200bRGB332\u200b\u683c\u5f0f\u200b     rgb332 = convert_to_rgb332(img)</p> <pre><code># \u200b\u5c06\u200brgb332\u200b\u6570\u636e\u200b\u4ee5\u200b\u5341\u516d\u8fdb\u5236\u200b\u5f62\u5f0f\u200b\u4fdd\u5b58\u200b\u5230\u200b\u6587\u672c\u6587\u4ef6\u200b\nsave_hex_data(rgb332, 'rgb332.txt')\n</code></pre> <p>```</p>","tags":["python"]},{"location":"fpga/%E4%BF%AE%E6%94%B9%E5%9B%BE%E5%83%8F%E6%A0%BC%E5%BC%8F/#_4","title":"\u53c2\u8003\u200b\u94fe\u63a5","text":"<p>\u200b\u4e32\u53e3\u200b\u4f20\u56fe\u200b\uff1aRGB332\u200b\u683c\u5f0f\u200b\u548c\u200bRGB565\u200b\u683c\u5f0f\u200b</p>","tags":["python"]},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/","title":"\u5e76\u884c\u200b\u6570\u636e\u200b\u8f6c\u4e3a\u200b\u4e32\u884c\u200b\u6570\u636e","text":"<ul> <li>[ ] \u200b\u5bf9\u200b\u7a0b\u5e8f\u200b\u4eff\u771f\u200b\uff0c\u200b\u6dfb\u52a0\u200b\u4eff\u771f\u200b\u65f6\u5e8f\u200b\u56fe\u200b\u4fbf\u4e8e\u200b\u7406\u89e3\u200b</li> </ul>"},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/#_1","title":"\u5e94\u7528\u200b\u573a\u666f","text":""},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/#1","title":"1. \u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e32\u884c\u200b\u6570\u636e","text":""},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/#_2","title":"\u5e94\u7528\u200b\u573a\u666f","text":"<ul> <li>\u200b\u4e32\u884c\u200b\u901a\u4fe1\u200b\uff1a</li> <li>SPI\uff08Serial Peripheral Interface\uff09\uff1a\u200b\u5728\u200bSPI\u200b\u901a\u4fe1\u200b\u4e2d\u200b\uff0c\u200b\u4e3b\u673a\u200b\uff08Master\uff09\u200b\u9700\u8981\u200b\u5c06\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u53d1\u9001\u7ed9\u200b\u4ece\u673a\u200b\uff08Slave\uff09\u3002\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u9010\u200b\u4f4d\u79fb\u200b\u51fa\u200b\uff0c\u200b\u5f62\u6210\u200b\u4e32\u884c\u200b\u6570\u636e\u6d41\u200b\u3002</li> <li>UART\uff08Universal Asynchronous Receiver-Transmitter\uff09\uff1a\u200b\u5728\u200bUART\u200b\u901a\u4fe1\u200b\u4e2d\u200b\uff0c\u200b\u6570\u636e\u200b\u901a\u5e38\u200b\u4ee5\u200b\u5e76\u884c\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b\u5728\u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b\uff0c\u200b\u7136\u540e\u200b\u901a\u8fc7\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u3002</li> <li>\u200b\u6570\u636e\u538b\u7f29\u200b\uff1a</li> <li>\u200b\u5728\u200b\u67d0\u4e9b\u200b\u6570\u636e\u200b\u538b\u7f29\u7b97\u6cd5\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u5c06\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u9010\u4f4d\u200b\u5904\u7406\u200b\u3002\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u9010\u200b\u4f4d\u79fb\u200b\u51fa\u200b\uff0c\u200b\u4fbf\u4e8e\u200b\u9010\u4f4d\u200b\u5904\u7406\u200b\u3002</li> <li>\u200b\u663e\u793a\u200b\u9a71\u52a8\u200b\uff1a</li> <li>\u200b\u5728\u200b\u67d0\u4e9b\u200b\u663e\u793a\u200b\u9a71\u52a8\u200b\u7535\u8def\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u5c06\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u9010\u4f4d\u200b\u53d1\u9001\u5230\u200b\u663e\u793a\u200b\u9762\u677f\u200b\u3002\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u8fd9\u79cd\u200b\u8f6c\u6362\u200b\u3002</li> </ul>"},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/#2","title":"2. \u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5e76\u884c\u200b\u6570\u636e","text":""},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/#_3","title":"\u5e94\u7528\u200b\u573a\u666f","text":"<ul> <li>\u200b\u4e32\u884c\u200b\u901a\u4fe1\u200b\uff1a</li> <li>SPI\uff1a\u200b\u4ece\u673a\u200b\uff08Slave\uff09\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u9700\u8981\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u4ee5\u4fbf\u200b\u8fdb\u4e00\u6b65\u200b\u5904\u7406\u200b\u3002\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u9010\u4f4d\u200b\u5b58\u50a8\u200b\uff0c\u200b\u6700\u7ec8\u200b\u5f62\u6210\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u3002</li> <li>UART\uff1a\u200b\u63a5\u6536\u7aef\u200b\u9700\u8981\u200b\u5c06\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u5b58\u50a8\u200b\u5230\u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b\u3002</li> <li>\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\uff1a</li> <li>\u200b\u5728\u200b\u67d0\u4e9b\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\u7cfb\u7edf\u200b\u4e2d\u200b\uff0c\u200b\u4f20\u611f\u5668\u200b\u8f93\u51fa\u200b\u7684\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u9700\u8981\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u4ee5\u4fbf\u200b\u8fdb\u884c\u200b\u5feb\u901f\u200b\u5904\u7406\u200b\u3002</li> <li>FPGA/CPLD\uff1a</li> <li>\u200b\u5728\u200bFPGA\u200b\u6216\u200bCPLD\u200b\u4e2d\u200b\uff0c\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\u901a\u5e38\u200b\u9700\u8981\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u4ee5\u4fbf\u200b\u8fdb\u884c\u200b\u590d\u6742\u200b\u7684\u200b\u903b\u8f91\u200b\u5904\u7406\u200b\u3002</li> </ul>"},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/#3","title":"3. \u200b\u5355\u5411\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668","text":""},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/#_4","title":"\u5e94\u7528\u200b\u573a\u666f","text":"<ul> <li>\u200b\u6570\u636e\u200b\u5ef6\u8fdf\u200b\uff1a</li> <li>\u200b\u5728\u200b\u67d0\u4e9b\u200b\u65f6\u5e8f\u200b\u63a7\u5236\u7535\u8def\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u9010\u4f4d\u200b\u5ef6\u8fdf\u200b\u3002\u200b\u5355\u5411\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u8fd9\u79cd\u200b\u5ef6\u8fdf\u200b\u529f\u80fd\u200b\u3002</li> <li>\u200b\u8ba1\u6570\u5668\u200b\uff1a</li> <li>\u200b\u901a\u8fc7\u200b\u73af\u5f62\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\uff08\u200b\u5c06\u200b\u8f93\u51fa\u200b\u53cd\u9988\u200b\u5230\u200b\u8f93\u5165\u200b\uff09\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u7b80\u5355\u200b\u7684\u200b\u8ba1\u6570\u5668\u200b\u3002</li> <li>\u200b\u5e8f\u5217\u200b\u53d1\u751f\u5668\u200b\uff1a</li> <li>\u200b\u7528\u4e8e\u200b\u751f\u6210\u200b\u7279\u5b9a\u200b\u7684\u200b\u5e8f\u5217\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u5e38\u7528\u200b\u4e8e\u200b\u6d4b\u8bd5\u200b\u548c\u200b\u63a7\u5236\u7535\u8def\u200b\u3002</li> </ul>"},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/#4","title":"4. \u200b\u53cc\u5411\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668","text":""},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/#_5","title":"\u5e94\u7528\u200b\u573a\u666f","text":"<ul> <li>\u200b\u6570\u636e\u200b\u7f13\u51b2\u200b\uff1a</li> <li>\u200b\u5728\u200b\u67d0\u4e9b\u200b\u6570\u636e\u200b\u7f13\u51b2\u200b\u7535\u8def\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u6839\u636e\u200b\u4e0d\u540c\u200b\u7684\u200b\u64cd\u4f5c\u200b\u9700\u6c42\u200b\u5c06\u200b\u6570\u636e\u200b\u5411\u200b\u5de6\u79fb\u200b\u6216\u200b\u5411\u200b\u53f3\u79fb\u200b\u3002\u200b\u53cc\u5411\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u53ef\u4ee5\u200b\u7075\u6d3b\u200b\u5730\u200b\u5b9e\u73b0\u200b\u8fd9\u79cd\u200b\u529f\u80fd\u200b\u3002</li> <li>\u200b\u6570\u5b57\u200b\u4fe1\u53f7\u5904\u7406\u200b\uff1a</li> <li>\u200b\u5728\u200b\u67d0\u4e9b\u200b\u6570\u5b57\u200b\u4fe1\u53f7\u5904\u7406\u200b\u7b97\u6cd5\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u6839\u636e\u200b\u4e0d\u540c\u200b\u7684\u200b\u5904\u7406\u200b\u6b65\u9aa4\u200b\u5c06\u200b\u6570\u636e\u200b\u5411\u200b\u5de6\u79fb\u200b\u6216\u200b\u5411\u200b\u53f3\u79fb\u200b\u3002\u200b\u53cc\u5411\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u8fd9\u79cd\u200b\u7075\u6d3b\u200b\u7684\u200b\u6570\u636e\u5904\u7406\u200b\u3002</li> <li>\u200b\u901a\u4fe1\u534f\u8bae\u200b\uff1a</li> <li>\u200b\u5728\u200b\u67d0\u4e9b\u200b\u901a\u4fe1\u534f\u8bae\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u6839\u636e\u200b\u4e0d\u540c\u200b\u7684\u200b\u901a\u4fe1\u200b\u9636\u6bb5\u200b\u5c06\u200b\u6570\u636e\u200b\u5411\u200b\u5de6\u79fb\u200b\u6216\u200b\u5411\u200b\u53f3\u79fb\u200b\u3002\u200b\u53cc\u5411\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u8fd9\u79cd\u200b\u7075\u6d3b\u200b\u7684\u200b\u6570\u636e\u5904\u7406\u200b\u3002</li> </ul>"},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/#_6","title":"\u53c2\u8003\u8d44\u6599","text":"<p>\u200b\u4e32\u200b\u5e76\u200b\u8f6c\u6362\u200b\uff08\u200b\u4e32\u5165\u200b\u5e76\u200b\u51fa\u200b\u3001\u200b\u5e76\u5165\u200b\u4e32\u51fa\u200b\u3001\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u6cd5\u200b\u548c\u200b\u8ba1\u6570\u5668\u200b\u6cd5\u200b</p>"},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/#8","title":"8\u200b\u4f4d\u200b\u5bbd\u200b\u7684\u200b\u5e76\u884c\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u8f93\u51fa","text":"<p>\u200b\u9700\u8981\u200b\u6dfb\u52a0\u200b\u989d\u5916\u200bstart\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u5f53\u200b\u62c9\u9ad8\u200bstart\u200b\u4fe1\u53f7\u200b\u65f6\u200b\uff0c\u200b\u5f00\u59cb\u200b\u8f6c\u6362\u200b\u6570\u636e\u200b</p> <p>\u200b\u5728\u200bVerilog\u200b\u4e2d\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b8\u200b\u4f4d\u200b\u5bbd\u200b\u7684\u200b\u5e76\u884c\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u901a\u5e38\u200b\u79f0\u4e3a\u200b\u4e32\u884c\u5316\u200b\uff08Serialization\uff09\u3002\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7b80\u5355\u200b\u7684\u200bVerilog\u200b\u6a21\u5757\u200b\u793a\u4f8b\u200b\uff0c\u200b\u5b83\u200b\u5b9e\u73b0\u200b\u4e86\u200b\u8fd9\u4e2a\u200b\u529f\u80fd\u200b\uff1a</p> <p>```verilog main.v module ParallelToSerial(     input wire clk,          // \u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b     input wire rst_n,        // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\uff08\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\uff09     input wire [7:0] data_in, // 8\u200b\u4f4d\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u8f93\u5165\u200b     input wire start,        // \u200b\u5f00\u59cb\u200b\u8f6c\u6362\u200b\u4fe1\u53f7\u200b     output reg serial_out    // \u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b );</p> <p>reg [7:0] shift_reg; // \u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u5e76\u884c\u200b\u6570\u636e\u200b reg [2:0] bit_cnt;   // \u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8ddf\u8e2a\u200b\u5f53\u524d\u200b\u8f93\u51fa\u200b\u7684\u200b\u4f4d\u200b</p> <p>// \u200b\u5728\u200b\u6bcf\u4e2a\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u5904\u7406\u200b\u6570\u636e\u200b always @(posedge clk or negedge rst_n) begin     if (!rst_n) begin         // \u200b\u540c\u6b65\u200b\u590d\u4f4d\u200b         shift_reg &lt;= 8'b0;         bit_cnt &lt;= 3'b0;         serial_out &lt;= 1'b0;     end else if (start) begin         // \u200b\u5c06\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u52a0\u8f7d\u200b\u5230\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b         shift_reg &lt;= data_in;         bit_cnt &lt;= 3'd7; // \u200b\u521d\u59cb\u5316\u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b\u4e3a\u200b7\uff08\u200b\u4ece\u200b\u6700\u9ad8\u200b\u4f4d\u200b\u5f00\u59cb\u200b\uff09     end else if (bit_cnt &gt; 0) begin         // \u200b\u79fb\u4f4d\u200b\u8f93\u51fa\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u5230\u200b\u4e32\u884c\u200b\u8f93\u51fa\u200b         serial_out &lt;= shift_reg[7]; // \u200b\u8f93\u51fa\u200b\u6700\u9ad8\u200b\u4f4d\u200b         shift_reg &lt;= shift_reg &lt;&lt; 1; // \u200b\u5de6\u79fb\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b         bit_cnt &lt;= bit_cnt - 1; // \u200b\u51cf\u5c11\u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b     end end</p> <p>endmodule</p> <pre><code>\n\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u7684\u200b\u5de5\u4f5c\u200b\u6d41\u7a0b\u200b\u5982\u4e0b\u200b\uff1a\n\n1. **\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b**\uff1a\u200b\u6a21\u5757\u200b\u63a5\u53d7\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b`clk`\uff0c\u200b\u4e00\u4e2a\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\u7684\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b`rst_n`\uff0c8\u200b\u4f4d\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u8f93\u5165\u200b`data_in`\uff0c\u200b\u4ee5\u53ca\u200b\u4e00\u4e2a\u200b\u5f00\u59cb\u200b\u8f6c\u6362\u200b\u4fe1\u53f7\u200b`start`\u3002\n2. **\u200b\u5bc4\u5b58\u5668\u200b\u5b9a\u4e49\u200b**\uff1a\u200b\u5b9a\u4e49\u200b\u4e86\u200b\u4e00\u4e2a\u200b8\u200b\u4f4d\u200b\u7684\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b`shift_reg`\u200b\u6765\u200b\u5b58\u50a8\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\uff0c\u200b\u4ee5\u53ca\u200b\u4e00\u4e2a\u200b3\u200b\u4f4d\u200b\u7684\u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b`bit_cnt`\u200b\u6765\u200b\u8ddf\u8e2a\u200b\u5f53\u524d\u200b\u8f93\u51fa\u200b\u7684\u200b\u4f4d\u200b\u3002\n3. **\u200b\u5904\u7406\u200b\u903b\u8f91\u200b**\uff1a\n   - \u200b\u5f53\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b`rst_n`\u200b\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\u65f6\u200b\uff0c\u200b\u6240\u6709\u200b\u5bc4\u5b58\u5668\u200b\u88ab\u200b\u6e05\u96f6\u200b\u3002\n   - \u200b\u5f53\u200b`start`\u200b\u4fe1\u53f7\u200b\u53d8\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\u65f6\u200b\uff0c\u200b\u5c06\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u52a0\u8f7d\u200b\u5230\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b`shift_reg`\u200b\u4e2d\u200b\uff0c\u200b\u5e76\u200b\u8bbe\u7f6e\u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b`bit_cnt`\u200b\u4e3a\u200b7\uff0c\u200b\u8868\u793a\u200b\u4ece\u200b\u6700\u9ad8\u200b\u4f4d\u200b\u5f00\u59cb\u200b\u8f93\u51fa\u200b\u3002\n   - \u200b\u5728\u200b\u6bcf\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\uff0c\u200b\u5982\u679c\u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b`bit_cnt`\u200b\u5927\u4e8e\u200b0\uff0c\u200b\u6a21\u5757\u200b\u5c06\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u6700\u9ad8\u200b\u4f4d\u200b\u8f93\u51fa\u200b\u5230\u200b`serial_out`\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u5de6\u79fb\u200b\u4e00\u4f4d\u200b\uff0c\u200b\u5e76\u200b\u51cf\u5c11\u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b\u7684\u200b\u503c\u200b\u3002\n4. **\u200b\u8f93\u51fa\u200b**\uff1a`serial_out`\u200b\u4e3a\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\uff0c\u200b\u5b83\u200b\u5c06\u200b\u6309\u7167\u200b\u4f4d\u200b\u7684\u200b\u987a\u5e8f\u200b\u4f9d\u6b21\u200b\u8f93\u51fa\u200b`data_in`\u200b\u4e2d\u200b\u7684\u200b\u6bcf\u200b\u4e00\u4f4d\u200b\u3002\n\n\u200b\u8bf7\u200b\u6ce8\u610f\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u5047\u8bbe\u200b`start`\u200b\u4fe1\u53f7\u200b\u4f1a\u200b\u5728\u200b\u6bcf\u6b21\u200b\u9700\u8981\u200b\u5f00\u59cb\u200b\u65b0\u200b\u7684\u200b\u4e32\u884c\u200b\u8f6c\u6362\u200b\u65f6\u200b\u88ab\u200b\u6fc0\u6d3b\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5728\u200b\u8f6c\u6362\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u4fdd\u6301\u200b\u6fc0\u6d3b\u72b6\u6001\u200b\u3002\u200b\u6b64\u5916\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u6ca1\u6709\u200b\u5b9e\u73b0\u200b\u6570\u636e\u200b\u540c\u6b65\u200b\u6216\u200b\u65f6\u949f\u200b\u57df\u200b\u4ea4\u53c9\u200b\uff0c\u200b\u8fd9\u200b\u5728\u200b\u5b9e\u9645\u200b\u5e94\u7528\u200b\u4e2d\u200b\u53ef\u80fd\u200b\u9700\u8981\u200b\u989d\u5916\u200b\u7684\u200b\u8003\u8651\u200b\u3002\n\n\n\n## \u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\u8f6c\u6362\u200b\u4e3a\u200b8\u200b\u4f4d\u200b\u5bbd\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\n\n```verilog main.v\nmodule SerialToParallel(\n    input wire clk,          // \u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    input wire rst_n,        // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\uff08\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\uff09\n    input wire serial_in,    // \u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\n    output reg [7:0] data_out, // 8\u200b\u4f4d\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\n    output reg done          // \u200b\u8f6c\u6362\u200b\u5b8c\u6210\u200b\u4fe1\u53f7\u200b\n);\n\nreg [7:0] shift_reg; // \u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5b58\u50a8\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\nreg [2:0] bit_cnt;   // \u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8ddf\u8e2a\u200b\u5f53\u524d\u200b\u5b58\u50a8\u200b\u7684\u200b\u4f4d\u6570\u200b\n\n// \u200b\u5728\u200b\u6bcf\u4e2a\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u5904\u7406\u200b\u6570\u636e\u200b\nalways @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n        // \u200b\u540c\u6b65\u200b\u590d\u4f4d\u200b\n        shift_reg &lt;= 8'b0;\n        bit_cnt &lt;= 3'b0;\n        done &lt;= 1'b0;\n    end else begin\n        // \u200b\u79fb\u4f4d\u200b\u8f93\u5165\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u5230\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\n        shift_reg &lt;= {shift_reg[6:0], serial_in}; // \u200b\u53f3\u79fb\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\uff0c\u200b\u5e76\u200b\u6dfb\u52a0\u200b\u65b0\u200b\u7684\u200b\u4e32\u884c\u200b\u8f93\u5165\u200b\u4f4d\u200b\n        if (bit_cnt &lt; 7) begin\n            bit_cnt &lt;= bit_cnt + 1; // \u200b\u589e\u52a0\u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b\n        end else begin\n            // \u200b\u5f53\u200b\u63a5\u6536\u200b\u5230\u200b8\u200b\u4f4d\u200b\u6570\u636e\u200b\u540e\u200b\uff0c\u200b\u5c06\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u5185\u5bb9\u200b\u8f93\u51fa\u200b\u5230\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\n            data_out &lt;= shift_reg;\n            done &lt;= 1'b1; // \u200b\u6807\u8bb0\u200b\u8f6c\u6362\u200b\u5b8c\u6210\u200b\n            bit_cnt &lt;= 3'b0; // \u200b\u91cd\u7f6e\u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b\n        end\n    end\nend\n\nendmodule\n</code></pre>"},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/#_7","title":"\u5355\u5411\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\uff08\u200b\u5de6\u79fb\u200b\uff09","text":"<pre><code>module unidirectional_shift_register (\n    input clk,          // \u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    input reset,        // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n    input serial_in,    // \u200b\u4e32\u884c\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\n    output reg [7:0] serial_out  // 8\u200b\u4f4d\u200b\u4e32\u884c\u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\n);\n    reg [7:0] shift_reg;  // 8\u200b\u4f4d\u79fb\u200b\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\n\n    always @(posedge clk or posedge reset) begin\n        if (reset) begin\n            shift_reg &lt;= 8'b0;  // \u200b\u590d\u4f4d\u200b\u65f6\u200b\u6e05\u7a7a\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\n            serial_out &lt;= 8'b0;  // \u200b\u6e05\u7a7a\u200b\u8f93\u51fa\u200b\n        end else begin\n            shift_reg &lt;= shift_reg &lt;&lt; 1;  // \u200b\u5de6\u79fb\u200b\u64cd\u4f5c\u200b\n            shift_reg[0] &lt;= serial_in;  // \u200b\u5c06\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u5230\u200b\u6700\u4f4e\u200b\u4f4d\u200b\n            serial_out &lt;= shift_reg;  // \u200b\u66f4\u65b0\u200b\u8f93\u51fa\u200b\n        end\n    end\nendmodule\n</code></pre>"},{"location":"fpga/%E5%9B%9B%E7%A7%8D%E7%A7%BB%E4%BD%8D%E5%AF%84%E5%AD%98%E5%99%A8/#_8","title":"\u53cc\u5411\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668","text":"<p>\u200b\u53cc\u5411\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u53ef\u4ee5\u200b\u5411\u200b\u4e24\u4e2a\u200b\u65b9\u5411\u200b\u79fb\u52a8\u200b\u6570\u636e\u200b\uff08\u200b\u5de6\u79fb\u200b\u548c\u200b\u53f3\u79fb\u200b\uff09\uff0c\u200b\u901a\u8fc7\u200b\u4e00\u4e2a\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b\u51b3\u5b9a\u200b\u79fb\u4f4d\u200b\u65b9\u5411\u200b\u3002</p> <pre><code>module bidirectional_shift_register (\n    input clk,          // \u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    input reset,        // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n    input serial_in,    // \u200b\u4e32\u884c\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\n    input shift_dir,    // \u200b\u79fb\u4f4d\u200b\u65b9\u5411\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b\uff080\uff1a\u200b\u5de6\u79fb\u200b\uff0c1\uff1a\u200b\u53f3\u79fb\u200b\uff09\n    output reg [7:0] serial_out  // 8\u200b\u4f4d\u200b\u4e32\u884c\u200b\u8f93\u51fa\u200b\u6570\u636e\u200b\n);\n    reg [7:0] shift_reg;  // 8\u200b\u4f4d\u79fb\u200b\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\n\n    always @(posedge clk or posedge reset) begin\n        if (reset) begin\n            shift_reg &lt;= 8'b0;  // \u200b\u590d\u4f4d\u200b\u65f6\u200b\u6e05\u7a7a\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\n            serial_out &lt;= 8'b0;  // \u200b\u6e05\u7a7a\u200b\u8f93\u51fa\u200b\n        end else begin\n            if (shift_dir) begin\n                // \u200b\u53f3\u79fb\u200b\n                shift_reg &lt;= shift_reg &gt;&gt; 1;\n                shift_reg[7] &lt;= serial_in;  // \u200b\u5c06\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u5230\u200b\u6700\u9ad8\u200b\u4f4d\u200b\n            end else begin\n                // \u200b\u5de6\u79fb\u200b\n                shift_reg &lt;= shift_reg &lt;&lt; 1;\n                shift_reg[0] &lt;= serial_in;  // \u200b\u5c06\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u5b58\u50a8\u200b\u5230\u200b\u6700\u4f4e\u200b\u4f4d\u200b\n            end\n            serial_out &lt;= shift_reg;  // \u200b\u66f4\u65b0\u200b\u8f93\u51fa\u200b\n        end\n    end\nendmodule\n</code></pre>"},{"location":"fpga/%E5%9F%BA%E4%BA%8EROM%E7%9A%84VGA%E5%9B%BE%E5%83%8F%E6%98%BE%E7%A4%BA/","title":"\u57fa\u4e8e\u200bROM\u200b\u7684\u200bVGA\u200b\u56fe\u50cf\u200b\u663e\u793a","text":"<p>\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u00b7\u00b7\u00b7\u200b\u57fa\u4e8e\u200bROM\u200b\u7684\u200bVGA\u200b\u56fe\u50cf\u200b\u663e\u793a\u200b.md</p>"},{"location":"fpga/%E5%B7%AE%E5%88%86%E5%AF%B9%E5%92%8C%E5%B7%AE%E5%88%86%E4%BF%A1%E5%8F%B7/","title":"\u5dee\u5206\u200b\u5bf9\u200b\u548c\u200b\u5dee\u5206\u200b\u4fe1\u53f7","text":"<p>\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u662f\u200b\u4e00\u79cd\u200b\u5728\u200b\u7535\u5b50\u5b66\u200b\u548c\u200b\u901a\u4fe1\u200b\u4e2d\u200b\u5e7f\u6cdb\u200b\u4f7f\u7528\u200b\u7684\u200b\u6280\u672f\u200b\uff0c\u200b\u5b83\u200b\u901a\u8fc7\u200b\u4f20\u8f93\u200b\u4e24\u4e2a\u200b\u7b49\u200b\u5e45\u200b\u3001\u200b\u53cd\u76f8\u200b\u7684\u200b\u4fe1\u53f7\u200b\u6765\u200b\u63d0\u9ad8\u200b\u4fe1\u53f7\u200b\u7684\u200b\u6297\u5e72\u6270\u80fd\u529b\u200b\u3002\u200b\u4e0b\u9762\u200b\u662f\u200b\u5173\u4e8e\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u7684\u200b\u57fa\u672c\u539f\u7406\u200b\u3001\u200b\u7b80\u4ecb\u200b\u4ee5\u53ca\u200b\u5e94\u7528\u200b\u7684\u200b\u8be6\u7ec6\u200b\u89e3\u91ca\u200b\uff1a</p>"},{"location":"fpga/%E5%B7%AE%E5%88%86%E5%AF%B9%E5%92%8C%E5%B7%AE%E5%88%86%E4%BF%A1%E5%8F%B7/#_1","title":"\u57fa\u672c\u539f\u7406","text":"<p>\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u7684\u200b\u6838\u5fc3\u200b\u539f\u7406\u200b\u662f\u200b\u5229\u7528\u200b\u4e24\u4e2a\u200b\u4fe1\u53f7\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5dee\u5f02\u200b\u6765\u200b\u4f20\u8f93\u200b\u4fe1\u606f\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u5355\u4e2a\u200b\u4fe1\u53f7\u200b\u7684\u200b\u7edd\u5bf9\u503c\u200b\u3002\u200b\u5728\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u4e2d\u200b\uff0c\u200b\u6709\u200b\u4e24\u6761\u200b\u7ebf\u8def\u200b\uff0c\u200b\u4e00\u6761\u200b\u79f0\u4e3a\u200b\u6b63\u200b\u4fe1\u53f7\u200b\uff08+\uff09\uff0c\u200b\u53e6\u200b\u4e00\u6761\u200b\u79f0\u4e3a\u200b\u8d1f\u200b\u4fe1\u53f7\u200b\uff08-\uff09\u3002\u200b\u8fd9\u200b\u4e24\u6761\u200b\u7ebf\u8def\u200b\u4e0a\u200b\u4f20\u8f93\u200b\u7684\u200b\u4fe1\u53f7\u200b\u662f\u200b\u7b49\u200b\u5e45\u200b\u7684\u200b\uff0c\u200b\u4f46\u200b\u76f8\u4f4d\u200b\u76f8\u53cd\u200b\u3002</p> <p>\u200b\u4f8b\u5982\u200b\uff0c\u200b\u5982\u679c\u200b\u6b63\u200b\u4fe1\u53f7\u200b\u662f\u200b <code>V</code>\uff0c\u200b\u90a3\u4e48\u200b\u8d1f\u200b\u4fe1\u53f7\u200b\u5c31\u662f\u200b <code>-V</code>\u3002\u200b\u5f53\u200b\u63a5\u6536\u7aef\u200b\u63a5\u6536\u200b\u5230\u200b\u8fd9\u200b\u4e24\u4e2a\u200b\u4fe1\u53f7\u200b\u65f6\u200b\uff0c\u200b\u5b83\u4f1a\u200b\u8ba1\u7b97\u200b\u4e24\u8005\u4e4b\u95f4\u200b\u7684\u200b\u5dee\u503c\u200b\u3002\u200b\u7531\u4e8e\u200b\u5916\u754c\u200b\u7684\u200b\u5e72\u6270\u200b\uff08\u200b\u5982\u200b\u7535\u78c1\u5e72\u6270\u200b\uff09\u200b\u901a\u5e38\u200b\u540c\u65f6\u200b\u5f71\u54cd\u200b\u4e24\u6761\u200b\u7ebf\u8def\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5dee\u503c\u200b\u4e0d\u4f1a\u200b\u53d7\u5230\u200b\u5e72\u6270\u200b\u7684\u200b\u5f71\u54cd\u200b\uff0c\u200b\u4ece\u800c\u200b\u63d0\u9ad8\u200b\u4e86\u200b\u4fe1\u53f7\u200b\u7684\u200b\u53ef\u9760\u6027\u200b\u3002</p>"},{"location":"fpga/%E5%B7%AE%E5%88%86%E5%AF%B9%E5%92%8C%E5%B7%AE%E5%88%86%E4%BF%A1%E5%8F%B7/#_2","title":"\u7b80\u4ecb","text":"<p>\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u7684\u200b\u6982\u5ff5\u200b\u53ef\u4ee5\u200b\u8ffd\u6eaf\u5230\u200b19\u200b\u4e16\u7eaa\u200b\uff0c\u200b\u4f46\u200b\u76f4\u5230\u200b20\u200b\u4e16\u7eaa\u672b\u200b\uff0c\u200b\u968f\u7740\u200b\u7535\u5b50\u8bbe\u5907\u200b\u901f\u5ea6\u200b\u7684\u200b\u63d0\u9ad8\u200b\u548c\u200b\u5bf9\u200b\u4fe1\u53f7\u200b\u5b8c\u6574\u6027\u200b\u8981\u6c42\u200b\u7684\u200b\u589e\u52a0\u200b\uff0c\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u5728\u200b\u9ad8\u901f\u901a\u4fe1\u200b\u548c\u200b\u6570\u636e\u4f20\u8f93\u200b\u4e2d\u200b\u53d8\u5f97\u200b\u8d8a\u6765\u8d8a\u200b\u91cd\u8981\u200b\u3002</p> <p>\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u6709\u200b\u4ee5\u4e0b\u200b\u51e0\u4e2a\u200b\u5173\u952e\u200b\u7279\u70b9\u200b\uff1a</p> <ul> <li>\u200b\u6297\u5e72\u6270\u6027\u200b\uff1a\u200b\u7531\u4e8e\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u7684\u200b\u6297\u5e72\u6270\u200b\u7279\u6027\u200b\uff0c\u200b\u5b83\u200b\u5728\u200b\u957f\u8ddd\u79bb\u200b\u4f20\u8f93\u200b\u548c\u200b\u9ad8\u901f\u200b\u6570\u636e\u4f20\u8f93\u200b\u4e2d\u200b\u975e\u5e38\u200b\u6709\u7528\u200b\u3002</li> <li>\u200b\u4fe1\u53f7\u200b\u5b8c\u6574\u6027\u200b\uff1a\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u6709\u52a9\u4e8e\u200b\u4fdd\u6301\u200b\u4fe1\u53f7\u200b\u7684\u200b\u5b8c\u6574\u6027\u200b\uff0c\u200b\u51cf\u5c11\u200b\u4fe1\u53f7\u200b\u5931\u771f\u200b\u3002</li> <li>\u200b\u529f\u7387\u200b\u6548\u7387\u200b\uff1a\u200b\u5728\u200b\u67d0\u4e9b\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u53ef\u4ee5\u200b\u63d0\u9ad8\u200b\u529f\u7387\u200b\u4f20\u8f93\u200b\u6548\u7387\u200b\u3002</li> <li>\u200b\u7b80\u5316\u200b\u8bbe\u8ba1\u200b\uff1a\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u53ef\u4ee5\u200b\u7b80\u5316\u200b\u7535\u8def\u8bbe\u8ba1\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u4e0d\u200b\u9700\u8981\u200b\u590d\u6742\u200b\u7684\u200b\u5339\u914d\u200b\u6216\u200b\u5e73\u8861\u200b\u6280\u672f\u200b\u3002</li> </ul>"},{"location":"fpga/%E5%B7%AE%E5%88%86%E5%AF%B9%E5%92%8C%E5%B7%AE%E5%88%86%E4%BF%A1%E5%8F%B7/#_3","title":"\u5e94\u7528","text":"<p>\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u5728\u200b\u8bb8\u591a\u200b\u9886\u57df\u200b\u90fd\u200b\u6709\u200b\u5e94\u7528\u200b\uff0c\u200b\u5305\u62ec\u200b\u4f46\u200b\u4e0d\u200b\u9650\u4e8e\u200b\uff1a</p> <ol> <li>\u200b\u9ad8\u901f\u200b\u4e32\u884c\u200b\u901a\u4fe1\u200b\uff1a\u200b\u5982\u200bUSB\u3001SATA\u3001Ethernet\u200b\u7b49\u200b\uff0c\u200b\u5b83\u4eec\u200b\u5229\u7528\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u6765\u200b\u63d0\u9ad8\u200b\u6570\u636e\u200b\u4f20\u8f93\u901f\u7387\u200b\u548c\u200b\u53ef\u9760\u6027\u200b\u3002</li> <li>\u200b\u65e0\u7ebf\u901a\u4fe1\u200b\uff1a\u200b\u5728\u200b\u65e0\u7ebf\u901a\u4fe1\u200b\u4e2d\u200b\uff0c\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u53ef\u4ee5\u200b\u63d0\u9ad8\u200b\u4fe1\u53f7\u200b\u7684\u200b\u63a5\u6536\u200b\u8d28\u91cf\u200b\u3002</li> <li>\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u4f20\u8f93\u200b\uff1a\u200b\u5728\u200b\u6a21\u62df\u4fe1\u53f7\u200b\u4f20\u8f93\u200b\u4e2d\u200b\uff0c\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u7528\u4e8e\u200b\u51cf\u5c11\u200b\u566a\u58f0\u200b\u548c\u200b\u63d0\u9ad8\u200b\u4fe1\u53f7\u200b\u7684\u200b\u4fe1\u566a\u6bd4\u200b\u3002</li> <li>\u200b\u533b\u7597\u200b\u8bbe\u5907\u200b\uff1a\u200b\u5728\u200b\u533b\u7597\u200b\u6210\u50cf\u200b\u548c\u200b\u76d1\u6d4b\u200b\u8bbe\u5907\u200b\u4e2d\u200b\uff0c\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u6709\u52a9\u4e8e\u200b\u63d0\u9ad8\u200b\u4fe1\u53f7\u200b\u7684\u200b\u51c6\u786e\u6027\u200b\u548c\u200b\u7a33\u5b9a\u6027\u200b\u3002</li> <li>\u200b\u6d88\u8d39\u200b\u7535\u5b50\u200b\uff1a\u200b\u5728\u200b\u6d88\u8d39\u200b\u7535\u5b50\u4ea7\u54c1\u200b\u4e2d\u200b\uff0c\u200b\u5982\u200b\u97f3\u9891\u200b\u548c\u200b\u89c6\u9891\u200b\u4f20\u8f93\u200b\uff0c\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u53ef\u4ee5\u200b\u51cf\u5c11\u200b\u7535\u78c1\u5e72\u6270\u200b\uff0c\u200b\u63d0\u9ad8\u200b\u97f3\u8d28\u200b\u548c\u200b\u753b\u8d28\u200b\u3002</li> </ol>"},{"location":"fpga/%E5%B7%AE%E5%88%86%E5%AF%B9%E5%92%8C%E5%B7%AE%E5%88%86%E4%BF%A1%E5%8F%B7/#_4","title":"\u5dee\u5206\u200b\u5bf9","text":"<p>\u200b\u5dee\u5206\u200b\u5bf9\u200b\u662f\u200b\u5b9e\u73b0\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u7684\u200b\u7269\u7406\u200b\u57fa\u7840\u200b\uff0c\u200b\u5b83\u200b\u7531\u200b\u4e00\u5bf9\u200b\u5e73\u884c\u200b\u7684\u200b\u5bfc\u7ebf\u200b\u7ec4\u6210\u200b\uff0c\u200b\u8fd9\u200b\u4e24\u6761\u200b\u5bfc\u7ebf\u200b\u4e0a\u200b\u4f20\u8f93\u200b\u7684\u200b\u4fe1\u53f7\u200b\u662f\u200b\u7b49\u200b\u5e45\u200b\u53cd\u76f8\u200b\u7684\u200b\u3002\u200b\u5dee\u5206\u200b\u5bf9\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u9700\u8981\u200b\u8003\u8651\u200b\u8bb8\u591a\u200b\u56e0\u7d20\u200b\uff0c\u200b\u5305\u62ec\u200b\u5bfc\u7ebf\u200b\u7684\u200b\u957f\u5ea6\u200b\u3001\u200b\u95f4\u8ddd\u200b\u3001\u200b\u963b\u6297\u5339\u914d\u200b\u7b49\u200b\uff0c\u200b\u4ee5\u200b\u786e\u4fdd\u200b\u4fe1\u53f7\u200b\u7684\u200b\u5b8c\u6574\u6027\u200b\u548c\u200b\u6700\u5c0f\u5316\u200b\u4e32\u6270\u200b\u3002</p> <p>\u200b\u5728\u200b\u8bbe\u8ba1\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u7cfb\u7edf\u200b\u65f6\u200b\uff0c\u200b\u5de5\u7a0b\u5e08\u200b\u4f1a\u200b\u7279\u522b\u200b\u6ce8\u610f\u200b\u5dee\u5206\u200b\u5bf9\u200b\u7684\u200b\u5e03\u5c40\u200b\u548c\u200b\u8d70\u7ebf\u200b\uff0c\u200b\u4ee5\u200b\u51cf\u5c11\u200b\u4e32\u6270\u200b\u548c\u200b\u63d0\u9ad8\u200b\u4fe1\u53f7\u200b\u7684\u200b\u6297\u5e72\u6270\u80fd\u529b\u200b\u3002</p>"},{"location":"fpga/%E5%B7%AE%E5%88%86%E5%AF%B9%E5%92%8C%E5%B7%AE%E5%88%86%E4%BF%A1%E5%8F%B7/#_5","title":"\u7ed3\u8bba","text":"<p>\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b\u662f\u200b\u4e00\u79cd\u200b\u5f3a\u5927\u200b\u7684\u200b\u6280\u672f\u200b\uff0c\u200b\u5b83\u200b\u901a\u8fc7\u200b\u4f20\u8f93\u200b\u4e24\u4e2a\u200b\u7b49\u5e45\u200b\u53cd\u76f8\u200b\u7684\u200b\u4fe1\u53f7\u200b\u6765\u200b\u63d0\u9ad8\u200b\u4fe1\u53f7\u200b\u7684\u200b\u6297\u5e72\u6270\u80fd\u529b\u200b\u548c\u200b\u53ef\u9760\u6027\u200b\u3002\u200b\u8fd9\u79cd\u200b\u6280\u672f\u200b\u5728\u200b\u9ad8\u901f\u200b\u548c\u200b\u957f\u8ddd\u79bb\u200b\u6570\u636e\u4f20\u8f93\u200b\u4e2d\u200b\u5c24\u4e3a\u91cd\u8981\u200b\uff0c\u200b\u5e76\u4e14\u200b\u5728\u200b\u73b0\u4ee3\u200b\u7535\u5b50\u200b\u548c\u200b\u901a\u4fe1\u200b\u7cfb\u7edf\u200b\u4e2d\u200b\u5f97\u5230\u200b\u4e86\u200b\u5e7f\u6cdb\u200b\u7684\u200b\u5e94\u7528\u200b\u3002</p>"},{"location":"fpga/%E5%B7%AE%E5%88%86%E5%AF%B9%E5%92%8C%E5%B7%AE%E5%88%86%E4%BF%A1%E5%8F%B7/#_6","title":"\u53c2\u8003\u8d44\u6599","text":"<ol> <li>\u200b\u6280\u672f\u200b\u5e72\u8d27\u200b | \u200b\u7ec6\u8bf4\u200b\u5dee\u5206\u200b\u4fe1\u53f7\u200b - \u200b\u77e5\u4e4e\u200b (zhihu.com)</li> <li>Kimi\u200b\u4eba\u5de5\u667a\u80fd\u200b</li> <li></li> </ol>"},{"location":"fpga/%E6%95%B0%E5%AD%97%E7%94%B5%E8%B7%AF%E5%9F%BA%E7%A1%80/","title":"\u6570\u5b57\u7535\u8def\u200b\u57fa\u7840","text":"<p>\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u00b7\u00b7\u00b7\u200b\u6570\u5b57\u7535\u8def\u200b\u57fa\u7840\u200b.md</p> <p>\u200b\u672c\u6587\u200b\u4e3b\u8981\u200b\u4ecb\u7ecd\u200b\u6570\u5b57\u7535\u8def\u200b\u57fa\u7840\u77e5\u8bc6\u200b\uff0c\u200b\u7528\u200b\u6700\u200b\u7b80\u6d01\u200b\u7684\u200b\u5185\u5bb9\u200b\u4ecb\u7ecd\u200b\u6700\u200b\u6838\u5fc3\u200b\u7684\u200b\u77e5\u8bc6\u200b\u3002</p>"},{"location":"fpga/%E6%95%B0%E5%AD%97%E7%A4%BA%E6%B3%A2%E5%99%A8%E8%AE%BE%E8%AE%A1/","title":"\u6548\u679c","text":"<p>video https://cdn.jsdmirror.com/gh/zikwq/Blog_Pic/7c9063c655c66e08db9fad2814949158.mp4</p>"},{"location":"fpga/%E6%95%B0%E5%AD%97%E7%A4%BA%E6%B3%A2%E5%99%A8%E8%AE%BE%E8%AE%A1/#_2","title":"\u50a8\u5907\u200b\u77e5\u8bc6","text":"<ol> <li>FFT IP\u200b\u6838\u200b\u7684\u200b\u8c03\u7528\u200b\u3002\u200b\u7528\u6765\u200b\u6c42\u200b\u51fa\u200bAD\u200b\u8f93\u5165\u200b\u6ce2\u5f62\u200b\u7684\u200b\u5cf0\u5cf0\u200b\u503c\u200b</li> <li>RAM\u3001ROM IP\u200b\u6838\u200b\u7684\u200b\u8c03\u7528\u200b\uff0c\u200b\u5b58\u50a8\u200b\u6ce2\u5f62\u200b\u548c\u200b\u6587\u5b57\u200b\u4fe1\u606f\u200b</li> <li>VGA\u200b\u89c6\u9891\u200b\u4f20\u8f93\u200b\u534f\u8bae\u200b\u7684\u200b\u65f6\u5e8f\u200b\u8bbe\u8ba1\u200b</li> <li>DAC\u200b\u82af\u7247\u200b\u7684\u200b\u65f6\u5e8f\u200b\u8bbe\u8ba1\u200b\u3002DDS \u200b\u4fe1\u53f7\u200b\u53d1\u751f\u5668\u200b\u7684\u200b\u8bbe\u8ba1\u200b\uff0c\u200b\u4ea7\u751f\u200b\u4e0d\u540c\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u6ce2\u5f62\u200b</li> <li>PLL IP\u200b\u6838\u200b\u7684\u200b\u8c03\u7528\u200b\uff0c\u200b\u4ea7\u751f\u200b\u4e0d\u540c\u200b\u9891\u7387\u200b\u7684\u200b\u65f6\u949f\u200b</li> <li>Seg 6\u200b\u4f4d\u200b\u6570\u7801\u7ba1\u200b\u7684\u200b\u52a8\u6001\u200b\u9a71\u52a8\u200b\u8bbe\u8ba1\u200b\uff0c\u200b\u663e\u793a\u200b\u9891\u7387\u200b\u4fe1\u606f\u200b</li> </ol> <p>dds\u200b\u53d1\u751f\u5668\u200b\u7684\u200b\u6982\u8ff0\u200b\uff1a</p> <p>\u200b\u4f7f\u7528\u200bdac\u200b\u82af\u7247\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200bdds\u200b\u4fe1\u53f7\u200b\u53d1\u751f\u5668\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u9996\u5148\u200b\u9700\u8981\u200b\u8bf7\u200b\u9605\u8bfb\u200b\u4e00\u4e0b\u200b\u8be5\u200b\u82af\u7247\u200b\u7684\u200b\u7cbe\u5ea6\u200b\uff0c\u200b\u6211\u7528\u200b\u7684\u200b\u662f\u200b\u5f00\u53d1\u677f\u200b\u81ea\u5e26\u200b\u7684\u200bdac\u200b\u82af\u7247\u200b\uff0c\u200b\u5206\u8fa8\u7387\u200b\u7cbe\u5ea6\u200b\u662f\u200b8\u200b\u4e3a\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u200b\u662f\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u8ba1\u6570\u5668\u200b\uff0c\u200b\u4ece\u200b0\u200b\u8ba1\u6570\u200b\u5230\u200b255\u200b\u4e5f\u200b\u5c31\u662f\u200b2\u200b\u7684\u200b8\u200b\u6b21\u65b9\u200b\u51cf\u4e00\u200b\u3002\u200b\u5f53\u200b\u5230\u8fbe\u200b255\u200b\u7684\u200b\u65f6\u5019\u200b\u8f93\u51fa\u200b\u6700\u9ad8\u200b\u7535\u538b\u200b5v\uff0c\u200b\u5f53\u200b\u8ba1\u6570\u200b\u5230\u200b0\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u8f93\u51fa\u200b0v\u3002\u200b\u4ee5\u6b64\u7c7b\u63a8\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200bdds\u200b\u4fe1\u53f7\u200b\u53d1\u751f\u5668\u200b\u7684\u200b\u952f\u9f7f\u200b\u6ce2\u200b\u3001\u200b\u4e09\u89d2\u200b\u6ce2\u7b49\u200b\u7b80\u5355\u200b\u7684\u200b\u6ce2\u5f62\u200b\u3002 \u200b\u4e0e\u6b64\u540c\u65f6\u200b\uff0c\u200b\u8fd8\u200b\u9700\u8981\u200b\u5173\u6ce8\u200b\u82af\u7247\u200b\u652f\u6301\u200b\u7684\u200b\u6700\u9ad8\u200b\u9891\u7387\u200b\uff0c\u200b\u5bf9\u200b\u6211\u4eec\u200b\u7684\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u8fdb\u884c\u200b\u5206\u9891\u200b\u5904\u7406\u200b\u5f97\u5230\u200b\u82af\u7247\u200b\u8f93\u5165\u200b\u65f6\u949f\u200b\u3002\u200b\u518d\u200b\u6df1\u4e00\u6b65\u200b\u5c31\u662f\u200b\u8003\u8651\u200b\u5904\u7406\u200b\u65f6\u5e8f\u200b\u7684\u200b\u5efa\u7acb\u200b\u65f6\u95f4\u200b\u3001\u200b\u4fdd\u6301\u200b\u65f6\u95f4\u200b\u7b49\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u4fe1\u606f\u200b\u4e5f\u200b\u662f\u200b\u9700\u8981\u200b\u53c2\u8003\u200b\u82af\u7247\u200b\u624b\u518c\u200b\u7684\u200b\u4fe1\u606f\u200b\u8fdb\u884c\u200b\u5b9e\u73b0\u200b</p> <p>adc\u200b\u82af\u7247\u200b\u6982\u8ff0\u200b\uff1a</p> <p>\u200b\u5728\u200b\u4f7f\u7528\u200badc\u200b\u8bbe\u8ba1\u200b\u4e00\u6b3e\u200b\u7535\u538b\u200b\u663e\u793a\u5668\u200b\u7684\u200b\u65f6\u5019\u200b\u3002\u200b\u9700\u8981\u200b\u67e5\u770b\u200badc\u200b\u7684\u200b\u82af\u7247\u200b\u624b\u518c\u200b\uff0c\u200b\u770b\u200b\u4e00\u4e0b\u200b\u91cc\u9762\u200b\u8fd9\u200b\u6b3e\u200b\u82af\u7247\u200b\u7684\u200b\u6700\u9ad8\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u662f\u200b\u591a\u5c11\u200b\uff0c\u200b\u518d\u200b\u4f7f\u7528\u200b\u6211\u4eec\u200b\u7684\u200bFPGA\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u8fdb\u884c\u200b\u5206\u9891\u200b\u5904\u7406\u200b\u8f93\u51fa\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u8fde\u63a5\u200b\u5230\u200badc</p> <p>\u200b\u56e0\u4e3a\u200bfpga\u200b\u4e0d\u200b\u64c5\u957f\u200b\u8fdb\u884c\u200b\u6d6e\u70b9\u6570\u200b\u7684\u200b\u8fd0\u7b97\u200b\uff0c\u200b\u6211\u4eec\u200b\u5c06\u200b\u91c7\u96c6\u200b\u7684\u200b\u7535\u538b\u200b\u503c\u200b\u6839\u636e\u200b\u82af\u7247\u200b\u624b\u518c\u200b\u4e2d\u200b\u4ecb\u7ecd\u200b\u7684\u200b\u8fd9\u6b3e\u200b\u82af\u7247\u200b\u7535\u538b\u200b\u5206\u8fa8\u7387\u200b\u548c\u200b\u6211\u4eec\u200b\u7684\u200b\u7cbe\u5ea6\u200b\u8981\u6c42\u200b\u8fdb\u884c\u200b\u9009\u62e9\u200b\u5408\u9002\u200b\u7684\u200b\u500d\u6570\u200b\u76f8\u4e58\u200b\uff0c\u200b\u5c06\u200b\u6d6e\u70b9\u6570\u200b\u8f6c\u6362\u6210\u200b\u6574\u6570\u200b\u8fdb\u884c\u200b\u8fd0\u7b97\u200b</p> <p>\u200b\u4f8b\u5982\u200badc\u200b\u7684\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u662f\u200b10mhz\uff0c\u200b\u5355\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u7684\u200b\u65f6\u95f4\u200b\u662f\u200b100ns\uff0c\u200b\u6240\u4ee5\u200b\u5f53\u200b\u6211\u4eec\u200b\u5b9e\u9645\u200b\u8fde\u63a5\u200b\u5230\u200badc\u200b\u82af\u7247\u200b\u7684\u200b\u7535\u538b\u200b\u8f93\u5165\u200b\u63a5\u53e3\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u6570\u503c\u200b\u4f1a\u200b\u5728\u200b100ns\u200b\u53d8\u6362\u200b\u4e00\u6b21\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b9e\u9645\u200b\u7684\u200b\u7535\u538b\u200b\u4fe1\u53f7\u200b\u4e0d\u200b\u7a33\u5b9a\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u8bfb\u6570\u200b\u4f1a\u200b\u4e00\u76f4\u200b\u95ea\u70c1\u200b\u65e0\u6cd5\u200b\u6709\u6548\u200b\u8bfb\u53d6\u200b\u6570\u503c\u200b\u3002\u200b\u8fd9\u65f6\u5019\u200b\u6211\u4eec\u200b\u5c31\u8981\u200b\u518d\u200bfpga\u200b\u4e2d\u200b\u8bbe\u7f6e\u200b\u4e00\u4e2a\u200b\u53d6\u200b\u5747\u503c\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u8bbe\u7f6e\u200b\u91c7\u96c6\u200b1024\u200b\u4e2a\u70b9\u200b\u540e\u53d6\u200b\u5747\u503c\u200b\u540e\u200b\u518d\u200b\u9664\u4ee5\u200b\u6211\u4eec\u200b\u4e4b\u524d\u200b\u4e58\u4e0a\u200b\u7684\u200b\u500d\u6570\u200b\u5c31\u200b\u4f1a\u200b\u5f97\u5230\u200b\u771f\u662f\u200b\u7684\u200b\u7535\u538b\u200b\u503c\u200b\u3002\u200b\u6570\u636e\u200b\u66f4\u65b0\u200b\u9891\u7387\u200b\u5c06\u4f1a\u200b\u4ece\u200b100ns\u200b\u4e00\u4e2a\u200b\u5ef6\u957f\u200b\u5230\u200b100*1024ns\u200b\u4e00\u6b21\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b102400ns\u200b\u5373\u200b0.0001024s\u3002</p> <p>\u200b\u6700\u540e\u200b\u5c06\u200b\u6570\u636e\u200b\u8f6c\u6362\u6210\u200b10\u200b\u8fdb\u5236\u200b\u6570\u200b\u663e\u793a\u200b\u5728\u200bseg\u200b\u6570\u7801\u7ba1\u200b\u4e2d\u200b\uff0c\u200b\u63a5\u4e0b\u6765\u200b\u6211\u4eec\u200b\u8bbe\u8ba1\u200b\u7684\u200bseg\u200b\u663e\u793a\u200b\u6a21\u5757\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u624d\u200b\u662f\u200b\u5b9e\u9645\u200b\u4e2d\u200b\u63a7\u5236\u6570\u636e\u200b\u663e\u793a\u200b\u9891\u7387\u200b\u7684\u200b\u90e8\u5206\u200b\uff0c\u200b\u6211\u4eec\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u6a21\u5757\u200b\u4e2d\u200b\u518d\u6b21\u200b\u5bf9\u200b\u65f6\u949f\u200b\u8fdb\u884c\u200b\u5206\u9891\u200b\uff0c\u200b\u901a\u5e38\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u4e3a\u200b1ms\u200b\u7684\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u7528\u6765\u200b\u63a7\u5236\u200b\u663e\u793a\u200b\u7684\u200b\u9891\u7387\u200b\u3002</p>"},{"location":"fpga/%E6%95%B0%E5%AD%97%E7%A4%BA%E6%B3%A2%E5%99%A8%E8%AE%BE%E8%AE%A1/#_3","title":"\u7a0b\u5e8f","text":"<p>\u200b\u7a0b\u5e8f\u200b\u6bd4\u8f83\u200b\u4e71\u200b\uff0c\u200b\u6ca1\u6709\u200b\u8fdb\u884c\u200b\u4f18\u5316\u200b\uff0c\u200b\u6709\u200b\u65f6\u95f4\u200b\u53bb\u200b\u6574\u7406\u200b\u4e00\u4e0b\u200b \u200b\u6570\u7801\u7ba1\u200b</p> <pre><code>module seg(\n    input clk,\n    input rst_n,\n    input  [19:0] tenvalue,\n    output reg [7:0] segdata,\n    output reg [2:0] segcs\n);\n\nreg [24:0] count1ms;\nreg [2:0] number = 3'b0;\nreg clk1ms = 1'b0;\n\nparameter sample=2'b00,\n          display=2'b01;\n\n//-----------\u200b\u6570\u7801\u7ba1\u200b\u9a71\u52a8\u200b\u65f6\u949f\u200b-----------\nalways @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n        clk1ms &lt;= 1'b0;\n        count1ms &lt;= 0;\n    end else begin\n        if (count1ms &gt;= 25'd50000) begin // 1ms\u200b\u7684\u200b\u8ba1\u6570\u5668\u200b\n            clk1ms &lt;= ~clk1ms;\n            count1ms &lt;= 0;\n        end else begin\n            count1ms &lt;= count1ms + 1'b1;\n        end\n    end\nend\n\n//-----------\u200b\u6570\u7801\u7ba1\u200b\u8bd1\u7801\u200b-----------\nfunction [7:0] leddata;\n    input [3:0] datain;\n    begin\n        case (datain)\n            4'd0: leddata = 8'b11000000; // 0\n            4'd1: leddata = 8'b11111001; // 1\n            4'd2: leddata = 8'b10100100; // 2\n            4'd3: leddata = 8'b10110000; // 3\n            4'd4: leddata = 8'b10011001; // 4\n            4'd5: leddata = 8'b10010010; // 5\n            4'd6: leddata = 8'b10000010; // 6\n            4'd7: leddata = 8'b11111000; // 7\n            4'd8: leddata = 8'b10000000; // 8\n            4'd9: leddata = 8'b10010000; // 9\n            4'd10: leddata = 8'b10111111; // -\n            4'd11: leddata = 8'b01111111; // .\n            default: leddata = 8'b11111111;\n        endcase\n    end\nendfunction\n\n//-----------\u200b\u6570\u7801\u7ba1\u200b\u626b\u63cf\u200b-----------\nalways @(posedge clk1ms or negedge rst_n) begin\n    if (!rst_n) begin\n        number &lt;= 3'd0;\n    end else begin\n        if (number == 3'd5) begin\n            number &lt;= 3'd0;\n        end else begin\n            number &lt;= number + 1;\n        end\n\n        case (number)\n            3'd0: begin\n                segdata &lt;= leddata(tenvalue % 10); // \u200b\u4e2a\u200b\u4f4d\u200b\n                segcs &lt;= 3'b101;\n            end\n            3'd1: begin\n                segdata &lt;= leddata((tenvalue / 10) % 10); // \u200b\u5341\u4f4d\u200b\n                segcs &lt;= 3'b100;\n            end\n            3'd2: begin\n                segdata &lt;= leddata((tenvalue / 100) % 10); // \u200b\u767e\u4f4d\u200b\n                segcs &lt;= 3'b011;\n            end \n            4'd3: begin\n                segdata &lt;= leddata((tenvalue / 1000) % 10); // \u200b\u5343\u4f4d\u200b          \n                segcs &lt;= 3'b010;\n            end\n            4'd4: begin\n                segdata &lt;= leddata((tenvalue / 10000) % 10); // \u200b\u4e07\u200b\u4f4d\u200b         \n                segcs &lt;= 3'b001;\n            end\n            4'd5: begin\n                segdata &lt;= leddata((tenvalue / 100000) % 10); // \u200b\u5341\u4e07\u200b\u4f4d\u200b           \n                segcs &lt;= 3'b000;\n            end\n            default: begin\n                segdata &lt;= 8'b11111111; // \u200b\u6216\u8005\u200b\u5176\u4ed6\u200b\u9ed8\u8ba4\u503c\u200b\n                segcs &lt;= 3'b111; // \u200b\u6216\u8005\u200b\u5176\u4ed6\u200b\u9ed8\u8ba4\u503c\u200b\n            end\n        endcase\n    end\nend\n\nendmodule\n\n</code></pre> <pre><code>`timescale  1ns/1ns\n\nmodule  freq_meter_calc\n(\n    input   wire            sys_clk     ,   \n    input   wire            sys_rst_n   ,   \n    input   wire            clk_test    ,   //\u200b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\n    output  reg     [19:0]  freq            //\u200b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\n);\nparameter   CNT_GATE_S_MAX  =   28'd37_499_999  ,   //\u200b\u8f6f\u4ef6\u200b\u95f8\u95e8\u200b\u8ba1\u6570\u5668\u200b\u8ba1\u6570\u200b\u6700\u5927\u503c\u200b  1.5s\n            CNT_RISE_MAX    =   28'd6_250_000   ;   //\u200b\u8f6f\u4ef6\u200b\u95f8\u95e8\u200b\u62c9\u9ad8\u200b\u8ba1\u200b\u6570\u503c\u200b,   1.25s\nparameter   CLK_STAND_FREQ  =   28'd100_000_000 ;   //\u200b\u6807\u51c6\u200b\u65f6\u949f\u200b\u65f6\u949f\u200b\u9891\u7387\u200b,    100Mhz\n\nwire            clk_stand           ;   \nwire            gate_a_flag_s       ;   \nwire            gate_a_flag_t       ;   \n\nreg     [27:0]  cnt_gate_s          ;   \nreg             gate_s              ;   \nreg             gate_a              ;   \nreg             gate_a_test         ;   \nreg             gate_a_stand        ;   \nreg             gate_a_stand_reg    ;\nreg             gate_a_test_reg     ;   \nreg     [47:0]  cnt_clk_stand       ;   \nreg     [47:0]  cnt_clk_stand_reg   ;   \nreg     [47:0]  cnt_clk_test        ;   \nreg     [47:0]  cnt_clk_test_reg    ;   \nreg             calc_flag           ;   \nreg     [63:0]  freq_reg            ;\nreg             calc_flag_reg       ;\n\n//step1:\u200b\u6309\u7167\u200b\u539f\u7406\u200b\u751f\u6210\u200b\u8f6f\u4ef6\u200b\u95f8\u95e8\u200b\u3001\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b\n//cnt_gate_s:\u200b\u8f6f\u4ef6\u200b\u95f8\u95e8\u200b\u8ba1\u6570\u5668\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        cnt_gate_s  &lt;=  28'd0;\n    else    if(cnt_gate_s == CNT_GATE_S_MAX)\n        cnt_gate_s  &lt;=  28'd0;\n    else\n        cnt_gate_s  &lt;=  cnt_gate_s + 1'b1;\n\n//gate_s:\u200b\u8f6f\u4ef6\u200b\u95f8\u95e8\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        gate_s  &lt;=  1'b0;\n    else    if((cnt_gate_s&gt;= CNT_RISE_MAX)\n                &amp;&amp; (cnt_gate_s &lt;= (CNT_GATE_S_MAX - CNT_RISE_MAX)))\n        gate_s  &lt;=  1'b1;\n    else\n        gate_s  &lt;=  1'b0;\n\n//gate_a:\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b\nalways@(posedge clk_test or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        gate_a  &lt;=  1'b0;\n    else\n        gate_a  &lt;=  gate_s;\n\n//step2\uff1a\u200b\u5f97\u5230\u200b\u5f85\u6d4b\u200b\u4fe1\u53f7\u200b\u7684\u200b\u5468\u671f\u200b\u6570\u200b X\nalways@(posedge clk_test or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        gate_a_test  &lt;=  1'b0;\n    else\n        gate_a_test  &lt;=  gate_a;        \n\n//gate_a_test:\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b\u6253\u4e00\u200b\u62cd\u200b(\u200b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\u4e0b\u200b)\nalways@(posedge clk_test or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        gate_a_test_reg &lt;=  1'b0;\n    else\n        gate_a_test_reg &lt;=  gate_a_test;    \n\n//cnt_clk_test:\u200b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u8ba1\u6570\u5668\u200b,\u200b\u8ba1\u6570\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b\u4e0b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u6570\u200b\u3002  x++\nalways@(posedge clk_test or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        cnt_clk_test    &lt;=  48'd0;\n    else    if(gate_a_test == 1'b0)\n        cnt_clk_test    &lt;=  48'd0;\n    else    if(gate_a_test == 1'b1)\n        cnt_clk_test    &lt;=  cnt_clk_test + 1'b1;\n\n//gate_a_flag_t:\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b\u4e0b\u964d\u200b\u6cbf\u200b(\u200b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\u4e0b\u200b)\nassign  gate_a_flag_t = ((gate_a_test_reg == 1'b1) &amp;&amp; (gate_a_test == 1'b0))\n                        ? 1'b1 : 1'b0;\n\n//cnt_clk_test_reg:\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b\u4e0b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u6570\u200b,  x\nalways@(posedge clk_test or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        cnt_clk_test_reg   &lt;=  32'd0;\n    else    if(gate_a_flag_t == 1'b1)\n        cnt_clk_test_reg   &lt;=  cnt_clk_test;    \n\n//step3\uff1a\u200b\u5f97\u5230\u200b\u6807\u51c6\u200b\u4fe1\u53f7\u200b\u7684\u200b\u5468\u671f\u200b\u6570\u200b y        \n//\u200b\u4f7f\u7528\u200bPLL ipcore\u200b\u751f\u6210\u200b100Mhz\u200b\u4fe1\u53f7\u200b\nclk_gen clk_gen_inst\n(\n    .areset    (~sys_rst_n ),\n    .inclk0  (sys_clk    ),\n\n    .c0 (clk_stand  )\n);  \n\n\n//gate_a_stand:\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b\u6253\u4e00\u200b\u62cd\u200b(\u200b\u6807\u51c6\u200b\u65f6\u949f\u200b\u4e0b\u200b)\nalways@(posedge clk_stand or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        gate_a_stand    &lt;=  1'b0;\n    else\n        gate_a_stand    &lt;=  gate_a_test;\n\nalways@(posedge clk_stand or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        gate_a_stand_reg    &lt;=  1'b0;\n    else\n        gate_a_stand_reg    &lt;=  gate_a_stand;\n\n//gate_a_flag_s:\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b\u4e0b\u964d\u200b\u6cbf\u200b(\u200b\u6807\u51c6\u200b\u65f6\u949f\u200b\u4e0b\u200b)\nassign  gate_a_flag_s = ((gate_a_stand_reg == 1'b1) &amp;&amp; (gate_a_stand == 1'b0))\n                        ? 1'b1 : 1'b0;\n\n//cnt_clk_stand:\u200b\u6807\u51c6\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u8ba1\u6570\u5668\u200b,\u200b\u8ba1\u6570\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b\u4e0b\u200b\u6807\u51c6\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u6570\u200b\u3002  y++\nalways@(posedge clk_stand or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        cnt_clk_stand   &lt;=  48'd0;\n    else    if(gate_a_stand == 1'b0)\n        cnt_clk_stand   &lt;=  48'd0;\n    else    if(gate_a_stand == 1'b1)\n        cnt_clk_stand   &lt;=  cnt_clk_stand + 1'b1;\n\n//cnt_clk_stand_reg:\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b\u4e0b\u200b\u6807\u5fd7\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u6570\u200b\nalways@(posedge clk_stand or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        cnt_clk_stand_reg   &lt;=  32'd0;\n    else    if(gate_a_flag_s == 1'b1)\n        cnt_clk_stand_reg   &lt;=  cnt_clk_stand;\n\n//step4: \u200b\u5229\u7528\u200b\u516c\u5f0f\u200b\u8fdb\u884c\u200b\u9891\u7387\u200b\u8ba1\u7b97\u200b     \n//calc_flag:\u200b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u8ba1\u7b97\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        calc_flag   &lt;=  1'b0;\n    else    if(cnt_gate_s == (CNT_GATE_S_MAX - 1'b1))\n        calc_flag   &lt;=  1'b1;\n    else\n        calc_flag   &lt;=  1'b0;\n\n//freq:\u200b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        freq_reg    &lt;=  64'd0;\n    else    if(calc_flag == 1'b1)\n        freq_reg    &lt;=  (CLK_STAND_FREQ * cnt_clk_test_reg / cnt_clk_stand_reg );    //   (100MHZ*X)/Y \n\n //calc_flag_reg:\u200b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u8f93\u51fa\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\n always@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        calc_flag_reg &lt;= 1'b0;\n    else\n        calc_flag_reg &lt;= calc_flag;\n\n //freq:\u200b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\n always@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        freq &lt;= 19'd0;\n    else if(calc_flag_reg == 1'b1)\n        freq &lt;= (CLK_STAND_FREQ * cnt_clk_test_reg / (cnt_clk_stand_reg) );  \n\nendmodule\n</code></pre> <p>\u200b\u6309\u952e\u200b\u63a7\u5236\u200b\u6a21\u5757\u200b,\u200b\u63a7\u5236\u200b\u6ce2\u5f62\u200b\u9009\u62e9\u200b</p> <pre><code>`timescale  1ns/1ns\n/////////////////////////////////////////////////////////////////////////\n// Author        : EmbedFire\n// Create Date   : 2019/07/10\n// Module Name   : key_control\n// Project Name  : top_dds\n// Target Devices: Altera EP4CE10F17C8N\n// Tool Versions : Quartus 13.0\n// Description   : \u200b\u6309\u952e\u200b\u63a7\u5236\u200b\u6a21\u5757\u200b,\u200b\u63a7\u5236\u200b\u6ce2\u5f62\u200b\u9009\u62e9\u200b\n// \n// Revision      : V1.0\n// Additional Comments:\n// \n// \u200b\u5b9e\u9a8c\u200b\u5e73\u53f0\u200b: \u200b\u91ce\u706b\u200b_\u200b\u5f81\u9014\u200bPro_FPGA\u200b\u5f00\u53d1\u677f\u200b\n// \u200b\u516c\u53f8\u200b    : http://www.embedfire.com\n// \u200b\u8bba\u575b\u200b    : http://www.firebbs.cn\n// \u200b\u6dd8\u5b9d\u200b    : https://fire-stm32.taobao.com\n////////////////////////////////////////////////////////////////////////\n\nmodule  key_control\n(\n    input   wire            sys_clk     ,   //\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b,50MHz\n    input   wire            sys_rst_n   ,   //\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\n    input   wire    [3:0]   key         ,   //\u200b\u8f93\u5165\u200b4\u200b\u4f4d\u200b\u6309\u952e\u200b\n\n    output  reg     [3:0]   wave_select     //\u200b\u8f93\u51fa\u200b\u6ce2\u5f62\u200b\u9009\u62e9\u200b\n\n);\n\n//********************************************************************//\n//****************** Parameter and Internal Signal *******************//\n//********************************************************************//\n//parameter define\nparameter   sin_wave    =   4'b0001,    //\u200b\u6b63\u5f26\u6ce2\u200b\n            squ_wave    =   4'b0010,    //\u200b\u65b9\u6ce2\u200b\n            tri_wave    =   4'b0100,    //\u200b\u4e09\u89d2\u200b\u6ce2\u200b\n            saw_wave    =   4'b1000;    //\u200b\u952f\u9f7f\u200b\u6ce2\u200b\n\nparameter   CNT_MAX =   20'd999_999;    //\u200b\u8ba1\u6570\u5668\u200b\u8ba1\u6570\u200b\u6700\u5927\u503c\u200b\n\n//wire  define\nwire            key3    ;   //\u200b\u6309\u952e\u200b3\nwire            key2    ;   //\u200b\u6309\u952e\u200b2\nwire            key1    ;   //\u200b\u6309\u952e\u200b1\nwire            key0    ;   //\u200b\u6309\u952e\u200b0\n\n\n\n\n\n//********************************************************************//\n//***************************** Main Code ****************************//\n//********************************************************************//\n//wave:\u200b\u6309\u952e\u200b\u72b6\u6001\u200b\u5bf9\u5e94\u200b\u6ce2\u5f62\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        wave_select   &lt;=  4'b0000;\n    else    if(key0 == 1'b1)\n        wave_select   &lt;=  sin_wave;\n    else    if(key1 == 1'b1)\n        wave_select   &lt;=  squ_wave;// \u200b\u952f\u9f7f\u200b\u6ce2\u200b\n    else    if(key2 == 1'b1)\n        wave_select   &lt;=  tri_wave;// \u200b\u4e09\u89d2\u200b\u6ce2\u200b\n    else    if(key3 == 1'b1)\n        wave_select   &lt;=  saw_wave;\n    else\n        wave_select   &lt;=  wave_select;\n\n//********************************************************************//\n//*************************** Instantiation **************************//\n//********************************************************************//\n//------------- key_fifter_inst3 --------------\nkey_filter \n#(\n    .CNT_MAX      (CNT_MAX  )       //\u200b\u8ba1\u6570\u5668\u200b\u8ba1\u6570\u200b\u6700\u5927\u503c\u200b\n)\nkey_filter_inst3\n(\n    .sys_clk      (sys_clk  )   ,   //\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b50Mhz\n    .sys_rst_n    (sys_rst_n)   ,   //\u200b\u5168\u5c40\u200b\u590d\u4f4d\u200b\n    .key_in       (key[3]   )   ,   //\u200b\u6309\u952e\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\n\n    .key_flag     (key3     )       //\u200b\u6309\u952e\u200b\u6d88\u6296\u200b\u540e\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\n);\n\n//------------- key_fifter_inst2 --------------\nkey_filter \n#(\n    .CNT_MAX      (CNT_MAX  )       //\u200b\u8ba1\u6570\u5668\u200b\u8ba1\u6570\u200b\u6700\u5927\u503c\u200b\n)\nkey_filter_inst2\n(\n    .sys_clk      (sys_clk  )   ,   //\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b50Mhz\n    .sys_rst_n    (sys_rst_n)   ,   //\u200b\u5168\u5c40\u200b\u590d\u4f4d\u200b\n    .key_in       (key[2]   )   ,   //\u200b\u6309\u952e\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\n\n    .key_flag     (key2     )       //\u200b\u6309\u952e\u200b\u6d88\u6296\u200b\u540e\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\n);\n\n//------------- key_fifter_inst1 --------------\nkey_filter \n#(\n    .CNT_MAX      (CNT_MAX  )       //\u200b\u8ba1\u6570\u5668\u200b\u8ba1\u6570\u200b\u6700\u5927\u503c\u200b\n)\nkey_filter_inst1\n(\n    .sys_clk      (sys_clk  )   ,   //\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b50Mhz\n    .sys_rst_n    (sys_rst_n)   ,   //\u200b\u5168\u5c40\u200b\u590d\u4f4d\u200b\n    .key_in       (key[1]   )   ,   //\u200b\u6309\u952e\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\n\n    .key_flag     (key1     )       //\u200b\u6309\u952e\u200b\u6d88\u6296\u200b\u540e\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\n);\n\n//------------- key_fifter_inst0 --------------\nkey_filter \n#(\n    .CNT_MAX      (CNT_MAX  )       //\u200b\u8ba1\u6570\u5668\u200b\u8ba1\u6570\u200b\u6700\u5927\u503c\u200b\n)\nkey_filter_inst0\n(\n    .sys_clk      (sys_clk  )   ,   //\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b50Mhz\n    .sys_rst_n    (sys_rst_n)   ,   //\u200b\u5168\u5c40\u200b\u590d\u4f4d\u200b\n    .key_in       (key[0]   )   ,   //\u200b\u6309\u952e\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\n\n    .key_flag     (key0     )       //\u200b\u6309\u952e\u200b\u6d88\u6296\u200b\u540e\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\n);\n\nendmodule\n\n</code></pre> <p>dds\u200b\u53d1\u751f\u5668\u200b</p> <pre><code>module  dds\n(\n    input   wire            sys_clk     ,   //\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b,50MHz\n    input   wire            sys_rst_n   ,   //\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\n    input   wire    [3:0]   wave_select ,   //\u200b\u8f93\u51fa\u200b\u6ce2\u5f62\u200b\u9009\u62e9\u200b\n\n    output  wire    [7:0]   data_out        //\u200b\u6ce2\u5f62\u200b\u8f93\u51fa\u200b\n);\n\n//********************************************************************//\n//****************** Parameter and Internal Signal *******************//\n//********************************************************************//\n//parameter define\nparameter   sin_wave    =   4'b0001     ,   //\u200b\u6b63\u5f26\u6ce2\u200b\n            squ_wave    =   4'b0010     ,   //\u200b\u65b9\u6ce2\u200b\n            tri_wave    =   4'b0100     ,   //\u200b\u4e09\u89d2\u200b\u6ce2\u200b\n            saw_wave    =   4'b1000     ;   //\u200b\u952f\u9f7f\u200b\u6ce2\u200b\nparameter   FREQ_CTRL   =   32'd42949   ,   //\u200b\u76f8\u4f4d\u200b\u7d2f\u52a0\u5668\u200b\u5355\u6b21\u200b\u7d2f\u52a0\u200b\u503c\u200b\n            PHASE_CTRL  =   12'd1024    ;   //\u200b\u76f8\u4f4d\u200b\u504f\u79fb\u91cf\u200b\n\n//reg   define\nreg     [31:0]  fre_add     ;   //\u200b\u76f8\u4f4d\u200b\u7d2f\u52a0\u5668\u200b\nreg     [11:0]  rom_addr_reg;   //\u200b\u76f8\u4f4d\u200b\u8c03\u5236\u200b\u540e\u200b\u7684\u200b\u76f8\u4f4d\u200b\u7801\u200b\nreg     [13:0]  rom_addr    ;   //ROM\u200b\u8bfb\u200b\u5730\u5740\u200b\n\n//********************************************************************//\n//***************************** Main Code ****************************//\n//********************************************************************//\n//fre_add:\u200b\u76f8\u4f4d\u200b\u7d2f\u52a0\u5668\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        fre_add &lt;=  32'd0;\n    else\n        fre_add &lt;=  fre_add + FREQ_CTRL;\n\n//rom_addr:ROM\u200b\u8bfb\u200b\u5730\u5740\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        begin\n            rom_addr        &lt;=  14'd0;\n            rom_addr_reg    &lt;=  11'd0;\n        end\n    else\n    case(wave_select)\n        sin_wave:\n            begin\n                rom_addr_reg    &lt;=  fre_add[31:20] + PHASE_CTRL;\n                rom_addr        &lt;=  rom_addr_reg;\n            end     //\u200b\u6b63\u5f26\u6ce2\u200b\n        squ_wave:\n            begin\n                rom_addr_reg    &lt;=  fre_add[31:20] + PHASE_CTRL;\n                rom_addr        &lt;=  rom_addr_reg + 14'd4096;\n            end     //\u200b\u65b9\u6ce2\u200b\n        tri_wave:\n            begin\n                rom_addr_reg    &lt;=  fre_add[31:20] + PHASE_CTRL;\n                rom_addr        &lt;=  rom_addr_reg + 14'd8192;\n            end     //\u200b\u4e09\u89d2\u200b\u6ce2\u200b\n        saw_wave:\n        begin\n                rom_addr_reg    &lt;=  fre_add[31:20] + PHASE_CTRL;\n                rom_addr        &lt;=  rom_addr_reg + 14'd12288;\n            end     //\u200b\u952f\u9f7f\u200b\u6ce2\u200b\n        default:\n            begin\n                rom_addr_reg    &lt;=  fre_add[31:20] + PHASE_CTRL;\n                rom_addr        &lt;=  rom_addr_reg;\n            end     //\u200b\u6b63\u5f26\u6ce2\u200b\n    endcase\n\n//********************************************************************//\n//*************************** Instantiation **************************//\n//********************************************************************//\n//------------------------- rom_wave_inst ------------------------\nrom_wave    rom_wave_inst\n(\n    .address    (rom_addr   ),  //ROM\u200b\u8bfb\u200b\u5730\u5740\u200b\n    .clock      (sys_clk    ),  //\u200b\u8bfb\u200b\u65f6\u949f\u200b\n\n    .q          (data_out   )   //\u200b\u8bfb\u51fa\u200b\u6ce2\u5f62\u200b\u6570\u636e\u200b\n);\n\nendmodule\n\n</code></pre> <p>\u200b\u6309\u952e\u200b\u6d88\u6296\u200b</p> <pre><code>`timescale  1ns/1ns\n////////////////////////////////////////////////////////////////////////\n// Author        : EmbedFire\n// Create Date   : 2019/03/15\n// Module Name   : key_filter\n// Project Name  : top_dds\n// Target Devices: Altera EP4CE10F17C8N\n// Tool Versions : Quartus 13.0\n// Description   : \u200b\u6309\u952e\u200b\u6d88\u6296\u200b\u6a21\u5757\u200b\n//\n// Revision      : V1.0\n// Additional Comments:\n// \n// \u200b\u5b9e\u9a8c\u200b\u5e73\u53f0\u200b: \u200b\u91ce\u706b\u200b_\u200b\u5f81\u9014\u200bPro_FPGA\u200b\u5f00\u53d1\u677f\u200b\n// \u200b\u516c\u53f8\u200b    : http://www.embedfire.com\n// \u200b\u8bba\u575b\u200b    : http://www.firebbs.cn\n// \u200b\u6dd8\u5b9d\u200b    : https://fire-stm32.taobao.com\n////////////////////////////////////////////////////////////////////////\n\nmodule  key_filter\n#(\n    parameter CNT_MAX = 20'd999_999 //\u200b\u8ba1\u6570\u5668\u200b\u8ba1\u6570\u200b\u6700\u5927\u503c\u200b\n)\n(\n    input   wire    sys_clk     ,   //\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b50Mhz\n    input   wire    sys_rst_n   ,   //\u200b\u5168\u5c40\u200b\u590d\u4f4d\u200b\n    input   wire    key_in      ,   //\u200b\u6309\u952e\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\n\n    output  reg     key_flag        //key_flag\u200b\u4e3a\u200b1\u200b\u65f6\u200b\u8868\u793a\u200b\u6d88\u6296\u200b\u540e\u200b\u68c0\u6d4b\u200b\u5230\u200b\u6309\u952e\u200b\u88ab\u200b\u6309\u200b\u4e0b\u200b\n                                    //key_flag\u200b\u4e3a\u200b0\u200b\u65f6\u200b\u8868\u793a\u200b\u6ca1\u6709\u200b\u68c0\u6d4b\u200b\u5230\u200b\u6309\u952e\u200b\u88ab\u200b\u6309\u200b\u4e0b\u200b\n);\n\n//********************************************************************//\n//****************** Parameter and Internal Signal *******************//\n//********************************************************************//\n//reg   define\nreg     [19:0]  cnt_20ms    ;   //\u200b\u8ba1\u6570\u5668\u200b\n\n//********************************************************************//\n//***************************** Main Code ****************************//\n//********************************************************************//\n\n//cnt_20ms:\u200b\u5982\u679c\u200b\u65f6\u949f\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u68c0\u6d4b\u200b\u5230\u200b\u5916\u90e8\u200b\u6309\u952e\u200b\u8f93\u5165\u200b\u7684\u200b\u503c\u200b\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\u65f6\u200b\uff0c\u200b\u8ba1\u6570\u5668\u200b\u5f00\u59cb\u200b\u8ba1\u6570\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        cnt_20ms &lt;= 20'b0;\n    else    if(key_in == 1'b1)\n        cnt_20ms &lt;= 20'b0;\n    else    if(cnt_20ms == CNT_MAX &amp;&amp; key_in == 1'b0)\n        cnt_20ms &lt;= cnt_20ms;\n    else\n        cnt_20ms &lt;= cnt_20ms + 1'b1;\n\n//key_flag:\u200b\u5f53\u200b\u8ba1\u6570\u200b\u6ee1\u200b20ms\u200b\u540e\u200b\u4ea7\u751f\u200b\u6309\u952e\u200b\u6709\u6548\u200b\u6807\u5fd7\u200b\u4f4d\u200b\n//\u200b\u4e14\u200bkey_flag\u200b\u5728\u200b999_999\u200b\u65f6\u200b\u62c9\u9ad8\u200b,\u200b\u7ef4\u6301\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u7684\u200b\u9ad8\u7535\u5e73\u200b\nalways@(posedge sys_clk or negedge sys_rst_n)\n    if(sys_rst_n == 1'b0)\n        key_flag &lt;= 1'b0;\n    else    if(cnt_20ms == CNT_MAX - 1'b1)\n        key_flag &lt;= 1'b1;\n    else\n        key_flag &lt;= 1'b0;\n\nendmodule\n\n</code></pre> <p>\u200b\u6a21\u62df\u8f93\u51fa\u200b</p> <pre><code>module serial_output\n(\n    input  wire       sys_clk    ,  // \u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\n    input  wire       sys_rst_n  ,  // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\n    input  wire [7:0] dac_data   ,  // 8\u200b\u4f4d\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u8f93\u5165\u200b\n    output reg        serial_out     // \u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\n);\n\n// \u200b\u5bc4\u5b58\u5668\u200b\u548c\u200b\u53c2\u6570\u200b\u5b9a\u4e49\u200b\nreg [2:0] bit_count;       // \u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b\uff0c\u200b\u7528\u4e8e\u200b\u8ffd\u8e2a\u200b\u5f53\u524d\u200b\u6b63\u5728\u200b\u8f93\u51fa\u200b\u7684\u200b\u4f4d\u200b\nreg [7:0] data_reg;        // \u200b\u6570\u636e\u200b\u5bc4\u5b58\u5668\u200b\uff0c\u200b\u7528\u4e8e\u200b\u6682\u5b58\u200bdac_data\n\n// \u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u89e6\u53d1\u200b\u7684\u200b\u903b\u8f91\u200b\nalways @(posedge sys_clk or negedge sys_rst_n) begin\n    if (!sys_rst_n) begin\n        // \u200b\u590d\u4f4d\u200b\u903b\u8f91\u200b\n        bit_count  &lt;= 3'b0;\n        data_reg   &lt;= 8'b0;\n        serial_out &lt;= 1'b0;\n    end else begin\n        // \u200b\u4e32\u884c\u200b\u8f93\u51fa\u200b\u903b\u8f91\u200b\n        if (bit_count == 3'b111) begin\n            // \u200b\u5982\u679c\u200b\u6240\u6709\u200b\u4f4d\u200b\u90fd\u200b\u5df2\u200b\u8f93\u51fa\u200b\uff0c\u200b\u5219\u200b\u91cd\u65b0\u200b\u52a0\u8f7d\u200b\u6570\u636e\u200b\u5e76\u200b\u91cd\u7f6e\u200b\u8ba1\u6570\u5668\u200b\n            bit_count &lt;= 3'b0;\n            data_reg  &lt;= dac_data;\n        end else begin\n            // \u200b\u8f93\u51fa\u200b\u5f53\u524d\u200b\u6700\u9ad8\u200b\u4f4d\u200b\uff0c\u200b\u5e76\u200b\u5c06\u200b\u6570\u636e\u200b\u5de6\u79fb\u200b\u4e00\u4f4d\u200b\n            serial_out &lt;= data_reg[7];\n            data_reg   &lt;= data_reg &lt;&lt; 1;\n            bit_count  &lt;= bit_count + 1;\n        end\n    end\nend\n\nendmodule\n\n</code></pre> <p>tlc5620_driver</p> <pre><code>module tlc5620_driver\n(\n    input CLOCK_50,\n    input RST_N,\n    //\n    input da_enable,\n    input da_range, // 0, 1\u200b\u500d\u200b\u53c2\u8003\u200b\u7535\u538b\u200b; 1, 2\u200b\u500d\u200b\u53c2\u8003\u200b\u7535\u538b\u200b\n    input [7:0] da0_data, // 0~255\n    input [7:0] da1_data, // 0~255\n    input [7:0] da2_data, // 0~255\n    input [7:0] da3_data, // 0~255\n    // \n    output reg SCK,\n    output reg SDI,\n    output reg LOAD\n);\n\nfunction integer log2(input integer n);\n    integer i;\n    for(i=0; 2**i &lt;=n; i=i+1) log2=i+1;\nendfunction\n\n/**************************************\n* \u200b\u751f\u6210\u200b140ns\u200b\u7684\u200btick\u200b\u65f6\u949f\u200b\n**************************************/\nreg [log2(7):1]cnt_140ns;\nalways@(posedge CLOCK_50, negedge RST_N) \n    if(!RST_N) cnt_140ns &lt;= 0;\n    else begin\n        if(cnt_140ns &lt; 6) \n            cnt_140ns &lt;= cnt_140ns + 1'b1;\n        else cnt_140ns &lt;= 0;\n    end\nwire tick_140ns = (cnt_140ns == 6) ? 1 : 0;\n\n/**************************************\n* \u200b\u6839\u636e\u200btick\u200b\u65f6\u949f\u200b\u751f\u6210\u200bda\u200b\u57fa\u51c6\u200b\u8ba1\u6570\u5668\u200b\n**************************************/\nreg [log2(48):1] da_ref_cnt; // [0,47]\nalways@(posedge CLOCK_50, negedge RST_N)\n    if(!RST_N) da_ref_cnt &lt;= 0;\n    else begin\n        if(!da_enable) da_ref_cnt &lt;= 0;\n        else begin\n            if(tick_140ns) begin\n                if(da_ref_cnt &lt; 47) \n                    da_ref_cnt &lt;= da_ref_cnt + 1'b1;\n                else da_ref_cnt &lt;= 0;\n            end\n        end\n    end\nwire tick_6720ns = (da_ref_cnt == 47) ? 1 : 0;\n\nreg [1:0] da_sel_cnt;\nalways@(posedge CLOCK_50, negedge RST_N)\n    if(!RST_N) da_sel_cnt &lt;= 2'b0;\n    else if (tick_6720ns) begin\n        if(da_sel_cnt &lt; 3)\n            da_sel_cnt &lt;= da_sel_cnt + 1'b1;\n        else da_sel_cnt &lt;= 2'b0;\n    end\n\n/**************************************\n* \u200b\u6839\u636e\u200b\u57fa\u51c6\u200b\u8ba1\u6570\u5668\u200b\u751f\u6210\u200b\u4e32\u884c\u200b\u4fe1\u53f7\u200b\n**************************************/\nreg [7:0] da_data;\nalways@(posedge CLOCK_50, negedge RST_N)\n    if(!RST_N) da_data &lt;= 8'b0;\n    else begin\n        case(da_sel_cnt)\n            2'b00: da_data &lt;= da0_data;\n            2'b01: da_data &lt;= da1_data;\n            2'b10: da_data &lt;= da2_data;\n            2'b11: da_data &lt;= da3_data;\n        endcase\n    end\n\nalways@(posedge CLOCK_50, negedge RST_N)\n    if(!RST_N) begin\n        SCK &lt;= 0;\n        SDI &lt;= 0;\n        LOAD &lt;= 0;\n    end\n    else begin\n        if(tick_140ns) begin\n            // \u200b\u751f\u6210\u200bSCK\u200b\u4fe1\u53f7\u200b\n            case(da_ref_cnt)\n                2,6,10,14,18,22,26,30,34,38,42: SCK &lt;= 1;\n                4,8,12,16,20,24,28,32,36,40,44: SCK &lt;= 0;\n                default : ; // \u200b\u7f3a\u7701\u200b\u4e0d\u200b\u64cd\u4f5c\u200b\n            endcase\n            // \u200b\u751f\u6210\u200bLOAD\u200b\u4fe1\u53f7\u200b\n            case(da_ref_cnt)\n                0: LOAD &lt;= 1;\n                46: LOAD &lt;= 0;\n                default : ; // \u200b\u7f3a\u7701\u200b\u4e0d\u200b\u64cd\u4f5c\u200b\n            endcase\n            // \u200b\u9001\u5165\u200b\u4e32\u578b\u200b\u6570\u636e\u200b\n            case(da_ref_cnt)\n                3,4: SDI &lt;= da_sel_cnt[1];\n                7,8: SDI &lt;= da_sel_cnt[0];\n                11,12: SDI &lt;= da_range;\n                15,16: SDI &lt;= da_data[7];\n                19,20: SDI &lt;= da_data[6];\n                23,24: SDI &lt;= da_data[5];\n                27,28: SDI &lt;= da_data[4];\n                31,32: SDI &lt;= da_data[3];\n                35,36: SDI &lt;= da_data[2];\n                39,40: SDI &lt;= da_data[1];\n                43,44: SDI &lt;= da_data[0];\n                default : SDI &lt;= 1'b1;\n            endcase\n        end\n    end\n\nendmodule\n</code></pre> <p>top_dds</p> <pre><code>module top_dds\n(\n    input   wire            sys_clk     ,   // \u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b,50MHz\n    input   wire            sys_rst_n   ,   // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\n    input   wire    [3:0]   key         ,   // \u200b\u8f93\u5165\u200b4\u200b\u4f4d\u200b\u6309\u952e\u200b\n    input                   key_add     ,       // \u200b\u51cf\u5c11\u200b\u8109\u51b2\u200b\u9891\u7387\u200b\u6309\u952e\u200b\n    input                   key_low     ,       // \u200b\u589e\u52a0\u200b\u8109\u51b2\u200b\u9891\u7387\u200b\u6309\u952e\u200b\n\n    // TLC5620\u200b\u7684\u200b\u5f15\u811a\u200b\n    output  wire            da_clk      ,   // \u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    output  wire            da_data     ,   // \u200b\u6570\u636e\u4fe1\u53f7\u200b\n    output  wire            da_ldac     ,   // LDAC\u200b\u4fe1\u53f7\u200b\n    output  wire            da_load        // LOAD\u200b\u4fe1\u53f7\u200b\n\n\n\n);\n\n// \u200b\u5b9a\u4e49\u200b\u8ba1\u6570\u5668\u200b\u7684\u200b\u6700\u5927\u503c\u200b\nreg [15:0] counter = 16'd999; // \u200b\u521d\u59cb\u503c\u200b\n\n// \u200b\u6d88\u6296\u200b\u540e\u200b\u7684\u200b\u6309\u952e\u200b\u72b6\u6001\u200b\nwire key_add_flag;\nwire key_low_flag;\n// \u200b\u6d88\u6296\u200b\u540e\u200b\u7684\u200b\u6309\u952e\u200b\u72b6\u6001\u200b\nparameter   CNT_MAX =   20'd999_999;    //\u200b\u8ba1\u6570\u5668\u200b\u8ba1\u6570\u200b\u6700\u5927\u503c\u200b\n\nalways @(posedge sys_clk or negedge sys_rst_n) begin\n    if (!sys_rst_n) begin\n        // \u200b\u5f53\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\u4e3a\u200b\u4f4e\u65f6\u200b\uff0c\u200b\u91cd\u7f6e\u200b\u8ba1\u6570\u5668\u200b\u548c\u200b\u6b65\u8fdb\u200b\u4fe1\u53f7\u200b\n            counter &lt;= 16'd999;\n    end else begin\n        // \u200b\u6839\u636e\u200b\u6309\u952e\u200b\u72b6\u6001\u200b\u8c03\u6574\u200bcounter\u200b\u7684\u200b\u503c\u200b\n        if (!key_add_flag) begin\n                counter &lt;= counter + 16'd100;\n        end else if (!key_low_flag) begin\n                counter &lt;= counter - 16'd100;\n        end\n    end\nend\n/**************************************\n* \u200b\u751f\u6210\u200b20ms\u200b\u7684\u200btick\u200b\u65f6\u949f\u200b\n**************************************/\nreg [15:0] cnt_20ms;\nalways@(posedge sys_clk, negedge sys_rst_n) \n    if(!sys_rst_n) cnt_20ms &lt;= 0;\n    else begin\n        if(cnt_20ms &lt; 16'd999) \n            cnt_20ms &lt;= cnt_20ms + 1'b1;\n        else cnt_20ms &lt;= 0;\n    end\nwire tick_20ms = (cnt_20ms == 16'd999) ? 1 : 0;\n//********************************************************************//\n//****************** Parameter and Internal Signal *******************//\n//********************************************************************//\n//wire  define\nwire    [3:0]   wave_select ;   // \u200b\u6ce2\u5f62\u200b\u9009\u62e9\u200b\nwire    [7:0]   dac_data    ;   // \u200b\u8f93\u5165\u200bDAC\u200b\u6a21\u5757\u200b\u6ce2\u5f62\u200b\u6570\u636e\u200b\n\n\n\n/**************************************\n* \u200b\u952f\u9f7f\u200b\u6ce2\u200b\uff1b\n**************************************/\nreg [7:0] da0_data;\nalways@(posedge sys_clk, negedge sys_rst_n) \n    if(!sys_rst_n) da0_data &lt;= 0;\n    else if(tick_20ms) begin\n        if(da0_data &lt; 126) \n            da0_data &lt;= da0_data + 1'b1;\n        else da0_data &lt;= 0; \n    end\n\n/**************************************\n* \u200b\u4e09\u89d2\u200b\u6ce2\u200b\uff1b\n**************************************/\nreg da1_highest_level_flag;\nreg [7:0] da1_data;\n\nalways@(posedge sys_clk, negedge sys_rst_n) \n    if(!sys_rst_n) begin\n        da1_data &lt;= 0;\n        da1_highest_level_flag &lt;= 0;\n    end else if(tick_20ms) begin\n        if(da1_data == 126) \n            da1_highest_level_flag &lt;= 1;\n        else if(da1_data == 0)\n            da1_highest_level_flag &lt;= 0;\n\n        if(da1_highest_level_flag)\n            da1_data &lt;= da1_data - 1'b1;\n        else\n            da1_data &lt;= da1_data + 1'b1;\n    end\n\n//********************************************************************//\n//*************************** Instantiation **************************//\n//********************************************************************//\n//-------------------------- dds_inst -----------------------------\ndds     dds_inst\n(\n    .sys_clk        (sys_clk    ),   // \u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b,50MHz\n    .sys_rst_n      (sys_rst_n  ),   // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\n    .wave_select    (wave_select),   // \u200b\u8f93\u51fa\u200b\u6ce2\u5f62\u200b\u9009\u62e9\u200b\n\n    .data_out       (dac_data   )    // \u200b\u6ce2\u5f62\u200b\u8f93\u51fa\u200b\n);\n\n//----------------------- key_control_inst ------------------------\nkey_control key_control_inst\n(\n    .sys_clk        (sys_clk    ),   // \u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b,50MHz\n    .sys_rst_n      (sys_rst_n  ),   // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\n    .key            (key        ),   // \u200b\u8f93\u5165\u200b4\u200b\u4f4d\u200b\u6309\u952e\u200b\n\n    .wave_select    (wave_select)    // \u200b\u8f93\u51fa\u200b\u6ce2\u5f62\u200b\u9009\u62e9\u200b\n);\n\n//----------------------- tlc5620_driver_inst ------------------------\ntlc5620_driver tlc5620_driver_inst\n(\n    .CLOCK_50(sys_clk),     // \u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\n    .RST_N(sys_rst_n),      // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\n    .da_enable(1'b1),       // \u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u59cb\u7ec8\u200b\u4f7f\u80fd\u200b\n    .da_range(1'b0),        // \u200b\u8f93\u51fa\u200b\u8303\u56f4\u200b\u9009\u62e9\u200b\uff0c\u200b\u6839\u636e\u200b\u9700\u8981\u200b\u8bbe\u7f6e\u200b\n    .da0_data(dac_data),    // \u200b\u5c06\u200bdac_data\u200b\u8fde\u63a5\u200b\u5230\u200bDA0\u200b\u901a\u9053\u200b\n    .da1_data(da0_data),        // \u200b\u5176\u4ed6\u200b\u901a\u9053\u200b\u6682\u65f6\u200b\u4e0d\u200b\u4f7f\u7528\u200b\uff0c\u200b\u7f6e\u200b\u4e3a\u200b0\n    .da2_data(da1_data),        // \u200b\u5176\u4ed6\u200b\u901a\u9053\u200b\u6682\u65f6\u200b\u4e0d\u200b\u4f7f\u7528\u200b\uff0c\u200b\u7f6e\u200b\u4e3a\u200b0\n    .da3_data(8'b0),        // \u200b\u5176\u4ed6\u200b\u901a\u9053\u200b\u6682\u65f6\u200b\u4e0d\u200b\u4f7f\u7528\u200b\uff0c\u200b\u7f6e\u200b\u4e3a\u200b0\n    .SCK(da_clk),           // \u200b\u8fde\u63a5\u200b\u5230\u200b\u5916\u90e8\u200b\u5f15\u811a\u200b\n    .SDI(da_data),          // \u200b\u8fde\u63a5\u200b\u5230\u200b\u5916\u90e8\u200b\u5f15\u811a\u200b\n    .LOAD(da_load)          // \u200b\u8fde\u63a5\u200b\u5230\u200b\u5916\u90e8\u200b\u5f15\u811a\u200b\n);\n\n// TLC5620\u200b\u7684\u200bLDAC\u200b\u4fe1\u53f7\u200b\u901a\u5e38\u200b\u9700\u8981\u200b\u4fdd\u6301\u200b\u4f4e\u7535\u5e73\u200b\u4ee5\u200b\u66f4\u65b0\u200b\u8f93\u51fa\u200b\u7535\u538b\u200b\nassign da_ldac = 1'b0;\n//------------- key_low --------------\nkey_filter \n#(\n    .CNT_MAX      (CNT_MAX  )       //\u200b\u8ba1\u6570\u5668\u200b\u8ba1\u6570\u200b\u6700\u5927\u503c\u200b\n)\nkey_filter_inst5\n(\n    .sys_clk      (sys_clk  )   ,   //\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b50Mhz\n    .sys_rst_n    (sys_rst_n)   ,   //\u200b\u5168\u5c40\u200b\u590d\u4f4d\u200b\n    .key_in       (key_low   )   ,   //\u200b\u6309\u952e\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\n\n    .key_flag     (key_low_flag     )       //\u200b\u6309\u952e\u200b\u6d88\u6296\u200b\u540e\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\n);\n//------------- key_add --------------\nkey_filter \n#(\n    .CNT_MAX      (CNT_MAX  )       //\u200b\u8ba1\u6570\u5668\u200b\u8ba1\u6570\u200b\u6700\u5927\u503c\u200b\n)\nkey_filter_inst4\n(\n    .sys_clk      (sys_clk  )   ,   //\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b50Mhz\n    .sys_rst_n    (sys_rst_n)   ,   //\u200b\u5168\u5c40\u200b\u590d\u4f4d\u200b\n    .key_in       (key_add   )   ,   //\u200b\u6309\u952e\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\n\n    .key_flag     (key_add_flag     )       //\u200b\u6309\u952e\u200b\u6d88\u6296\u200b\u540e\u200b\u6807\u5fd7\u200b\u4fe1\u53f7\u200b\n);\n\n\n\n\nendmodule\n\n</code></pre> <p>Vga_Module</p> <pre><code>//---------------------------------------------------------------------------\n//--    \u200b\u6587\u4ef6\u540d\u200b     :   A4_Vga.v\n//--    \u200b\u4f5c\u8005\u200b      :   ZIRCON\n//--    \u200b\u63cf\u8ff0\u200b      :   VGA\u200b\u663e\u793a\u200b\u5f69\u6761\u200b\n//--    \u200b\u4fee\u8ba2\u200b\u5386\u53f2\u200b    :   2014-1-1\n//---------------------------------------------------------------------------\n\n//---------------------------------------------------------------------------\n//-- VGA 800*600@60 \n//-- VGA_DATA[7:0] red2,red1,red0,green2,green1,green0,blue1,blue0\n//-- VGA CLOCK 40MHz.\n//---------------------------------------------------------------------------\n\n//---------------------------------------------------------------------------\n//-- Horizonal timing information\n//-- Sync pluse   128  a\n//-- back porch   88   b\n//-- active       800  c\n//-- front porch  40   d\n//-- All line     1056 e\n//-- Vertical timing information\n//-- sync pluse   4    o\n//-- back porch   23   p\n//-- active time  600  q\n//-- front porch  1    r\n//-- All lines    628  s\n//---------------------------------------------------------------------------\n\n//---------------------------------------------------------------------------\n//-- Horizonal timing information\n`define HSYNC_A   16'd128  // 128\n`define HSYNC_B   16'd216  // 128 + 88\n`define HSYNC_C   16'd1016 // 128 + 88 + 800\n`define HSYNC_D   16'd1056 // 128 + 88 + 800 + 40\n//-- Vertical  timing information\n`define VSYNC_O   16'd4    // 4 \n`define VSYNC_P   16'd27   // 4 + 23\n`define VSYNC_Q   16'd627  // 4 + 23 + 600\n`define VSYNC_R   16'd628  // 4 + 23 + 600 + 1\n//---------------------------------------------------------------------------\n\nmodule Vga_Module\n(\n    //\u200b\u8f93\u5165\u200b\u7aef\u53e3\u200b\n    CLK_40M,RST_N,vga_freq,vga_fengzhi,\n    //\u200b\u8f93\u51fa\u200b\u7aef\u53e3\u200b\n    VSYNC,HSYNC,VGA_DATA,vga_x,vga_y,ad_to_vga_data\n);\n\n//---------------------------------------------------------------------------\n//--    \u200b\u5916\u90e8\u200b\u7aef\u53e3\u200b\u58f0\u660e\u200b\n//---------------------------------------------------------------------------\ninput               CLK_40M;                    //\u200b\u65f6\u949f\u200b\u7684\u200b\u7aef\u53e3\u200b\ninput               RST_N;                  //\u200b\u590d\u4f4d\u200b\u7684\u200b\u7aef\u53e3\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u590d\u4f4d\u200b\ninput       [7:0]       ad_to_vga_data;     //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u6ce2\u5f62\u200b\u6570\u636e\u200b\ninput   [31:0]  vga_freq;               //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u9891\u7387\u200b\u503c\u200b\ninput   [31:0]  vga_fengzhi;            //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u5cf0\u5cf0\u200b\u503c\u200b\noutput              VSYNC;                  //VGA\u200b\u5782\u76f4\u200b\u540c\u6b65\u200b\u7aef\u53e3\u200b\noutput              HSYNC;                  //VGA\u200b\u6c34\u5e73\u200b\u540c\u6b65\u200b\u7aef\u53e3\u200b\noutput      [ 7:0]  VGA_DATA;               //VGA\u200b\u6570\u636e\u200b\u7aef\u53e3\u200b\noutput  [15:0]  vga_x;                  //VGA\u200b\u7684\u200bx\u200b\u5750\u6807\u200b\noutput  [15:0]  vga_y;                  //VGA\u200b\u7684\u200by\u200b\u5750\u6807\u200b\n//---------------------------------------------------------------------------\n//--    \u200b\u5185\u90e8\u200b\u7aef\u53e3\u200b\u58f0\u660e\u200b\n//---------------------------------------------------------------------------\nreg         [15:0]  hsync_cnt;              //\u200b\u6c34\u5e73\u200b\u626b\u63cf\u200b\u8ba1\u6570\u5668\u200b\nreg         [15:0]  hsync_cnt_n;            //hsync_cnt\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\nreg         [15:0]  vsync_cnt;              //\u200b\u5782\u76f4\u200b\u626b\u63cf\u200b\u8ba1\u6570\u5668\u200b\nreg         [15:0]  vsync_cnt_n;            //vsync_cnt\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\nreg         [ 7:0]  VGA_DATA;               //RGB\u200b\u7aef\u53e3\u200b\u603b\u7ebf\u200b\nreg         [ 7:0]  VGA_DATA_N;             //VGA_DATA\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\nreg                     VSYNC;                  //\u200b\u5782\u76f4\u200b\u540c\u6b65\u200b\u7aef\u53e3\u200b    \nreg                 VSYNC_N;                    //VSYNC\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\nreg                     HSYNC;                  //\u200b\u6c34\u5e73\u200b\u540c\u6b65\u200b\u7aef\u53e3\u200b\nreg                 HSYNC_N;                    //HSYNC\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\nreg                     vga_data_en;            //RGB\u200b\u4f20\u8f93\u200b\u4f7f\u80fd\u200b\u4fe1\u53f7\u200b     \nreg                     vga_data_en_n;          //vga_data_en\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\nwire        [15:0]  rom_font_data;          //\u200b\u5b57\u5e93\u200b\u7684\u200b\u6570\u636e\u4f4d\u200b\nreg         [15:0]  rom_font_addr;          //\u200b\u5b57\u5e93\u200b\u7684\u200b\u5730\u5740\u200b\u4f4d\u200b\nreg         [15:0]  rom_font_addr_n;        //rom_font_addr\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\n\n//---------------------------------------------------------------------------\n//--    \u200b\u903b\u8f91\u200b\u529f\u80fd\u200b\u5b9e\u73b0\u200b  \n//---------------------------------------------------------------------------\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bhsync_cnt\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_40M or negedge RST_N)\nbegin\n    if(!RST_N)                                  //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        hsync_cnt &lt;= 16'b0;                 //\u200b\u521d\u59cb\u5316\u200bhsync_cnt\u200b\u503c\u200b\n    else\n        hsync_cnt &lt;= hsync_cnt_n;           //\u200b\u7528\u6765\u200b\u7ed9\u200bhsync_cnt\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u6c34\u5e73\u200b\u626b\u63cf\u200b\nalways @ (*)\nbegin\n    if(hsync_cnt == `HSYNC_D)               //\u200b\u5224\u65ad\u200b\u6c34\u5e73\u200b\u626b\u63cf\u200b\u65f6\u5e8f\u200b\n        hsync_cnt_n = 16'b0;                    //\u200b\u5982\u679c\u200b\u6c34\u5e73\u200b\u626b\u63cf\u200b\u5b8c\u6bd5\u200b,\u200b\u8ba1\u6570\u5668\u200b\u5c06\u4f1a\u200b\u88ab\u200b\u6e05\u96f6\u200b\n    else\n        hsync_cnt_n = hsync_cnt + 1'b1; //\u200b\u5982\u679c\u200b\u6c34\u5e73\u200b\u6ca1\u6709\u200b\u626b\u63cf\u200b\u5b8c\u6bd5\u200b,\u200b\u8ba1\u6570\u5668\u200b\u7ee7\u7eed\u200b\u7d2f\u52a0\u200b\nend\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bvsync_cnt\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_40M or negedge RST_N)\nbegin\n    if(!RST_N)                                  //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        vsync_cnt &lt;= 16'b0;                 //\u200b\u7ed9\u884c\u200b\u626b\u63cf\u200b\u8d4b\u503c\u200b\n    else\n        vsync_cnt &lt;= vsync_cnt_n;           //\u200b\u7ed9\u884c\u200b\u626b\u63cf\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u5782\u76f4\u200b\u626b\u63cf\u200b\nalways @ (*)\nbegin\n    if((vsync_cnt == `VSYNC_R) &amp;&amp; (hsync_cnt == `HSYNC_D))//\u200b\u5224\u65ad\u200b\u5782\u76f4\u200b\u626b\u63cf\u200b\u65f6\u5e8f\u200b\n        vsync_cnt_n = 16'b0;                    //\u200b\u5982\u679c\u200b\u5782\u76f4\u200b\u626b\u63cf\u200b\u5b8c\u6bd5\u200b,\u200b\u8ba1\u6570\u5668\u200b\u5c06\u4f1a\u200b\u88ab\u200b\u6e05\u96f6\u200b\n    else if(hsync_cnt == `HSYNC_D)      //\u200b\u5224\u65ad\u200b\u6c34\u5e73\u200b\u626b\u63cf\u200b\u65f6\u5e8f\u200b\n        vsync_cnt_n = vsync_cnt + 1'b1; //\u200b\u5982\u679c\u200b\u6c34\u5e73\u200b\u626b\u63cf\u200b\u5b8c\u6bd5\u200b,\u200b\u8ba1\u6570\u5668\u200b\u7ee7\u7eed\u200b\u7d2f\u52a0\u200b\n    else\n        vsync_cnt_n = vsync_cnt;            //\u200b\u5426\u5219\u200b,\u200b\u8ba1\u6570\u5668\u200b\u5c06\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\nend\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bHSYNC\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_40M or negedge RST_N)\nbegin\n    if(!RST_N)                                  //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        HSYNC &lt;= 1'b0;                          //\u200b\u521d\u59cb\u5316\u200bHSYNC\u200b\u503c\u200b\n    else\n        HSYNC &lt;= HSYNC_N;                       //\u200b\u7528\u6765\u200b\u7ed9\u200bHSYNC\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b\uff0c\u200b\u5c06\u200bHSYNC_A\u200b\u533a\u57df\u200b\u7f6e\u200b0,HSYNC_B+HSYNC_C+HSYNC_D\u200b\u7f6e\u200b1\nalways @ (*)\nbegin   \n    if(hsync_cnt &lt; `HSYNC_A)                //\u200b\u5224\u65ad\u200b\u6c34\u5e73\u200b\u626b\u63cf\u200b\u65f6\u5e8f\u200b\n        HSYNC_N = 1'b0;                     //\u200b\u5982\u679c\u200b\u5728\u200bHSYNC_A\u200b\u533a\u57df\u200b,\u200b\u90a3\u4e48\u200b\u7f6e\u200b0\n    else\n        HSYNC_N = 1'b1;                     //\u200b\u5982\u679c\u200b\u4e0d\u200b\u5728\u200bHSYNC_A\u200b\u533a\u57df\u200b,\u200b\u90a3\u4e48\u200b\u7f6e\u200b1\nend\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bVSYNC\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_40M or negedge RST_N)\nbegin\n    if(!RST_N)                                  //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        VSYNC &lt;= 1'b0;                          //\u200b\u521d\u59cb\u5316\u200bVSYNC\u200b\u503c\u200b\n    else\n        VSYNC &lt;= VSYNC_N;                       //\u200b\u7528\u6765\u200b\u7ed9\u200bVSYNC\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b\uff0c\u200b\u5c06\u200bVSYNC_A\u200b\u533a\u57df\u200b\u7f6e\u200b0,VSYNC_P+VSYNC_Q+VSYNC_R\u200b\u7f6e\u200b1\nalways @ (*)\nbegin   \n    if(vsync_cnt &lt; `VSYNC_O)                //\u200b\u5224\u65ad\u200b\u6c34\u5e73\u200b\u626b\u63cf\u200b\u65f6\u5e8f\u200b\n        VSYNC_N = 1'b0;                     //\u200b\u5982\u679c\u200b\u5728\u200bVSYNC_O\u200b\u533a\u57df\u200b,\u200b\u90a3\u4e48\u200b\u7f6e\u200b0\n    else\n        VSYNC_N = 1'b1;                     //\u200b\u5982\u679c\u200b\u4e0d\u200b\u5728\u200bVSYNC_O\u200b\u533a\u57df\u200b,\u200b\u90a3\u4e48\u200b\u7f6e\u200b1\nend\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bvga_data_en\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_40M or negedge RST_N)\nbegin\n    if(!RST_N)                                  //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        vga_data_en &lt;= 1'b0;                    //\u200b\u521d\u59cb\u5316\u200bvga_data_en\u200b\u503c\u200b\n    else\n        vga_data_en &lt;= vga_data_en_n;       //\u200b\u7528\u6765\u200b\u7ed9\u200bvga_data_en\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b\uff0c\u200b\u5224\u65ad\u200b\u663e\u793a\u200b\u6709\u6548\u200b\u533a\u200b\uff08\u200b\u5217\u200b\u50cf\u7d20\u200b&gt;216&amp;&amp;\u200b\u5217\u200b\u50cf\u7d20\u200b&lt;1017&amp;&amp;\u200b\u884c\u200b\u50cf\u7d20\u200b&gt;27&amp;&amp;\u200b\u884c\u200b\u50cf\u7d20\u200b&lt;627\uff09\nalways @ (*)\nbegin\n    if((hsync_cnt &gt; `HSYNC_B &amp;&amp; hsync_cnt &lt;`HSYNC_C) &amp;&amp; \n        (vsync_cnt &gt; `VSYNC_P &amp;&amp; vsync_cnt &lt; `VSYNC_Q))\n        vga_data_en_n = 1'b1;               //\u200b\u5982\u679c\u200b\u5728\u200b\u663e\u793a\u200b\u533a\u57df\u200b\u5c31\u200b\u7ed9\u200b\u4f7f\u200b\u80fd\u200b\u6570\u636e\u4fe1\u53f7\u200b\u7f6e\u200b1\n    else\n        vga_data_en_n = 1'b0;               //\u200b\u5982\u679c\u200b\u4e0d\u200b\u5728\u200b\u663e\u793a\u200b\u533a\u57df\u200b\u5c31\u200b\u7ed9\u200b\u4f7f\u200b\u80fd\u200b\u6570\u636e\u4fe1\u53f7\u200b\u7f6e\u200b0\nend\n\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bVGA_DATA\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_40M or negedge RST_N)\nbegin\n    if(!RST_N)                                  //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        VGA_DATA &lt;= 8'h0;                       //\u200b\u521d\u59cb\u5316\u200bVGA_DATA\u200b\u503c\u200b\n    else\n        VGA_DATA &lt;= VGA_DATA_N;             //\u200b\u7528\u6765\u200b\u7ed9\u200bVGA_DATA\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u4f8b\u5316\u200bROM\u200b\u5b57\u5e93\u200b\u6a21\u5757\u200b\nROM_Font_Module ROM_Font_Init\n(\n    .address        (rom_font_addr ),       //\u200b\u5b57\u5e93\u200b\u7684\u200b\u5730\u5740\u200b\u4f4d\u200b\n    .clock          (CLK_40M        ),      //\u200b\u5b57\u5e93\u200b\u7684\u200b\u65f6\u949f\u200b\n    .q              (rom_font_data )        //\u200b\u5b57\u5e93\u200b\u7684\u200b\u6570\u636e\u4f4d\u200b\n);\n\n//\u200b\u5224\u65ad\u200b\u6570\u5b57\u200b\u663e\u793a\u200b\u7684\u200b\u4f4d\u7f6e\u200b\nassign rom_5v_en = (vga_y &gt;= 10'd90) &amp;&amp; (vga_y &lt;= 10'd106) &amp;&amp; (vga_x &gt;= 10'd98) &amp;&amp; (vga_x &lt;= 10'd116);\nassign rom_4_375v_en = (vga_y &gt;= 10'd122) &amp;&amp; (vga_y &lt;= 10'd138) &amp;&amp; (vga_x &gt;= 10'd66) &amp;&amp; (vga_x &lt;= 10'd116);\nassign rom_3_75v_en = (vga_y &gt;= 10'd154) &amp;&amp; (vga_y &lt;= 10'd170) &amp;&amp; (vga_x &gt;= 10'd74) &amp;&amp; (vga_x &lt;= 10'd116);\nassign rom_3_125v_en = (vga_y &gt;= 10'd186) &amp;&amp; (vga_y &lt;= 10'd203) &amp;&amp; (vga_x &gt;= 10'd66) &amp;&amp; (vga_x &lt;= 10'd116);\nassign rom_2_5v_en = (vga_y &gt;= 10'd218) &amp;&amp; (vga_y &lt;= 10'd234) &amp;&amp; (vga_x &gt;= 10'd82) &amp;&amp; (vga_x &lt;= 10'd116);\n\nassign rom_1_875v_en = (vga_y &gt;= 10'd250) &amp;&amp; (vga_y &lt;= 10'd266) &amp;&amp; (vga_x &gt;= 10'd66) &amp;&amp; (vga_x &lt;= 10'd116);\nassign rom_1_25v_en = (vga_y &gt;= 10'd282) &amp;&amp; (vga_y &lt;= 10'd298) &amp;&amp; (vga_x &gt;= 10'd74) &amp;&amp; (vga_x &lt;= 10'd116);\nassign rom_0_625v_en = (vga_y &gt;= 10'd314) &amp;&amp; (vga_y &lt;= 10'd330) &amp;&amp; (vga_x &gt;= 10'd66) &amp;&amp; (vga_x &lt;= 10'd116);\nassign rom_0v_en = (vga_y &gt;= 10'd346) &amp;&amp; (vga_y &lt;= 10'd362) &amp;&amp; (vga_x &gt;= 10'd98) &amp;&amp; (vga_x &lt;= 10'd116);\n\nassign rom_pinlv_en = (vga_y &gt; 10'd490) &amp;&amp; (vga_y &lt; 10'd507) &amp;&amp; (vga_x &gt;= 10'd130) &amp;&amp; (vga_x &lt;= 10'd176);\nassign rom_500hz_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd180) &amp;&amp; (vga_x &lt;= 10'd220);\nassign rom_333hz_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd180) &amp;&amp; (vga_x &lt;= 10'd220);\nassign rom_833hz_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd180) &amp;&amp; (vga_x &lt;= 10'd220);\nassign rom_166hz_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd180) &amp;&amp; (vga_x &lt;= 10'd220);\nassign rom_666hz_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd180) &amp;&amp; (vga_x &lt;= 10'd220);\nassign rom_1khz_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd180) &amp;&amp; (vga_x &lt;= 10'd212);\n\nassign rom_2000hz_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd180) &amp;&amp; (vga_x &lt;= 10'd214);\nassign rom_1833hz_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd180) &amp;&amp; (vga_x &lt;= 10'd230);\nassign rom_1666hz_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd180) &amp;&amp; (vga_x &lt;= 10'd230);\nassign rom_1500hz_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd180) &amp;&amp; (vga_x &lt;= 10'd230);\nassign rom_1333hz_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd180) &amp;&amp; (vga_x &lt;= 10'd230);\nassign rom_1166hz_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd180) &amp;&amp; (vga_x &lt;= 10'd230);\n\nassign rom_26v_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd482) &amp; (vga_x &lt;= 10'd516);\nassign rom_25v_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd482) &amp; (vga_x &lt;= 10'd516);\nassign rom_24v_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd482) &amp; (vga_x &lt;= 10'd516);\nassign rom_23v_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd482) &amp; (vga_x &lt;= 10'd516);\nassign rom_22v_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd482) &amp; (vga_x &lt;= 10'd516);\nassign rom_21v_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd482) &amp; (vga_x &lt;= 10'd516);\nassign rom_20v_en = (vga_y &gt;= 10'd490) &amp;&amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd482) &amp; (vga_x &lt;= 10'd516);\nassign rom_fengzhi_0v_en = (vga_y &gt;= 10'd490) &amp; (vga_y &lt;= 10'd506) &amp;&amp; (vga_x &gt;= 10'd482) &amp; (vga_x &lt;= 10'd500);\nassign rom_fengzhi_en = (vga_y &gt;= 10'd490) &amp; (vga_y &lt;= 10'd506) &amp; (vga_x &gt;= 10'd416) &amp; (vga_x &lt;= 10'd482);\n\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200brom_font_addr\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_40M or negedge RST_N)\nbegin\n    if(!RST_N) \n        rom_font_addr &lt;= 8'd0;\n    else\n        rom_font_addr &lt;= rom_font_addr_n;\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7528\u4e8e\u200b\u751f\u6210\u200b\u5b57\u5e93\u200b\u7684\u200b\u5730\u5740\u200b\u4f4d\u200b\nalways @ (*)\nbegin\n    if(rom_5v_en)\n    begin\n        if(vga_x == 10'd98) \n            rom_font_addr_n = 8'h28;\n        else if(vga_x == 10'd106)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_4_375v_en)\n    begin\n        if(vga_x == 10'd66) \n            rom_font_addr_n = 8'h20;\n        else if(vga_x == 10'd74)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd82)\n            rom_font_addr_n = 8'h18;\n        else if(vga_x == 10'd90)\n            rom_font_addr_n = 8'h38;\n        else if(vga_x == 10'd98)\n            rom_font_addr_n = 8'h28;\n        else if(vga_x == 10'd106)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_3_75v_en)\n    begin\n        if(vga_x == 10'd74) \n            rom_font_addr_n = 8'h18;\n        else if(vga_x == 10'd82)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd90)\n            rom_font_addr_n = 8'h38;\n        else if(vga_x == 10'd98)\n            rom_font_addr_n = 8'h28;\n        else if(vga_x == 10'd106)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_3_125v_en)\n    begin\n        if(vga_x == 10'd66) \n            rom_font_addr_n = 8'h18;\n        else if(vga_x == 10'd74)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd82)\n            rom_font_addr_n = 8'h8;\n        else if(vga_x == 10'd90)\n            rom_font_addr_n = 8'h10;\n        else if(vga_x == 10'd98)\n            rom_font_addr_n = 8'h28;\n        else if(vga_x == 10'd106)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_2_5v_en)\n    begin\n        if(vga_x == 10'd82)\n            rom_font_addr_n = 8'h10;\n        else if(vga_x == 10'd90)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd98)\n            rom_font_addr_n = 8'h28;\n        else if(vga_x == 10'd106)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_1_875v_en)\n    begin\n        if(vga_x == 10'd66) \n            rom_font_addr_n = 8'h8;\n        else if(vga_x == 10'd74)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd82)\n            rom_font_addr_n = 8'h40;\n        else if(vga_x == 10'd90)\n            rom_font_addr_n = 8'h38;\n        else if(vga_x == 10'd98)\n            rom_font_addr_n = 8'h28;\n        else if(vga_x == 10'd106)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_1_25v_en)\n    begin\n        if(vga_x == 10'd74) \n            rom_font_addr_n = 8'h8;\n        else if(vga_x == 10'd82)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd90)\n            rom_font_addr_n = 8'h10;\n        else if(vga_x == 10'd98)\n            rom_font_addr_n = 8'h28;\n        else if(vga_x == 10'd106)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_0_625v_en)\n    begin\n        if(vga_x == 10'd66) \n            rom_font_addr_n = 8'h0;\n        else if(vga_x == 10'd74)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd82)\n            rom_font_addr_n = 8'h30;\n        else if(vga_x == 10'd90)\n            rom_font_addr_n = 8'h10;\n        else if(vga_x == 10'd98)\n            rom_font_addr_n = 8'h28;\n        else if(vga_x == 10'd106)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_0v_en)\n    begin\n        if(vga_x == 10'd98) \n            rom_font_addr_n = 8'h0;\n        else if(vga_x == 10'd106)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n\n    else if(rom_166hz_en &amp;&amp; (vga_freq == 10'd166))\n    begin\n        if(vga_x == 10'd180)\n            rom_font_addr_n = 8'h8;\n        else if(vga_x == 10'd188)\n            rom_font_addr_n = 8'h30;\n        else if(vga_x == 10'd196)\n            rom_font_addr_n = 8'h30;\n        else if(vga_x == 10'd204)\n            rom_font_addr_n = 8'h90;\n        else if(vga_x == 10'd212)\n            rom_font_addr_n = 8'h98;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_333hz_en &amp;&amp; (vga_freq == 10'd333))\n    begin\n        if(vga_x == 10'd180)\n            rom_font_addr_n = 8'h18;\n        else if(vga_x == 10'd188)\n            rom_font_addr_n = 8'h18;\n        else if(vga_x == 10'd196)\n            rom_font_addr_n = 8'h18;\n        else if(vga_x == 10'd204)\n            rom_font_addr_n = 8'h90;\n        else if(vga_x == 10'd212)\n            rom_font_addr_n = 8'h98;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_500hz_en &amp;&amp; (vga_freq == 10'd500))\n    begin\n        if(vga_x == 10'd180)\n            rom_font_addr_n = 8'h28;\n        else if(vga_x == 10'd188)\n            rom_font_addr_n = 8'h0;\n        else if(vga_x == 10'd196)\n            rom_font_addr_n = 8'h0;\n        else if(vga_x == 10'd204)\n            rom_font_addr_n = 8'h90;\n        else if(vga_x == 10'd212)\n            rom_font_addr_n = 8'h98;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_666hz_en &amp;&amp; (vga_freq == 10'd666))\n    begin\n        if(vga_x == 10'd180)\n            rom_font_addr_n = 8'h30;\n        else if(vga_x == 10'd188)\n            rom_font_addr_n = 8'h30;\n        else if(vga_x == 10'd196)\n            rom_font_addr_n = 8'h30;\n        else if(vga_x == 10'd204)\n            rom_font_addr_n = 8'h90;\n        else if(vga_x == 10'd212)\n            rom_font_addr_n = 8'h98;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_833hz_en &amp;&amp; (vga_freq == 10'd833))\n    begin\n        if(vga_x == 10'd180)\n            rom_font_addr_n = 8'h40;\n        else if(vga_x == 10'd188)\n            rom_font_addr_n = 8'h18;\n        else if(vga_x == 10'd196)\n            rom_font_addr_n = 8'h18;\n        else if(vga_x == 10'd204)\n            rom_font_addr_n = 8'h90;\n        else if(vga_x == 10'd212)\n            rom_font_addr_n = 8'h98;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_1khz_en &amp;&amp; (vga_freq == 10'd1000))\n    begin\n        if(vga_x == 10'd180)\n            rom_font_addr_n = 8'h8;\n        else if(vga_x == 10'd188)\n            rom_font_addr_n = 12'h0a0;\n        else if(vga_x == 10'd196)\n            rom_font_addr_n = 8'h90;\n        else if(vga_x == 10'd204)\n            rom_font_addr_n = 8'h98;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_1166hz_en &amp;&amp; (vga_freq == 32'd1166))\n    begin\n        if(vga_x == 10'd180)\n            rom_font_addr_n = 8'h8;\n        else if(vga_x == 10'd188)\n            rom_font_addr_n = 10'h8;\n        else if(vga_x == 10'd196)\n            rom_font_addr_n = 8'h30;\n        else if(vga_x == 10'd204)\n            rom_font_addr_n = 8'h30;\n        else if(vga_x == 10'd212)\n            rom_font_addr_n = 8'h90;\n        else if(vga_x == 10'd220)\n            rom_font_addr_n = 8'h98;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_1333hz_en &amp;&amp; (vga_freq == 32'd1333))\n    begin\n        if(vga_x == 10'd180)\n            rom_font_addr_n = 8'h8;\n        else if(vga_x == 10'd188)\n            rom_font_addr_n = 10'h18;\n        else if(vga_x == 10'd196)\n            rom_font_addr_n = 8'h18;\n        else if(vga_x == 10'd204)\n            rom_font_addr_n = 8'h18;\n        else if(vga_x == 10'd212)\n            rom_font_addr_n = 8'h90;\n        else if(vga_x == 10'd220)\n            rom_font_addr_n = 8'h98;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_1500hz_en &amp;&amp; (vga_freq == 32'd1500))\n    begin\n        if(vga_x == 10'd180)\n            rom_font_addr_n = 8'h8;\n        else if(vga_x == 10'd188)\n            rom_font_addr_n = 10'h28;\n        else if(vga_x == 10'd196)\n            rom_font_addr_n = 8'h0;\n        else if(vga_x == 10'd204)\n            rom_font_addr_n = 8'h0;\n        else if(vga_x == 10'd212)\n            rom_font_addr_n = 8'h90;\n        else if(vga_x == 10'd220)\n            rom_font_addr_n = 8'h98;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_1666hz_en &amp;&amp; (vga_freq == 32'd1666))\n    begin\n        if(vga_x == 10'd180)\n            rom_font_addr_n = 8'h8;\n        else if(vga_x == 10'd188)\n            rom_font_addr_n = 10'h30;\n        else if(vga_x == 10'd196)\n            rom_font_addr_n = 8'h30;\n        else if(vga_x == 10'd204)\n            rom_font_addr_n = 8'h30;\n        else if(vga_x == 10'd212)\n            rom_font_addr_n = 8'h90;\n        else if(vga_x == 10'd220)\n            rom_font_addr_n = 8'h98;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_1833hz_en &amp;&amp; (vga_freq == 32'd1833))\n    begin\n        if(vga_x == 10'd180)\n            rom_font_addr_n = 8'h8;\n        else if(vga_x == 10'd188)\n            rom_font_addr_n = 10'h40;\n        else if(vga_x == 10'd196)\n            rom_font_addr_n = 8'h18;\n        else if(vga_x == 10'd204)\n            rom_font_addr_n = 8'h18;\n        else if(vga_x == 10'd212)\n            rom_font_addr_n = 8'h90;\n        else if(vga_x == 10'd220)\n            rom_font_addr_n = 8'h98;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_2000hz_en &amp;&amp; (vga_freq == 32'd2000))\n    begin\n        if(vga_x == 10'd180)\n            rom_font_addr_n = 8'h10;\n        else if(vga_x == 10'd188)\n            rom_font_addr_n = 12'h0a0;\n        else if(vga_x == 10'd196)\n            rom_font_addr_n = 8'h90;\n        else if(vga_x == 10'd204)\n            rom_font_addr_n = 8'h98;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if((rom_26v_en) &amp;&amp; (vga_fengzhi == 10'd26))\n    begin\n        if(vga_x == 10'd482)\n            rom_font_addr_n = 8'h10;\n        else if(vga_x == 10'd490)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd498)\n            rom_font_addr_n = 8'h30;\n        else if(vga_x == 10'd506)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if((rom_25v_en) &amp;&amp; (vga_fengzhi == 10'd25))\n    begin\n        if(vga_x == 10'd482)\n            rom_font_addr_n = 8'h10;\n        else if(vga_x == 10'd490)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd498)\n            rom_font_addr_n = 8'h28;\n        else if(vga_x == 10'd506)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if((rom_24v_en) &amp;&amp; (vga_fengzhi == 10'd24))\n    begin\n        if(vga_x == 10'd482)\n            rom_font_addr_n = 8'h10;\n        else if(vga_x == 10'd490)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd498)\n            rom_font_addr_n = 8'h20;\n        else if(vga_x == 10'd506)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if((rom_23v_en) &amp;&amp; (vga_fengzhi == 10'd23))\n    begin\n        if(vga_x == 10'd482)\n            rom_font_addr_n = 8'h10;\n        else if(vga_x == 10'd490)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd498)\n            rom_font_addr_n = 8'h18;\n        else if(vga_x == 10'd506)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if((rom_22v_en) &amp;&amp; (vga_fengzhi == 10'd22))\n    begin\n        if(vga_x == 10'd482)\n            rom_font_addr_n = 8'h10;\n        else if(vga_x == 10'd490)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd498)\n            rom_font_addr_n = 8'h10;\n        else if(vga_x == 10'd506)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if((rom_21v_en) &amp;&amp; (vga_fengzhi == 10'd21))\n    begin\n        if(vga_x == 10'd482)\n            rom_font_addr_n = 8'h10;\n        else if(vga_x == 10'd490)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd498)\n            rom_font_addr_n = 8'h8;\n        else if(vga_x == 10'd506)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if((rom_20v_en) &amp;&amp; (vga_fengzhi == 10'd20))\n    begin\n        if(vga_x == 10'd482)\n            rom_font_addr_n = 8'h10;\n        else if(vga_x == 10'd490)\n            rom_font_addr_n = 8'h50;\n        else if(vga_x == 10'd498)\n            rom_font_addr_n = 8'h0;\n        else if(vga_x == 10'd506)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if((rom_fengzhi_0v_en) &amp;&amp; (vga_fengzhi == 10'd0))\n    begin\n        if(vga_x == 10'd482)\n            rom_font_addr_n = 8'h0;\n        else if(vga_x == 10'd490)\n            rom_font_addr_n = 8'h58;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_pinlv_en)\n    begin\n        if(vga_x == 10'd130)\n            rom_font_addr_n = 8'h60;\n        else if(vga_x == 10'd146)\n            rom_font_addr_n = 8'h70;\n        else if(vga_x == 10'd162)\n            rom_font_addr_n = 8'h80;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else if(rom_fengzhi_en)\n    begin\n        if(vga_x == 10'd416)\n            rom_font_addr_n = 8'ha8;\n        else if(vga_x == 10'd432)\n            rom_font_addr_n = 8'hb8;\n        else if(vga_x == 10'd448)\n            rom_font_addr_n = 8'hc8;\n        else if(vga_x == 10'd464)\n            rom_font_addr_n = 8'hd8;\n        else \n            rom_font_addr_n = rom_font_addr + 1'b1;\n    end\n    else\n        rom_font_addr_n &lt;= 15'b0;;\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b\uff0c\u200b\u5224\u65ad\u200b\u5b57\u7b26\u200b\u663e\u793a\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u5e76\u200b\u8fdb\u884c\u200b\u663e\u793a\u200b\nalways @ (*)\nbegin\n    if(vga_data_en)\n    begin\n        if( (vga_x &gt;= 10'd128 &amp;&amp; vga_x &lt;= 10'd704) &amp;&amp; (vga_y &gt;= 10'd96 &amp;&amp; vga_y &lt;= 10'd480) )\n            begin\n                if(vga_y - 10'd97 == (ad_to_vga_data )) //\u200b\u663e\u793a\u200b\u6ce2\u5f62\u200b\n                        VGA_DATA_N = 10'd253;\n                else if((10'd0 == (vga_y % 10'd5)) &amp;&amp; (10'd0 == (vga_x % 10'd32)))  //\u200b\u753b\u200b\u865a\u7ebf\u200b\n                        VGA_DATA_N = 10'd208;\n                else if((10'd0 == (vga_y % 10'd32)) &amp;&amp; (10'd0 == (vga_x % 10'd5)))  //\u200b\u753b\u200b\u865a\u7ebf\u200b\n                        VGA_DATA_N = 10'd208;\n                else if((vga_y == 10'd96 || vga_y == 10'd480) &amp;&amp; (vga_x &gt;= 10'd96 &amp;&amp; vga_x &lt;= 10'd704)) //\u200b\u4e0a\u4e0b\u200b\u7ebf\u200b\n                        VGA_DATA_N = 10'd208;\n                else if((vga_x == 10'd128 || vga_x == 704) &amp;&amp; (vga_y &gt;= 96 &amp;&amp; vga_y &lt;= 480)) //\u200b\u5de6\u53f3\u200b\u7ebf\u200b\n                        VGA_DATA_N = 10'd208;\n                else if(vga_y == 10'd352 &amp;&amp; vga_x &gt;= 10'd96 &amp;&amp; vga_x &lt;= 10'd704)  //X\u200b\u8f74\u200b\n                        VGA_DATA_N = 10'he0;\n                else if(vga_x == 416 &amp;&amp; vga_y &gt;= 10'd96 &amp;&amp; vga_y &lt;= 10'd480)     //Y\u200b\u8f74\u200b\n                        VGA_DATA_N = 10'he0;    \n                else    \n                        VGA_DATA_N = 8'h08;         \n            end\n        else if(rom_5v_en)  //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b5V\n            begin\n                if(rom_font_data[10'd106 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if(rom_4_375v_en)  //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b4.375V\n            begin\n                if(rom_font_data[10'd138 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if(rom_3_75v_en)   //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b3.75V\n            begin\n                if(rom_font_data[10'd170 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if(rom_3_125v_en)  //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b3.125V\n            begin\n                if(rom_font_data[10'd202 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if(rom_2_5v_en) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b2.5V\n            begin\n                if(rom_font_data[10'd234 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if(rom_1_875v_en) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b1.875V\n            begin\n                if(rom_font_data[10'd266 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if(rom_1_25v_en) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b1.25V\n            begin\n                if(rom_font_data[10'd298 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if(rom_0_625v_en) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b0.625V\n            begin\n                if(rom_font_data[10'd330 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if(rom_0v_en) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b0V\n            begin\n                if(rom_font_data[10'd362 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if(rom_pinlv_en) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b\u9891\u7387\u200b\u4e24\u4e2a\u200b\u5b57\u200b\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_500hz_en) &amp;&amp; (vga_freq == 10'd500)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b500hz\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end \n        else if((rom_333hz_en) &amp;&amp; (vga_freq == 10'd333)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b333hz\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_166hz_en) &amp;&amp; (vga_freq == 10'd166)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b166hz\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_666hz_en) &amp;&amp; (vga_freq == 10'd666)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b666hz\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_833hz_en) &amp;&amp; (vga_freq == 10'd833)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b833hz\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_1khz_en) &amp;&amp; (vga_freq == 32'd1000)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b1khz\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_1166hz_en) &amp;&amp; (vga_freq == 32'd1166)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b1166hz\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_1333hz_en) &amp;&amp; (vga_freq == 32'd1333)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b1333hz\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_1500hz_en) &amp;&amp; (vga_freq == 32'd1500)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b1500hz\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_1666hz_en) &amp;&amp; (vga_freq == 32'd1666)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b1666hz\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_1833hz_en) &amp;&amp; (vga_freq == 32'd1833)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b1833hz\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_2000hz_en) &amp;&amp; (vga_freq == 32'd2000)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b2khz\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n\n        else if((rom_fengzhi_en)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b\u5cf0\u5cf0\u200b\u503c\u200b3\u200b\u4e2a\u200b\u5b57\u200b\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_26v_en) &amp;&amp; (vga_fengzhi == 10'd26)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b2.6V\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_25v_en) &amp;&amp; (vga_fengzhi == 10'd25)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b2.5V\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_24v_en) &amp;&amp; (vga_fengzhi == 10'd24)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b2.4V\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_23v_en) &amp;&amp; (vga_fengzhi == 10'd23)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b2.3V\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_22v_en) &amp;&amp; (vga_fengzhi == 10'd22)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b2.2V\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_21v_en) &amp;&amp; (vga_fengzhi == 10'd21)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b2.1V\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_20v_en) &amp;&amp; (vga_fengzhi == 10'd20)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b2.0V\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else if((rom_fengzhi_0v_en) &amp;&amp; (vga_fengzhi == 10'd0)) //\u200b\u5728\u200b\u5c4f\u5e55\u200b\u4e0a\u200b\u663e\u793a\u200b0V\n            begin\n                if(rom_font_data[10'd506 - vga_y])\n                    VGA_DATA_N = 10'd253;\n                else\n                    VGA_DATA_N = 8'h03;\n            end\n        else\n            VGA_DATA_N = 8'h03;                             \n    end\n    else\n        VGA_DATA_N = 8'h0;  \nend\n\nassign vga_x = hsync_cnt - `HSYNC_B;\nassign vga_y = vsync_cnt - `VSYNC_P;\n\n\nendmodule\n\n\n\n\n</code></pre> <p>FFT_Control_Module ```verilog FFT_Control_Module.v //--------------------------------------------------------------------------- //--    \u200b\u6587\u4ef6\u540d\u200b     :   FFT_Control_Module.v //--    \u200b\u4f5c\u8005\u200b      :   ZIRCON //--    \u200b\u63cf\u8ff0\u200b      :   FFT\u200b\u63a7\u5236\u200b\u6a21\u5757\u200b //--    \u200b\u4fee\u8ba2\u200b\u5386\u53f2\u200b    :   2017-01-01 //--------------------------------------------------------------------------- module FFT_Control_Module (     //\u200b\u8f93\u5165\u200b\u7aef\u53e3\u200b     CLK_50M,RST_N,data_real_in_int,     //\u200b\u8f93\u51fa\u200b\u7aef\u53e3\u200b     fft_real_out_int,fft_imag_out_int,fft_bit_cnt,     ,vga_fengzhi );</p> <p>//--------------------------------------------------------------------------- //--    \u200b\u5916\u90e8\u200b\u7aef\u53e3\u200b\u58f0\u660e\u200b //--------------------------------------------------------------------------- input                   CLK_50M;                    //\u200b\u65f6\u949f\u200b\u7aef\u53e3\u200b input                   RST_N;                  //\u200b\u590d\u4f4d\u200b\u7aef\u53e3\u200b input   [ 9:0]  data_real_in_int;       //\u200b\u8f93\u5165\u200b\u6ce2\u5f62\u200b\u6570\u636e\u200b output  [31:0]  vga_fengzhi;            //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u5cf0\u5cf0\u200b\u503c\u200b output   [ 9:0]     fft_bit_cnt;            //FFT\u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b output      [ 9:0]  fft_real_out_int;       //FFT\u200b\u5b9e\u6570\u200b\u7684\u200b\u8f93\u51fa\u200b output      [ 9:0]  fft_imag_out_int;       //FFT\u200b\u865a\u6570\u200b\u7684\u200b\u8f93\u51fa\u200b</p> <p>//--------------------------------------------------------------------------- //--    \u200b\u5185\u90e8\u200b\u7aef\u53e3\u200b\u58f0\u660e\u200b //--------------------------------------------------------------------------- wire                    sink_sop;               //\u200b\u8f93\u5165\u200b\u6d41\u200b\u7684\u200b\u5f00\u59cb\u200b\u4fe1\u53f7\u200b wire                    sink_eop;               //\u200b\u8f93\u5165\u200b\u6d41\u200b\u7684\u200b\u7ed3\u675f\u200b\u4fe1\u53f7\u200b wire                    inverse;                    //FFT\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b,1:IFFT,0:FFT wire        [ 1:0]  sink_error;             //\u200b\u8f93\u5165\u200b\u9519\u8bef\u200b\u4fe1\u53f7\u200b wire                    source_ready;           //\u200b\u8f93\u51fa\u200b\u6e90\u200b\u51c6\u5907\u200b\u4fe1\u53f7\u200b  wire                    sink_ready;             //\u200b\u8f93\u5165\u200b\u7684\u200b\u51c6\u5907\u200b\u4fe1\u53f7\u200b wire        [ 1:0]  source_error;           //\u200b\u8f93\u51fa\u200b\u6e90\u200b\u7684\u200b\u9519\u8bef\u200b\u4fe1\u53f7\u200b wire                    source_sop;             //\u200b\u8f93\u51fa\u200b\u6e90\u6d41\u200b\u7684\u200b\u5f00\u59cb\u200b\u4fe1\u53f7\u200b wire                    source_eop;             //\u200b\u8f93\u51fa\u200b\u6e90\u6d41\u200b\u7684\u200b\u7ed3\u675f\u200b\u4fe1\u53f7\u200b reg                 end_test;               //\u200b\u7ed3\u675f\u200b\u6d4b\u8bd5\u200b\u4fe1\u53f7\u200b reg                 end_test_n;             //end_test\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b wire                    source_valid;           //\u200b\u8f93\u51fa\u200b\u6e90\u200b\u7684\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b wire        [ 5:0]  source_exp;             //\u200b\u8f93\u51fa\u200b\u6e90\u200b\u7684\u200b\u6307\u6570\u200b\u4fe1\u53f7\u200b wire        [ 9:0]  source_real;            //\u200b\u8f93\u51fa\u200b\u6e90\u200b\u7684\u200b\u5b9e\u90e8\u200b\u4fe1\u53f7\u200b wire        [ 9:0]  source_imag;            //\u200b\u8f93\u51fa\u200b\u6e90\u200b\u7684\u200b\u865a\u90e8\u200b\u4fe1\u53f7\u200b reg                 fft_start;              //FFT\u200b\u5f00\u59cb\u200b\u8f6c\u6362\u200b\u4fe1\u53f7\u200b reg                 fft_start_n;            //fft_start\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b wire                    end_input;              //\u200b\u505c\u6b62\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b wire                    end_output;             //\u200b\u505c\u6b62\u200b\u8f93\u51fa\u200b\u4fe1\u53f7\u200b reg     [ 9:0]  fft_bit_cnt;            //FFT\u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b reg     [ 9:0]  fft_bit_cnt_n;          //fft_bit_cnt\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b reg     [ 9:0]  sink_real;              //\u200b\u8f93\u5165\u200b\u7684\u200b\u5b9e\u90e8\u200b\u4fe1\u53f7\u200b reg     [ 9:0]  sink_real_n;            //sink_real\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b reg     [ 9:0]  sink_imag;              //\u200b\u8f93\u5165\u200b\u7684\u200b\u865a\u90e8\u200b\u4fe1\u53f7\u200b reg     [ 9:0]  sink_imag_n;            //sink_imag\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b reg                 sink_valid;             //\u200b\u8f93\u5165\u200b\u7684\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b reg                 sink_valid_n;           //sink_valid\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b reg         [ 9:0]  fft_real_out_int;       //FFT\u200b\u8f93\u51fa\u200b\u7684\u200b\u5b9e\u90e8\u200b\u4fe1\u53f7\u200b reg         [ 9:0]  fft_real_out_int_n; //fft_real_out_int\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b reg         [ 9:0]  fft_imag_out_int;       //FFT\u200b\u8f93\u51fa\u200b\u7684\u200b\u865a\u90e8\u200b\u4fe1\u53f7\u200b reg         [ 9:0]  fft_imag_out_int_n; //fft_imag_out_int\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b reg         [ 5:0]  exponent_out_int;       //FFT\u200b\u8f93\u51fa\u200b\u7684\u200b\u6307\u6570\u200b\u4fe1\u53f7\u200b   reg         [ 5:0]  exponent_out_int_n; //exponent_out_int\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b reg         [31:0]  fft_real_image_data;    //FFT\u200b\u8f93\u51fa\u200b\u7684\u200b\u6570\u636e\u4fe1\u53f7\u200b reg         [31:0]  fft_real_image_data_n;//fft_real_image_data\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b wire        [15:0]  sqrt_data_out;          //\u200b\u5e73\u65b9\u6839\u200b\u5904\u7406\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u4fe1\u53f7\u200b reg         [ 9:0]  data_max;               //\u200b\u6570\u636e\u200b\u7684\u200b\u6700\u5927\u503c\u200b reg         [ 9:0]  data_max_n;             //data_max\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b reg         [ 9:0]  data_max2;              //\u200b\u6570\u636e\u200b\u7684\u200b\u6b21\u200b\u5927\u503c\u200b reg         [ 9:0]  data_max2_n;            //data_max2\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b reg         [ 9:0]  max_cnt;                    //\u200b\u6700\u5927\u503c\u200b\u7684\u200b\u4f4d\u7f6e\u200b reg         [ 9:0]  max_cnt_n;              //max_cnt\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b reg         [ 9:0]  max_cnt2;               //\u200b\u6b21\u5927\u503c\u200b\u7684\u200b\u4f4d\u7f6e\u200b reg         [ 9:0]  max_cnt2_n;             //max_cnt2\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b reg         [15:0]  fengzhi_max;            //\u200b\u5cf0\u5cf0\u200b\u503c\u200b\u7684\u200b\u6700\u5927\u503c\u200b reg         [15:0]  fengzhi_max_n;          //fengzhi_max\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b reg         [15:0]  fengzhi_min;            //\u200b\u5cf0\u5cf0\u200b\u503c\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b reg         [15:0]  fengzhi_min_n;          //fengzhi_min\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b</p> <p>parameter   data_imag_in_int = 10'b0;   //\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u7684\u200b\u865a\u90e8\u7f6e\u200b0 parameter   fftpts_array = 255;         //FFT\u200b\u7684\u200b\u70b9\u6570\u200b</p> <p>//--------------------------------------------------------------------------- //--    \u200b\u903b\u8f91\u200b\u529f\u80fd\u200b\u5b9e\u73b0\u200b //--------------------------------------------------------------------------- / FFT\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b,1:IFFT,0:FFT / assign inverse = 1'b0; / \u200b\u8f93\u5165\u200b\u9519\u8bef\u200b\u4fe1\u53f7\u200b / assign sink_error = 2'b0; / \u200b\u6e90\u200b\u51c6\u5907\u200b\u4fe1\u53f7\u200b / assign source_ready = 1'b1; / \u200b\u8f93\u5165\u200b\u5f00\u59cb\u200b\u8fdb\u884c\u200bFFT\u200b\u8f6c\u6362\u200b\u8fd0\u7b97\u200b / assign fft_ready_valid = (sink_valid &amp;&amp; sink_ready);</p> <p>/ \u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bfft_start\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b / always @ (posedge CLK_50M or negedge RST_N) begin     if(!RST_N)         fft_start &lt;= 1'b1;     else         fft_start &lt;= fft_start_n; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,FFT\u200b\u5f00\u59cb\u200b\u8f6c\u6362\u200b\u4fe1\u53f7\u200b / always @ (*) begin     if(fft_ready_valid)         fft_start_n = 1'b0;     else         fft_start_n = 1'b1; end</p> <p>/ \u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bfft_bit_cnt\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b / always @ (posedge CLK_50M or negedge RST_N) begin     if(!RST_N)         fft_bit_cnt &lt;= 10'b0;     else         fft_bit_cnt &lt;= fft_bit_cnt_n; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,FFT\u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b / always @ (*) begin     if(fft_ready_valid &amp;&amp; (fft_bit_cnt == fftpts_array))         fft_bit_cnt_n = 1'b0;          else if(fft_ready_valid)         fft_bit_cnt_n = fft_bit_cnt + 1'b1;     else         fft_bit_cnt_n = fft_bit_cnt; end</p> <p>/ \u200b\u505c\u6b62\u200b\u8f93\u51fa\u200b\u4fe1\u53f7\u200b / assign end_output = (source_eop &amp;&amp; source_valid &amp;&amp; source_ready) ? 1'b1 : 1'b0; / \u200b\u505c\u6b62\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b / assign end_input = (sink_eop &amp;&amp; sink_valid &amp;&amp; sink_ready) ? 1'b1 : 1'b0; / \u200b\u8f93\u5165\u200b\u6d41\u200b\u7684\u200b\u5f00\u59cb\u200b / assign sink_sop = (fft_bit_cnt == 1'b0) ? 1'b1 : 1'b0 ; / \u200b\u8f93\u5165\u200b\u6d41\u200b\u7684\u200b\u7ed3\u675f\u200b / assign sink_eop = (fft_bit_cnt == fftpts_array) ? 1'b1 : 1'b0;</p> <p>/ \u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bend_test\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b / always @ (posedge CLK_50M or negedge RST_N) begin     if(!RST_N)         end_test &lt;= 1'b0;     else         end_test &lt;= end_test_n; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7ed3\u675f\u200b\u6d4b\u8bd5\u200b\u4fe1\u53f7\u200b / always @ (*) begin     if(end_input)         end_test_n = 1'b1;     else         end_test_n = end_test; end</p> <p>/ \u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bsink_real\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b / always @ (posedge CLK_50M or negedge RST_N) begin     if(!RST_N)         sink_real &lt;= 10'b0;     else         sink_real &lt;= sink_real_n; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u8f93\u5165\u200b\u7684\u200b\u5b9e\u90e8\u200b\u4fe1\u53f7\u200b / always @ (*) begin     if(end_test || end_input)         sink_real_n = 10'b0;     else if (fft_ready_valid || (fft_start &amp; !(sink_valid &amp;&amp; sink_ready == 1'b0)))         sink_real_n = data_real_in_int;     else         sink_real_n = sink_real; end</p> <p>/ \u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bsink_imag\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b / always @ (posedge CLK_50M or negedge RST_N) begin     if(!RST_N)         sink_imag &lt;= 10'b0;     else         sink_imag &lt;= sink_imag_n; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u8f93\u5165\u200b\u7684\u200b\u865a\u90e8\u200b\u4fe1\u53f7\u200b / always @ (*) begin     if(end_test || end_input)         sink_imag_n = 10'b0;     else if (fft_ready_valid || (fft_start &amp; !(sink_valid &amp;&amp; sink_ready == 1'b0)))         sink_imag_n = data_imag_in_int;     else         sink_imag_n = sink_imag; end</p> <p>/ \u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bsink_valid\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b / always @ (posedge CLK_50M or negedge RST_N) begin     if(!RST_N)         sink_valid &lt;= 1'b0;     else         sink_valid &lt;= sink_valid_n; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u8f93\u5165\u200b\u7684\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b / always @ (*) begin     if(end_test || end_input)         sink_valid_n = 1'b0;     else if (fft_ready_valid || (fft_start &amp; !(sink_valid &amp;&amp; sink_ready == 1'b0)))         sink_valid_n = 1'b1;     else         sink_valid_n = 1'b1; end</p> <p>/ \u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bfft_real_out_int\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b / always @ (posedge CLK_50M or negedge RST_N) begin     if(!RST_N)         fft_real_out_int &lt;= 10'b0;     else         fft_real_out_int &lt;= fft_real_out_int_n; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,FFT\u200b\u8f93\u51fa\u200b\u7684\u200b\u5b9e\u90e8\u200b\u4fe1\u53f7\u200b / always @ (*) begin     if(source_valid &amp;&amp; source_ready)         fft_real_out_int_n = source_real[9] ? (~source_real[9:0]+1) : source_real;     else         fft_real_out_int_n = fft_real_out_int;  end</p> <p>/ \u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bfft_imag_out_int\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b / always @ (posedge CLK_50M or negedge RST_N) begin     if(!RST_N)         fft_imag_out_int &lt;= 10'b0;     else         fft_imag_out_int &lt;= fft_imag_out_int_n; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,FFT\u200b\u8f93\u51fa\u200b\u7684\u200b\u865a\u90e8\u200b\u4fe1\u53f7\u200b / always @ (*) begin     if(source_valid &amp;&amp; source_ready)         fft_imag_out_int_n = source_imag[9] ? (~source_imag[9:0]+1) : source_imag;     else         fft_imag_out_int_n = fft_imag_out_int; end</p> <p>/ \u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bexponent_out_int\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b / always @ (posedge CLK_50M or negedge RST_N) begin     if(!RST_N)         exponent_out_int &lt;= 10'b0;     else         exponent_out_int &lt;= exponent_out_int_n; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7528\u4e8e\u200b\u751f\u6210\u200bFFT\u200b\u8f93\u51fa\u200b\u7684\u200b\u6307\u6570\u200b\u4fe1\u53f7\u200b / always @ (*) begin     if(source_valid &amp;&amp; source_ready)         exponent_out_int_n = source_exp;     else         exponent_out_int_n = exponent_out_int; end</p> <p>/ \u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bfft_real_image_data\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b / always @ (posedge CLK_50M or negedge RST_N) begin     if(!RST_N)         fft_real_image_data &lt;= 32'b0;     else         fft_real_image_data &lt;= fft_real_image_data_n; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7528\u4e8e\u200b\u751f\u6210\u200bFFT\u200b\u8f93\u51fa\u200b\u7684\u200b\u6570\u636e\u4fe1\u53f7\u200b / always @ () begin     if(source_valid &amp;&amp; source_ready)         fft_real_image_data_n = fft_real_out_intfft_real_out_int + fft_imag_out_int*fft_imag_out_int;     else         fft_real_image_data_n = fft_real_image_data; end</p> <p>/ \u200b\u5e73\u65b9\u6839\u200b\u6a21\u5757\u200b / SQRT_Module     SQRT_Init  (     .radical    (fft_real_image_data ), //FFT\u200b\u8f93\u51fa\u200b\u7684\u200b\u6570\u636e\u4fe1\u53f7\u200b     .q          (sqrt_data_out      )   //\u200b\u5e73\u65b9\u6839\u200b\u5904\u7406\u200b\u540e\u200b\u7684\u200b\u6570\u636e\u4fe1\u53f7\u200b );</p> <p>/ \u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bmax_cnt2\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b / always @ (posedge CLK_50M or negedge RST_N) begin     if(!RST_N)         max_cnt2 &lt;= 10'b0;     else         max_cnt2 &lt;= max_cnt2_n; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7528\u4e8e\u200b\u751f\u6210\u200b\u6b21\u5927\u503c\u200b\u7684\u200b\u4f4d\u7f6e\u200b / always @ (*) begin     if(sqrt_data_out &gt; data_max)         max_cnt2_n = max_cnt2 + 1'b1;     else if((sqrt_data_out &gt; data_max2) &amp;&amp; (sqrt_data_out != data_max))         max_cnt2_n = max_cnt2 + 1'b1;     else if(max_cnt2 &gt;= 10'd256)         max_cnt2_n = 10'b0;     else         max_cnt2_n = max_cnt2 + 1'b1;; end</p> <p>/ \u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bfengzhi_max\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b / always @ (posedge CLK_50M or negedge RST_N) begin     if(!RST_N)         fengzhi_max &lt;= 16'b0;     else         fengzhi_max &lt;= fengzhi_max_n; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7528\u4e8e\u200b\u751f\u6210\u200b\u5cf0\u5cf0\u200b\u503c\u200b\u7684\u200b\u6700\u5927\u503c\u200b / always @ (*) begin     if(data_real_in_int &gt; fengzhi_max)         fengzhi_max_n = data_real_in_int;     else         fengzhi_max_n = fengzhi_max; end</p> <p>/ \u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bfengzhi_max\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b / always @ (posedge CLK_50M or negedge RST_N) begin     if(!RST_N)         fengzhi_min &lt;= 16'd255;     else         fengzhi_min &lt;= fengzhi_min_n; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7528\u4e8e\u200b\u6c42\u200b\u51fa\u200b\u5cf0\u5cf0\u200b\u503c\u200b\u7684\u200b\u6700\u5c0f\u503c\u200b / always @ (*) begin     if(fengzhi_min &gt; data_real_in_int)         fengzhi_min_n = data_real_in_int;     else         fengzhi_min_n = fengzhi_min; end</p> <p>/ \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u751f\u6210\u200bVGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u9891\u7387\u200b\u503c\u200b / / \u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u751f\u6210\u200bVGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u5cf0\u5cf0\u200b\u503c\u200b / assign vga_fengzhi = ((fengzhi_max - fengzhi_min) * 10'd50) &gt;&gt; 8'd8; //((data_max3 * 10'd100) &gt;&gt; 8'd8) + 10'd2;  </p> <p>/ FFT IP\u200b\u6838\u200b\u6a21\u5757\u200b\u4f8b\u5316\u200b /  fft fft_init (     .clk                    (CLK_50M            ),      //\u200b\u65f6\u949f\u200b\u7aef\u53e3\u200b     .reset_n                (RST_N          ),      //\u200b\u590d\u4f4d\u200b\u7aef\u53e3\u200b     .inverse                (inverse            ),      //FFT\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b,1:IFFT,0:FFT     .sink_valid         (sink_valid     ),      //\u200b\u8f93\u5165\u200b\u7684\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b     .sink_sop           (sink_sop       ),      //\u200b\u8f93\u5165\u200b\u6d41\u200b\u7684\u200b\u5f00\u59cb\u200b\u4fe1\u53f7\u200b     .sink_eop           (sink_eop       ),      //\u200b\u8f93\u5165\u200b\u6d41\u200b\u7684\u200b\u7ed3\u675f\u200b\u4fe1\u53f7\u200b     .sink_real          (sink_real      ),      //\u200b\u8f93\u5165\u200b\u7684\u200b\u5b9e\u90e8\u200b\u4fe1\u53f7\u200b     .sink_imag          (sink_imag      ),      //\u200b\u8f93\u5165\u200b\u7684\u200b\u865a\u90e8\u200b\u4fe1\u53f7\u200b     .sink_error         (sink_error     ),      //\u200b\u8f93\u5165\u200b\u9519\u8bef\u200b\u4fe1\u53f7\u200b     .source_ready       (source_ready   ),      //\u200b\u8f93\u51fa\u200b\u6e90\u200b\u51c6\u5907\u200b\u4fe1\u53f7\u200b     .sink_ready         (sink_ready     ),      //\u200b\u8f93\u5165\u200b\u7684\u200b\u51c6\u5907\u200b\u4fe1\u53f7\u200b      .source_error       (source_error   ),      //\u200b\u8f93\u51fa\u200b\u6e90\u200b\u7684\u200b\u9519\u8bef\u200b\u4fe1\u53f7\u200b     .source_sop         (source_sop     ),      //\u200b\u8f93\u51fa\u200b\u6e90\u6d41\u200b\u7684\u200b\u5f00\u59cb\u200b\u4fe1\u53f7\u200b     .source_eop         (source_eop     ),      //\u200b\u8f93\u51fa\u200b\u6e90\u6d41\u200b\u7684\u200b\u7ed3\u675f\u200b\u4fe1\u53f7\u200b     .source_valid       (source_valid   ),      //\u200b\u8f93\u51fa\u200b\u6e90\u200b\u7684\u200b\u6709\u6548\u200b\u4fe1\u53f7\u200b     .source_exp         (source_exp     ),      //\u200b\u8f93\u51fa\u200b\u6e90\u200b\u7684\u200b\u6307\u6570\u200b\u4fe1\u53f7\u200b     .source_real        (source_real    ),      //\u200b\u8f93\u51fa\u200b\u6e90\u200b\u7684\u200b\u5b9e\u90e8\u200b\u4fe1\u53f7\u200b     .source_imag        (source_imag    )       //\u200b\u8f93\u51fa\u200b\u6e90\u200b\u7684\u200b\u865a\u90e8\u200b\u4fe1\u53f7\u200b );</p> <p>endmodule</p> <pre><code>Ad_Module\n```verilog\n//---------------------------------------------------------------------------\n//--    \u200b\u6587\u4ef6\u540d\u200b     :   Ad_Module.v\n//--    \u200b\u4f5c\u8005\u200b      :   ZIRCON\n//--    \u200b\u63cf\u8ff0\u200b      :   AD\u200b\u6a21\u5757\u200b\n//--    \u200b\u4fee\u8ba2\u200b\u5386\u53f2\u200b    :   2014-1-1\n//---------------------------------------------------------------------------\n\n`define AD_CLK_TIME         10'd45  //1.1M, 909ns,909 / (1 / 50M) = 45 =0x2D\n`define AD_CLK_TIME_HALF    10'd22  //909ns / 2 = 454.5ns 45 / 2 = 22   \n\nmodule Ad_Module\n(   \n    //Input\n    CLK_50M,RST_N,\n    //Output\n    AD_CS,AD_CLK,AD_DATA,data_out\n);\n\n//---------------------------------------------------------------------------\n//--    \u200b\u5916\u90e8\u200b\u7aef\u53e3\u200b\u58f0\u660e\u200b\n//---------------------------------------------------------------------------\ninput                   CLK_50M;                //\u200b\u65f6\u949f\u200b\u7684\u200b\u7aef\u53e3\u200b,\u200b\u5f00\u53d1\u677f\u200b\u7528\u200b\u7684\u200b50M\u200b\u6676\u632f\u200b\ninput                   RST_N;              //\u200b\u590d\u4f4d\u200b\u7684\u200b\u7aef\u53e3\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u590d\u4f4d\u200b\ninput                   AD_DATA;                //AD\u200b\u6570\u636e\u200b\u7aef\u53e3\u200b\noutput              AD_CS;              //AD\u200b\u7247\u9009\u200b\u7aef\u53e3\u200b\noutput              AD_CLK;             //AD\u200b\u65f6\u949f\u200b\u7aef\u53e3\u200b\uff0c\u200b\u6700\u5927\u200b\u4e0d\u200b\u8d85\u8fc7\u200b1.1MHz\noutput  [ 7:0]  data_out;           //AD\u200b\u6a21\u6570\u8f6c\u6362\u200b\u5b8c\u6210\u200b\u7684\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\n\n\n//---------------------------------------------------------------------------\n//--    \u200b\u5185\u90e8\u200b\u7aef\u53e3\u200b\u58f0\u660e\u200b\n//---------------------------------------------------------------------------\nreg                 AD_CS;              //AD\u200b\u7247\u9009\u200b\u4fe1\u53f7\u200b\u7aef\u53e3\u200b\nreg                 AD_CS_N;                //AD_CS\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\nreg                 AD_CLK;             //AD\u200b\u65f6\u949f\u200b\uff0c\u200b\u6700\u5927\u200b\u4e0d\u200b\u8d85\u8fc7\u200b1.1MHz\nreg                 AD_CLK_N;           //AD_CLK\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\n\nreg     [ 2:0]  ad_fsm_cs;          //\u200b\u72b6\u6001\u673a\u200b\u7684\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\nreg     [ 2:0]  ad_fsm_ns;          //\u200b\u72b6\u6001\u673a\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\n\nreg     [ 5:0]  time_cnt;           //\u200b\u7528\u4e8e\u200b\u8bb0\u5f55\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u6240\u7528\u200b\u65f6\u95f4\u200b\u7684\u200b\u5b9a\u65f6\u5668\u200b\nreg     [ 5:0]  time_cnt_n;         //time_cnt\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\nreg     [ 5:0]  bit_cnt;                //\u200b\u7528\u6765\u200b\u8bb0\u5f55\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u4e2a\u6570\u200b\u7684\u200b\u8ba1\u6570\u5668\u200b\nreg     [ 5:0]  bit_cnt_n;          //bit_cnt\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\n\nreg     [ 7:0]  data_out;           //\u200b\u7528\u6765\u200b\u4fdd\u5b58\u200b\u7a33\u5b9a\u200b\u7684\u200bAD\u200b\u6570\u636e\u200b\nreg     [ 7:0]  data_out_n;         //data_out\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\nreg     [ 7:0]  ad_data_reg;        //\u200b\u7528\u4e8e\u200b\u4fdd\u5b58\u200b\u6570\u636e\u200b\u7684\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\nreg     [ 7:0]  ad_data_reg_n;      //ad_data_reg_n\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\n\nparameter   FSM_IDLE            = 3'h0; //\u200b\u72b6\u6001\u673a\u200b\u7684\u200b\u521d\u59cb\u72b6\u6001\u200b\uff1b\nparameter   FSM_READY       = 3'h1; //\u200b\u6ee1\u8db3\u200bCS\u200b\u6709\u6548\u200b\u65f6\u200b\u7684\u200b\u7b2c\u4e00\u4e2a\u200b1.4us\u200b\u7684\u200b\u5ef6\u65f6\u200b\u72b6\u6001\u200b\nparameter   FSM_DATA            = 3'h2; //\u200b\u8bfb\u53d6\u200b8\u200b\u4e2a\u200b\u6570\u636e\u200b\u72b6\u6001\u200b\nparameter   FSM_WAIT_CONV   = 3'h3; //\u200b\u7b49\u5f85\u200b\u8f6c\u6362\u200b\u72b6\u6001\u200b,\u200b\u7b49\u5f85\u200b17us;\nparameter   FSM_END         = 3'h4; //\u200b\u7ed3\u675f\u200b\u7684\u200b\u72b6\u6001\u200b\n\n//---------------------------------------------------------------------------\n//--    \u200b\u903b\u8f91\u200b\u529f\u80fd\u200b\u5b9e\u73b0\u200b  \n//---------------------------------------------------------------------------\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bad_fsm_cs\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_50M or negedge RST_N)\nbegin\n    if(!RST_N)                              //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        ad_fsm_cs &lt;= 1'b0;              //\u200b\u521d\u59cb\u5316\u200bad_fsm_cs\u200b\u503c\u200b\n    else\n        ad_fsm_cs &lt;= ad_fsm_ns;         //\u200b\u7528\u6765\u200b\u7ed9\u200bad_fsm_ns\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u5b9e\u73b0\u200b\u72b6\u6001\u673a\u200b\nalways @ (*)\nbegin\n    case(ad_fsm_cs)                     //\u200b\u5224\u65ad\u200b\u72b6\u6001\u673a\u200b\u7684\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\n        FSM_IDLE:\n                                                //3 x 0.909us = 2.727us\u200b\u7528\u4e8e\u200b\u521d\u59cb\u5316\u200b\u5ef6\u65f6\u200b \n            if((bit_cnt == 6'd2 ) &amp;&amp; (time_cnt == `AD_CLK_TIME))\n                ad_fsm_ns = FSM_READY;  //\u200b\u5982\u679c\u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b\u5b8c\u6210\u200b\u5c31\u200b\u8fdb\u5165\u200b\u5ef6\u65f6\u200b\u72b6\u6001\u200b\n            else\n                ad_fsm_ns = ad_fsm_cs;  //\u200b\u5426\u5219\u200b\u4fdd\u6301\u200b\u539f\u200b\u72b6\u6001\u200b\u4e0d\u53d8\u200b\n        FSM_READY:\n                                                //2 x 0.909us = 1.818us\u200b\u7528\u4e8e\u200b\u5ef6\u8fdf\u200b1.4us\n            if((bit_cnt == 6'd1 ) &amp;&amp; (time_cnt == `AD_CLK_TIME))\n                ad_fsm_ns = FSM_DATA;   //\u200b\u5982\u679c\u200b\u5ef6\u65f6\u200b\u72b6\u6001\u200b\u5b8c\u6210\u200b\u5c31\u200b\u8fdb\u5165\u200b\u8bfb\u53d6\u6570\u636e\u200b\u72b6\u6001\u200b\n            else\n                ad_fsm_ns = ad_fsm_cs;  //\u200b\u5426\u5219\u200b\u4fdd\u6301\u200b\u539f\u200b\u72b6\u6001\u200b\u4e0d\u53d8\u200b \n        FSM_DATA:\n                                                //\u200b\u8bfb\u53d6\u6570\u636e\u200b8\u200b\u4f4d\u200b\uff0c1~8\u200b\u4e2a\u200b\u65f6\u949f\u8109\u51b2\u200b\n            if((bit_cnt == 6'd8 ) &amp;&amp; (time_cnt == `AD_CLK_TIME))\n                ad_fsm_ns = FSM_WAIT_CONV;//\u200b\u5982\u679c\u200b\u8bfb\u53d6\u6570\u636e\u200b\u72b6\u6001\u200b\u5b8c\u6210\u200b\u5c31\u200b\u8fdb\u5165\u200b\u7b49\u5f85\u200b\u72b6\u6001\u200b\n            else\n                ad_fsm_ns = ad_fsm_cs;  //\u200b\u5426\u5219\u200b\u4fdd\u6301\u200b\u539f\u200b\u72b6\u6001\u200b\u4e0d\u53d8\u200b     \n        FSM_WAIT_CONV:\n                                                //19 x 0.909us = 17.271us\u200b\u7528\u4e8e\u200b\u5ef6\u8fdf\u200b17us\n            if((bit_cnt == 6'd18) &amp;&amp; (time_cnt == `AD_CLK_TIME))\n                ad_fsm_ns = FSM_END;        //\u200b\u5982\u679c\u200b\u7b49\u5f85\u200b\u72b6\u6001\u200b\u5b8c\u6210\u200b\u5c31\u200b\u8fdb\u5165\u200b\u8bfb\u53d6\u200b\u72b6\u6001\u200b\n            else\n                ad_fsm_ns = ad_fsm_cs;  //\u200b\u5426\u5219\u200b\u4fdd\u6301\u200b\u539f\u200b\u72b6\u6001\u200b\u4e0d\u53d8\u200b  \n        FSM_END:                                \n            ad_fsm_ns = FSM_READY;      //\u200b\u5b8c\u6210\u200b\u4e00\u6b21\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b,\u200b\u8fdb\u5165\u200b\u4e0b\u200b\u4e00\u6b21\u200b\u8f6c\u6362\u200b\n        default:ad_fsm_ns = FSM_IDLE;               \n    endcase\nend\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200btime_cnt\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_50M or negedge RST_N)\nbegin\n    if(!RST_N)                              //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        time_cnt &lt;= 6'h0;                   //\u200b\u521d\u59cb\u5316\u200btime_cnt\u200b\u503c\u200b\n    else\n        time_cnt &lt;= time_cnt_n;         //\u200b\u7528\u6765\u200b\u7ed9\u200btime_cnt\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u5b9e\u73b0\u200b0.909us\u200b\u7684\u200b\u5b9a\u65f6\u200b\u8ba1\u6570\u5668\u200b\nalways @ (*)\nbegin\n    if(time_cnt == `AD_CLK_TIME)        //\u200b\u5224\u65ad\u200b0.909us\u200b\u65f6\u95f4\u200b\n        time_cnt_n = 6'h0;              //\u200b\u5982\u679c\u200b\u5230\u8fbe\u200b0.909us,\u200b\u5b9a\u65f6\u5668\u200b\u6e05\u96f6\u200b\n    else\n        time_cnt_n = time_cnt + 6'h1;   //\u200b\u5982\u679c\u200b\u672a\u5230\u200b0.909us,\u200b\u5b9a\u65f6\u5668\u200b\u7ee7\u7eed\u200b\u52a0\u200b1\nend\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bbit_cnt\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_50M or negedge RST_N)\nbegin\n    if(!RST_N)                              //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        bit_cnt &lt;= 6'h0;                    //\u200b\u521d\u59cb\u5316\u200bbit_cnt\u200b\u503c\u200b\n    else\n        bit_cnt &lt;= bit_cnt_n;           //\u200b\u7528\u6765\u200b\u7ed9\u200bbit_cnt\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u8bb0\u5f55\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u4e2a\u6570\u200b\u7684\u200b\u8ba1\u6570\u5668\u200b\nalways @ (*)\nbegin\n    if(ad_fsm_cs != ad_fsm_ns)          //\u200b\u5224\u65ad\u200b\u72b6\u6001\u673a\u200b\u7684\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\n        bit_cnt_n = 6'h0;                   //\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u7684\u200b\u72b6\u6001\u200b\u4e0d\u200b\u7b49\u4e8e\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b,\u200b\u8ba1\u65f6\u5668\u200b\u5c31\u200b\u6e05\u96f6\u200b\n    else if(time_cnt == `AD_CLK_TIME_HALF)//\u200b\u5224\u65ad\u200b0.4545us\u200b\u65f6\u95f4\u200b\n        bit_cnt_n = bit_cnt + 6'h1; //\u200b\u5982\u679c\u200b\u5230\u8fbe\u200b0.4545us,\u200b\u8ba1\u6570\u5668\u200b\u5c31\u52a0\u200b1\n    else\n        bit_cnt_n = bit_cnt;                //\u200b\u5426\u5219\u200b\u8ba1\u6570\u5668\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\nend\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bAD_CLK\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_50M or negedge RST_N)\nbegin\n    if(!RST_N)                              //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        AD_CLK &lt;= 1'h0;                 //\u200b\u521d\u59cb\u5316\u200bAD_CLK\u200b\u503c\u200b\n    else\n        AD_CLK &lt;= AD_CLK_N;             //\u200b\u7528\u6765\u200b\u7ed9\u200bAD_CLK\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u751f\u6210\u200bAD\u200b\u7684\u200b\u65f6\u949f\u200b\u6ce2\u5f62\u200b\nalways @ (*)\nbegin\n    if(ad_fsm_cs != FSM_DATA)           //\u200b\u5224\u65ad\u200b\u72b6\u6001\u673a\u200b\u7684\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\n        AD_CLK_N = 1'h0;                    //\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u7684\u200b\u72b6\u6001\u200b\u4e0d\u200b\u7b49\u4e8e\u200b\u8bfb\u53d6\u6570\u636e\u200b\u72b6\u6001\u200b,AD_CLK_N\u200b\u5c31\u200b\u7f6e\u200b0\n    else if(time_cnt == `AD_CLK_TIME_HALF)//\u200b\u5224\u65ad\u200b0.4545us\u200b\u65f6\u95f4\u200b\n        AD_CLK_N = 1'h1;                    //\u200b\u5982\u679c\u200b\u5230\u8fbe\u200b0.4545us,ADC_CLK_N\u200b\u5c31\u200b\u7f6e\u200b1\n    else if(time_cnt == `AD_CLK_TIME)//\u200b\u5224\u65ad\u200b0.909us\u200b\u65f6\u95f4\u200b\n        AD_CLK_N = 1'h0;                    //\u200b\u5982\u679c\u200b\u5230\u8fbe\u200b0.909us,AD_CLK_N\u200b\u5c31\u200b\u7f6e\u200b0\n    else\n        AD_CLK_N = AD_CLK;              //\u200b\u5426\u5219\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\nend\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bAD_CS\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_50M or negedge RST_N)\nbegin\n    if(!RST_N)                              //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        AD_CS &lt;= 1'h0;                      //\u200b\u521d\u59cb\u5316\u200bAD_CS\u200b\u503c\u200b\n    else\n        AD_CS &lt;= AD_CS_N;                   //\u200b\u7528\u6765\u200b\u7ed9\u200bAD_CS\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u751f\u6210\u200bAD\u200b\u7684\u200b\u7247\u9009\u200b\u6ce2\u5f62\u200b\nalways @ (*)\nbegin\n    if((ad_fsm_cs == FSM_DATA) || (ad_fsm_cs == FSM_READY))//\u200b\u5224\u65ad\u200b\u72b6\u6001\u673a\u200b\u7684\u200b\u5f53\u524d\u200b\u72b6\u6001\u200b\n        AD_CS_N = 1'h0;//\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u7684\u200b\u72b6\u6001\u200b\u7b49\u4e8e\u200b\u8bfb\u53d6\u6570\u636e\u200b\u72b6\u6001\u200b\u6216\u200b\u7b49\u4e8e\u200b\u5ef6\u65f6\u200b1.4us\u200b\u72b6\u6001\u200b,AD_CS_N\u200b\u5c31\u200b\u7f6e\u200b0\n    else\n        AD_CS_N = 1'h1;//\u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u7684\u200b\u72b6\u6001\u200b\u4e0d\u200b\u7b49\u4e8e\u200b\u8bfb\u53d6\u6570\u636e\u200b\u72b6\u6001\u200b\u6216\u200b\u4e0d\u200b\u7b49\u4e8e\u200b\u5ef6\u65f6\u200b1.4us\u200b\u72b6\u6001\u200b,AD_CS_N\u200b\u5c31\u200b\u7f6e\u200b1\nend\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bad_data_reg\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_50M or negedge RST_N)\nbegin\n    if(!RST_N)                              //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        ad_data_reg &lt;= 8'h0;                //\u200b\u521d\u59cb\u5316\u200bad_data_reg\u200b\u503c\u200b\n    else\n        ad_data_reg &lt;= ad_data_reg_n;   //\u200b\u7528\u6765\u200b\u7ed9\u200bad_data_reg\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u5c06\u200bAD\u200b\u7ebf\u4e0a\u200b\u7684\u200b\u6570\u636e\u200b\u4fdd\u5b58\u200b\u5230\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b\nalways @(*)\nbegin\n    if((ad_fsm_cs == FSM_DATA) &amp;&amp; (!AD_CLK) &amp;&amp; (AD_CLK_N))//\u200b\u5224\u65ad\u200b\u6bcf\u200b\u4e00\u4e2a\u200b\u65f6\u949f\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\n        ad_data_reg_n = {ad_data_reg[6:0],AD_DATA};//\u200b\u5c06\u200b\u6570\u636e\u200b\u5b58\u5165\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b,\u200b\u9ad8\u4f4d\u200b\u4f18\u5148\u200b\n    else\n        ad_data_reg_n = ad_data_reg;    //\u200b\u5426\u5219\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\nend\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bdata_out\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_50M or negedge RST_N)\nbegin\n    if(!RST_N)                              //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        data_out &lt;= 8'h0;                   //\u200b\u521d\u59cb\u5316\u200bdata_out\u200b\u503c\u200b\n    else\n        data_out &lt;= data_out_n;         //\u200b\u7528\u6765\u200b\u7ed9\u200bdata_out\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u5c06\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u5b58\u5165\u200bdata_out\u200b\u4e2d\u200b,\u200b\u53ef\u200b\u7528\u4e8e\u200b\u8f93\u51fa\u200b\nalways @ (*)\nbegin\n    if(ad_fsm_cs == FSM_END)            //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        data_out_n = ad_data_reg;       //\u200b\u521d\u59cb\u5316\u200bdata_out\u200b\u503c\u200b\n    else\n        data_out_n = data_out;          //\u200b\u7528\u6765\u200b\u7ed9\u200bdata_out\u200b\u8d4b\u503c\u200b\nend\n\nendmodule\n\n\n\n</code></pre> <p>\u200b\u9876\u5c42\u200b\u6a21\u5757\u200b</p> <pre><code>\nmodule A4_Oscilloscope_Top\n(\n    //\u200b\u65f6\u949f\u200b\u548c\u200b\u590d\u4f4d\u200b\u7aef\u53e3\u200b\n    input CLK_50M,\n    input RST_N,\n    //AD\u200b\u5916\u8bbe\u200b\u7aef\u53e3\u200b\n    output AD_CS,\n    output AD_CLK,\n    input AD_DATA,\n    //DA\u200b\u5916\u8bbe\u200b\u7aef\u53e3\u200b\n    output da_clk  ,\n    output da_data ,\n    output da_ldac ,\n    output da_load ,\n    input    [3:0]  key   ,\n    //VGA\u200b\u5916\u8bbe\u200b\u7aef\u53e3\u200b\n    output VGA_HSYNC,\n    output VGA_VSYNC,\n    output  [ 7:0]  VGA_DATA,\n    input key_add     ,       // \u200b\u51cf\u5c11\u200b\u8109\u51b2\u200b\u9891\u7387\u200b\u6309\u952e\u200b\n   input key_low     ,        // \u200b\u589e\u52a0\u200b\u8109\u51b2\u200b\u9891\u7387\u200b\u6309\u952e\u200b\n    //seg\n    input  wire clk_test,\n    output wire clk_out , //\u200b\u751f\u6210\u200b\u7684\u200b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\n   output wire [7:0]segdata,\n   output wire [2:0]segcs\n);\n\n\n//---------------------------------------------------------------------------\n//--    \u200b\u5185\u90e8\u200b\u7aef\u53e3\u200b\u58f0\u660e\u200b\n//---------------------------------------------------------------------------\nwire                    clk_40m;                //PLL\u200b\u751f\u6210\u200b\u7684\u200b40M\u200b\u65f6\u949f\u200b\n\nwire        [ 7:0]  in_ad_data;         //AD\u200b\u6a21\u6570\u8f6c\u6362\u200b\u5b8c\u6210\u200b\u7684\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\nwire        [15:0]  vga_x;              //VGA\u200b\u7684\u200bx\u200b\u5750\u6807\u200b\nwire        [31:0]  vga_fengzhi;        //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u5cf0\u5cf0\u200b\u503c\u200b\nwire        [ 7:0]  ad_to_vga_data; //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u6ce2\u5f62\u200b\u6570\u636e\u200b\n\n//---------------------------------------------------------------------------\n//--    \u200b\u903b\u8f91\u200b\u529f\u80fd\u200b\u5b9e\u73b0\u200b  \n//---------------------------------------------------------------------------\n// \u200b\u5b9e\u4f8b\u200b\u5316\u200bDA\u200b\u6a21\u5757\u200b\ntop_dds top_dds_inst\n(\n    .sys_clk   (CLK_50M)  ,   // \u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b,50MHz\n    .sys_rst_n (RST_N)  ,   // \u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\n    .key       (key)  ,   // \u200b\u8f93\u5165\u200b4\u200b\u4f4d\u200b\u6309\u952e\u200b\n    .key_add   (key_add)  ,   // \u200b\u8f93\u5165\u200b\u6309\u952e\u200b\n    .key_low   (key_low)  ,   // \u200b\u8f93\u5165\u200b\u6309\u952e\u200b\n\n    .da_clk    (da_clk) ,   // \u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n    .da_data   (da_data) ,   // \u200b\u6570\u636e\u4fe1\u53f7\u200b\n    .da_ldac   (da_ldac) ,   // LDAC\u200b\u4fe1\u53f7\u200b\n    .da_load   (da_load) ,    // LOAD\u200b\u4fe1\u53f7\u200b\n\n\n);\n\n\n\n//\u200b\u4f8b\u5316\u200bAD\u200b\u6a21\u5757\u200b\nAd_Module           Ad_Init\n(\n   .CLK_50M         (CLK_50M            ),  //\u200b\u65f6\u949f\u200b\u7aef\u53e3\u200b\n   .RST_N           (RST_N          ),  //\u200b\u590d\u4f4d\u200b\u7aef\u53e3\u200b\n    .AD_CS          (AD_CS          ),  //AD\u200b\u7247\u9009\u200b\u7aef\u53e3\u200b\n    .AD_CLK         (AD_CLK         ),  //AD\u200b\u65f6\u949f\u200b\uff0c\u200b\u6700\u5927\u200b\u4e0d\u200b\u8d85\u8fc7\u200b1.1MHz\n    .AD_DATA            (AD_DATA            ),  //AD\u200b\u6570\u636e\u200b\u7aef\u53e3\u200b\n    .data_out       (in_ad_data     )   //AD\u200b\u6a21\u6570\u8f6c\u6362\u200b\u5b8c\u6210\u200b\u7684\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\n);  \n\nData_Process        Data_Process_Init\n(\n    .CLK_50M            (CLK_50M            ),  //\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b50MHz\n    .CLK_40M            (clk_40m            ),  //PLL\u200b\u751f\u6210\u200b\u7684\u200b40MHz\u200b\u65f6\u949f\u200b\n   .RST_N           (RST_N          ),  //\u200b\u590d\u4f4d\u200b\u7aef\u53e3\u200b\n    .AD_CS          (AD_CS          ),  //AD\u200b\u7247\u9009\u200b\u7aef\u53e3\u200b\n    .in_ad_data     (in_ad_data     ), //AD\u200b\u6a21\u6570\u8f6c\u6362\u200b\u5b8c\u6210\u200b\u7684\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\n    .vga_x          (vga_x          ),  //VGA\u200b\u7684\u200bx\u200b\u5750\u6807\u200b\n    .vga_fengzhi    (vga_fengzhi    ), //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u5cf0\u5cf0\u200b\u503c\u200b\n    .ad_to_vga_data(ad_to_vga_data) //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u6ce2\u5f62\u200b\u6570\u636e\u200b\n\n);\n\n//\u200b\u4f8b\u5316\u200bPLL\u200b\u6a21\u5757\u200b\nPLL_Module          PLL_Module_Init \n(\n    .inclk0             (CLK_50M        ),  //\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b50MHz\n    .c0                 (clk_40m        )   //PLL\u200b\u751f\u6210\u200b\u7684\u200b40MHz\u200b\u65f6\u949f\u200b\n);\n\n//\u200b\u4f8b\u5316\u200bVGA\u200b\u6a21\u5757\u200b\nVga_Module          VGA_Init\n(\n    .RST_N          (RST_N          ),  //\u200b\u590d\u4f4d\u200b\u7aef\u53e3\u200b\n    .CLK_40M            (clk_40m            ),  //PLL\u200b\u751f\u6210\u200b\u7684\u200b40MHz\u200b\u65f6\u949f\u200b\n    .VSYNC          (VGA_VSYNC      ),  //VGA\u200b\u5782\u76f4\u200b\u540c\u6b65\u200b\u7aef\u53e3\u200b\n    .HSYNC          (VGA_HSYNC      ),  //VGA\u200b\u6c34\u5e73\u200b\u540c\u6b65\u200b\u7aef\u53e3\u200b\n    .VGA_DATA       (VGA_DATA       ),  //VGA\u200b\u6570\u636e\u200b\u7aef\u53e3\u200b\n    .vga_x          (vga_x          ), //VGA\u200b\u7684\u200bx\u200b\u5750\u6807\u200b\n    .ad_to_vga_data(ad_to_vga_data), //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u6ce2\u5f62\u200b\u6570\u636e\u200b\n    .vga_freq       (20'd500        ), //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u9891\u7387\u200b\u503c\u200b\n    .vga_fengzhi    (vga_fengzhi    )  //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u5cf0\u5cf0\u200b\u503c\u200b\n\n);\n\n//wire  define\nwire    [19:0]  freq    ;   //\u200b\u8ba1\u7b97\u200b\u5f97\u5230\u200b\u7684\u200b\u5f85\u200b\u68c0\u6d4b\u200b\u4fe1\u53f7\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\n//------------- freq_meter_calc_inst --------------\nfreq_meter_calc freq_meter_calc_inst\n(\n    .sys_clk    (clk_40m    ),   //\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b,\u200b\u9891\u7387\u200b50MHz\n    .sys_rst_n  (RST_N  ),   //\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\n    .clk_test   (da_data   ),   //\u200b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\n\n    .freq       (freq       )    //\u200b\u5f85\u200b\u68c0\u6d4b\u200b\u65f6\u949f\u200b\u9891\u7387\u200b  \n);\nseg seg_inst (\n    .clk(clk_40m),\n    .rst_n(RST_N),\n    .tenvalue(20'd500),  // \u200b\u8fd9\u91cc\u200b\u8fde\u63a5\u200b\u6ca1\u6709\u200b\u95ee\u9898\u200b\n    .segdata(segdata),\n    .segcs(segcs)\n);\nendmodule\n\n\n\n\n</code></pre> <p>Data_Process</p> <pre><code>module Data_Process\n(\n    //\u200b\u8f93\u5165\u200b\u7aef\u53e3\u200b\n    CLK_50M,CLK_40M,RST_N,AD_CS,in_ad_data,vga_x\n    //\u200b\u8f93\u51fa\u200b\u7aef\u53e3\u200b\n    ,vga_fengzhi,ad_to_vga_data\n);\n\n//---------------------------------------------------------------------------\n//--    \u200b\u5916\u90e8\u200b\u7aef\u53e3\u200b\u58f0\u660e\u200b\n//---------------------------------------------------------------------------\ninput                   CLK_50M;                    //\u200b\u65f6\u949f\u200b\u7aef\u53e3\u200b,\u200b\u5f00\u53d1\u677f\u200b\u7528\u200b\u7684\u200b50M\u200b\u6676\u632f\u200b\ninput                   CLK_40M;                    //PLL\u200b\u751f\u6210\u200b\u7684\u200b40M\u200b\u65f6\u949f\u200b\ninput                   RST_N;                  //\u200b\u590d\u4f4d\u200b\u7aef\u53e3\u200b,\u200b\u4f4e\u7535\u5e73\u200b\u590d\u4f4d\u200b\ninput                   AD_CS;                  //AD\u200b\u7247\u9009\u200b\u4fe1\u53f7\u200b\u7aef\u53e3\u200b\ninput       [ 7:0]  in_ad_data;             //AD\u200b\u6a21\u6570\u8f6c\u6362\u200b\u5b8c\u6210\u200b\u7684\u200b\u6570\u636e\u200b\u8f93\u51fa\u200b\ninput       [15:0]  vga_x;                  //VGA\u200b\u7684\u200bx\u200b\u5750\u6807\u200b\noutput  [31:0]  vga_fengzhi;            //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u5cf0\u5cf0\u200b\u503c\u200b\noutput  [ 7:0]  ad_to_vga_data;     //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u6ce2\u5f62\u200b\u6570\u636e\u200b\n\n//---------------------------------------------------------------------------\n//--    \u200b\u5185\u90e8\u200b\u7aef\u53e3\u200b\u58f0\u660e\u200b\n//---------------------------------------------------------------------------\nreg     [ 1:0]  detect_edge;            //\u200b\u8bb0\u5f55\u200bAD_CS\u200b\u7684\u200b\u5f00\u59cb\u200b\u8109\u51b2\u200b,\u200b\u5373\u200b\u7b2c\u4e00\u4e2a\u200b\u4e0a\u964d\u200b\u6cbf\u200b\nwire        [ 1:0]  detect_edge_n;          //detect_edge\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\nreg                 posedge_reg;            //\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u6807\u5fd7\u200b\nwire                    posedge_reg_n;          //posedge_reg\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\nreg         [15:0]  ad_to_vga_addr;     //\u200b\u8bfb\u53d6\u200bAD\u200b\u5230\u200bVGA\u200b\u7684\u200b\u5730\u5740\u200b\nreg         [15:0]  ad_to_vga_addr_n;       //ad_to_vga_addr\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\nreg         [15:0]  ad_to_fft_addr;     //\u200b\u8bfb\u53d6\u200bAD\u200b\u5230\u200bFFT\u200b\u7684\u200b\u5730\u5740\u200b\nreg         [15:0]  ad_to_fft_addr_n;       //ad_to_fft_addr\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\nreg     [26:0]  time_cnt;               //\u200b\u5b9a\u65f6\u200b\u8ba1\u6570\u5668\u200b\nreg     [26:0]  time_cnt_n;             //time_cnt\u200b\u7684\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u72b6\u6001\u200b\n\nreg                     fft_rst_flag;           //FFT\u200b\u6a21\u5757\u200b\u590d\u4f4d\u200b\u6807\u5fd7\u200b\u4f4d\u200b\nreg                     fft_rst_flag_n;     //fft_rst_flag\u200b\u6807\u5fd7\u200b\u4f4d\u200b\nwire        [ 9:0]  fft_bit_cnt;            //FFT\u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b\nwire        [ 9:0]  fft_real_out_int;       //FFT\u200b\u5b9e\u6570\u200b\u7684\u200b\u8f93\u51fa\u200b\nwire        [ 9:0]  fft_imag_out_int;       //FFT\u200b\u865a\u6570\u200b\u7684\u200b\u8f93\u51fa\u200b\nwire        [ 9:0]  ad_to_fft_data;     //FFT\u200b\u4e2d\u200b\u7528\u5230\u200b\u7684\u200bAD\u200b\u6570\u636e\u200b\nwire        [31:0]  vga_freq;               //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u9891\u7387\u200b\u503c\u200b\nwire        [31:0]  vga_fengzhi;            //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u5cf0\u5cf0\u200b\u503c\u200b\n\n//\u200b\u8bbe\u7f6e\u200b\u5b9a\u65f6\u5668\u200b\u7684\u200b\u65f6\u95f4\u200b\u4e3a\u200b1s,\u200b\u8ba1\u7b97\u65b9\u6cd5\u200b\u4e3a\u200b  (1*10^6)ns / (1/50)ns  50MHz\u200b\u4e3a\u200b\u5f00\u53d1\u677f\u200b\u6676\u632f\u200b\nparameter SET_TIME_1S = 27'd50_000_000; \n\n//---------------------------------------------------------------------------\n//--    \u200b\u903b\u8f91\u200b\u529f\u80fd\u200b\u5b9e\u73b0\u200b  \n//---------------------------------------------------------------------------\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bdetect_edge\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_50M or negedge RST_N)\nbegin\n    if(!RST_N)                                  //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        detect_edge &lt;= 2'b11;               //\u200b\u521d\u59cb\u5316\u200bdetect_edge\u200b\u503c\u200b\n    else\n        detect_edge &lt;= detect_edge_n;       //\u200b\u7528\u6765\u200b\u7ed9\u200bdetect_edge\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u68c0\u6d4b\u200b\u4e0a\u5347\u200b\u6cbf\u200b\nassign detect_edge_n = {detect_edge[0] , AD_CS};    //\u200b\u63a5\u6536\u200bAD_CS\u200b\u7684\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bposedge_reg\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_50M or negedge RST_N)\nbegin\n    if(!RST_N)                                  //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        posedge_reg &lt;= 1'b0;                    //\u200b\u521d\u59cb\u5316\u200bposedge_reg\u200b\u503c\u200b\n    else\n        posedge_reg &lt;= posedge_reg_n;       //\u200b\u7528\u6765\u200b\u7ed9\u200bposedge_reg\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u5224\u65ad\u200b\u4e0a\u5347\u200b\u6cbf\u200b,\u200b\u5982\u679c\u200bdetect_edge\u200b\u7b49\u4e8e\u200b01,posedge_reg_n\u200b\u5c31\u200b\u7f6e\u200b1\nassign posedge_reg_n = (detect_edge == 2'b01) ? 1'b1 : 1'b0; \n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bad_to_vga_addr\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge posedge_reg or negedge RST_N)\nbegin\n    if(!RST_N)                                  //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        ad_to_vga_addr &lt;= 1'b0;             //\u200b\u521d\u59cb\u5316\u200bad_to_vga_addr\n    else\n        ad_to_vga_addr &lt;= ad_to_vga_addr_n;//\u200b\u7ed9\u200bad_to_vga_addr\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7528\u4e8e\u200b\u751f\u6210\u200bRAM_AD_TO_VGA\u200b\u7684\u200b\u5730\u5740\u200b\nalways @ (*)\nbegin\n    if(ad_to_vga_addr &lt; 16'd800)            //\u200b\u5224\u65ad\u200b\u5730\u5740\u200b\n        ad_to_vga_addr_n = ad_to_vga_addr + 1'b1;//\u200b\u5730\u5740\u200b\u7d2f\u52a0\u200b\n    else\n        ad_to_vga_addr_n &lt;= 0;              //\u200b\u5730\u5740\u200b\u6e05\u96f6\u200b\nend\n\n//\u200b\u4f8b\u5316\u200b\u53cc\u53e3\u200bRAM_AD_TO_VGA\u200b\u6a21\u5757\u200b\nRAM_AD_TO_VGA   AD_TO_VGA_Init\n(\n    .wrclock    (CLK_50M                ),  //\u200b\u5199\u200b\u65f6\u949f\u200b\n    .wraddress  (ad_to_vga_addr         ),  //\u200b\u5199\u200b\u5730\u5740\u200b\n    .wren       (posedge_reg            ),  //\u200b\u5199\u200b\u4f7f\u200b\u80fd\u200b\n    .data       (10'd255 - in_ad_data), //\u200b\u5199\u200b\u6570\u636e\u200b\n\n    .rdclock    (CLK_40M                ),  //\u200b\u8bfb\u200b\u65f6\u949f\u200b\n    .rdaddress  (vga_x - 16'd100        ),  //\u200b\u8bfb\u200b\u5730\u5740\u200b\n    .q          (ad_to_vga_data     )   //\u200b\u8bfb\u6570\u636e\u200b\n);\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u7ed9\u200bad_to_vga_addr\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge posedge_reg or negedge RST_N)\nbegin\n    if(!RST_N)                                  //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        ad_to_fft_addr &lt;= 1'b0;             //\u200b\u521d\u59cb\u5316\u200bad_to_fft_addr\n    else\n        ad_to_fft_addr &lt;= ad_to_fft_addr_n;//\u200b\u7ed9\u200bad_to_fft_addr\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7528\u4e8e\u200b\u751f\u6210\u200bRAM_AD_TO_FFT\u200b\u7684\u200b\u5730\u5740\u200b\nalways @ (*)\nbegin\n    if(ad_to_fft_addr &lt; 16'd256)            //\u200b\u5224\u65ad\u200b\u5730\u5740\u200b\n        ad_to_fft_addr_n = ad_to_fft_addr + 1'b1;//\u200b\u5730\u5740\u200b\u7d2f\u52a0\u200b\n    else\n        ad_to_fft_addr_n &lt;= 0;              //\u200b\u5730\u5740\u200b\u6e05\u96f6\u200b\nend\n//\u200b\u4f8b\u5316\u200b\u53cc\u53e3\u200bRAM_AD_TO_FFT\u200b\u6a21\u5757\u200b\nRAM_AD_TO_FFT   AD_TO_FFT_Init\n(\n    .wrclock    (CLK_50M            ),      //\u200b\u5199\u200b\u65f6\u949f\u200b\n    .wraddress  (ad_to_fft_addr     ),      //\u200b\u5199\u200b\u5730\u5740\u200b\n    .wren       (posedge_reg        ),      //\u200b\u5199\u200b\u4f7f\u200b\u80fd\u200b\n    .data       (in_ad_data         ),      //\u200b\u5199\u200b\u6570\u636e\u200b\n\n    .rdclock    (CLK_50M                ),      //\u200b\u8bfb\u200b\u65f6\u949f\u200b\n    .rdaddress  (fft_bit_cnt        ),      //\u200b\u8bfb\u200b\u5730\u5740\u200b\n    .q          (ad_to_fft_data )       //\u200b\u8bfb\u6570\u636e\u200b\n);\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b\uff0c\u200b\u7528\u6765\u200b\u7ed9\u200btime_cnt\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_50M or negedge RST_N)  \nbegin\n    if(!RST_N)                                  //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        time_cnt  &lt;=  27'h0;                    //\u200b\u521d\u59cb\u5316\u200btime_cnt\u200b\u503c\u200b\n    else\n        time_cnt  &lt;=  time_cnt_n;           //\u200b\u7528\u6765\u200b\u7ed9\u200btime_cnt\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b\uff0c\u200b\u5b9e\u73b0\u200b1s\u200b\u7684\u200b\u5b9a\u65f6\u200b\u8ba1\u6570\u5668\u200b\nalways @ (*)  \nbegin\n    if(time_cnt == SET_TIME_1S)         //\u200b\u5224\u65ad\u200b1s\u200b\u65f6\u95f4\u200b\n        time_cnt_n = 27'h0;                 //\u200b\u5982\u679c\u200b\u5230\u8fbe\u200b1s,\u200b\u5b9a\u65f6\u200b\u8ba1\u6570\u5668\u200b\u5c06\u4f1a\u200b\u88ab\u200b\u6e05\u96f6\u200b\n    else\n        time_cnt_n = time_cnt + 27'h1;  //\u200b\u5982\u679c\u200b\u672a\u5230\u200b1s,\u200b\u5b9a\u65f6\u200b\u8ba1\u6570\u5668\u200b\u5c06\u4f1a\u200b\u7ee7\u7eed\u200b\u7d2f\u52a0\u200b\nend\n\n//\u200b\u65f6\u5e8f\u7535\u8def\u200b\uff0c\u200b\u7528\u6765\u200b\u7ed9\u200bfft_rst_flag\u200b\u5bc4\u5b58\u5668\u200b\u8d4b\u503c\u200b\nalways @ (posedge CLK_50M or negedge RST_N)  \nbegin\n    if(!RST_N)                                  //\u200b\u5224\u65ad\u200b\u590d\u4f4d\u200b\n        fft_rst_flag &lt;= 1'b0;               //\u200b\u521d\u59cb\u5316\u200bfft_rst_flag\u200b\u503c\u200b\n    else\n        fft_rst_flag &lt;= fft_rst_flag_n; //\u200b\u7528\u6765\u200b\u7ed9\u200bfft_rst_flag\u200b\u8d4b\u503c\u200b\nend\n\n//\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b,\u200b\u7528\u6765\u200b\u751f\u6210\u200bFFT\u200b\u6a21\u5757\u200b\u590d\u4f4d\u200b\u6807\u5fd7\u200b\u4f4d\u200b\nalways @ (*)\nbegin\n    if(time_cnt == SET_TIME_1S)         //\u200b\u5224\u65ad\u200b\u65f6\u95f4\u200b\n        fft_rst_flag_n = 1'b0;              //FFT\u200b\u6a21\u5757\u200b\u590d\u4f4d\u200b\u6807\u5fd7\u200b\u4f4d\u7f6e\u200b0\n    else\n        fft_rst_flag_n = 1'b1;              //FFT\u200b\u6a21\u5757\u200b\u590d\u4f4d\u200b\u6807\u5fd7\u200b\u4f4d\u7f6e\u200b1\nend\n\n//\u200b\u4f8b\u5316\u200bFFT\u200b\u63a7\u5236\u200b\u6a21\u5757\u200b\nFFT_Control_Module  FFT_Control_Init\n(\n    .CLK_50M                (CLK_50M                ), //\u200b\u65f6\u949f\u200b\u7aef\u53e3\u200b,\u200b\u5f00\u53d1\u677f\u200b\u7528\u200b\u7684\u200b50M\u200b\u6676\u632f\u200b\n    .RST_N              (fft_rst_flag       ),  //FFT\u200b\u6a21\u5757\u200b\u590d\u4f4d\u200b\u6807\u5fd7\u200b\u4f4d\u200b\n    .data_real_in_int   (ad_to_fft_data ), //FFT\u200b\u4e2d\u200b\u7528\u5230\u200b\u7684\u200bAD\u200b\u6570\u636e\u200b\n    .fft_real_out_int   (fft_real_out_int   ),  //FFT\u200b\u5b9e\u6570\u200b\u7684\u200b\u8f93\u51fa\u200b\n    .fft_imag_out_int   (fft_imag_out_int   ), //FFT\u200b\u865a\u6570\u200b\u7684\u200b\u8f93\u51fa\u200b\n    .fft_bit_cnt        (fft_bit_cnt        ), //FFT\u200b\u4f4d\u200b\u8ba1\u6570\u5668\u200b\n    .vga_fengzhi        (vga_fengzhi        )  //VGA\u200b\u4e2d\u200b\u663e\u793a\u200b\u7684\u200b\u5cf0\u5cf0\u200b\u503c\u200b\n);\n\nendmodule\n\n\n</code></pre>"},{"location":"fpga/%E6%95%B0%E7%A0%81%E7%AE%A1%E5%8A%A8%E6%80%81%E6%98%BE%E7%A4%BA/","title":"\u6570\u7801\u7ba1\u200b\u52a8\u6001\u663e\u793a","text":"<p>\u200b\u6f14\u793a\u200b\u89c6\u9891\u200b\uff0c\u200b\u4e0b\u8f7d\u200b\u4e0b\u6765\u200b\u89c2\u770b\u200b download:https://cdn.jsdmirror.com/gh/zikwq/Blog_Pic/e8e08759159b97eaaae26cac1a17c68e.mp4  </p> <p>```verilog seg.v module top(                 clk,  //\u200b\u7cfb\u7edf\u200b\u8f93\u5165\u200b\u65f6\u949f\u200b</p> <pre><code>            rst_n,//\u200b\u7cfb\u7edf\u200b\u590d\u4f4d\u200b\n\n            segdata,//\u200b\u6570\u7801\u7ba1\u200b\u6bb5\u9009\u200b\n            segcs//\u200b\u6570\u7801\u7ba1\u200b\u4f4d\u9009\u200b\n         );\n</code></pre> <p>input clk; input rst_n;</p> <p>output reg [7:0]segdata; output reg [2:0]segcs;</p> <p>reg[31:0] count; reg[24:0]count1ms;</p> <p>reg[2:0]number;</p> <p>reg[19:0]tenvalue; reg clk1ms;</p> <p>parameter sample=2'b00,           display=2'b01;</p> <p>//-----------\u200b\u6570\u7801\u7ba1\u200b\u9a71\u52a8\u200b\u65f6\u949f\u200b-----------  always@(posedge clk)   begin      if(count1ms&gt;25'd1000_0)       begin       clk1ms&lt;=~clk1ms;       count1ms&lt;=0;       end     else       count1ms&lt;=count1ms+1;   end</p> <p>//-----------\u200b\u4ece\u200b0\u200b\u5f00\u59cb\u200b\u663e\u793a\u200b\u6570\u5b57\u200b----------- always@(posedge clk1ms or negedge rst_n)     if(!rst_n)         tenvalue &lt;= 20'd0;     else if(tenvalue == 20'd999999)         tenvalue &lt;= 20'd0;     else         tenvalue &lt;= tenvalue + 1'd1;</p> <p>//-----------\u200b\u6570\u7801\u7ba1\u200b\u8bd1\u7801\u200b----------- function[7:0] leddata; input[3:0]    datain; begin   case(datain)     4'd0: leddata=8'b11000000;//0     4'd1: leddata=8'b11111001;//1     4'd2: leddata=8'b10100100;//2     4'd3: leddata=8'b10110000;//3     4'd4: leddata=8'b10011001;//4     4'd5: leddata=8'b10010010;//5     4'd6: leddata=8'b10000010;//6     4'd7: leddata=8'b11111000;//7     4'd8: leddata=8'b10000000;//8     4'd9: leddata=8'b10010000;//9     4'd10: leddata=8'b10111111;//-     4'd11: leddata=8'b01111111;//.     default:leddata=8'bzzzz_zzzz;    endcase end endfunction</p> <p>//-----------\u200b\u6570\u7801\u7ba1\u200b\u626b\u63cf\u200b----------- always@(posedge clk1ms)  begin     if(number==3'd6) number&lt;=0;     else      begin          number&lt;=number+1;         case(number)           4'd0:             begin                 segdata&lt;=leddata((tenvalue/10)%10);//\u200b\u4e2a\u200b\u4f4d\u200b                        segcs&lt;=3'b101;             end          4'd1:             begin                 segdata&lt;=leddata((tenvalue/100)%10);//\u200b\u5341\u4f4d\u200b                          segcs&lt;=3'b100;             end          4'd2:             begin                 segdata&lt;=leddata((tenvalue/1000)%10); //\u200b\u767e\u4f4d\u200b                        segcs&lt;=3'b011;             end          4'd3:             begin                 segdata&lt;=leddata((tenvalue/10000)%10);//\u200b\u5343\u4f4d\u200b                        segcs&lt;=3'b010;             end           4'd4:             begin                 segdata&lt;=leddata((tenvalue/100000)%10);//\u200b\u4e07\u200b\u4f4d\u200b                       segcs&lt;=3'b001;             end           4'd5:             begin                 segdata&lt;=leddata((tenvalue/1000000)%10);//\u200b\u5341\u4e07\u200b\u4f4d\u200b                         segcs&lt;=3'b000;             end         endcase     end end    </p> <p>endmodule</p> <p>```</p> <p></p>"},{"location":"fpga/%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F/","title":"\u65f6\u5e8f\u200b\u7ea6\u675f","text":"<p>\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u00b7\u00b7\u00b7\u200b\u65f6\u5e8f\u200b\u7ea6\u675f\u200b.md</p>"},{"location":"fpga/%E7%8A%B6%E6%80%81%E6%9C%BA%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/","title":"\u72b6\u6001\u673a\u200b\u76f8\u5173\u200b\u77e5\u8bc6","text":"<p>\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u00b7\u00b7\u00b7\u200b\u72b6\u6001\u673a\u200b\u76f8\u5173\u200b\u77e5\u8bc6\u200b.md</p>"},{"location":"fpga/%E7%94%B5%E8%B7%AF%E7%9A%84%E5%8A%A8%E6%80%81%E7%89%B9%E6%80%A7/","title":"\u7535\u8def\u200b\u7684\u200b\u52a8\u6001\u200b\u7279\u6027","text":"<p>\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u00b7\u00b7\u00b7\u200b\u7535\u8def\u200b\u7684\u200b\u52a8\u6001\u200b\u7279\u6027\u200b.md</p>"},{"location":"fpga/%E7%AC%94%E8%AF%95%E9%A2%98%E7%9B%AE%E6%B1%87%E6%80%BB/","title":"\u7b14\u8bd5\u200b\u9898\u76ee\u200b\u6c47\u603b","text":"<p>\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u00b7\u00b7\u00b7\u200b\u7b14\u8bd5\u200b\u9898\u76ee\u200b\u6c47\u603b\u200b.md</p>"},{"location":"fpga/%E7%AE%80%E6%98%93%E9%A2%91%E7%8E%87%E8%AE%A1%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/","title":"\u7b80\u6613\u200b\u9891\u7387\u8ba1\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u9a8c\u8bc1","text":""},{"location":"fpga/%E7%AE%80%E6%98%93%E9%A2%91%E7%8E%87%E8%AE%A1%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#_1","title":"\u53c2\u8003\u200b\u94fe\u63a5","text":"<p>[1. \u200b\u7b80\u6613\u200b\u9891\u7387\u8ba1\u200b\u7684\u200b\u8bbe\u8ba1\u200b\u4e0e\u200b\u9a8c\u8bc1\u200b \u2014 \u200b\u91ce\u706b\u200b]FPGA Verilog\u200b\u5f00\u53d1\u200b\u5b9e\u6218\u200b\u6307\u5357\u200b\u2014\u2014\u200b\u57fa\u4e8e\u200bAltera EP4CE10 \u200b\u5f81\u9014\u200bMini\u200b\u5f00\u53d1\u677f\u200b \u200b\u6587\u6863\u200b (embedfire.com)</p>"},{"location":"fpga/%E7%AE%80%E6%98%93%E9%A2%91%E7%8E%87%E8%AE%A1%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#_2","title":"\u5e38\u7528\u200b\u9891\u7387\u200b\u6d4b\u91cf\u6cd5","text":"<p>\u200b\u6240\u8c13\u200b\u7684\u200b\u9891\u7387\u200b\u6d4b\u91cf\u200b\uff0c\u200b\u5c31\u662f\u200b\u5355\u4f4d\u200b\u65f6\u95f4\u200b\u5185\u200b\u4fe1\u53f7\u200b\u5468\u671f\u200b\u53d8\u5316\u200b\u7684\u200b\u6b21\u6570\u200b</p> <p>\u200b\u5e38\u7528\u200b\u9891\u7387\u200b\u6d4b\u91cf\u6cd5\u200b\uff1a\u200b\u9891\u7387\u200b\u6d4b\u91cf\u6cd5\u200b\u3001\u200b\u5468\u671f\u200b\u6d4b\u91cf\u6cd5\u200b\u3001\u200b\u7b49\u200b\u7cbe\u5ea6\u200b\u6d4b\u91cf\u6cd5\u200b</p> <p>\u200b\u9891\u7387\u200b\u6d4b\u91cf\u6cd5\u200b\uff1a\u200b\u5728\u200b\u65f6\u95f4\u200bT\u200b\u5185\u200b\u5bf9\u200b\u88ab\u200b\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u65f6\u949f\u200b\u5468\u671f\u200bN\u200b\u8fdb\u884c\u200b\u8ba1\u6570\u200b\uff0c\u200b\u7136\u540e\u200b\u6c42\u200b\u51fa\u200b\u5355\u4f4d\u200b\u65f6\u95f4\u200b\u5185\u200b\u7684\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u6570\u200b\uff0c\u200b\u5373\u200b\u4e3a\u200b\u88ab\u200b\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u65f6\u949f\u200b\u9891\u7387\u200b</p> <p>\u200b\u5468\u671f\u200b\u6d4b\u91cf\u6cd5\u200b\uff1a\u200b\u5148\u200b\u6d4b\u91cf\u200b\u51fa\u200b\u88ab\u200b\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u65f6\u949f\u200b\u5468\u671f\u200bT\uff0c\u200b\u7136\u540e\u200b\u6839\u636e\u200b\u9891\u7387\u200bf=1/T\u200b\u6c42\u51fa\u200b\u88ab\u200b\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u9891\u7387\u200b\u3002\uff08\u200b\u6d4b\u91cf\u200b\u7b2c\u4e00\u4e2a\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u548c\u200b\u7b2c\u4e8c\u4e2a\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u4e4b\u95f4\u200b\u7684\u200b\u65f6\u95f4\u200b\uff0c\u200b\u53d6\u51fa\u200b\u5012\u6570\u200b\u5c31\u662f\u200b\u88ab\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u65f6\u949f\u200b\u9891\u7387\u200bT\u200b\u4e86\u200b\uff09</p> <p>\u200b\u4f46\u662f\u200b\u4e0a\u8ff0\u200b\u4e24\u79cd\u200b\u65b9\u6cd5\u200b\u90fd\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u00b11\u200b\u4e2a\u200b\u88ab\u200b\u6d4b\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u7684\u200b\u8bef\u5dee\u200b\uff0c\u200b\u5728\u200b\u5b9e\u9645\u200b\u5e94\u7528\u200b\u4e2d\u6709\u200b\u4e00\u5b9a\u200b\u7684\u200b\u5c40\u9650\u6027\u200b\uff1b\u200b\u800c\u4e14\u200b\u6839\u636e\u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b\u7684\u200b\u6d4b\u91cf\u200b\u539f\u7406\u200b\uff0c\u200b\u5f88\u200b\u5bb9\u6613\u200b\u53d1\u73b0\u200b\u9891\u7387\u200b\u6d4b\u91cf\u6cd5\u200b\u9002\u5408\u200b\u4e8e\u200b\u6d4b\u91cf\u200b\u9ad8\u9891\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u800c\u200b\u5468\u671f\u200b\u6d4b\u91cf\u6cd5\u200b\u9002\u5408\u200b\u4e8e\u200b\u4f4e\u9891\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u6d4b\u91cf\u200b\uff0c\u200b\u4f46\u200b\u4e8c\u8005\u200b\u90fd\u200b\u4e0d\u80fd\u200b\u517c\u987e\u200b\u9ad8\u4f4e\u200b\u9891\u7387\u200b\u540c\u6837\u200b\u7cbe\u5ea6\u200b\u7684\u200b\u6d4b\u91cf\u200b\u8981\u6c42\u200b\u3002</p> <p>\u200b\u7b49\u200b\u7cbe\u5ea6\u200b\u6d4b\u91cf\u6cd5\u200b\u4e0e\u200b\u524d\u200b\u4e24\u79cd\u200b\u65b9\u5f0f\u200b\u4e0d\u540c\u200b\uff0c\u200b\u5176\u200b\u6700\u5927\u200b\u7684\u200b\u7279\u70b9\u200b\u662f\u200b\uff0c\u200b\u6d4b\u91cf\u200b\u7684\u200b\u5b9e\u9645\u200b\u95e8\u63a7\u200b\u65f6\u95f4\u200b\u4e0d\u662f\u200b\u4e00\u4e2a\u200b\u56fa\u5b9a\u503c\u200b\uff0c\u200b\u5b83\u200b\u4e0e\u200b\u88ab\u200b\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u76f8\u5173\u200b\uff0c\u200b\u662f\u200b\u88ab\u200b\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u5468\u671f\u200b\u7684\u200b\u6574\u6570\u500d\u200b\u3002\u200b\u5728\u200b\u5b9e\u9645\u200b\u95e8\u63a7\u200b\u4fe1\u53f7\u200b\u4e0b\u200b\uff0c\u200b\u540c\u65f6\u200b\u5bf9\u200b\u6807\u51c6\u200b\u65f6\u949f\u200b\u548c\u200b\u88ab\u200b\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u8fdb\u884c\u200b\u8ba1\u6570\u200b\uff0c\u200b\u518d\u200b\u901a\u8fc7\u200b\u516c\u5f0f\u200b\u8ba1\u7b97\u200b\u5f97\u5230\u200b\u88ab\u6d4b\u200b\u4fe1\u53f7\u200b\u7684\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u3002</p> <p>\u200b\u7531\u4e8e\u200b\u5b9e\u9645\u200b\u95e8\u63a7\u200b\u4fe1\u53f7\u200b\u662f\u200b\u88ab\u200b\u6d4b\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u7684\u200b\u6574\u6570\u500d\u200b\uff0c\u200b\u5c31\u200b\u6d88\u9664\u200b\u4e86\u200b\u88ab\u200b\u6d4b\u200b\u4fe1\u53f7\u200b\u4ea7\u751f\u200b\u7684\u200b\u00b11\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u7684\u200b\u8bef\u5dee\u200b\uff0c\u200b\u4f46\u662f\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u5bf9\u200b\u6807\u51c6\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u00b11\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u7684\u200b\u8bef\u5dee\u200b\u3002\u200b\u7b49\u200b\u7cbe\u5ea6\u200b\u6d4b\u91cf\u200b\u539f\u7406\u200b\u793a\u610f\u56fe\u200b\u5982\u56fe\u200b\u4e0b\u56fe\u200b\u6240\u793a\u200b\u3002</p> <p>\u200b\u7b49\u200b\u7cbe\u5ea6\u200b\u6d4b\u91cf\u6cd5\u200b\uff1a</p> <p></p> <p>\u200b\u7ed3\u5408\u200b\u7b49\u200b\u7cbe\u5ea6\u200b\u6d4b\u91cf\u200b\u539f\u7406\u200b\u548c\u200b\u539f\u7406\u200b\u793a\u610f\u56fe\u200b\u53ef\u200b\u5f97\u200b\uff1a\u200b\u88ab\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u65f6\u949f\u200b\u9891\u7387\u200bfx\u200b\u7684\u200b\u76f8\u5bf9\u8bef\u5dee\u200b\u4e0e\u200b\u88ab\u200b\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u65e0\u5173\u200b\uff1b\u200b\u589e\u5927\u200b\u201c\u200b\u8f6f\u4ef6\u200b\u95f8\u95e8\u200b\u201d\u200b\u7684\u200b\u6709\u6548\u200b\u8303\u56f4\u200b\u6216\u8005\u200b\u63d0\u9ad8\u200b\u201c\u200b\u6807\u51c6\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u201d\u200b\u7684\u200b\u65f6\u949f\u200b\u9891\u7387\u200bfs\uff0c\u200b\u53ef\u4ee5\u200b\u51cf\u5c0f\u200b\u8bef\u5dee\u200b\uff0c\u200b\u63d0\u9ad8\u200b\u6d4b\u91cf\u200b\u7cbe\u5ea6\u200b\u3002</p> <p>\u200b\u7b49\u200b\u7cbe\u5ea6\u200b\u6d4b\u91cf\u200b\u7cbe\u5ea6\u200b\u7684\u200b\u8bef\u5dee\u200b=X\u200b\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u8bef\u5dee\u200b/\u200b\u6807\u51c6\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\uff08Hz\uff09</p> <p>\u200b\u4e86\u89e3\u200b\u4e86\u200b\u7b49\u200b\u7cbe\u5ea6\u200b\u6d4b\u91cf\u200b\u539f\u7406\u200b\u4e4b\u540e\u200b\uff0c\u200b\u6211\u4eec\u200b\u6765\u200b\u8bf4\u660e\u200b\u4e00\u4e0b\u200b\u88ab\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u8ba1\u7b97\u65b9\u6cd5\u200b\u3002</p> <p>\u200b\u9996\u5148\u200b\u6211\u4eec\u200b\u5148\u200b\u5206\u522b\u200b\u5bf9\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b\u4e0b\u200b\u88ab\u200b\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u548c\u200b\u6807\u51c6\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u8fdb\u884c\u200b\u8ba1\u6570\u200b\u3002</p> <p>\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b\u4e0b\u200b\u88ab\u200b\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u5468\u671f\u200b\u6570\u4e3a\u200bX\uff0c\u200b\u8bbe\u200b\u88ab\u200b\u6d4b\u200b\u4fe1\u53f7\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u4e3a\u200bTfx\uff0c\u200b\u5b83\u200b\u7684\u200b\u65f6\u949f\u200b\u9891\u7387\u200bfx = 1/Tfx\uff0c\u200b\u7531\u6b64\u200b\u53ef\u200b\u5f97\u200b\u7b49\u5f0f\u200b\uff1aX * Tfx = X / fx = Tx(\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b)\u3002</p> <p>\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b\u4e0b\u200b\u6807\u51c6\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u5468\u671f\u200b\u6570\u4e3a\u200bY\uff0c\u200b\u8bbe\u200b\u88ab\u200b\u6d4b\u200b\u4fe1\u53f7\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u4e3a\u200bTfs\uff0c\u200b\u5b83\u200b\u7684\u200b\u65f6\u949f\u200b\u9891\u7387\u200bfs = 1/Tfs\uff0c\u200b\u7531\u6b64\u200b\u53ef\u200b\u5f97\u200b\u7b49\u5f0f\u200b\uff1aY * Tfs = Y / fs = Tx(\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b)\u3002</p> <p>\u200b\u5176\u6b21\u200b\uff0c\u200b\u5c06\u200b\u4e24\u200b\u7b49\u5f0f\u200b\u7ed3\u5408\u200b\u5f97\u5230\u200b\u53ea\u200b\u5305\u542b\u200b\u5404\u81ea\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u8ba1\u6570\u200b\u548c\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u7684\u200b\u7b49\u5f0f\u200b\uff1aX / fx = Y / fs = Tx(\u200b\u5b9e\u9645\u200b\u95f8\u95e8\u200b)\uff0c\u200b\u7b49\u5f0f\u200b\u53d8\u6362\u200b\uff0c\u200b\u5f97\u5230\u200b\u88ab\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u65f6\u949f\u200b\u9891\u7387\u200b\u8ba1\u7b97\u516c\u5f0f\u200b\uff1afx = X * fs / Y\u3002</p> <p>\u200b\u6700\u540e\u200b\uff0c\u200b\u5c06\u200b\u5df2\u77e5\u200b\u91cf\u200b\u6807\u51c6\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u65f6\u949f\u200b\u9891\u7387\u200bfs\u200b\u548c\u200b\u6d4b\u91cf\u200b\u91cf\u200bX\u3001Y\u200b\u5e26\u5165\u200b\u8ba1\u7b97\u516c\u5f0f\u200b\uff0c\u200b\u5f97\u5230\u200b\u88ab\u6d4b\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u65f6\u949f\u200b\u9891\u7387\u200bfx\u3002</p>"},{"location":"fpga/%E7%AE%80%E6%98%93%E9%A2%91%E7%8E%87%E8%AE%A1%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B8%8E%E9%AA%8C%E8%AF%81/#_3","title":"\u5b9e\u6218\u200b\u6f14\u7ec3","text":""},{"location":"fpga/%E8%87%AA%E5%AE%9A%E4%B9%89IP%E5%B0%81%E8%A3%85/","title":"\u81ea\u5b9a\u4e49\u200bIP\u200b\u5c01\u88c5","text":"<p>layout: wiki  # \u200b\u4f7f\u7528\u200bwiki\u200b\u5e03\u5c40\u200b\u6a21\u677f\u200b wiki: FPGA # \u200b\u8fd9\u662f\u200b\u9879\u76ee\u200b\u540d\u200b title: \u200b\u81ea\u5b9a\u4e49\u200bIP\u200b\u5c01\u88c5\u200b sidebar:   # - layout: search   #   override: searchCopy   #   filter: '/wiki/vue/'Copy   - toc</p>"},{"location":"fpga/%E9%94%81%E5%AD%98%E5%99%A8%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E6%95%B4%E7%90%86/","title":"\u9501\u200b\u5b58\u5668\u200b\u548c\u200b\u89e6\u53d1\u5668\u200b\u7684\u200b\u7406\u89e3\u200b\u4e0e\u200b\u6574\u7406","text":"<p>\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u00b7\u00b7\u00b7\u200b\u9501\u200b\u5b58\u5668\u200b\u548c\u200b\u89e6\u53d1\u5668\u200b\u7684\u200b\u7406\u89e3\u200b\u4e0e\u200b\u6574\u7406\u200b.md</p>"},{"location":"fpga/%E9%94%81%E5%AD%98%E5%99%A8%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E6%95%B4%E7%90%86/#_1","title":"\u5f15\u8a00","text":"<p>\u200b\u5927\u591a\u6570\u200b\u6570\u5b57\u200b\u7cfb\u7edf\u200b\u4e2d\u200b\uff0c\u200b\u9664\u4e86\u200b\u9700\u8981\u200b\u5177\u6709\u200b\u903b\u8f91\u8fd0\u7b97\u200b\u548c\u200b\u7b97\u672f\u200b\u8fd0\u7b97\u200b\u529f\u80fd\u200b\u7684\u200b\u7ec4\u5408\u200b\u903b\u8f91\u7535\u8def\u200b\u5916\u200b\uff0c\u200b\u8fd8\u200b\u9700\u8981\u200b\u5177\u6709\u200b\u5b58\u50a8\u200b\u529f\u80fd\u200b\u7684\u200b\u7535\u8def\u200b\u3002\u200b\u7ec4\u5408\u200b\u7535\u8def\u200b\u4e0e\u200b\u5b58\u50a8\u200b\u7535\u8def\u200b\u7ed3\u5408\u200b\u6784\u6210\u200b\u7684\u200b\u65f6\u5e8f\u200b\u903b\u8f91\u7535\u8def\u200b\uff0c\u200b\u7b80\u79f0\u200b\u65f6\u5e8f\u7535\u8def\u200b\u3002\u200b\u8fd9\u91cc\u200b\u8ba8\u8bba\u200b\u5b9e\u73b0\u200b\u5b58\u50a8\u200b\u529f\u80fd\u200b\u7684\u200b\u4e24\u79cd\u200b\u903b\u8f91\u200b\u5355\u5143\u200b\u7535\u8def\u200b\uff1a\u200b\u9501\u200b\u5b58\u5668\u200b\u548c\u200b\u89e6\u53d1\u5668\u200b\u3002</p> <p>\u200b\u9501\u200b\u5b58\u5668\u200b\uff1a\u200b\u7528\u6765\u200b\u5b58\u50a8\u72b6\u6001\u200b\u4fe1\u606f\u200b\uff0c\u200b\u9501\u200b\u5b58\u5668\u200b\u4e00\u822c\u200b\u662f\u200b\u7535\u5e73\u200b\u89e6\u53d1\u200b\uff0c\u200b\u5f53\u9501\u200b\u5b58\u5668\u200b\u4f7f\u200b\u80fd\u200b\u65f6\u200b\uff0c\u200b\u8f93\u51fa\u200b\u968f\u7740\u200b\u8f93\u5165\u200b\u53d8\u5316\u200b\uff0c\u200b\u5f53\u200b\u6ca1\u6709\u200b\u4f7f\u80fd\u200b\u65f6\u200b\uff0c\u200b\u8f93\u51fa\u200b\u4e00\u76f4\u200b\u4e3a\u9501\u200b\u5b58\u5668\u200b\u7684\u200b\u72b6\u6001\u200b\u4fe1\u606f\u200b</p> <p>\u200b\u89e6\u53d1\u5668\u200b\uff1a\u200b\u89e6\u53d1\u5668\u200b\u5f53\u200b\u6536\u5230\u200b\u4e00\u4e2a\u200bclk\u200b\u89e6\u53d1\u200b\u8109\u51b2\u200b\u65f6\u200b\uff0c\u200b\u8f93\u51fa\u200b\u5c31\u200b\u4f1a\u200b\u6839\u636e\u200b\u4e00\u5b9a\u200b\u89c4\u5219\u200b\u6539\u53d8\u200b\u72b6\u6001\u200b\uff0c\u200b\u7136\u540e\u200b\u4fdd\u6301\u200b\u76f4\u5230\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u89e6\u53d1\u200b\u8109\u51b2\u200b\u3002</p> <p>\u200b\u533a\u522b\u200b\uff1a\u200b\u9501\u200b\u5b58\u5668\u200b\u548c\u200b\u89e6\u53d1\u5668\u200b\u7684\u200b\u533a\u522b\u200b\u5728\u200b\u4e0e\u200blatch\uff0c\u200b\u5f53\u4f7f\u200b\u80fd\u200b\u65f6\u200b\uff0c\u200b\u8f93\u5165\u200b\u53d8\u5316\u200b\u65f6\u200b\u8f93\u51fa\u200b\u5c31\u200b\u4f1a\u200b\u8ddf\u968f\u200b\u4e00\u8d77\u200b\u53d8\u5316\u200b\uff0c\u200b\u6ca1\u6709\u200bclk\uff0c\u200b\u66f4\u200b\u5bb9\u6613\u200b\u4ea7\u751f\u200b\u6bdb\u523a\u200b\u3002\u200b\u800c\u200bflip-flop\u200b\u6536\u5230\u200b\u65f6\u949f\u200b\u7684\u200b\u540c\u6b65\u63a7\u5236\u200b\uff0c\u200b\u53ea\u6709\u200bclk\u200b\u89e6\u53d1\u200b\u65f6\u624d\u200b\u4f1a\u200b\u91c7\u6837\u200b\u5f53\u524d\u200b\u7684\u200b\u8f93\u5165\u200b\u3002\u200b\u5bf9\u200b\u8109\u51b2\u200b\u7535\u5e73\u200b\u654f\u611f\u200b\u7684\u200b\u662f\u200b\u9501\u200b\u5b58\u5668\u200b\uff0c\u200b\u5bf9\u200b\u8109\u51b2\u200b\u8fb9\u6cbf\u200b\u654f\u611f\u200b\u7684\u200b\u662f\u200b\u89e6\u53d1\u5668\u200b\u3002</p> <p>\u200b\u5bc4\u5b58\u5668\u200b\uff1a\u200b\u7528\u6765\u200b\u5b58\u50a8\u200b\u6570\u636e\u200b\u7684\u200b\u5c0f\u578b\u200b\u5b58\u50a8\u200b\u533a\u57df\u200b\uff0c\u200b\u6682\u65f6\u200b\u5b58\u653e\u200b\u53c2\u4e0e\u200b\u8fd0\u7b97\u200b\u7684\u200b\u6570\u636e\u200b\u548c\u200b\u8fd0\u7b97\u200b\u7ed3\u679c\u200b\uff0c\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u5b58\u50a8\u200b\u7535\u8def\u200b\u662f\u200b\u7531\u9501\u200b\u5b58\u5668\u200b\u548c\u200b\u89e6\u53d1\u5668\u200b\u6784\u6210\u200b\u7684\u200b\uff0c\u200b\u56e0\u4e3a\u200b1\u200b\u4e2a\u9501\u200b\u5b58\u5668\u200b\u6216\u8005\u200b\u89e6\u53d1\u5668\u200b\u53ea\u80fd\u200b\u5b58\u50a8\u200b1\u200b\u4f4d\u200b2\u200b\u8fdb\u5236\u200b\u6570\u636e\u200b\uff0c\u200b\u6240\u4ee5\u200b\u7531\u200bN\u200b\u4e2a\u9501\u200b\u5b58\u5668\u200b\u6216\u8005\u200b\u89e6\u53d1\u5668\u200b\u53ef\u4ee5\u200b\u6784\u6210\u200bN\u200b\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\uff0c\u200b\u5728\u200b\u5b9e\u9645\u200b\u82af\u7247\u200b\u4e2d\u200b\u4e00\u822c\u200b\u6309\u7167\u200b\u5b57\u8282\u200b\u4f4d\u6570\u200b\u8bbe\u8ba1\u200b\uff0c\u200b\u6240\u4ee5\u200b\u4e00\u822c\u200b\u4e0e\u200b8\u200b\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u300116\u200b\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u3002</p> <p>\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u7740\u91cd\u200b\u5206\u6790\u200b\u4e00\u4e0b\u200b\u9501\u200b\u5b58\u5668\u200b\u548c\u200b\u89e6\u53d1\u5668\u200b\u539f\u7406\u200b\u5e76\u4e14\u200b\u4e3e\u51fa\u200b\u7b80\u5355\u200b\u7684\u200b\u5e94\u7528\u200b\u4f8b\u5b50\u200b\u65b9\u4fbf\u200b\u5927\u5bb6\u200b\u7684\u200b\u7406\u89e3\u200b\u4e0e\u200b\u638c\u63e1\u200b\u3002</p>"},{"location":"fpga/%E9%94%81%E5%AD%98%E5%99%A8%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E6%95%B4%E7%90%86/#1","title":"1. \u200b\u57fa\u672c\u200b\u53cc\u7a33\u6001\u200b\u7535\u8def","text":"<p>\u200b\u53cc\u7a33\u6001\u200b\u7535\u8def\u200b</p> <p>\u200b\u5c06\u200b\u4e24\u4e2a\u200b\u975e\u200b\u95e8\u200b\u8fdb\u884c\u200b\u4ea4\u53c9\u8026\u5408\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8fde\u63a5\u200b\uff0c\u200b\u5219\u200b\u6784\u6210\u200b\u6700\u200b\u57fa\u672c\u200b\u7684\u200b\u53cc\u7a33\u6001\u200b\u7535\u8def\u200b\u3002\u200b\u4ece\u200b\u7535\u8def\u200b\u7684\u200b\u903b\u8f91\u5173\u7cfb\u200b\u53ef\u77e5\u200b\uff0c\u200b\u82e5\u200bQ=0\uff0c\u200b\u7ecf\u8fc7\u200b\u975e\u200b\u95e8\u200b$G_2$ \u200b\u53cd\u5411\u200b\u5f97\u5230\u200b$\\overline{Q}$=1\u3002</p> <p>$\\overline{Q}$\u200b\u53cd\u9988\u200b\u7ed9\u200b$G_1$\u200b\u8f93\u5165\u200b\u7aef\u200b\uff0c\u200b\u53c8\u200b\u4fdd\u8bc1\u200b\u4e86\u200b$Q$=0\uff0c\u200b\u7531\u4e8e\u200b\u4e24\u4e2a\u200b\u975e\u200b\u95e8\u200b\u9996\u5c3e\u76f8\u63a5\u200b\u7684\u200b\u903b\u8f91\u200b\u9501\u5b9a\u200b\uff0c\u200b\u56e0\u6b64\u200b\u7535\u8def\u200b\u80fd\u591f\u200b\u81ea\u884c\u200b\u4fdd\u6301\u200b\u5728\u200b$Q$=0\uff0c\u200b\u800c\u200b$\\overline{Q}$=1\u200b\u7684\u200b\u60c5\u51b5\u200b\u3002</p> <p>{% endgrid %}</p> <p>\u200b\u50cf\u200b\u8fd9\u6837\u200b\u7684\u200b\u7535\u8def\u200b\uff0c\u200b\u5177\u6709\u200b0,1\u200b\u4e24\u79cd\u200b\u903b\u8f91\u200b\u72b6\u6001\u200b\uff0c\u200b\u4e00\u65e6\u200b\u8fdb\u5165\u200b\u5176\u4e2d\u200b\u4e00\u79cd\u200b\u72b6\u6001\u200b\uff0c\u200b\u5c31\u200b\u80fd\u200b\u957f\u671f\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\u7684\u200b\u5355\u5143\u200b\u7535\u8def\u200b\uff0c\u200b\u79f0\u4e3a\u200b\u53cc\u7a33\u6001\u200b\u5b58\u50a8\u200b\u7535\u8def\u200b\uff0c\u200b\u7b80\u79f0\u200b\u53cc\u7a33\u6001\u200b\u7535\u8def\u200b\u3002</p> <p>\u200b\u6839\u636e\u200b\u4e0a\u9762\u200b\u7684\u200b\u5206\u6790\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u770b\u51fa\u200b\u8fd9\u4e2a\u200b\u6700\u200b\u57fa\u672c\u200b\u7684\u200b\u53cc\u7a33\u6001\u200b\u7535\u8def\u200b\u7684\u200b\u529f\u80fd\u200b\u6781\u200b\u4e0d\u200b\u5b8c\u5907\u200b\u3002\u200b\u5728\u200b\u63a5\u901a\u200b\u7535\u6e90\u200b\u540e\u200b\uff0c\u200b\u5b83\u200b\u53ef\u80fd\u200b\u968f\u673a\u200b\u8fdb\u5165\u200b0\u200b\u6216\u8005\u200b1\u200b\u72b6\u6001\u200b\u5e76\u4e14\u200b\u9501\u5b9a\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u91cc\u9762\u200b\uff0c\u200b\u6211\u4eec\u200b\u65e0\u6cd5\u63a7\u5236\u200b\u548c\u200b\u6539\u53d8\u200b\u5b83\u200b\u7684\u200b\u72b6\u6001\u200b\uff0c\u200b\u4ece\u800c\u200b\u5e76\u200b\u4e0d\u80fd\u200b\u4f5c\u4e3a\u200b\u5b58\u50a8\u200b\u7535\u8def\u200b\u6765\u200b\u4f7f\u7528\u200b\u3002\u200b\u56e0\u6b64\u200b\u4e0b\u9762\u200b\u6211\u4eec\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u6700\u200b\u57fa\u672c\u200b\u7684\u200b\u53cc\u7a33\u6001\u200b\u7535\u8def\u200b\u4e0b\u200b\u884d\u751f\u200b\u51fa\u9501\u200b\u5b58\u5668\u200b\u3001\u200b\u89e6\u53d1\u5668\u200b\u7b49\u200b\u529f\u80fd\u200b\u5b8c\u5907\u200b\u7684\u200b\u5b58\u50a8\u200b\u7535\u8def\u200b</p>"},{"location":"fpga/%E9%94%81%E5%AD%98%E5%99%A8%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E6%95%B4%E7%90%86/#2-sr","title":"2. SR\u200b\u9501\u200b\u5b58\u5668","text":""},{"location":"fpga/%E9%94%81%E5%AD%98%E5%99%A8%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E6%95%B4%E7%90%86/#21-sr","title":"2.1 \u200b\u6216\u975e\u95e8\u200b\u6784\u6210\u200bSR\u200b\u9501\u200b\u5b58\u5668","text":"<p>\u200b\u6211\u4eec\u200b\u8bb2\u200b\u6700\u200b\u57fa\u672c\u200b\u7684\u200b\u53cc\u7a33\u6001\u200b\u7535\u8def\u200b\u4e2d\u200b\u7684\u200b\u975e\u95e8\u200b\u66ff\u6362\u6210\u200b\u6216\u975e\u95e8\u200b\uff0c\u200b\u5219\u200b\u6784\u6210\u200b\u4e86\u200b\u4e0a\u200b\u56fe\u200b\u6240\u793a\u200b\u7684\u200b\u57fa\u672c\u200bSR\u200b\u9501\u200b\u5b58\u5668\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e00\u79cd\u200b\u5177\u6709\u200b\u6700\u200b\u7b80\u5355\u200b\u63a7\u5236\u200b\u529f\u80fd\u200b\u7684\u200b\u53cc\u7a33\u6001\u200b\u7535\u8def\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u5c06\u200b\u975e\u95e8\u200b\u66ff\u6362\u200b\u4e86\u200b2\u200b\u8f93\u5165\u200b\u4e00\u200b\u8f93\u51fa\u200b\u7684\u200b\u6216\u975e\u95e8\u200b\uff0c\u200b\u90a3\u4e48\u200b\u7559\u51fa\u200b\u7684\u200b\u8f93\u5165\u200b\u7aef\u200b\u4e5f\u200b\u5c31\u200b\u6210\u4e3a\u200b\u4e86\u200b\u6211\u4eec\u200b\u7684\u200b\u8f93\u5165\u200b\u63a7\u5236\u200b\u7aef\u200b\u3002</p> $S_D$ $R_D$ Q $\\overline{Q}$ \u200b\u529f\u80fd\u200b 0 0 0 0 \u200b\u4fdd\u6301\u200b 0 0 1 1 \u200b\u4fdd\u6301\u200b 0 1 0 0 \u200b\u7f6e\u200b0 0 1 1 0 \u200b\u7f6e\u200b0 1 0 1 1 \u200b\u7f6e\u200b1 1 0 0 1 \u200b\u7f6e\u200b1 1 1 0 0 \u200b\u4e0d\u5b9a\u200b <p>\u200b\u6839\u636e\u200bS\u3001R\u200b\u7684\u200b4\u200b\u79cd\u200b\u8f93\u5165\u200b\u72b6\u6001\u200b\u7ec4\u5408\u200b\u5f97\u5230\u200b\u5de6\u200b\u8868\u683c\u200b\uff0c\u200b\u5177\u4f53\u200b\u7684\u200b\u5206\u6790\u200b\u8fc7\u7a0b\u200b\u8bf7\u200b\u53c2\u8003\u200b\uff1a\u200b\u7535\u8def\u200b\u6280\u672f\u200b\u57fa\u7840\u200b-\u200b\u6570\u5b57\u200b\u90e8\u5206\u200bP232\u3002</p> <p>\u200b\u503c\u5f97\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff1a\u200b\u5728\u200b\u4e66\u200b\u4e2d\u200b\u8bb2\u200b\u5230\u200bS=R=1\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u9501\u200b\u5b58\u5668\u200b\u5904\u5728\u200b\u5373\u975e\u200b0\u200b\u4e5f\u200b\u975e\u200b1\u200b\u7684\u200b\u975e\u200b\u5b9a\u4e49\u200b\u72b6\u6001\u200b\uff0c\u200b\u4e3a\u200b\u4fdd\u8bc1\u200b\u9501\u200b\u5b58\u5668\u200b\u59cb\u7ec8\u200b\u5904\u4e8e\u200b\u5de5\u4f5c\u200b\u5b9a\u4e49\u200b\u72b6\u6001\u200b\uff0c\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b\u5e94\u200b\u9075\u5b88\u200b$S_D$$R_D$\u200b\u7ea6\u675f\u6761\u4ef6\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u6b7b\u6d3b\u200b\u4e0d\u200b\u5141\u8bb8\u200bS=R=1\u3002</p>"},{"location":"fpga/%E9%94%81%E5%AD%98%E5%99%A8%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E6%95%B4%E7%90%86/#22-sr","title":"2.2 \u200b\u4e0e\u975e\u95e8\u200b\u6784\u6210\u200bSR\u200b\u9501\u200b\u5b58\u5668","text":"<p>\u200b\u5f53\u7136\u200b\u4e86\u200b\uff0c\u200b\u65e2\u7136\u200b\u5728\u200b\u6700\u200b\u57fa\u672c\u200b\u7684\u200b\u53cc\u7a33\u6001\u200b\u7535\u8def\u200b\u4e2d\u4ec5\u200b\u5c06\u200b\u975e\u95e8\u200b\u66ff\u6362\u6210\u200b\u4e86\u200b\u6216\u975e\u95e8\u200b\u5c31\u200b\u6784\u6210\u200b\u4e86\u200bSR\u200b\u9501\u200b\u5b58\u5668\u200b\uff0c\u200b\u540c\u6837\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u66ff\u6362\u6210\u200b\u4e0e\u975e\u95e8\u200b\u6765\u200b\u6784\u6210\u200b\u53e6\u200b\u4e00\u79cd\u200bSR\u200b\u9501\u200b\u5b58\u5668\u200b\uff08\u200b\u4e5f\u200b\u79f0\u200b\uff1a\u200b\u57fa\u672c\u200b$\\overline{S}$$\\overline{R}$\u200b\u9501\u200b\u5b58\u5668\u200b\uff09\u3002\u200b\u5176\u200b\u539f\u7406\u200b\u90fd\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\uff0c\u200b\u53ea\u4e0d\u8fc7\u200b\u662f\u200b\u5176\u200b\u771f\u503c\u8868\u200b\u6709\u6240\u200b\u51fa\u5165\u200b\u7f62\u4e86\u200b\u3002</p> <p></p> $S_D{\u2018}$ $R_D{'}$ Q $\\overline{Q}$ \u200b\u529f\u80fd\u200b 0 0 - - \u200b\u4e0d\u5b9a\u200b 0 1 0 1 \u200b\u7f6e\u200b1 0 1 1 1 \u200b\u7f6e\u200b1 1 0 0 0 \u200b\u7f6e\u200b0 1 0 1 0 \u200b\u7f6e\u200b0 1 1 0 0 \u200b\u4fdd\u6301\u200b 1 1 1 1 \u200b\u4fdd\u6301\u200b <p>\u200b\u5176\u200b\u7ea6\u675f\u6761\u4ef6\u200b\u540c\u6837\u200b\u9075\u5b88\u200b$S_D$$R_D$=0\uff0c</p> <p>\u200b\u4e0e\u975e\u95e8\u200b\u662f\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\uff0c\u200b\u5f53\u200b\u8f93\u5165\u200bSR=11\u200b\u65f6\u200b\uff0c\u200b\u5c31\u200b\u76f8\u5f53\u4e8e\u200b\u6211\u4eec\u200b\u6700\u200b\u5f00\u59cb\u200b\u7684\u200b\u6700\u200b\u57fa\u672c\u200b\u53cc\u7a33\u6001\u200b\u7535\u8def\u200b\uff0c\u200b\u8d77\u200b\u4fdd\u6301\u200b\u7684\u200b\u529f\u80fd\u200b</p>"},{"location":"fpga/%E9%94%81%E5%AD%98%E5%99%A8%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E6%95%B4%E7%90%86/#23sr-","title":"2.3\u200b\u57fa\u672c\u200bSR\u200b\u9501\u200b\u5b58\u5668\u200b\u7684\u200b\u5e94\u7528\u200b--\u200b\u786c\u4ef6\u200b\u53bb\u200b\u6296\u52a8\u200b\u7535\u8def","text":"<p>\u200b\u6296\u52a8\u200b\u5982\u4f55\u200b\u4ea7\u751f\u200b\uff1f\u200b\u56e0\u4e3a\u200b\u673a\u68b0\u200b\u56fa\u6709\u200b\u7684\u200b\u7269\u7406\u200b\u7279\u6027\u200b\uff0c\u200b\u5f00\u5173\u200b\u89e6\u70b9\u200b\u5728\u200b\u77ac\u95f4\u200b\u63a5\u89e6\u200b\u7684\u200b\u65f6\u5019\u200b\u4f1a\u200b\u6709\u200b\u529b\u5b66\u200b\u7684\u200b\u56de\u5f39\u200b\uff0c\u200b\u4f7f\u200b\u5f00\u5173\u200b\u5728\u200b\u201c\u200b\u901a\u200b\u201d\u201c\u200b\u65ad\u200b\u201d\u200b\u4e4b\u95f4\u200b\u53cd\u590d\u200b\u6a2a\u200b\u8df3\u200b\uff0c\u200b\u9020\u6210\u200b 2-10 \u200b\u6beb\u79d2\u200b\u5185\u200b\u4fe1\u53f7\u200b\u4e0d\u200b\u7a33\u5b9a\u200b\u3002</p> <p>\u200b\u5728\u200b\u5927\u90e8\u5206\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u4fe1\u53f7\u200b\u6296\u52a8\u200b\u6301\u7eed\u200b\u662f\u200b\u6ca1\u6709\u200b\u5f71\u54cd\u200b\u7684\u200b\u3002\u200b\u4f46\u662f\u200b\u5f53\u200b\u4e00\u4e2a\u200b\u5f00\u5173\u200b\u8fde\u63a5\u200b\u5230\u200b\u4e00\u4e2a\u200b\u8db3\u591f\u200b\u201c\u200b\u5feb\u200b\u201d\u200b\u7684\u200b\u7535\u5b50\u8bbe\u5907\u200b\u4e0a\u65f6\u200b\uff0c\u200b\u5b83\u200b\u53ef\u4ee5\u200b\u68c0\u6d4b\u200b\u5230\u200b\u591a\u6b21\u200b\u6296\u52a8\u200b\u5e76\u200b\u505a\u51fa\u200b\u54cd\u5e94\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u4f1a\u200b\u5f15\u8d77\u200b\u95ee\u9898\u200b\u3002</p> <p>\u200b\u5728\u200b\u6b64\u200b\uff0c\u200b\u53bb\u9664\u200b\u6296\u52a8\u200b\u7684\u200b\u5fc5\u8981\u6027\u200b\u5c31\u200b\u4f53\u73b0\u200b\u51fa\u6765\u200b\u4e86\u200b\u3002</p>"},{"location":"fpga/%E9%94%81%E5%AD%98%E5%99%A8%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E6%95%B4%E7%90%86/#231","title":"2.3.1 \u200b\u539f\u7406","text":""},{"location":"fpga/%E9%94%81%E5%AD%98%E5%99%A8%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E6%95%B4%E7%90%86/#_2","title":"\u4e24\u79cd\u200b\u5e38\u89c1\u200b\u5f00\u5173\u200b\u7684\u200b\u6296\u52a8","text":"<p>\u200b\u4e0b\u56fe\u200b\u662f\u200b\u5f00\u5173\u200b\u6309\u4e0b\u200b\u65f6\u200b\uff0c\u200b\u7535\u5e73\u200b\u53d8\u5316\u200b\u7684\u200b\u793a\u610f\u56fe\u200b\u3002</p> <p>\u200b\u6709\u65f6\u200b\uff0c\u200b\u7535\u538b\u200b\u5728\u200b\u7535\u6e90\u200b\u548c\u200b\u5730\u200b\u4e4b\u95f4\u200b\u8dc3\u53d8\u200b\uff1b\u200b\u6709\u65f6\u200b\uff0c\u200b\u5219\u200b\u662f\u200b\u5728\u200b\u521d\u59cb\u503c\u200b\u548c\u200b\u67d0\u4e2a\u200b\u4e2d\u95f4\u200b\u7535\u538b\u200b\u4e4b\u95f4\u200b\u8df3\u52a8\u200b\u3002\u200b\u53d6\u51b3\u4e8e\u200b\u4e0d\u540c\u200b\u5f00\u5173\u200b\u7684\u200b\u7279\u6027\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u8dc3\u53d8\u200b\u7684\u200b\u884c\u4e3a\u200b\u4e5f\u200b\u5f80\u5f80\u200b\u5177\u6709\u200b\u4e0d\u786e\u5b9a\u6027\u200b\u3002</p> <p>\u200b\u5728\u200b\u62e8\u52a8\u200b SPST-NO \u200b\u5f00\u5173\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0cNO \u200b\u7aef\u200b\u53ef\u80fd\u200b\u53d1\u751f\u200b\u6296\u52a8\u200b\u3002\uff08\u200b\u56fe\u7247\u200b\u6765\u6e90\u200b\uff1aMax Maxfield\uff09:</p> <p></p> <p>\u200b\u5728\u200b\u62e8\u52a8\u200b SPDT \u200b\u5f00\u5173\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0cNO \u200b\u548c\u200b NC \u200b\u7aef\u5b50\u200b\u4e0a\u200b\u90fd\u200b\u53ef\u80fd\u200b\u51fa\u73b0\u200b\u6296\u52a8\u200b\u3002\uff08\u200b\u56fe\u7247\u200b\u6765\u6e90\u200b\uff1aMax Maxfield\uff09:</p> <p></p>"},{"location":"fpga/%E9%94%81%E5%AD%98%E5%99%A8%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E6%95%B4%E7%90%86/#sr","title":"\u4f7f\u7528\u200b SR \u200b\u9501\u200b\u5b58\u5668\u200b\u8fdb\u884c\u200b\u6d88\u6296","text":"<p>\u200b\u4f7f\u7528\u200b\u57fa\u4e8e\u200b\u4e0e\u975e\u95e8\u200b\u7684\u200b SR \u200b\u9501\u200b\u5b58\u5668\u200b\u5bf9\u200b SPDT \u200b\u5f00\u5173\u200b\u8fdb\u884c\u200b\u6d88\u6296\u200b\u5341\u5206\u200b\u6709\u6548\u200b\u3002\u200b\u4e0b\u56fe\u200b\u662f\u200b\u6d88\u6296\u200b\u7535\u8def\u200b\u7684\u200b\u793a\u610f\u56fe\u200b\u3002</p> <p>SR \u200b\u9501\u200b\u5b58\u5668\u200b\u7684\u200b\u201c0\u201d\u200b\u72b6\u6001\u200b\uff08\u200b\u56fe\u7247\u200b\u6765\u6e90\u200b\uff1aMax Maxfield\uff09 :</p> <p></p> <p>SR \u200b\u9501\u200b\u5b58\u5668\u200b\u7684\u200b\u201c1\u201d\u200b\u72b6\u6001\u200b\uff08\u200b\u56fe\u7247\u200b\u6765\u6e90\u200b\uff1aMax Maxfield\uff09:</p> <p></p> <p>\u200b\u4ee5\u4e0a\u200b\u56fe\u200b\u7684\u200b\u201c1\u201d\u200b\u72b6\u6001\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e3a\u4f8b\u200b\uff0c\u200b\u6211\u4eec\u200b\u5206\u6790\u200b\u4e00\u4e0b\u200b\u5de5\u4f5c\u200b\u8fc7\u7a0b\u200b\u3002</p> <p>\u200b\u6ce8\u610f\u200b\u5230\u200b\uff0c\u200b\u4e0e\u975e\u95e8\u200b\u6784\u6210\u200b\u7684\u200b\u9501\u200b\u5b58\u5668\u200b\u662f\u200b\u4f4e\u7535\u5e73\u200b\u8f93\u5165\u200b\u6709\u6548\u200b\u7684\u200b\u3002\u200b\u5f53\u200b\u5f00\u5173\u200b\u672a\u200b\u6309\u200b\u4e0b\u200b\u65f6\u200b\uff0c\u200b\u5e38\u95ed\u200b\u89e6\u70b9\u200b NO \u200b\u63a5\u5730\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u9501\u200b\u5b58\u5668\u200b\u6765\u8bf4\u200b\uff0c\u200b\u6b64\u65f6\u200b S \u200b\u7aef\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\uff0c\u200b\u6545\u200b Q \u200b\u88ab\u200b\u8bbe\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\u3002</p> <p>\u200b\u5f53\u200b\u6211\u4eec\u200b\u6309\u4e0b\u200b\u5f00\u5173\u200b\uff0c\u200b\u89e6\u7247\u200b\u5c31\u200b\u4ece\u200b NO \u200b\u65ad\u5f00\u200b\u800c\u200b\u63a5\u89e6\u200b NC\u3002\u200b\u5728\u200b\u63a5\u89e6\u200b NC \u200b\u7684\u200b\u77ac\u95f4\u200b\uff0c\u200b\u6709\u200b S = 1\uff08\u200b\u4e0a\u62c9\u200b\uff09, R = 0\uff0c\u200b\u6545\u200b Q \u200b\u88ab\u200b\u8bbe\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\uff0c\u200b\u5b8c\u6210\u200b\u7535\u5e73\u200b\u8f6c\u6362\u200b\u3002</p> <p>\u200b\u4f46\u662f\u200b\u524d\u200b\u6587\u200b\u63d0\u5230\u200b\uff0c\u200b\u7531\u4e8e\u200b\u5f00\u5173\u200b\u7684\u200b\u5f39\u6027\u200b\uff0c\u200b\u5728\u200b\u89e6\u7247\u200b\u7b2c\u4e00\u6b21\u200b\u63a5\u89e6\u200b NC \u200b\u540e\u200b\uff0c\u200b\u8fd8\u4f1a\u200b\u5f39\u8d77\u200b\u5fae\u5c0f\u200b\u7684\u200b\u8ddd\u79bb\u200b\uff0c\u200b\u4f7f\u5f97\u200b\u6b64\u65f6\u200b NC \u200b\u4e0e\u89e6\u200b\u7247\u65ad\u200b\u5f00\u200b\u3002\u200b\u6ce8\u610f\u200b\uff0c\u200b\u7531\u4e8e\u200b\u5f39\u8d77\u200b\u7684\u200b\u8ddd\u79bb\u200b\u5f88\u5c0f\u200b\uff0c\u200b\u89e6\u7247\u200b\u4e0d\u8db3\u4ee5\u200b\u78b0\u5230\u200b NO\uff0c\u200b\u56e0\u6b64\u200b\u8fd9\u65f6\u200b\u5f00\u5173\u200b\u4fa7\u200b\u7684\u200b NO\u3001NC \u200b\u90fd\u200b\u5904\u4e8e\u200b\u201c\u200b\u60ac\u7a7a\u200b\u72b6\u6001\u200b\u201d\uff0c\u200b\u5bf9\u4e8e\u200b\u9501\u200b\u5b58\u5668\u200b\u6765\u8bf4\u200b\uff0c\u200b\u7531\u4e8e\u200b\u4e0a\u62c9\u200b\u7535\u963b\u200b\u7684\u200b\u5b58\u5728\u200b\uff0cSR=11\u3002</p> <p>\u200b\u800c\u200b\u6839\u636e\u200b\u9501\u200b\u5b58\u5668\u200b\u7684\u200b\u7279\u6027\u200b\uff0c\u200b\u5f53\u200b S\u3001R \u200b\u540c\u65f6\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\u65f6\u200b\uff0c\u200b\u8f93\u51fa\u200b\u7aef\u200b\u5c06\u200b\u4fdd\u6301\u200b\u539f\u6765\u200b\u7684\u200b\u72b6\u6001\u200b\u4e0d\u53d8\u200b\u3002</p> <p>\u200b\u56e0\u6b64\u200b\uff0c\u200b\u5728\u200b\u89e6\u7247\u200b\u5f39\u5f00\u200b\u800c\u200b\u4f7f\u5f97\u200b NO\u3001NC \u200b\u60ac\u7a7a\u200b\u7684\u200b\u4e00\u5c0f\u200b\u6bb5\u65f6\u95f4\u200b\u5185\u200b\uff0cQ \u200b\u7aef\u7684\u200b\u8f93\u51fa\u200b\u5e76\u200b\u4e0d\u200b\u53d7\u5230\u200b\u5f71\u54cd\u200b\uff0c\u200b\u7ee7\u7eed\u200b\u4fdd\u6301\u200b\u4f4e\u7535\u5e73\u200b\uff0c\u200b\u6296\u52a8\u200b\u5c31\u6b64\u200b\u6d88\u9664\u200b\u3002</p> <p>\u200b\u65b9\u624d\u200b\u5206\u6790\u200b\u7684\u200b\u662f\u200b\u89e6\u7247\u200b\u53cd\u5f39\u200b\u4e00\u6b21\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u4e00\u822c\u6765\u8bf4\u200b\uff0c\u200b\u89e6\u7247\u200b\u5728\u200b\u7b2c\u4e00\u6b21\u200b\u63a5\u89e6\u200b NC \u200b\u540e\u200b\u5f80\u5f80\u200b\u4f1a\u200b\u53cd\u5f39\u200b\u6570\u6b21\u200b\uff08\u200b\u632f\u5e45\u200b\u4e0d\u65ad\u200b\u51cf\u5c0f\u200b\uff0c\u200b\u76f4\u81f3\u200b\u4e8e\u200b0\uff09\uff0c\u200b\u4f46\u200b\u901a\u8fc7\u200b\u521a\u624d\u200b\u7684\u200b\u5206\u6790\u200b\uff0c\u200b\u6211\u4eec\u200b\u77e5\u9053\u200b\u8fd9\u200b\u65e0\u5173\u7d27\u8981\u200b\u3002\u200b\u5728\u200b\u6570\u6b21\u200b\u201c\u200b\u60ac\u7a7a\u200b\uff08\u200b\u5b9e\u9645\u200b\u662f\u200b\u4e0a\u200b\u62c9\u200b\uff09-\u200b\u62c9\u4f4e\u200b-\u200b\u60ac\u7a7a\u200b-\u200b\u62c9\u4f4e\u200b\u201d\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0cSR \u200b\u9501\u200b\u5b58\u5668\u200b\u4e0d\u65ad\u200b\u201c\u200b\u4fdd\u6301\u200b-\u200b\u7f6e\u200b0-\u200b\u4fdd\u6301\u200b-\u200b\u7f6e\u200b0\u201d\uff0cQ \u200b\u7aef\u7684\u200b\u8f93\u51fa\u200b\u4e0d\u4f1a\u200b\u6539\u53d8\u200b\u3002</p> <p>\u200b\u8981\u200b\u60f3\u200b\u8ba9\u200b Q \u200b\u7aef\u200b\u56de\u5230\u200b\u9ad8\u7535\u5e73\u200b\uff0c\u200b\u552f\u4e00\u200b\u7684\u200b\u53ef\u80fd\u6027\u200b\u5c31\u662f\u200b\u677e\u624b\u200b\uff0c\u200b\u8ba9\u200b\u89e6\u70b9\u200b\u63a5\u89e6\u200b NO \u200b\u7aef\u200b\uff0c\u200b\u628a\u200b S \u200b\u7aef\u62c9\u4f4e\u200b\u3002\uff08\u200b\u563f\u563f\u200b\uff0c\u200b\u89e6\u7247\u200b\u5f39\u56de\u200b NO \u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u4e5f\u200b\u4f1a\u200b\u53cd\u590d\u200b\u6a2a\u200b\u8df3\u200b\u6570\u6b21\u200b\u7684\u200b\u3002\uff09</p>"},{"location":"fpga/%E9%94%81%E5%AD%98%E5%99%A8%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E6%95%B4%E7%90%86/#24-d","title":"2.4 D\u200b\u9501\u200b\u5b58\u5668","text":"<p>\u200b\u4e0e\u200bSR\u200b\u9501\u200b\u5b58\u5668\u200b\u4e0d\u540c\u200b\uff0cD\u200b\u9501\u200b\u5b58\u5668\u200b\u5728\u200b\u5de5\u4f5c\u200b\u4e2d\u200b\u4e0d\u200b\u5b58\u5728\u200b\u975e\u200b\u5b9a\u4e49\u200b\u72b6\u6001\u200b\uff0c\u200b\u56e0\u800c\u200b\u5f97\u5230\u200b\u5e7f\u6cdb\u200b\u7684\u200b\u5e94\u7528\u200b\u3002\u200b\u76ee\u524d\u200b\uff0cCMOS\u200b\u96c6\u6210\u7535\u8def\u200b\u4e3b\u8981\u200b\u91c7\u7528\u200b\u4f20\u8f93\u200b\u95e8\u63a7\u200bD\u200b\u9501\u200b\u5b58\u5668\u200b\u548c\u200b\u903b\u8f91\u200b\u95e8\u63a7\u200bD\u200b\u9501\u200b\u5b58\u5668\u200b\u4e24\u79cd\u200b\u7535\u8def\u200b\u7ed3\u6784\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u7279\u522b\u200b\u662f\u200b\u524d\u8005\u200b\u7535\u8def\u200b\u7ed3\u6784\u200b\u7b80\u5355\u200b\uff0c\u200b\u5728\u200b\u82af\u7247\u200b\u4e2d\u200b\u5360\u7528\u200b\u7684\u200b\u9762\u79ef\u200b\u5c0f\u200b\u800c\u200b\u66f4\u200b\u6536\u200b\u9752\u7750\u200b\u3002</p> <p>\uff08\u200b\u8fd9\u91cc\u200b\u5360\u4e2a\u200b\u5751\u4f4d\u200b\uff0c\u200b\u540e\u9762\u200b\u518d\u200b\u8bb2\u200b\uff09</p>"},{"location":"fpga/%E9%94%81%E5%AD%98%E5%99%A8%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E6%95%B4%E7%90%86/#3","title":"3. \u200b\u89e6\u53d1\u5668","text":"<p>\u200b\u8fd9\u662f\u200b\u4e00\u79cd\u200b\u5bf9\u200b\u8109\u51b2\u200b\u8fb9\u6cbf\u200b\u654f\u611f\u200b\u7684\u200b\u53cc\u7a33\u6001\u200b\u7535\u8def\u200b\uff0c\u200b\u53ea\u200b\u5bf9\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u6216\u8005\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u654f\u611f\u200b\uff0c\u200b\u800c\u200b\u5728\u200b\u5176\u5b83\u200b\u65f6\u523b\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\uff0c\u200b\u4f8b\u5982\u200b\u6211\u4eec\u200b\u719f\u77e5\u200b\u7684\u200b\u8ba1\u6570\u5668\u200b\u3001\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u3002\u200b\u8fd9\u79cd\u200b\u5bf9\u200b\u8109\u51b2\u200b\u8fb9\u6cbf\u200b\u654f\u611f\u200b\u7684\u200b\u72b6\u6001\u200b\u66f4\u65b0\u200b\u79f0\u4e3a\u200b\u89e6\u53d1\u200b\uff0c\u200b\u5177\u6709\u200b\u89e6\u53d1\u200b\u5de5\u4f5c\u200b\u7279\u6027\u200b\u7684\u200b\u5b58\u50a8\u5355\u5143\u200b\u79f0\u4e3a\u200b\u89e6\u53d1\u5668\u200b\uff0c\u200b\u6839\u636e\u200b\u89e6\u53d1\u200b\u8fb9\u6cbf\u200b\u4e0d\u540c\u200b\u53ef\u4ee5\u200b\u5206\u4e3a\u200b\uff1a\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u89e6\u53d1\u200b\u548c\u200b\u4e0b\u964d\u200b\u6cbf\u200b\u89e6\u53d1\u200b\u3002</p> <p>\u200b\u76ee\u524d\u200b\u5e94\u7528\u200b\u7684\u200b\u89e6\u53d1\u5668\u200b\u4e3b\u8981\u200b\u4e0e\u200b\u4e09\u79cd\u200b\u7535\u8def\u200b\u7ed3\u6784\u200b\uff1a\u200b\u4e3b\u4ece\u200b\u89e6\u53d1\u5668\u200b\u3001\u200b\u7ef4\u6301\u200b\u963b\u585e\u200b\u89e6\u53d1\u5668\u200b\u548c\u200b\u5229\u7528\u200b\u4f20\u8f93\u200b\u5ef6\u8fdf\u200b\u7684\u200b\u89e6\u53d1\u5668\u200b\u3002\u200b\u5176\u4e2d\u200b\u4e3b\u4ece\u200b\u7ed3\u6784\u200b\u7684\u200bD\u200b\u89e6\u53d1\u5668\u200b\u5728\u200b\u82af\u7247\u200b\u4e0a\u200b\u5360\u7528\u200b\u7684\u200b\u9762\u79ef\u200b\u6700\u5c0f\u200b\uff0c\u200b\u903b\u8f91\u8bbe\u8ba1\u200b\u4e5f\u200b\u7b80\u5355\u200b\u4ece\u800c\u200b\u5e7f\u6cdb\u200b\u4f7f\u7528\u200b</p> <p>\uff08\u200b\u8fd9\u91cc\u200b\u5360\u4e2a\u200b\u5751\u4f4d\u200b\uff0c\u200b\u540e\u9762\u200b\u518d\u200b\u8bb2\u200b\uff09</p>"},{"location":"fpga/%E9%94%81%E5%AD%98%E5%99%A8%E5%92%8C%E8%A7%A6%E5%8F%91%E5%99%A8%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%8E%E6%95%B4%E7%90%86/#_3","title":"\u53c2\u8003\u200b\u6587\u7ae0","text":"<ol> <li>\u200b\u7535\u8def\u200b\u6280\u672f\u200b\u57fa\u7840\u200b-\u200b\u6570\u5b57\u200b\u90e8\u5206\u200b-\u200b\u7b2c\u516d\u7248\u200b-\u200b\u5eb7\u200b\u534e\u5149\u200b\u4e3b\u7f16\u200b</li> <li>\u200b\u6570\u5b57\u200b\u7535\u5b50\u200b\u6280\u672f\u200b\u57fa\u7840\u200b5\u2014\u2014\u200b\u9501\u200b\u5b58\u5668\u200b\u4e0e\u200b\u89e6\u53d1\u5668\u200b_\u200b\u4e09\u6001\u200b\u8f93\u51fa\u200b\u89e6\u53d1\u5668\u200b\u53ca\u9501\u200b\u5b58\u5668\u200b\u5b9e\u9a8c\u62a5\u544a\u200b-CSDN\u200b\u535a\u5ba2\u200b</li> <li>Kimi\u200b\u4eba\u5de5\u667a\u80fd\u200b</li> <li>5.2.1 \u200b\u57fa\u4e8e\u200b\u6216\u975e\u95e8\u200b\u7684\u200bSR\u200b\u9501\u200b\u5b58\u5668\u200b_\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b_bilibili</li> <li>5.2.2 \u200b\u57fa\u4e8e\u200b\u4e0e\u975e\u95e8\u200b\u7684\u200bSR\u200b\u9501\u200b\u5b58\u5668\u200b_\u200b\u54d4\u54e9\u200b\u54d4\u54e9\u200b_bilibili</li> <li>\u200b\u57fa\u4e8e\u200bSR\u200b\u9501\u200b\u5b58\u5668\u200b\u8fdb\u884c\u200b\u6309\u952e\u200b\u6d88\u6296\u200b\u7684\u200bPCB\u200b\u7535\u8def\u8bbe\u8ba1\u200b\u4e0e\u200b\u9a8c\u8bc1\u200b | Hui-Shao's Blog</li> </ol>"},{"location":"fpga/%E9%AB%98%E9%80%9F%E5%85%89%E9%80%9A%E4%BF%A1%E9%A1%B9%E7%9B%AE/","title":"\u9ad8\u901f\u200b\u5149\u901a\u4fe1\u200b\u9879\u76ee","text":"<p>\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u00b7\u00b7\u00b7\u200b\u9ad8\u901f\u200b\u5149\u901a\u4fe1\u200b\u9879\u76ee\u200b.md</p>"},{"location":"fpga/%E9%AB%98%E9%80%9F%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%AD%A6%E4%B9%A0/","title":"\u9ad8\u901f\u63a5\u53e3\u200b\u7684\u200b\u5b66\u4e60","text":"<p>\u200b\u5f00\u53d1\u200b\u4e2d\u200b\u00b7\u00b7\u00b7\u200b\u9ad8\u901f\u63a5\u53e3\u200b\u7684\u200b\u5b66\u4e60\u200b.md</p>"},{"location":"fpga/HDLBits/Circuits/Building_Larger_Circuits/4-bit_shift_register_and_down_counter/","title":"4-bit_shift_register_and_down_counter","text":"<p>This is a placeholder for 4-bit_shift_register_and_down_counter.</p>"},{"location":"fpga/HDLBits/Circuits/Building_Larger_Circuits/Counter_with_period_1000/","title":"Counter_with_period_1000","text":"<p>This is a placeholder for Counter_with_period_1000.</p>"},{"location":"fpga/HDLBits/Circuits/Building_Larger_Circuits/FSM_Enable_shift_register/","title":"FSM_Enable_shift_register","text":"<p>This is a placeholder for FSM_Enable_shift_register.</p>"},{"location":"fpga/HDLBits/Circuits/Building_Larger_Circuits/FSM_One-hot_logic_equations/","title":"FSM_One-hot_logic_equations","text":"<p>This is a placeholder for FSM_One-hot_logic_equations.</p>"},{"location":"fpga/HDLBits/Circuits/Building_Larger_Circuits/FSM_Sequence_1101_recognizer/","title":"FSM_Sequence_1101_recognizer","text":"<p>This is a placeholder for FSM_Sequence_1101_recognizer.</p>"},{"location":"fpga/HDLBits/Circuits/Building_Larger_Circuits/FSM_The_complete_FSM/","title":"FSM_The_complete_FSM","text":"<p>This is a placeholder for FSM_The_complete_FSM.</p>"},{"location":"fpga/HDLBits/Circuits/Building_Larger_Circuits/The_complete_timer/","title":"The_complete_timer","text":"<p>This is a placeholder for The_complete_timer.</p>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Arithmetic_Circuits/100-bit_binary_adder/","title":"100 bit binary adder","text":"<pre><code>module top_module( \n    input [99:0] a, b,\n    input cin,\n    output cout,\n    output [99:0] sum );\n    assign {cout, sum} = a + b + cin;\n\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Arithmetic_Circuits/3-bit_binary_adder/","title":"3 bit binary adder","text":"<pre><code>module top_module( \n    input [2:0] a, b,    // \u200b\u4e24\u4e2a\u200b3\u200b\u4f4d\u200b\u8f93\u5165\u200b\n    input cin,            // \u200b\u8fdb\u4f4d\u200b\u8f93\u5165\u200b\n    output [2:0] cout,    // \u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n    output [2:0] sum );   // \u200b\u548c\u200b\u6570\u200b\u8f93\u51fa\u200b\n\n    // \u200b\u4e2d\u95f4\u200b\u8fdb\u4f4d\u200b\u4fe1\u53f7\u200b\n    wire c1, c2;  // \u200b\u7528\u4e8e\u200b\u8fde\u63a5\u200b\u5168\u52a0\u5668\u200b\u7684\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n\n    // \u200b\u7b2c\u4e00\u4e2a\u200b\u5168\u52a0\u5668\u200b\n    full_adder fa0 (\n        .a(a[0]),\n        .b(b[0]),\n        .cin(cin),\n        .sum(sum[0]),\n        .cout(c1)\n    );\n\n    // \u200b\u7b2c\u4e8c\u4e2a\u200b\u5168\u52a0\u5668\u200b\n    full_adder fa1 (\n        .a(a[1]),\n        .b(b[1]),\n        .cin(c1),\n        .sum(sum[1]),\n        .cout(c2)\n    );\n\n    // \u200b\u7b2c\u4e09\u4e2a\u200b\u5168\u52a0\u5668\u200b\n    full_adder fa2 (\n        .a(a[2]),\n        .b(b[2]),\n        .cin(c2),\n        .sum(sum[2]),\n        .cout(cout[2])\n    );\n\n    // \u200b\u6700\u7ec8\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n    assign cout[1] = c2;  // \u200b\u7b2c\u4e8c\u4e2a\u200b\u5168\u52a0\u5668\u200b\u7684\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n    assign cout[0] = c1;  // \u200b\u7b2c\u4e00\u4e2a\u200b\u5168\u52a0\u5668\u200b\u7684\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n\nendmodule\nmodule full_adder (\n    input a,       // \u200b\u8f93\u5165\u200bA\n    input b,       // \u200b\u8f93\u5165\u200bB\n    input cin,     // \u200b\u8fdb\u4f4d\u200b\u8f93\u5165\u200bCin\n    output sum,    // \u200b\u548c\u200b\u6570\u200b\u8f93\u51fa\u200b\n    output cout   // \u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n);\n\n    // \u200b\u548c\u200b\u6570\u200b = A XOR B XOR Cin\n    assign sum = a ^ b ^ cin;\n\n    // \u200b\u8fdb\u4f4d\u200b = (A AND B) OR (A AND Cin) OR (B AND Cin)\n    assign cout = (a &amp; b) | (a &amp; cin) | (b &amp; cin);\n\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Arithmetic_Circuits/4-digit_BCD_adder/","title":"4 digit BCD adder","text":"<pre><code>\n\n\n// \u200b\u9876\u5c42\u200b\u6a21\u5757\u200b\uff0c\u200b\u5b9e\u73b0\u200b4\u200b\u4f4d\u200bBCD\u200b\u8fdb\u4f4d\u200b\u4f20\u9012\u200b\u52a0\u6cd5\u5668\u200b\nmodule top_module (\n    input [15:0] a,    // 16\u200b\u4f4d\u200bBCD\u200b\u8f93\u5165\u200ba\uff08\u200b\u7531\u200b4\u200b\u4f4d\u200bBCD\u200b\u6570\u5b57\u200b\u7ec4\u6210\u200b\uff09\n    input [15:0] b,    // 16\u200b\u4f4d\u200bBCD\u200b\u8f93\u5165\u200bb\uff08\u200b\u7531\u200b4\u200b\u4f4d\u200bBCD\u200b\u6570\u5b57\u200b\u7ec4\u6210\u200b\uff09\n    input cin,         // \u200b\u8fdb\u4f4d\u200b\u8f93\u5165\u200b\n    output cout,       // \u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n    output [15:0] sum  // 16\u200b\u4f4d\u200bBCD\u200b\u548c\u200b\n);\n    // \u200b\u4e2d\u95f4\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u7528\u4e8e\u200b\u4fdd\u5b58\u200b\u6bcf\u4e2a\u200bBCD\u200b\u52a0\u6cd5\u5668\u200b\u7684\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n    wire c1, c2, c3;\n\n    // \u200b\u5b9e\u4f8b\u200b\u5316\u200b4\u200b\u4e2a\u200bbcd_fadd\u200b\u52a0\u6cd5\u5668\u200b\uff0c\u200b\u5206\u522b\u200b\u5904\u7406\u200b\u6bcf\u200b4\u200b\u4f4d\u200bBCD\u200b\u6570\u5b57\u200b\u7684\u200b\u52a0\u6cd5\u200b\n    bcd_fadd bcd0 (\n        .a(a[3:0]), .b(b[3:0]), .cin(cin), .cout(c1), .sum(sum[3:0]) // \u200b\u5904\u7406\u200b\u6700\u4f4e\u200b4\u200b\u4f4d\u200b\n    );\n    bcd_fadd bcd1 (\n        .a(a[7:4]), .b(b[7:4]), .cin(c1), .cout(c2), .sum(sum[7:4]) // \u200b\u5904\u7406\u200b\u6b21\u200b\u4f4e\u200b4\u200b\u4f4d\u200b\n    );\n    bcd_fadd bcd2 (\n        .a(a[11:8]), .b(b[11:8]), .cin(c2), .cout(c3), .sum(sum[11:8]) // \u200b\u5904\u7406\u200b\u6b21\u200b\u9ad8\u200b4\u200b\u4f4d\u200b\n    );\n    bcd_fadd bcd3 (\n        .a(a[15:12]), .b(b[15:12]), .cin(c3), .cout(cout), .sum(sum[15:12]) // \u200b\u5904\u7406\u200b\u6700\u9ad8\u200b4\u200b\u4f4d\u200b\n    );\n\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Arithmetic_Circuits/Adder/","title":"Adder","text":"<pre><code>module top_module (\n    input [3:0] x,\n    input [3:0] y, \n    output [4:0] sum);\n    wire c1;\n    wire c2;\n    wire c3;\n    wire c4;\n    // \u200b\u7b2c\u4e00\u4e2a\u200b\u5168\u52a0\u5668\u200b\n    full_adder fa0 (\n        .a(x[0]),\n        .b(y[0]),\n        .cin(),\n        .sum(sum[0]),\n        .cout(c1)\n    );\n    // \u200b\u7b2c\u200b2\u200b\u4e2a\u200b\u5168\u52a0\u5668\u200b\n    full_adder fa1 (\n        .a(x[1]),\n        .b(y[1]),\n        .cin(c1),\n        .sum(sum[1]),\n        .cout(c2)\n    );\n    // \u200b\u7b2c\u200b3\u200b\u4e2a\u200b\u5168\u52a0\u5668\u200b\n    full_adder fa2 (\n        .a(x[2]),\n        .b(y[2]),\n        .cin(c2),\n        .sum(sum[2]),\n        .cout(c3)\n    );\n    // \u200b\u7b2c\u200b4\u200b\u4e2a\u200b\u5168\u52a0\u5668\u200b\n    full_adder fa3 (\n        .a(x[3]),\n        .b(y[3]),\n        .cin(c3),\n        .sum(sum[3]),\n        .cout(c4)\n    );\n    assign sum[4] = c4;\nendmodule\nmodule full_adder (\n    input a,       // \u200b\u8f93\u5165\u200bA\n    input b,       // \u200b\u8f93\u5165\u200bB\n    input cin,     // \u200b\u8fdb\u4f4d\u200b\u8f93\u5165\u200bCin\n    output sum,    // \u200b\u548c\u200b\u6570\u200b\u8f93\u51fa\u200b\n    output cout   // \u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n);\n\n    // \u200b\u548c\u200b\u6570\u200b = A XOR B XOR Cin\n    assign sum = a ^ b ^ cin;\n\n    // \u200b\u8fdb\u4f4d\u200b = (A AND B) OR (A AND Cin) OR (B AND Cin)\n    assign cout = (a &amp; b) | (a &amp; cin) | (b &amp; cin);\n\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Arithmetic_Circuits/Full_adder/","title":"Full adder","text":"<pre><code>/*\n\u200b\u8f93\u5165\u200b A    \u200b\u8f93\u5165\u200b B    \u200b\u8fdb\u4f4d\u200b\u8f93\u5165\u200b (Cin)  \u200b\u548c\u200b\u6570\u200b (Sum)    \u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b (Carry)\n0   0   0   0   0\n0   0   1   1   0\n0   1   0   1   0\n0   1   1   0   1\n1   0   0   1   0\n1   0   1   0   1\n1   1   0   0   1\n1   1   1   1   1\n*/\nmodule top_module( \n    input a, b, cin,\n    output cout, sum );\nassign sum = a^b^cin;\nassign cout = (a &amp; b) | (a &amp; cin) | (b &amp; cin);\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Arithmetic_Circuits/Half_adder/","title":"Half adder","text":"<pre><code>//sum: \u200b\u8868\u793a\u200b\u548c\u200b\u6570\u200b\u8f93\u51fa\u200b\uff0c\u200b\u7b49\u4e8e\u200b\u8f93\u5165\u200bA\u200b\u548c\u200bB\u200b\u7684\u200b\u5f02\u6216\u200b\u8fd0\u7b97\u200b (A ^ B)\u3002\n//cout: \u200b\u8868\u793a\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\uff0c\u200b\u7b49\u4e8e\u200b\u8f93\u5165\u200bA\u200b\u548c\u200bB\u200b\u7684\u200b\u4e0e\u200b\u8fd0\u7b97\u200b (A &amp; B)\u3002\n/*\n\u200b\u8f93\u5165\u200b A    \u200b\u8f93\u5165\u200b B    \u200b\u548c\u200b\u6570\u200b (Sum)    \u200b\u8fdb\u4f4d\u200b (Carry)\n0   0   0   0\n0   1   1   0\n1   0   1   0\n1   1   0   1\n\n*/\nmodule top_module( \n    input a, b,\n    output cout, sum );\n    // \u200b\u548c\u200b\u6570\u200b = A XOR B\n    assign sum = a ^ b;\n\n    // \u200b\u8fdb\u4f4d\u200b = A AND B\n    assign cout = a &amp; b;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Arithmetic_Circuits/Signed_addition_overflow/","title":"Signed addition overflow","text":"<pre><code>/*\n\u200b\u8fd9\u91cc\u200b\u8981\u200b\u8bf4\u660e\u200b\u4e00\u4e0b\u200b\u8865\u7801\u200b\u7684\u200b\u76f8\u5173\u200b\u77e5\u8bc6\u70b9\u200b\uff1a\n\u200b\u8865\u7801\u200b\u662f\u200b\u8ba1\u7b97\u673a\u200b\u4e2d\u200b\u7528\u4e8e\u200b\u8868\u793a\u200b\u6709\u200b\u7b26\u53f7\u200b\u6574\u6570\u200b\uff08\u200b\u5373\u200b\u6b63\u6570\u200b\u548c\u200b\u8d1f\u6570\u200b\uff09\u200b\u7684\u200b\u65b9\u5f0f\u200b\n\n\u200b\u8865\u7801\u200b\u8868\u793a\u200b\u7684\u200b\u8303\u56f4\u200b\uff08\u200b\u6ce8\u610f\u200b\u6709\u200b\u6b63\u8d1f\u200b\u4e4b\u5206\u200b\uff09\uff1a\n\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b n \u200b\u4f4d\u200b \u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u6570\u200b\uff1a\u200b\u6700\u5927\u503c\u200b\uff1a+2^(n-1) - 1\uff0c\u200b\u6700\u5c0f\u503c\u200b\uff1a-2^(n-1)\n\u200b\u4f8b\u5982\u200b\u5bf9\u4e8e\u200b 8 \u200b\u4f4d\u200b \u200b\u8865\u7801\u200b\uff1a\u200b\u6700\u5927\u503c\u200b\uff1a+127\uff0801111111\uff09\uff0c\u200b\u6700\u5c0f\u503c\u200b\uff1a-128\uff0810000000\uff09\n\n\u200b\u5728\u200b\u8ba1\u7b97\u673a\u200b\u4e2d\u200b\uff0c\u200b\u6700\u9ad8\u200b\u4f4d\u4e3a\u200b0\u200b\u8868\u793a\u200b\u201c+\"\uff0c\u200b\u76f8\u53cd\u200b\uff0c\u200b\u6700\u9ad8\u200b\u4f4d\u4e3a\u200b1\u200b\u7684\u200b\u65f6\u5019\u200b\u8868\u793a\u200b\u201d-\u201c\n\n\u200b\u6b63\u6570\u200b\u7684\u200b\u8865\u7801\u200b\u4e0e\u200b\u539f\u7801\u200b\uff08\u200b\u6b63\u5e38\u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u8868\u793a\u200b\uff09\u200b\u76f8\u540c\u200b\n\u200b\u4f8b\u5982\u200b\uff1a5 \u200b\u7684\u200b 8 \u200b\u4f4d\u200b\u8865\u7801\u200b\u662f\u200b 00000101\u3002\n\u200b\u8d1f\u6570\u200b\u7684\u200b\u8865\u7801\u200b\u662f\u200b\u901a\u8fc7\u200b\u5bf9\u200b\u5176\u200b\u7edd\u5bf9\u503c\u200b\u7684\u200b\u4e8c\u8fdb\u5236\u200b\u8868\u793a\u200b\u53d6\u53cd\u200b\uff08\u200b\u53d6\u53cd\u200b\u662f\u200b\u6307\u200b0\u200b\u53d8\u200b1\uff0c1\u200b\u53d8\u200b0\uff09\uff0c\u200b\u7136\u540e\u200b\u52a0\u200b1\u200b\u6765\u200b\u5f97\u5230\u200b\n\u200b\u4f8b\u5982\u200b-5 \u200b\u7684\u200b\u8865\u7801\u200b\uff1a\u200b\u5148\u200b\u8868\u793a\u200b 5 \u200b\u4e3a\u200b 00000101\u3002\u200b\u53d6\u53cd\u200b\uff1a11111010\u3002\u200b\u52a0\u200b1\uff1a11111011\u3002\u200b\u6240\u4ee5\u200b -5 \u200b\u7684\u200b\u8865\u7801\u200b\u662f\u200b 11111011\u3002\n\n\u200b\u5982\u4f55\u200b\u5224\u65ad\u200b\u52a0\u6cd5\u200b\u6ea2\u51fa\u200b\uff1f\n\u200b\u7b26\u53f7\u200b\u4f4d\u200b\u76f8\u540c\u200b\uff1a\u200b\u5982\u679c\u200b a \u200b\u548c\u200b b \u200b\u7684\u200b\u7b26\u53f7\u200b\u4f4d\u200b\uff08a[7] \u200b\u548c\u200b b[7]\uff09\u200b\u76f8\u540c\u200b\uff0c\u200b\u8868\u793a\u200b\u5b83\u4eec\u200b\u7684\u200b\u52a0\u6cd5\u200b\u4e0d\u4f1a\u200b\u56e0\u4e3a\u200b\u4e0d\u540c\u200b\u7b26\u53f7\u200b\u800c\u200b\u7acb\u5373\u200b\u4ea7\u751f\u200b\u6ea2\u51fa\u200b\u3002\n\u200b\u7ed3\u679c\u200b\u7b26\u53f7\u200b\u4f4d\u200b\u4e0d\u540c\u200b\uff1a\u200b\u5982\u679c\u200b a[7] \u200b\u548c\u200b b[7] \u200b\u7684\u200b\u7b26\u53f7\u200b\u4f4d\u200b\u76f8\u540c\u200b\uff0c\u200b\u800c\u200b\u7ed3\u679c\u200b s[7] \u200b\u7684\u200b\u7b26\u53f7\u200b\u4f4d\u200b\u5374\u200b\u4e0d\u540c\u200b\uff08\u200b\u5373\u200b\u52a0\u6cd5\u200b\u7ed3\u679c\u200b\u7b26\u53f7\u200b\u4f4d\u200b\u53d1\u751f\u200b\u4e86\u200b\u53d8\u5316\u200b\uff09\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u53d1\u751f\u200b\u4e86\u200b\u6ea2\u51fa\u200b\u3002\n\u200b\u4f8b\u5982\u200b\uff1a\na + b = 127 + 1 = 128\uff0c\u200b\u4f46\u662f\u200b128\u200b\u4e0d\u80fd\u200b\u8868\u793a\u200b\u4e3a\u200b8\u200b\u4f4d\u200b\u7684\u200b\u8865\u7801\u200b\u6570\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5b83\u200b\u8d85\u8fc7\u200b\u4e86\u200b\u6700\u5927\u503c\u200b127\u3002\n\u200b\u5728\u200b\u8865\u7801\u200b\u8868\u793a\u200b\u4e2d\u200b\uff0c128 \u200b\u4f1a\u200b\u53d8\u6210\u200b 10000000\uff0c\u200b\u8fd9\u200b\u5b9e\u9645\u4e0a\u200b\u662f\u200b -128\uff0c\u200b\u6240\u4ee5\u200b\u53d1\u751f\u200b\u4e86\u200b\u6ea2\u51fa\u200b\u3002\n*/\nmodule top_module (\n    input [7:0] a,\n    input [7:0] b,\n    output [7:0] s,\n    output overflow\n); //\n\n    // \u200b\u8ba1\u7b97\u200b\u548c\u200b\u6570\u200bs\n    assign s = a + b;\n\n    // \u200b\u6ea2\u51fa\u200b\u68c0\u6d4b\u200b\uff1a\u200b\u68c0\u67e5\u200b\u7b26\u53f7\u200b\u4f4d\u200b\u7684\u200b\u53d8\u5316\u200b\n    assign overflow = (a[7] == b[7]) &amp;&amp; (s[7] != a[7]);\n\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/3-bit_population_count/","title":"3 bit population count","text":"<pre><code>module top_module(\n    input [2:0] in,  // 3\u200b\u4f4d\u200b\u8f93\u5165\u200b\u5411\u91cf\u200b\n    output reg [1:0] out  // 2\u200b\u4f4d\u200b\u8f93\u51fa\u200b\u5411\u91cf\u200b\n);\n    integer i;  // \u200b\u5faa\u73af\u200b\u53d8\u91cf\u200b\n    always @(*) begin  // \u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\n        out = 2'b00;  // \u200b\u521d\u59cb\u5316\u200b\u8f93\u51fa\u200b\u4e3a\u200b0\n        for (i = 0; i &lt; 3; i = i + 1) begin\n            out = out + in[i];  // \u200b\u7d2f\u52a0\u200b\u8f93\u5165\u200b\u5411\u91cf\u200b\u4e2d\u200b\u6bcf\u200b\u4e00\u4f4d\u200b\u7684\u200b\u503c\u200b\n        end\n    end\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/7420_chip/","title":"7420 chip","text":"<pre><code>module top_module ( \n    input p1a, p1b, p1c, p1d,\n    output p1y,\n    input p2a, p2b, p2c, p2d,\n    output p2y );\n\n    assign p1y = ~(p1a&amp;p1b&amp;p1c&amp;p1d);\n    assign p2y = ~(p2a&amp;p2b&amp;p2c&amp;p2d);\n\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/Another_gate/","title":"Another gate","text":"<pre><code>module top_module (\n    input in1,\n    input in2,\n    output out);\n    assign out = in1 &amp; (~in2); \nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/Combine_circuits_A_and_B/","title":"Combine circuits A and B","text":"<pre><code>module top_module (input x, input y, output z);\nwire A_Z1;\nwire A_Z2;\nwire B_Z1;\nwire B_Z2;\nwire AB_1;\nwire AB_2;\nassign AB_1 = A_Z1|B_Z1;\nassign AB_2 = A_Z2&amp;B_Z2;\nassign z = AB_1^AB_2;\n    a A_IA1(\n        .x(x),\n        .y(y),\n        .z(A_Z1)\n    );\n    a A_IA2(\n        .x(x),\n        .y(y),\n        .z(A_Z2)\n    );\n    b B_IB1(\n        .x(x),\n        .y(y),\n        .z(B_Z1)\n    );\n    b B_IB2(\n        .x(x),\n        .y(y),\n        .z(B_Z2)\n    );\n\nendmodule\nmodule a (\n    input wire x,\n    input wire y,\n    output wire z\n);\n    assign z = (x^y) &amp; x;\nendmodule\n\nmodule b (\n    input wire x,\n    input wire y,\n    output wire z\n); \n    assign z = ~(x^y);\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/Even_longer_vectors/","title":"Even longer vectors","text":"<pre><code>module top_module(\n    input [99:0] in,\n    output [98:0] out_both,\n    output [99:1] out_any,\n    output [99:0] out_different\n);\n    // Generate out_both: Both bit and its left neighbor are '1'\n    genvar i;\n    generate\n        for (i = 0; i &lt; 99; i = i + 1) begin : gen_out_both\n            assign out_both[i] = in[i] &amp; in[i + 1];\n        end\n    endgenerate\n\n    // Generate out_any: Either bit or its right neighbor is '1'\n    generate\n        for (i = 1; i &lt; 100; i = i + 1) begin : gen_out_any\n            assign out_any[i] = in[i] | in[i - 1];\n        end\n    endgenerate\n\n    // Generate out_different: Bit is different from its left neighbor (circular)\n    generate\n        for (i = 0; i &lt; 100; i = i + 1) begin : gen_out_different\n            assign out_different[i] = in[i] ^ in[(i + 1) % 100];\n        end\n    endgenerate\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/GND/","title":"GND","text":"<pre><code>module top_module (\n    output out);\nassign out = 1'b0;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/Gates_and_vectors/","title":"Gates and vectors","text":"<pre><code>module top_module(\n    input [3:0] in,\n    output [2:0] out_both,\n    output [3:1] out_any,\n    output [3:0] out_different\n);\n    // out_both: Both bits and their left neighbor are 1\n    assign out_both[2] = in[2] &amp; in[3];\n    assign out_both[1] = in[1] &amp; in[2];\n    assign out_both[0] = in[0] &amp; in[1];\n\n    // out_any: Either bit or its right neighbor is 1\n    assign out_any[3] = in[3] | in[2];\n    assign out_any[2] = in[2] | in[1];\n    assign out_any[1] = in[1] | in[0];\n\n    // out_different: Bit is different from its left neighbor (circular)\n    assign out_different[3] = in[3] ^ in[0];\n    assign out_different[2] = in[2] ^ in[3];\n    assign out_different[1] = in[1] ^ in[2];\n    assign out_different[0] = in[0] ^ in[1];\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/More_logic_gates/","title":"More logic gates","text":"<pre><code>module top_module( \n    input a, b,\n    output out_and,\n    output out_or,\n    output out_xor,\n    output out_nand,\n    output out_nor,\n    output out_xnor,\n    output out_anotb\n);\n// \u200b\u4e0e\u200b\u95e8\u200b\nassign out_and   = a&amp;b;\n\n// \u200b\u6216\u95e8\u200b\nassign out_or    = a|b;\n\n// \u200b\u5f02\u6216\u95e8\u200b\nassign out_xor   = a^b;\n\n// \u200b\u4e0e\u975e\u95e8\u200b\nassign out_nand  = ~(a&amp;b);\n\n// \u200b\u6216\u975e\u95e8\u200b\nassign out_nor   = ~(a|b);\n\n// \u200b\u4e0e\u200b\u95e8\u200b\nassign out_xnor  = ~a^b;\n\n// \u200b\u4e0e\u200b\u95e8\u200b\nassign out_anotb = a&amp;~b;\n\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/NOR/","title":"NOR","text":"<pre><code>module top_module (\n    input in1,\n    input in2,\n    output out);\n    assign out = ~(in1|in2);\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/Ring_or_vibrate/","title":"Ring or vibrate","text":"<pre><code>module top_module (\n    input ring,           // \u200b\u8f93\u5165\u200b\uff1a\u200b\u662f\u5426\u200b\u9700\u8981\u200b\u632f\u94c3\u200b\n    input vibrate_mode,   // \u200b\u8f93\u5165\u200b\uff1a\u200b\u662f\u5426\u200b\u5904\u4e8e\u200b\u632f\u52a8\u6a21\u5f0f\u200b\n    output ringer,        // \u200b\u8f93\u51fa\u200b\uff1a\u200b\u63a7\u5236\u200b\u632f\u94c3\u200b\u5668\u200b\n    output motor          // \u200b\u8f93\u51fa\u200b\uff1a\u200b\u63a7\u5236\u200b\u632f\u52a8\u200b\u7535\u673a\u200b\n);\n    // \u200b\u63a7\u5236\u200b\u632f\u94c3\u200b\u5668\u200b\n    assign ringer = ring &amp; ~vibrate_mode;\n\n    // \u200b\u63a7\u5236\u200b\u632f\u52a8\u200b\u7535\u673a\u200b\n    assign motor = ring &amp; vibrate_mode;\nendmodule\n</code></pre> <code>ring</code> <code>vibrate_mode</code> <code>ringer</code> <code>motor</code> 0 0 0 0 0 1 0 0 1 0 1 0 1 1 0 1"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/Simple_circuit_A/","title":"Simple circuit A","text":"<pre><code>module top_module (input x, input y, output z);\n    assign z = (x^y)&amp; x;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/Simple_circuit_B/","title":"Simple circuit B","text":"<pre><code>// \u200b\u89c2\u5bdf\u200b\u7535\u8def\u56fe\u200b\u53ef\u4ee5\u200b\u770b\u200b\u51fa\u6765\u200b\uff0cz\u200b\u7684\u200b\u8f93\u51fa\u200b\u4e0e\u200bx\u200b\u548c\u200by\u200b\u7684\u200b\u7535\u5e73\u200b\u7684\u200b\u5173\u7cfb\u200b\u5982\u4e0b\u200b\uff1a\n// \u200b\u5f53\u200bx\u200b\u4e0e\u200by\u200b\u7535\u5e73\u200b\u76f8\u540c\u200b\u65f6\u200b\uff0cz\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\n// \u200b\u5f53\u200bx\u200b\u548c\u200by\u200b\u7535\u5e73\u200b\u4e0d\u200b\u540c\u65f6\u200b\uff0cz\u200b\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\nmodule top_module ( input x, input y, output z );\n    assign z = (x==y)?1'b1:1'b0;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/Thermostat/","title":"Thermostat","text":"<pre><code>module top_module (\n    input too_cold,\n    input too_hot,\n    input mode,\n    input fan_on,\n    output heater,\n    output aircon,\n    output fan\n); \n    // \u200b\u63a7\u5236\u200b\u52a0\u70ed\u5668\u200b\n    assign heater = mode &amp; too_cold;\n\n    // \u200b\u63a7\u5236\u200b\u7a7a\u8c03\u200b\n    assign aircon = ~mode &amp; too_hot;\n\n    // \u200b\u63a7\u5236\u200b\u98ce\u6247\u200b\n    assign fan = (heater | aircon) | fan_on;\nendmodule\n\n</code></pre> <p>\u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e9b\u200b\u6d4b\u8bd5\u7528\u4f8b\u200b\uff0c\u200b\u9a8c\u8bc1\u200b\u903b\u8f91\u200b\u662f\u5426\u200b\u6b63\u786e\u200b\uff1a</p> <code>mode</code> <code>too_cold</code> <code>too_hot</code> <code>fan_on</code> <code>heater</code> <code>aircon</code> <code>fan</code> 1 1 0 0 1 0 1 1 0 0 0 0 0 0 0 0 1 0 0 1 1 0 0 0 0 0 0 0 0 0 0 1 0 0 1 1 1 0 1 1 0 1"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/Truth_tables/","title":"Truth tables","text":"<pre><code>module top_module( \n    input x3,\n    input x2,\n    input x1,  // three inputs\n    output f   // one output\n);\nassign f = ( ~x3 &amp; x2 &amp; ~x1 ) | ( ~x3 &amp; x2 &amp; x1 ) | ( x3 &amp; ~x2 &amp; x1 ) | ( x3 &amp; x2 &amp; x1 );\n\n\nendmodule\n</code></pre> <p>\u200b\u6839\u636e\u200bSoP\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u6bcf\u200b\u4e00\u884c\u200b\u8f93\u51fa\u200b\u4e3a\u200b1\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u6784\u5efa\u200b\u4e00\u4e2a\u200b AND \u200b\u95e8\u200b\u7684\u200b\u6761\u4ef6\u200b\uff08\u200b\u5373\u200b\u8be5\u884c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u8f93\u5165\u200b\u7ec4\u5408\u200b\u4e3a\u200b\u771f\u200b\uff09\uff0c\u200b\u7136\u540e\u200b\u7528\u200b OR \u200b\u95e8\u5c06\u200b\u8fd9\u4e9b\u200b\u6761\u4ef6\u200b\u7ec4\u5408\u200b\u8d77\u6765\u200b\u3002</p>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/Two-bit_equality/","title":"Two bit equality","text":"<pre><code>module top_module ( input [1:0] A, input [1:0] B, output z ); \n    assign z = (A==B)?1'b1:1'b0;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/Two_gates/","title":"Two gates","text":"<pre><code>module top_module (\n    input in1,\n    input in2,\n    input in3,\n    output out);\nwire XOR_in;\n    assign XOR_in = ~(in1^in2);\n    assign out = in3 ^ XOR_in;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Basic_Gates/Wire/","title":"Wire","text":"<pre><code>module top_module (\n    input in,\n    output out);\nassign out = in;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Karnaugh_Map_to_Circuit/3-variable/","title":"3-variable","text":"<p>This is a placeholder for 3-variable.</p>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Karnaugh_Map_to_Circuit/4-variable%281%29/","title":"4-variable(1)","text":"<p>This is a placeholder for 4-variable(1).</p>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Karnaugh_Map_to_Circuit/4-variable%282%29/","title":"4-variable(2)","text":"<p>This is a placeholder for 4-variable(2).</p>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Karnaugh_Map_to_Circuit/4-variable/","title":"4-variable","text":"<p>This is a placeholder for 4-variable.</p>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Karnaugh_Map_to_Circuit/K-map_implemented_with_a_multiplexer/","title":"K-map_implemented_with_a_multiplexer","text":"<p>This is a placeholder for K-map_implemented_with_a_multiplexer.</p>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Karnaugh_Map_to_Circuit/Karnaugh_map%281%29/","title":"Karnaugh_map(1)","text":"<p>This is a placeholder for Karnaugh_map(1).</p>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Karnaugh_Map_to_Circuit/Karnaugh_map/","title":"Karnaugh_map","text":"<p>This is a placeholder for Karnaugh_map.</p>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Karnaugh_Map_to_Circuit/Minimum_SOP_and_POS/","title":"Minimum_SOP_and_POS","text":"<p>This is a placeholder for Minimum_SOP_and_POS.</p>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Multiplexers/2-to-1_bus_multiplexer/","title":"2 to 1 bus multiplexer","text":"<pre><code>module top_module( \n    input [99:0] a, b,\n    input sel,\n    output [99:0] out );\n    always @(*)begin\n        case(sel)\n            0:out = a;\n            1:out = b;\n        endcase\n    end\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Multiplexers/2-to-1_multiplexer/","title":"2 to 1 multiplexer","text":"<pre><code>module top_module( \n    input a, b, sel,\n    output out ); \n    always @(*)begin\n        case(sel)\n            0 : out = a;\n            1 : out = b;\n        endcase\n\n    end\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Multiplexers/256-to-1_4-bit_multiplexer/","title":"256 to 1 4 bit multiplexer","text":"<pre><code>// in[sel*4 +: 4] \u200b\u8bed\u6cd5\u200b\u662f\u200bVerilog\u200b\u4e2d\u200b\u7528\u4e8e\u200b\u63d0\u53d6\u200b\u4f4d\u6bb5\u200b\uff08\u200b\u5207\u7247\u200b\uff09\u200b\u7684\u200b\u64cd\u4f5c\u200b\u3002\u200b\u5b83\u200b\u7684\u200b\u542b\u4e49\u200b\u662f\u200b\uff1a\u200b\u4ece\u200b sel * 4 \u200b\u5f00\u59cb\u200b\uff0c\u200b\u63d0\u53d6\u200b4\u200b\u4e2a\u200b\u4f4d\u200b\uff08\u200b\u5373\u200b\u6bcf\u4e2a\u200b\u9009\u62e9\u200b\u5bf9\u5e94\u200b\u7684\u200b4\u200b\u4f4d\u200b\u5bbd\u200b\u8f93\u5165\u200b\uff09\u3002\nmodule top_module( \n    input [1023:0] in,\n    input [7:0] sel,\n    output [3:0] out );\n    assign out = in[sel*4 +:4];\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Multiplexers/256-to-1_multiplexer/","title":"256 to 1 multiplexer","text":"<pre><code>module top_module( \n    input [255:0] in,\n    input [7:0] sel,\n    output out );\n    assign out = in[sel];\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Combinational_Logic/Multiplexers/9-to-1_multiplexer/","title":"9 to 1 multiplexer","text":"<pre><code>module top_module( \n    input [15:0] a, b, c, d, e, f, g, h, i,\n    input [3:0] sel,\n    output [15:0] out );\n    always@(*)begin\n        case(sel)\n            4'b0000:out = a;\n            4'b0001:out = b;\n            4'b0010:out = c;\n            4'b0011:out = d;\n            4'b0100:out = e;\n            4'b0101:out = f;\n            4'b0110:out = g;\n            4'b0111:out = h;\n            4'b1000:out = i;\n        default:out=16'hffff;\n        endcase\n    end\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Counters/12-hour_clock/","title":"12-hour_clock","text":"<p>This is a placeholder for 12-hour_clock.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Counters/4-digit_decimal_counter/","title":"4-digit_decimal_counter","text":"<p>This is a placeholder for 4-digit_decimal_counter.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Counters/Counter_1-12/","title":"Counter_1-12","text":"<p>This is a placeholder for Counter_1-12.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Counters/Counter_1000/","title":"Counter_1000","text":"<p>This is a placeholder for Counter_1000.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Counters/Decade_counter/","title":"Decade_counter","text":"<p>This is a placeholder for Decade_counter.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Counters/Decade_counter_again/","title":"Decade_counter_again","text":"<p>This is a placeholder for Decade_counter_again.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Counters/Four-bit_binary_counter/","title":"Four-bit_binary_counter","text":"<p>This is a placeholder for Four-bit_binary_counter.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Counters/Slow_decade_counter/","title":"Slow_decade_counter","text":"<p>This is a placeholder for Slow_decade_counter.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Another_FSM/","title":"Another_FSM","text":"<p>This is a placeholder for Another_FSM.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Design_a_Mealy_FSM/","title":"Design_a_Mealy_FSM","text":"<p>This is a placeholder for Design_a_Mealy_FSM.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Design_a_Moore_FSM/","title":"Design_a_Moore_FSM","text":"<p>This is a placeholder for Design_a_Moore_FSM.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/FSM%281%29/","title":"FSM(1)","text":"<p>This is a placeholder for FSM(1).</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/FSM%282%29/","title":"FSM(2)","text":"<p>This is a placeholder for FSM(2).</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/FSM%283%29/","title":"FSM(3)","text":"<p>This is a placeholder for FSM(3).</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/FSM%284%29/","title":"FSM(4)","text":"<p>This is a placeholder for FSM(4).</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/FSM%285%29/","title":"FSM(5)","text":"<p>This is a placeholder for FSM(5).</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/FSM_logic/","title":"FSM_logic","text":"<p>This is a placeholder for FSM_logic.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/FSM_next-state_logic/","title":"FSM_next-state_logic","text":"<p>This is a placeholder for FSM_next-state_logic.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/FSM_one-hot_next-state_logic/","title":"FSM_one-hot_next-state_logic","text":"<p>This is a placeholder for FSM_one-hot_next-state_logic.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Lemmings_1/","title":"Lemmings_1","text":"<p>This is a placeholder for Lemmings_1.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Lemmings_2/","title":"Lemmings_2","text":"<p>This is a placeholder for Lemmings_2.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Lemmings_3/","title":"Lemmings_3","text":"<p>This is a placeholder for Lemmings_3.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Lemmings_4/","title":"Lemmings_4","text":"<p>This is a placeholder for Lemmings_4.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/One-hot_FSM/","title":"One-hot_FSM","text":"<p>This is a placeholder for One-hot_FSM.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/One-hot_FSM_equations/","title":"One-hot_FSM_equations","text":"<p>This is a placeholder for One-hot_FSM_equations.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/PS2_packet_parser/","title":"PS2_packet_parser","text":"<p>This is a placeholder for PS2_packet_parser.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/PS2_packet_parser_and_datapath/","title":"PS2_packet_parser_and_datapath","text":"<p>This is a placeholder for PS2_packet_parser_and_datapath.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Sequence_recognition/","title":"Sequence_recognition","text":"<p>This is a placeholder for Sequence_recognition.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Serial_receiver/","title":"Serial_receiver","text":"<p>This is a placeholder for Serial_receiver.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Serial_receiver_and_datapath/","title":"Serial_receiver_and_datapath","text":"<p>This is a placeholder for Serial_receiver_and_datapath.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Serial_receiver_with_parity_checking/","title":"Serial_receiver_with_parity_checking","text":"<p>This is a placeholder for Serial_receiver_with_parity_checking.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Serial_twos_complementer_Mealy/","title":"Serial_twos_complementer_Mealy","text":"<p>This is a placeholder for Serial_twos_complementer_Mealy.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Serial_twos_complementer_Moore/","title":"Serial_twos_complementer_Moore","text":"<p>This is a placeholder for Serial_twos_complementer_Moore.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Simple_FSM_1_async/","title":"Simple_FSM_1_async","text":"<p>This is a placeholder for Simple_FSM_1_async.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Simple_FSM_1_sync/","title":"Simple_FSM_1_sync","text":"<p>This is a placeholder for Simple_FSM_1_sync.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Simple_FSM_2_async/","title":"Simple_FSM_2_async","text":"<p>This is a placeholder for Simple_FSM_2_async.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Simple_FSM_2_sync/","title":"Simple_FSM_2_sync","text":"<p>This is a placeholder for Simple_FSM_2_sync.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Simple_FSM_3_async/","title":"Simple_FSM_3_async","text":"<p>This is a placeholder for Simple_FSM_3_async.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Simple_FSM_3_sync/","title":"Simple_FSM_3_sync","text":"<p>This is a placeholder for Simple_FSM_3_sync.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Simple_one-hot_state_transitions_3/","title":"Simple_one-hot_state_transitions_3","text":"<p>This is a placeholder for Simple_one-hot_state_transitions_3.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Finite_State_Machines/Simple_state_transitions_3/","title":"Simple_state_transitions_3","text":"<p>This is a placeholder for Simple_state_transitions_3.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/Create_circuit_from_truth_table/","title":"Create_circuit_from_truth_table","text":"<p>This is a placeholder for Create_circuit_from_truth_table.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/DFF%281%29/","title":"DFF(1)","text":"<p>This is a placeholder for DFF(1).</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/DFF%282%29/","title":"DFF(2)","text":"<p>This is a placeholder for DFF(2).</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/DFF%2Bgate/","title":"DFF+gate","text":"<p>This is a placeholder for DFF+gate.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/DFF_with_asynchronous_reset/","title":"DFF_with_asynchronous_reset","text":"<p>This is a placeholder for DFF_with_asynchronous_reset.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/DFF_with_byte_enable/","title":"DFF_with_byte_enable","text":"<p>This is a placeholder for DFF_with_byte_enable.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/DFF_with_reset/","title":"DFF_with_reset","text":"<p>This is a placeholder for DFF_with_reset.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/DFF_with_reset_value/","title":"DFF_with_reset_value","text":"<p>This is a placeholder for DFF_with_reset_value.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/DFFs_and_gates/","title":"DFFs_and_gates","text":"<p>This is a placeholder for DFFs_and_gates.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/D_Latch/","title":"D_Latch","text":"<p>This is a placeholder for D_Latch.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/D_flip-flop/","title":"D_flip-flop","text":"<p>This is a placeholder for D_flip-flop.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/D_flip-flops/","title":"D_flip-flops","text":"<p>This is a placeholder for D_flip-flops.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/Detect_an_edge/","title":"Detect_an_edge","text":"<p>This is a placeholder for Detect_an_edge.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/Detect_both_edges/","title":"Detect_both_edges","text":"<p>This is a placeholder for Detect_both_edges.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/Dual-edge_triggered_flip-flop/","title":"Dual-edge_triggered_flip-flop","text":"<p>This is a placeholder for Dual-edge_triggered_flip-flop.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/Edge_capture_register/","title":"Edge_capture_register","text":"<p>This is a placeholder for Edge_capture_register.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/Mux_and_DFF%281%29/","title":"Mux_and_DFF(1)","text":"<p>This is a placeholder for Mux_and_DFF(1).</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Latches_and_Flip-Flops/Mux_and_DFF/","title":"Mux_and_DFF","text":"<p>This is a placeholder for Mux_and_DFF.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/More_Circuits/Conways_Game_of_Life_16x16/","title":"Conways_Game_of_Life_16x16","text":"<p>This is a placeholder for Conways_Game_of_Life_16x16.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/More_Circuits/Rule_110/","title":"Rule_110","text":"<p>This is a placeholder for Rule_110.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/More_Circuits/Rule_90/","title":"Rule_90","text":"<p>This is a placeholder for Rule_90.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Shift_Registers/3-bit_LFSR/","title":"3-bit_LFSR","text":"<p>This is a placeholder for 3-bit_LFSR.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Shift_Registers/3-input_LUT/","title":"3-input_LUT","text":"<p>This is a placeholder for 3-input_LUT.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Shift_Registers/32-bit_LFSR/","title":"32-bit_LFSR","text":"<p>This is a placeholder for 32-bit_LFSR.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Shift_Registers/4-bit_shift_register/","title":"4-bit_shift_register","text":"<p>This is a placeholder for 4-bit_shift_register.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Shift_Registers/5-bit_LFSR/","title":"5-bit_LFSR","text":"<p>This is a placeholder for 5-bit_LFSR.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Shift_Registers/Left-right_arithmetic_shift/","title":"Left-right_arithmetic_shift","text":"<p>This is a placeholder for Left-right_arithmetic_shift.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Shift_Registers/Left-right_rotator/","title":"Left-right_rotator","text":"<p>This is a placeholder for Left-right_rotator.</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Shift_Registers/Shift_register%281%29/","title":"Shift_register(1)","text":"<p>This is a placeholder for Shift_register(1).</p>"},{"location":"fpga/HDLBits/Circuits/Sequential_Logic/Shift_Registers/Shift_register%282%29/","title":"Shift_register(2)","text":"<p>This is a placeholder for Shift_register(2).</p>"},{"location":"fpga/HDLBits/Getting_Started/Getting_Started/","title":"Getting Started","text":"<pre><code>module top_module( output one );\nassign one = 1;\n\nendmodule\n\n\n</code></pre>"},{"location":"fpga/HDLBits/Getting_Started/Output_Zero/","title":"Output Zero","text":"<pre><code>module top_module(\n    output zero\n);// Module body starts after semicolon\nassign zero = 0;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Build_a_circuit_from_a_simulation_waveform/Combinational_circuit1/","title":"Combinational_circuit1","text":"<p>This is a placeholder for Combinational_circuit1.</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Build_a_circuit_from_a_simulation_waveform/Combinational_circuit2/","title":"Combinational_circuit2","text":"<p>This is a placeholder for Combinational_circuit2.</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Build_a_circuit_from_a_simulation_waveform/Combinational_circuit3/","title":"Combinational_circuit3","text":"<p>This is a placeholder for Combinational_circuit3.</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Build_a_circuit_from_a_simulation_waveform/Combinational_circuit4/","title":"Combinational_circuit4","text":"<p>This is a placeholder for Combinational_circuit4.</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Build_a_circuit_from_a_simulation_waveform/Combinational_circuit5/","title":"Combinational_circuit5","text":"<p>This is a placeholder for Combinational_circuit5.</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Build_a_circuit_from_a_simulation_waveform/Combinational_circuit6/","title":"Combinational_circuit6","text":"<p>This is a placeholder for Combinational_circuit6.</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Build_a_circuit_from_a_simulation_waveform/Sequential_circuit10/","title":"Sequential_circuit10","text":"<p>This is a placeholder for Sequential_circuit10.</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Build_a_circuit_from_a_simulation_waveform/Sequential_circuit7/","title":"Sequential_circuit7","text":"<p>This is a placeholder for Sequential_circuit7.</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Build_a_circuit_from_a_simulation_waveform/Sequential_circuit8/","title":"Sequential_circuit8","text":"<p>This is a placeholder for Sequential_circuit8.</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Build_a_circuit_from_a_simulation_waveform/Sequential_circuit9/","title":"Sequential_circuit9","text":"<p>This is a placeholder for Sequential_circuit9.</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Finding_bugs_in_code/Add_sub/","title":"Add_sub","text":"<p>This is a placeholder for Add_sub.</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Finding_bugs_in_code/Case_statement/","title":"Case_statement","text":"<p>This is a placeholder for Case_statement.</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Finding_bugs_in_code/Mux%281%29/","title":"Mux(1)","text":"<p>This is a placeholder for Mux(1).</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Finding_bugs_in_code/Mux/","title":"Mux","text":"<p>This is a placeholder for Mux.</p>"},{"location":"fpga/HDLBits/Verification_Reading%20Simulations/Finding_bugs_in_code/NAND/","title":"NAND","text":"<p>This is a placeholder for NAND.</p>"},{"location":"fpga/HDLBits/Verilog_Language/7458_chip/","title":"7458 chip","text":"<pre><code>module top_module ( \n    input p1a, p1b, p1c, p1d, p1e, p1f,\n    output p1y,\n    input p2a, p2b, p2c, p2d,\n    output p2y );\nwire a;\nwire b;\nwire c;\nwire d;\nassign a = p1a&amp;p1c&amp;p1b;\nassign b = p1f&amp;p1e&amp;p1d;\nassign p1y = a|b;\nassign c = p2a&amp;p2b;\nassign d = p2c&amp;p2d;\nassign p2y = c|d;\n\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/AND_gate/","title":"AND gate","text":"<pre><code>module top_module( \n    input a, \n    input b, \n    output out );\nassign out = a &amp; b;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Adder-subtractor/","title":"Adder subtractor","text":"<pre><code>module top_module(\n    input [31:0] a,\n    input [31:0] b,\n    input sub,\n    output [31:0] sum\n);\n    wire [31:0] sub_1;\n    wire cout_1;\n    wire [15:0]sum_1;\n    wire [15:0]sum_2;\n\n    assign sub_1 = b^{32{sub}};\n    add16 add16_inst1(\n        .a(a[15:0]),\n        .b(sub_1[15:0]),\n        .cin(sub),\n        .cout(cout_1),\n        .sum(sum_1)\n    );\n    add16 add16_inst2(\n        .a(a[31:16]),\n        .b(sub_1[31:16]),\n        .cin(cout_1),\n        .cout(),\n        .sum(sum_2)\n    );\n    assign sum = {sum_2,sum_1};\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Adder_1/","title":"Adder 1","text":"<pre><code>/*\n\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u6ce8\u610f\u200b\u5b9a\u4e49\u200b\u7684\u200b\u4f4d\u200b\u5bbd\u200b\uff0c\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5b9e\u73b0\u200b\u7684\u200b\u662f\u200b\u4e24\u4e2a\u200b16\u200b\u4f4d\u200b\u52a0\u6cd5\u5668\u200b\u7684\u200b\u5b9e\u4f8b\u200b\u5316\u6765\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b32\u200b\u4f4d\u200b\u7684\u200b\u52a0\u6cd5\u5668\u200b\uff0c\n\u200b\u5728\u200b\u5b9a\u4e49\u200b\u53d8\u91cf\u200b\u7684\u200b\u65f6\u5019\u200b\u6ce8\u610f\u200b\u53d8\u91cf\u200b\u7684\u200b\u4f4d\u200b\u5bbd\u4f4d\u200b16\u200b\u4f4d\u200b\u5bbd\u200b\uff0c\u200b\u5728\u200b\u8fde\u63a5\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u7684\u200b16\u200b\u4f4d\u200b\u52a0\u6cd5\u5668\u200b\u65f6\u200b\uff0c\u200b\u8fde\u63a5\u200b\u7684\u200b\u53c2\u6570\u200b\u5e94\u200b\u6ce8\u610f\u200b\u533a\u5206\u200b\u4f4e\u200b16\u200b\u4f4d\u200b\u548c\u200b\u9ad8\u200b16\u200b\u4f4d\u200b\u8fdb\u884c\u200b\u52a0\u6cd5\u200b\u64cd\u4f5c\u200b\n\nQ&amp;A\n\u200b\u8f93\u51fa\u200bsum\u200b\u65f6\u200b\u4f7f\u7528\u200b\u5c06\u200bsum_1\u200b\u548c\u200bsum_2\u200b\u62fc\u63a5\u200b\u7684\u200b\u65b9\u5f0f\u200b\u8fdb\u884c\u200b\u8f93\u51fa\u200b\uff1f\n\u200b\u56e0\u4e3a\u200b\u5982\u679c\u200b\u76f4\u63a5\u200b\u5c06\u200bsum_1\u200b\u548c\u200bsum_2\u200b\u76f8\u52a0\u200b\uff08\u200b\u5982\u200bsum_1 + sum_2\uff09\uff0c\u200b\u8fd9\u200b\u5c06\u200b\u5bfc\u81f4\u200b\u9519\u8bef\u200b\u7684\u200b\u7ed3\u679c\u200b\u3002\u200b\u56e0\u4e3a\u200bsum_1\u200b\u548c\u200bsum_2\u200b\u5206\u522b\u200b\u4ee3\u8868\u200b\u4e0d\u540c\u200b\u4f4d\u200b\u5bbd\u200b\u7684\u200b\u7ed3\u679c\u200b\uff0c\u200b\u76f4\u63a5\u200b\u76f8\u52a0\u200b\u4f1a\u200b\u4e22\u5931\u200b\u9ad8\u4f4d\u200b\u4fe1\u606f\u200b\u3002\n\u200b\u5047\u8bbe\u200b\uff1a\na = 4'b0111\uff08\u200b\u4e8c\u8fdb\u5236\u200b\u8868\u793a\u200b\u7684\u200b7\uff09\nb = 4'b0101\uff08\u200b\u4e8c\u8fdb\u5236\u200b\u8868\u793a\u200b\u7684\u200b5\uff09\n\u200b\u52a0\u6cd5\u200b\u8fc7\u7a0b\u200b\u5982\u4e0b\u200b\uff1a\n  0111\n+ 0101\n------\n  1100\n\u200b\u7ed3\u679c\u200b\u662f\u200b4'b1100\uff08\u200b\u4e8c\u8fdb\u5236\u200b\u8868\u793a\u200b\u7684\u200b12\uff09\u3002\u200b\u5176\u4e2d\u200b\u6709\u200b\u8fdb\u4f4d\u200b\u7684\u200b\u6982\u5ff5\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5c06\u200b\u7b2c\u4e00\u4e2a\u200b\u52a0\u6cd5\u5668\u200b\u4e2d\u200bcout\uff08Carry-Out\uff0c\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\uff09\u200b\u8fde\u63a5\u200b\u5230\u200b\u7b2c\u4e8c\u4e2a\u200b\u52a0\u6cd5\u5668\u200b\u4e2d\u200bcin\uff08Carry-In\uff0c\u200b\u8fdb\u4f4d\u200b\u8f93\u5165\u200b\uff09\n\u200b\u5b9e\u73b0\u200b\u8fdb\u4f4d\u200b\n*/\nmodule top_module(\n    input [31:0] a,\n    input [31:0] b,\n    output [31:0] sum\n);\n    wire [15:0]sum_1;\n    wire [15:0]sum_2;\nwire cout_1;\n\n    add16 add16_inst1(\n        .a(a[15:0]),\n        .b(b[15:0]),\n        .cin(0),\n        .sum(sum_1),\n        .cout(cout_1)\n    );\n    add16 add16_inst2(\n        .a(a[31:16]),\n        .b(b[31:16]),\n        .cin(cout_1),\n        .sum(sum_2),\n        .cout()\n    );\n    assign sum = {sum_2,sum_1};\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Adder_2/","title":"Adder 2","text":"<pre><code>//\u200b\u8fd9\u91cc\u200b\u5b9e\u4f8b\u200b\u5316\u200b\u4e24\u4e2a\u200b16\u200b\u4f4d\u200b\u52a0\u6cd5\u5668\u200b\u5b9e\u73b0\u200b32\u200b\u4f4d\u200b\u52a0\u6cd5\u5668\u200b\uff0c\u200b\u4ee3\u7801\u200b\u548c\u200b\u4e0a\u200b\u4e00\u6761\u200b\u4ee3\u7801\u200b\u76f8\u540c\u200b\nmodule top_module (\n    input [31:0] a,\n    input [31:0] b,\n    output [31:0] sum\n);//\nwire [15:0] sum_1;  // \u200b\u4f4e\u200b16\u200b\u4f4d\u200b\u7684\u200b\u7ed3\u679c\u200b\n    wire [15:0] sum_2;  // \u200b\u9ad8\u200b16\u200b\u4f4d\u200b\u7684\u200b\u7ed3\u679c\u200b\n    wire cout_1;         // \u200b\u4f4e\u200b16\u200b\u4f4d\u200b\u52a0\u6cd5\u200b\u7684\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n\n    // \u200b\u5b9e\u4f8b\u200b\u5316\u200b\u7b2c\u4e00\u4e2a\u200badd16\u200b\u6a21\u5757\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u4f4e\u200b16\u200b\u4f4d\u200b\n    add16 add16_inst1 (\n        .a(a[15:0]),\n        .b(b[15:0]),\n        .cin(0),         // \u200b\u5047\u8bbe\u200b\u8fdb\u4f4d\u200b\u8f93\u5165\u200b\u4e3a\u200b0\n        .sum(sum_1),\n        .cout(cout_1)\n    );\n\n    // \u200b\u5b9e\u4f8b\u200b\u5316\u200b\u7b2c\u4e8c\u4e2a\u200badd16\u200b\u6a21\u5757\u200b\uff0c\u200b\u8ba1\u7b97\u200b\u9ad8\u200b16\u200b\u4f4d\u200b\n    add16 add16_inst2 (\n        .a(a[31:16]),\n        .b(b[31:16]),\n        .cin(cout_1),    // \u200b\u4f4e\u200b16\u200b\u4f4d\u200b\u52a0\u6cd5\u200b\u7684\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\u4f5c\u4e3a\u200b\u9ad8\u200b16\u200b\u4f4d\u200b\u52a0\u6cd5\u200b\u7684\u200b\u8fdb\u4f4d\u200b\u8f93\u5165\u200b\n        .sum(sum_2),\n        .cout()          // \u200b\u5ffd\u7565\u200b\u9ad8\u200b16\u200b\u4f4d\u200b\u52a0\u6cd5\u200b\u7684\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n    );\n\n    // \u200b\u7ec4\u5408\u200b\u4f4e\u200b16\u200b\u4f4d\u200b\u548c\u200b\u9ad8\u200b16\u200b\u4f4d\u200b\u7684\u200b\u7ed3\u679c\u200b\n    assign sum = {sum_2, sum_1};\nendmodule\n\n// \u200b\u52a8\u624b\u200b\u5b9e\u9645\u200b\u7f16\u5199\u200b\u4e00\u4e2a\u200b\u52a0\u6cd5\u5668\u200b\n/*\n\u200b\u89e3\u91ca\u200bXOR\uff08\u200b\u5f02\u6216\u95e8\u200b\uff09\uff1a\u200b\u7b26\u53f7\u200b\u4e3a\u200b\u201c^\u201d\uff0c\u200b\u5982\u679c\u200b\u4e24\u4e2a\u200b\u503c\u200b\u4e0d\u200b\u76f8\u540c\u200b\uff0c\u200b\u5219\u200b\u5f02\u6216\u200b\u7ed3\u679c\u200b\u4e3a\u200b1\uff1b\u200b\u5982\u679c\u200b\u4e24\u4e2a\u200b\u503c\u200b\u76f8\u540c\u200b\uff0c\u200b\u5219\u200b\u5f02\u6216\u200b\u7ed3\u679c\u200b\u4e3a\u200b0\n\u200b\u8ba1\u7b97\u200b\u548c\u200b\u7684\u200b\u4f8b\u5b50\u200b\uff1a\u200b\u5047\u8bbe\u200ba = 1\uff0cb = 1\uff0ccin = 0\uff0c\u200b\u8ba1\u7b97\u200b\u548c\u200b\uff1asum=1\u22951\u22950=0\uff0c\u200b\u5728\u200b\u4e00\u4f4d\u200b\u52a0\u6cd5\u5668\u200b\u8f93\u51fa\u200b\u7684\u200b\u5c31\u662f\u200b0\u3002\n\n\n\u200b\u8ba1\u7b97\u200b\u8fdb\u4f4d\u200b\u7684\u200b\u4f8b\u5b50\u200b\uff1a\n\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200bcout\u200b\u8868\u793a\u200b\u4e09\u4e2a\u200b\u8f93\u5165\u200b\u4f4d\u200b\u76f8\u52a0\u200b\u662f\u5426\u200b\u4ea7\u751f\u200b\u4e86\u200b\u8fdb\u4f4d\u200b\u3002\u200b\u8fdb\u4f4d\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200bAND\u200b\u548c\u200bOR\u200b\u8fd0\u7b97\u200b\u6765\u200b\u8ba1\u7b97\u200b\u3002\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff1a\n\u200b\u5982\u679c\u200ba\u200b\u548c\u200bb\u200b\u90fd\u200b\u4e3a\u200b1\uff0c\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u8fdb\u4f4d\u200b\u3002\n\u200b\u5982\u679c\u200bb\u200b\u548c\u200bcin\u200b\u90fd\u200b\u4e3a\u200b1\uff0c\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u8fdb\u4f4d\u200b\u3002\n\u200b\u5982\u679c\u200ba\u200b\u548c\u200bcin\u200b\u90fd\u200b\u4e3a\u200b1\uff0c\u200b\u4f1a\u200b\u4ea7\u751f\u200b\u8fdb\u4f4d\u200b\u3002\n\u200b\u5047\u8bbe\u200b\uff1a\na = 1\nb = 1\ncin = 0\n\u200b\u8ba1\u7b97\u200b\u8fdb\u4f4d\u200b\uff1a\ncout=(1&amp;1)|(1&amp;0)|(1&amp;0)=1\n\n\u200b\u603b\u7ed3\u200b\uff1a\n\u200b\u8ba1\u7b97\u200b\u8fc7\u7a0b\u200b\u5982\u4e0b\u200b\uff1a\n\u200b\u548c\u200b\uff08Sum\uff09\uff1a\nassign sum = a ^ b ^ cin;\nsum = 1 ^ 1 ^ 1 = 1;\n\n\u200b\u8fdb\u4f4d\u200b\uff08Carry-Out\uff09\uff1a\nassign cout = (a &amp; b) | (b &amp; cin) | (a &amp; cin);\ncout = (1 &amp; 1) | (1 &amp; 1) | (1 &amp; 1) = 1 | 1 | 1 = 1;\n\u200b\u56e0\u6b64\u200b\uff0c\u200b\u8f93\u51fa\u200b\u4e3a\u200b\uff1a\nsum = 1\ncout = 1\n*/\nmodule add1 (\n    input a,       // \u200b\u8f93\u5165\u200ba\n    input b,       // \u200b\u8f93\u5165\u200bb\n    input cin,     // \u200b\u8fdb\u4f4d\u200b\u8f93\u5165\u200b\n    output sum,    // \u200b\u548c\u200b\n    output cout    // \u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n);\n    // \u200b\u8ba1\u7b97\u200b\u548c\u200b\n    assign sum = a ^ b ^ cin;  // XOR\u200b\u8fd0\u7b97\u200b\u7528\u4e8e\u200b\u8ba1\u7b97\u200b\u548c\u200b\n    // \u200b\u8ba1\u7b97\u200b\u8fdb\u4f4d\u200b\n    assign cout = (a &amp; b) | (b &amp; cin) | (a &amp; cin);  // OR\u200b\u8fd0\u7b97\u200b\u7528\u4e8e\u200b\u8ba1\u7b97\u200b\u8fdb\u4f4d\u200b\n\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Always_blocks_%28clocked%29/","title":"Always blocks (clocked)","text":"<pre><code>// synthesis verilog_input_version verilog_2001\nmodule top_module(\n    input clk,\n    input a,\n    input b,\n    output wire out_assign,\n    output reg out_always_comb,\n    output reg out_always_ff   );\nassign out_assign = a^b;\n    always @(*) begin\n        out_always_comb = a^b;\n    end\n\n    always @(posedge clk) begin\n        out_always_ff &lt;= a^b;\n    end\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Always_blocks_%28combinational%29/","title":"Always blocks (combinational)","text":"<pre><code>// synthesis verilog_input_version verilog_2001\nmodule top_module(\n    input a, \n    input b,\n    output wire out_assign,\n    output reg out_alwaysblock\n);\nassign out_assign = a&amp;b;\n    always @(*) begin\n        out_alwaysblock = a&amp;b;\n    end\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Avoiding_latches/","title":"Avoiding latches","text":"<pre><code>// synthesis verilog_input_version verilog_2001\nmodule top_module (\n    input [15:0] scancode,\n    output reg left,\n    output reg down,\n    output reg right,\n    output reg up\n);\n\n    always @(*) begin\n        // \u200b\u521d\u59cb\u5316\u200b\u6240\u6709\u200b\u8f93\u51fa\u200b\u4fe1\u53f7\u200b\u4e3a\u200b0\n        left = 1'b0;\n        down = 1'b0;\n        right = 1'b0;\n        up = 1'b0;\n\n        // \u200b\u6839\u636e\u200b\u626b\u63cf\u200b\u7801\u200b\u8bbe\u7f6e\u200b\u5bf9\u5e94\u200b\u7684\u200b\u8f93\u51fa\u200b\u4fe1\u53f7\u200b\n        case (scancode)\n            16'hE06B: left = 1'b1;  // \u200b\u5de6\u200b\u7bad\u5934\u952e\u200b\n            16'hE072: down = 1'b1;  // \u200b\u5411\u4e0b\u200b\u7bad\u5934\u952e\u200b\n            16'hE074: right = 1'b1; // \u200b\u53f3\u200b\u7bad\u5934\u952e\u200b\n            16'hE075: up = 1'b1;    // \u200b\u5411\u4e0a\u200b\u7bad\u5934\u952e\u200b\n            // \u200b\u5176\u4ed6\u200b\u626b\u63cf\u200b\u7801\u200b\u4e0d\u200b\u5904\u7406\u200b\uff0c\u200b\u4fdd\u6301\u200b\u8f93\u51fa\u200b\u4e3a\u200b0\n        endcase\n    end\n\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Bitwise_operators/","title":"Bitwise operators","text":"<pre><code>module top_module( \n    input [2:0] a,\n    input [2:0] b,\n    output [2:0] out_or_bitwise,\n    output out_or_logical,\n    output [5:0] out_not\n);\nassign out_or_bitwise = a|b;\nassign out_or_logical = a||b;\n    assign out_not = {~b,~a};\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Carry-select_adder/","title":"Carry select adder","text":"<pre><code>module top_module(\n    input [31:0] a,\n    input [31:0] b,\n    output [31:0] sum\n);\n    wire [15:0] sum_1;\n    wire [15:0] sum_2;\n    wire [15:0] sum_3;\n    wire cout_1;\n    wire cout_2;\n    //\u200b\u4f4e\u200b16\u200b\u4f4d\u200b\u8ba1\u7b97\u200b\n    add16 add16_inst1(\n        .a(a[15:0]),\n        .b(b[15:0]),\n        .cin(0),\n        .cout(cout_1),\n        .sum(sum_1)\n    );\n    //\u200b\u9ad8\u200b16\u200b\u4f4d\u200b\u8ba1\u7b97\u200b\n    add16 add16_inst2(\n        .a(a[31:16]),\n        .b(b[31:16]),\n        .cin(0),\n        .cout(cout_2),\n        .sum(sum_2)\n    );\n    add16 add16_inst3(\n        .a(a[31:16]),\n        .b(b[31:16]),\n        .cin(1),\n        .cout(),\n        .sum(sum_3)\n    );\n\n    //2\u200b\u5230\u200b1\u200b\u591a\u8def\u590d\u7528\u200b\u5668\u200b\u7684\u200b\u4e24\u79cd\u200b\u5199\u6cd5\u200b\u5982\u4e0b\u200b\uff0c\u200b\u9009\u62e9\u200b\u4e00\u79cd\u200b\u5373\u53ef\u200b\n    always @(*) begin \n        case(cout_1)\n            1'b0:sum = {sum_2,sum_1};\n            1'b1:sum = {sum_3,sum_1};\n        endcase\n    end\n\n/*\n    // \u200b\u4f7f\u7528\u200b2-to-1\u200b\u591a\u8def\u590d\u7528\u200b\u5668\u200b\u9009\u62e9\u200b\u6b63\u786e\u200b\u7684\u200b\u7ed3\u679c\u200b\n    assign sum = {cout_1 ? sum_3 : sum_2, sum_1};*/\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Case_statement/","title":"Case statement","text":"<pre><code>// synthesis verilog_input_version verilog_2001\nmodule top_module ( \n    input [2:0] sel, \n    input [3:0] data0,\n    input [3:0] data1,\n    input [3:0] data2,\n    input [3:0] data3,\n    input [3:0] data4,\n    input [3:0] data5,\n    output reg [3:0] out   );//\n\n    always@(*) begin  // This is a combinational circuit\n        case(sel)\n            3'b000:out = data0;\n            3'b001:out = data1;\n            3'b010:out = data2;\n            3'b011:out = data3;\n            3'b100:out = data4;\n            3'b101:out = data5;\n            default:out = 0;\n        endcase\n    end\n\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Combinational_for-loop_255-bit_population_count/","title":"Combinational for loop 255 bit population count","text":"<pre><code>/*\u200b\u4e0b\u9762\u200b\u7684\u200b\u6ce8\u91ca\u200b\u7684\u200b\u4ee3\u7801\u200b\u4e3a\u4ec0\u4e48\u200b\u4e0d\u80fd\u200b\u7528\u200b\uff1a\n\u200b\u5728\u200bVerilog\u200b\u4e2d\u200b\uff0cgenerate\u200b\u5757\u200b\u901a\u5e38\u200b\u7528\u4e8e\u200b\u5728\u200b\u7f16\u8bd1\u200b\u65f6\u200b\u751f\u6210\u200b\u786c\u4ef6\u200b\u7ed3\u6784\u200b\uff0c\n\u200b\u4f8b\u5982\u200b\u91cd\u590d\u200b\u7684\u200b\u903b\u8f91\u200b\u6a21\u5757\u200b\u6216\u200b\u6761\u4ef6\u200b\u751f\u6210\u200b\u7684\u200b\u786c\u4ef6\u200b\u3002\u200b\u7136\u800c\u200b\uff0c\u200b\u5728\u200b\u4f60\u200b\u7684\u200b\u201c\u200b\u4eba\u53e3\u200b\u8ba1\u6570\u200b\u201d\u200b\u7535\u8def\u200b\u4e2d\u200b\uff0c\u200b\u76ee\u6807\u200b\u662f\u200b\u8ba1\u7b97\u200b\u4e00\u4e2a\u200b255\u200b\u4f4d\u200b\u8f93\u5165\u200b\u5411\u91cf\u200b\u4e2d\u200b1\u200b\u7684\u200b\u6570\u91cf\u200b\uff0c\n\u200b\u8fd9\u200b\u672c\u8d28\u200b\u4e0a\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\u95ee\u9898\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u786c\u4ef6\u200b\u7ed3\u6784\u200b\u751f\u6210\u200b\u95ee\u9898\u200b\u3002\n\u200b\u56e0\u6b64\u200b\uff0c\u200b\u4f7f\u7528\u200balways @(*)\u200b\u5757\u200b\u6765\u200b\u5b9e\u73b0\u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\u662f\u200b\u66f4\u200b\u5408\u9002\u200b\u7684\u200b\u9009\u62e9\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u4f7f\u7528\u200bgenerate\u200b\u5757\u200b\u3002\n\n\nmodule top_module( \n    input [254:0] in,\n    output [7:0] out );\n    reg [7:0] cnt;\n\n// \u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u5faa\u73af\u200b\u6765\u200b\u9010\u4f4d\u200b\u67e5\u770b\u200b\u6bcf\u200b\u4e00\u4f4d\u200b\u7684\u200b\u503c\u200b\n    genvar i;\n    generate\n        for (i = 0; i &lt; 255; i = i + 1) begin : gen_loop\n            always@(*)begin\n                if(in[i]==1) \n                    cnt=cnt+1'd1;\n                else\n                    cnt=cnt;\n            end\n        end\n    endgenerate\n    assign out = cnt;\nendmodule\n*/\n\nmodule top_module(\n    input [254:0] in,\n    output reg [7:0] out\n);\n    integer i; // \u200b\u7528\u4e8e\u200b\u5faa\u73af\u200b\u7684\u200b\u6574\u6570\u200b\u53d8\u91cf\u200b\n    always @(*) begin\n        out = 0; // \u200b\u521d\u59cb\u5316\u200b\u8ba1\u6570\u5668\u200b\u4e3a\u200b0\n        for (i = 0; i &lt; 255; i = i + 1) begin\n            if (in[i]) begin\n                out = out + 1; // \u200b\u5982\u679c\u200b\u5f53\u524d\u200b\u4f4d\u4e3a\u200b1\uff0c\u200b\u5219\u200b\u8ba1\u6570\u5668\u200b\u52a0\u200b1\n            end\n        end\n    end\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Combinational_for-loop_Vector_reversal_2/","title":"Combinational for loop Vector reversal 2","text":"<pre><code>module top_module(\n    input [99:0] in,\n    output [99:0] out\n);\n    // \u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u5faa\u73af\u200b\u6765\u200b\u9010\u4f4d\u200b\u53cd\u8f6c\u200b\u8f93\u5165\u200b\u5411\u91cf\u200b\u7684\u200b\u4f4d\u200b\u987a\u5e8f\u200b\n    genvar i;\n    generate\n        for (i = 0; i &lt; 100; i = i + 1) begin : gen_loop\n            assign out[i] = in[99 - i];\n        end\n    endgenerate\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Conditional_ternary_operator/","title":"Conditional ternary operator","text":"<pre><code>module top_module (\n    input [7:0] a, b, c, d,\n    output [7:0] min);//\n    wire [7:0] min_ab;\n    wire [7:0] min_cd;\n    wire [7:0] min_ab_cd;\n    // assign intermediate_result1 = compare? true: false;\n    assign min_ab = (a &lt; b) ? a : b;\n    assign min_cd = (c &lt; d) ? c : d;\n    assign min_ab_cd = (min_ab &lt; min_cd) ? min_ab : min_cd;\n    assign min = min_ab_cd;\n\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Connecting_ports_by_name/","title":"Connecting ports by name","text":"<pre><code>/*\n\u200b\u5728\u200b\u8fd9\u4e2a\u200b\u4ee3\u7801\u200b\u4e2d\u200b\uff0c\u200b\u540c\u6837\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u6309\u4f4d\u200b\u8fde\u63a5\u200b\u7684\u200b\u8bed\u6cd5\u200b\uff0c\u200b\u53ea\u4e0d\u8fc7\u200b\u4e0d\u200b\u77e5\u9053\u200b\u4e3a\u4ec0\u4e48\u200b\u5728\u200b\u4f7f\u7528\u200b\u6309\u4f4d\u200b\u8fde\u63a5\u200b\u7684\u200b\u65f6\u5019\u200b\u65f6\u5e8f\u200b\u4e0e\u200b\u9884\u671f\u200b\u65f6\u5e8f\u200b\u4e0d\u200b\u4e00\u81f4\u200b\u3002\n*/\nmodule top_module ( \n    input a, \n    input b, \n    input c,\n    input d,\n    output out1,\n    output out2\n);\n    mod_a mod_a_inst(\n        .out1(out1),\n        .out2(out2),\n        .in1(a),\n        .in2(b),\n        .in3(c),\n        .in4(d)\n    );\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Connecting_ports_by_position/","title":"Connecting ports by position","text":"<pre><code>/*\n\u200b\u5728\u200b Verilog \u200b\u4e2d\u200b\uff0c\u200b\u7aef\u53e3\u200b\u8fde\u63a5\u200b\u6709\u200b\u4e24\u79cd\u200b\u4e3b\u8981\u200b\u65b9\u5f0f\u200b\uff1a\n\u200b\u6309\u200b\u4f4d\u7f6e\u200b\u8fde\u63a5\u200b\uff08Positional Connection\uff09\uff1a\n\u200b\u6309\u200b\u540d\u79f0\u200b\u8fde\u63a5\u200b\uff08Named Connection\uff09\uff1a\n\u200b\u5176\u4e2d\u200b\u6309\u200b\u4f4d\u7f6e\u200b\u8fde\u63a5\u200b\u662f\u200b\u6309\u7167\u200b\u7aef\u53e3\u200b\u5728\u200b\u6a21\u5757\u200b\u58f0\u660e\u200b\u4e2d\u200b\u7684\u200b\u987a\u5e8f\u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b\u7684\u200b\uff0c\u200b\u4f8b\u5982\u200b\u9898\u76ee\u200b\u4e2d\u8bf4\u200b\u5230\u200bmodule mod_a ( output, output, input, input, input, input );\n\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u5c06\u200bout1\u200b\u548c\u200bout2\uff0ca,b,c,d,\u200b\u8fd9\u79cd\u200b\u987a\u5e8f\u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b\u3002\u200b\u5bf9\u5e94\u200b\u4e86\u200bmod_a\u200b\u4e2d\u200b\u6a21\u5757\u200b\u5b9a\u4e49\u200b\u7684\u200b\u987a\u5e8f\u200b\u3002\n*/\n\nmodule top_module ( \n    input a, \n    input b, \n    input c,\n    input d,\n    output out1,\n    output out2\n);\n    mod_a mod_a_inst(out1,out2,a,b,c,d);\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Declaring_wires/","title":"Declaring wires","text":"<pre><code>`default_nettype none\nmodule top_module(\n    input a,\n    input b,\n    input c,\n    input d,\n    output out,\n    output out_n   ); \nwire a_b;\nwire c_d;\nwire b_d;\nassign a_b = a&amp;b;\nassign c_d = c&amp;d;\nassign b_d = a_b|c_d;\nassign out = b_d;\nassign out_n = ~b_d;\n\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Four-input_gates/","title":"Four input gates","text":"<pre><code>module top_module( \n    input [3:0] in,\n    output out_and,\n    output out_or,\n    output out_xor\n);\n    assign out_and = in[0] &amp; in[1] &amp; in[2] &amp; in[3];\n    assign out_or = in[0] | in[1] | in[2] | in[3];\n    assign out_xor = in[0] ^ in[1] ^ in[2] ^ in[3];\n\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Four_wires/","title":"Four wires","text":"<pre><code>module top_module( \n    input a,b,c,\n    output w,x,y,z );\n    assign w = a;\n    assign x = b;\n    assign y = b;\n    assign z = c;\n\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Generate_for-loop_100-bit_binary_adder_2/","title":"Generate for loop 100 bit binary adder 2","text":"<pre><code>/*\n\u200b\u5728\u200bVerilog\u200b\u4e2d\u200b\uff0cgenerate\u200b\u5757\u200b\u7528\u4e8e\u200b\u5728\u200b\u7f16\u8bd1\u200b\u65f6\u200b\u751f\u6210\u200b\u786c\u4ef6\u200b\u7ed3\u6784\u200b\uff0c\u200b\u4f8b\u5982\u200b\u91cd\u590d\u200b\u7684\u200b\u903b\u8f91\u200b\u6a21\u5757\u200b\u3002\n\u200b\u5728\u200bgenerate\u200b\u5757\u200b\u4e2d\u200b\uff0c\u200b\u5373\u4f7f\u200b\u5b9e\u4f8b\u200b\u540d\u79f0\u200b\u76f8\u540c\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u5bfc\u81f4\u200b\u51b2\u7a81\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6bcf\u4e2a\u200b\u5b9e\u4f8b\u200b\u90fd\u200b\u4f4d\u4e8e\u200b\u4e0d\u540c\u200b\u7684\u200b\u4f5c\u7528\u57df\u200b\u4e2d\u200b\u3002\n\u200b\u5728\u200bgenerate\u200b\u5757\u200b\u4e2d\u200b\uff0c\u200b\u5b9e\u4f8b\u200b\u540d\u79f0\u200b\u7684\u200b\u4f5c\u7528\u57df\u200b\u662f\u200b\u5c40\u90e8\u200b\u7684\u200b\u3002\u200b\u6bcf\u4e2a\u200b\u5b9e\u4f8b\u200b\u540d\u79f0\u200bfa\u200b\u53ea\u200b\u5728\u200b\u5f53\u524d\u200b\u5faa\u73af\u200b\u8fed\u4ee3\u200b\u7684\u200b\u4f5c\u7528\u57df\u200b\u4e2d\u200b\u6709\u6548\u200b\u3002\u200b\u4f8b\u5982\u200b\uff1a\n\u200b\u5728\u200b\u7b2c\u200b1\u200b\u6b21\u200b\u8fed\u4ee3\u200b\u4e2d\u200b\uff0cfa\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u7b2c\u200b1\u200b\u4e2a\u200b\u5168\u52a0\u5668\u200b\u5b9e\u4f8b\u200b\u3002\n\u200b\u5728\u200b\u7b2c\u200b2\u200b\u6b21\u200b\u8fed\u4ee3\u200b\u4e2d\u200b\uff0cfa\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u7b2c\u200b2\u200b\u4e2a\u200b\u5168\u52a0\u5668\u200b\u5b9e\u4f8b\u200b\u3002\n\u200b\u4ee5\u6b64\u7c7b\u63a8\u200b\u3002\n*/\nmodule top_module(\n    input [99:0] a, b,\n    input cin,\n    output [99:0] cout,\n    output [99:0] sum\n);\n    // \u200b\u7528\u4e8e\u200b\u8fde\u63a5\u200b\u6bcf\u4e2a\u200b\u5168\u52a0\u5668\u200b\u7684\u200b\u8fdb\u4f4d\u200b\n    wire [99:0] internal_cout;\n\n    // \u200b\u5b9e\u4f8b\u200b\u5316\u200b100\u200b\u4e2a\u200b\u5168\u52a0\u5668\u200b\n    genvar i;\n    generate\n        for (i = 0; i &lt; 100; i = i + 1) begin : gen_full_adder\n            full_adder fa(\n                .a(a[i]),\n                .b(b[i]),\n                .cin((i == 0) ? cin : internal_cout[i-1]),\n                .sum(sum[i]),\n                .cout(internal_cout[i])\n            );\n        end\n    endgenerate\n\n    // \u200b\u5c06\u200b\u5185\u90e8\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\u5230\u200bcout\n    assign cout = internal_cout;\nendmodule\nmodule full_adder(\n    input a, b, cin,\n    output sum, cout\n);\n    assign sum = a ^ b ^ cin; // \u200b\u548c\u200b\n    assign cout = (a &amp; b) | (a &amp; cin) | (b &amp; cin); // \u200b\u8fdb\u4f4d\u200b\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Generate_for-loop_100-digit_BCD_adder/","title":"Generate for loop 100 digit BCD adder","text":"<pre><code>/*\u200b\u6ce8\u91ca\u200b\na[(i*4)+3:(i*4)]\uff1a\u200b\u4ece\u200b400\u200b\u4f4d\u200b\u8f93\u5165\u200b\u5411\u91cf\u200ba\u200b\u4e2d\u200b\u63d0\u53d6\u200b\u7b2c\u200bi\u200b\u4e2a\u200b4\u200b\u4f4d\u200bBCD\u200b\u6570\u5b57\u200b\u3002\u200b\u8fd9\u91cc\u200b\u4f7f\u7528\u200b\u4e86\u200bVerilog\u200b\u7684\u200b\u4f4d\u200b\u9009\u62e9\u200b\u8bed\u6cd5\u200b[high:low]\u3002\n(i*4)+3\uff1a\u200b\u9ad8\u4f4d\u200b\u7d22\u5f15\u200b\uff0c\u200b\u8868\u793a\u200b\u7b2c\u200bi\u200b\u4e2a\u200b4\u200b\u4f4d\u200b\u6570\u5b57\u200b\u7684\u200b\u6700\u9ad8\u200b\u4f4d\u200b\u3002\n(i*4)\uff1a\u200b\u4f4e\u4f4d\u200b\u7d22\u5f15\u200b\uff0c\u200b\u8868\u793a\u200b\u7b2c\u200bi\u200b\u4e2a\u200b4\u200b\u4f4d\u200b\u6570\u5b57\u200b\u7684\u200b\u6700\u4f4e\u200b\u4f4d\u200b\u3002\n*/\nmodule top_module(\n    input [399:0] a, b,\n    input cin,\n    output cout,\n    output [399:0] sum\n);\n    // \u200b\u7528\u4e8e\u200b\u8fde\u63a5\u200b\u6bcf\u4e2a\u200bBCD\u200b\u52a0\u6cd5\u5668\u200b\u7684\u200b\u8fdb\u4f4d\u200b\n    wire [99:0] internal_cout;\n\n    // \u200b\u5b9e\u4f8b\u200b\u5316\u200b100\u200b\u4e2a\u200bBCD\u200b\u52a0\u6cd5\u5668\u200b\n    genvar i;\n    generate\n        for (i = 0; i &lt; 100; i = i + 1) begin : gen_bcd_adder\n            bcd_fadd bcd_adder (\n                .a(a[(i*4)+3:(i*4)]),          // \u200b\u4ece\u200b400\u200b\u4f4d\u200b\u5411\u91cf\u200b\u4e2d\u200b\u63d0\u53d6\u200b\u7b2c\u200bi\u200b\u4e2a\u200b4\u200b\u4f4d\u200bBCD\u200b\u6570\u5b57\u200b\n                .b(b[(i*4)+3:(i*4)]),          // \u200b\u4ece\u200b400\u200b\u4f4d\u200b\u5411\u91cf\u200b\u4e2d\u200b\u63d0\u53d6\u200b\u7b2c\u200bi\u200b\u4e2a\u200b4\u200b\u4f4d\u200bBCD\u200b\u6570\u5b57\u200b\n                .cin((i == 0) ? cin : internal_cout[i-1]), // \u200b\u7b2c\u4e00\u4e2a\u200b\u52a0\u6cd5\u5668\u200b\u4f7f\u7528\u200bcin\uff0c\u200b\u5176\u4f59\u200b\u4f7f\u7528\u200b\u524d\u200b\u4e00\u4e2a\u200b\u52a0\u6cd5\u5668\u200b\u7684\u200b\u8fdb\u4f4d\u200b\n                .cout(internal_cout[i]),       // \u200b\u5f53\u524d\u200b\u52a0\u6cd5\u5668\u200b\u7684\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n                .sum(sum[(i*4)+3:(i*4)])       // \u200b\u5f53\u524d\u200b\u52a0\u6cd5\u5668\u200b\u7684\u200b\u548c\u200b\u8f93\u51fa\u200b\n            );\n        end\n    endgenerate\n\n    // \u200b\u6700\u7ec8\u200b\u7684\u200b\u8fdb\u4f4d\u200b\u8f93\u51fa\u200b\n    assign cout = internal_cout[99];\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/If_statement/","title":"If statement","text":"<pre><code>// synthesis verilog_input_version verilog_2001\nmodule top_module(\n    input a,\n    input b,\n    input sel_b1,\n    input sel_b2,\n    output wire out_assign,\n    output reg out_always   ); \n    always@(*)begin\n        if(sel_b1==1&amp;sel_b2==1)\n            out_always = b;\n        else\n            out_always = a;\n    end\n\n    assign out_assign = (sel_b1==1&amp;sel_b2==1)?b:a;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/If_statement_latches/","title":"If statement latches","text":"<pre><code>// synthesis verilog_input_version verilog_2001\nmodule top_module (\n    input      cpu_overheated,\n    output reg shut_off_computer,\n    input      arrived,\n    input      gas_tank_empty,\n    output reg keep_driving\n);\n\n    // \u200b\u4ec5\u5f53\u200bCPU\u200b\u8fc7\u70ed\u200b\u65f6\u200b\u5173\u95ed\u200b\u8ba1\u7b97\u673a\u200b\n    always @(*) begin\n        if (cpu_overheated) begin\n            shut_off_computer = 1;  // \u200b\u5982\u679c\u200bCPU\u200b\u8fc7\u70ed\u200b\uff0c\u200b\u5219\u200b\u5173\u95ed\u200b\u8ba1\u7b97\u673a\u200b\n        end else begin\n            shut_off_computer = 0;  // \u200b\u5982\u679c\u200bCPU\u200b\u4e0d\u8fc7\u200b\u70ed\u200b\uff0c\u200b\u5219\u200b\u4e0d\u200b\u5173\u95ed\u200b\u8ba1\u7b97\u673a\u200b\n        end\n    end\n\n    // \u200b\u5982\u679c\u200b\u5230\u8fbe\u200b\u76ee\u7684\u5730\u200b\u6216\u200b\u9700\u8981\u200b\u52a0\u6cb9\u200b\uff0c\u200b\u5219\u200b\u505c\u6b62\u200b\u9a7e\u9a76\u200b\n    always @(*) begin\n        if (~arrived) begin\n            keep_driving = ~gas_tank_empty;  // \u200b\u5982\u679c\u200b\u672a\u200b\u5230\u8fbe\u200b\u76ee\u7684\u5730\u200b\u4e14\u200b\u6cb9\u7bb1\u200b\u4e0d\u4e3a\u200b\u7a7a\u200b\uff0c\u200b\u5219\u200b\u7ee7\u7eed\u200b\u9a7e\u9a76\u200b\n        end else begin\n            keep_driving = 0;  // \u200b\u5982\u679c\u200b\u5230\u8fbe\u200b\u76ee\u7684\u5730\u200b\u6216\u200b\u6cb9\u7bb1\u200b\u4e3a\u7a7a\u200b\uff0c\u200b\u5219\u200b\u505c\u6b62\u200b\u9a7e\u9a76\u200b\n        end\n    end\n\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Inverter/","title":"Inverter","text":"<pre><code>module top_module( input in, output out );\nassign out = ~in;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Modules/","title":"Modules","text":"<pre><code>module top_module ( input a, input b, output out );\n\n    mod_a mod_a_inst(\n        .in1(a),\n        .in2(b),\n        .out(out)\n    );\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Modules_and_vectors/","title":"Modules and vectors","text":"<pre><code>/*\n\u200b\u5728\u200balways\u200b\u5757\u200b\u4e2d\u200b\u8d4b\u503c\u200b\u7684\u200b\u8f93\u51fa\u200b\u4fe1\u53f7\u200b\u5fc5\u987b\u200b\u58f0\u660e\u200b\u4e3a\u200breg\u200b\u7c7b\u578b\u200b\n*/\nmodule top_module ( \n    input clk, \n    input [7:0] d, \n    input [1:0] sel, \n    output reg [7:0]  q \n);\nwire [7:0]d_1;\nwire [7:0]d_2;\nwire [7:0]d_3;\n    my_dff8 my_dff8_inst1(\n        .clk(clk),\n        .d(d),\n        .q(d_1)\n    );\n    my_dff8 my_dff8_inst2(\n        .clk(clk),\n        .d(d_1),\n        .q(d_2)\n    );\n    my_dff8 my_dff8_inst3(\n        .clk(clk),\n        .d(d_2),\n        .q(d_3)\n    );\n\n// \u200b\u591a\u8def\u590d\u7528\u200b\u6a21\u5757\u200b\n    always @(*) begin\n        case(sel)\n            2'b00: q = d;          // \u200b\u9009\u62e9\u200b\u8f93\u5165\u200bd\uff080\u200b\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u5ef6\u8fdf\u200b\uff09\n            2'b01: q = d_1;        // \u200b\u9009\u62e9\u200b\u7b2c\u4e00\u4e2a\u200bD\u200b\u89e6\u53d1\u5668\u200b\u7684\u200b\u8f93\u51fa\u200b\uff081\u200b\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u5ef6\u8fdf\u200b\uff09\n            2'b10: q = d_2;        // \u200b\u9009\u62e9\u200b\u7b2c\u4e8c\u4e2a\u200bD\u200b\u89e6\u53d1\u5668\u200b\u7684\u200b\u8f93\u51fa\u200b\uff082\u200b\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u5ef6\u8fdf\u200b\uff09\n            2'b11: q = d_3;        // \u200b\u9009\u62e9\u200b\u7b2c\u4e09\u4e2a\u200bD\u200b\u89e6\u53d1\u5668\u200b\u7684\u200b\u8f93\u51fa\u200b\uff083\u200b\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u5ef6\u8fdf\u200b\uff09\n            default: q = 8'b0;     // \u200b\u9ed8\u8ba4\u503c\u200b\uff0c\u200b\u9632\u6b62\u200b\u672a\u5b9a\u4e49\u200b\u884c\u4e3a\u200b\n        endcase\n    end\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/More_replication/","title":"More replication","text":"<pre><code>module top_module (\n    input a, b, c, d, e,\n    output [24:0] out\n);\n\n    // \u200b\u9010\u4f4d\u200b\u6bd4\u8f83\u200b\n    assign out[24] = ~a ^ a;  // a == a\n    assign out[23] = ~a ^ b;  // a == b\n    assign out[22] = ~a ^ c;  // a == c\n    assign out[21] = ~a ^ d;  // a == d\n    assign out[20] = ~a ^ e;  // a == e\n    assign out[19] = ~b ^ a;  // b == a\n    assign out[18] = ~b ^ b;  // b == b\n    assign out[17] = ~b ^ c;  // b == c\n    assign out[16] = ~b ^ d;  // b == d\n    assign out[15] = ~b ^ e;  // b == e\n    assign out[14] = ~c ^ a;  // c == a\n    assign out[13] = ~c ^ b;  // c == b\n    assign out[12] = ~c ^ c;  // c == c\n    assign out[11] = ~c ^ d;  // c == d\n    assign out[10] = ~c ^ e;  // c == e\n    assign out[ 9] = ~d ^ a;  // d == a\n    assign out[ 8] = ~d ^ b;  // d == b\n    assign out[ 7] = ~d ^ c;  // d == c\n    assign out[ 6] = ~d ^ d;  // d == d\n    assign out[ 5] = ~d ^ e;  // d == e\n    assign out[ 4] = ~e ^ a;  // e == a\n    assign out[ 3] = ~e ^ b;  // e == b\n    assign out[ 2] = ~e ^ c;  // e == c\n    assign out[ 1] = ~e ^ d;  // e == d\n    assign out[ 0] = ~e ^ e;  // e == e\n\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/NOR_gate/","title":"NOR gate","text":"<pre><code>module top_module( \n    input a, \n    input b, \n    output out );\nassign out = ~(a|b);\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Priority_encoder/","title":"Priority encoder","text":"<pre><code>// synthesis verilog_input_version verilog_2001\n/*\n\u200b\u8f93\u5165\u200bin = 4'b1000\uff0c\u200b\u8f93\u51fa\u200bpos = 2'd3\u3002\n\u200b\u8f93\u5165\u200bin = 4'b0100\uff0c\u200b\u8f93\u51fa\u200bpos = 2'd2\u3002\n\u200b\u8f93\u5165\u200bin = 4'b0010\uff0c\u200b\u8f93\u51fa\u200bpos = 2'd1\u3002\n\u200b\u8f93\u5165\u200bin = 4'b0001\uff0c\u200b\u8f93\u51fa\u200bpos = 2'd0\u3002\n\u200b\u8f93\u5165\u200bin = 4'b0000\uff0c\u200b\u8f93\u51fa\u200bpos = 2'd0\u3002\n*/\nmodule top_module (\n    input [3:0] in,\n    output reg [1:0] pos\n);\n/*\n    always @(*) begin  // \u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\n        if (in[3]) begin\n            pos = 2'd3;  // \u200b\u5982\u679c\u200bin[3]\u200b\u4e3a\u200b1\uff0c\u200b\u8f93\u51fa\u200b3\n        end else if (in[2]) begin\n            pos = 2'd2;  // \u200b\u5982\u679c\u200bin[2]\u200b\u4e3a\u200b1\uff0c\u200b\u8f93\u51fa\u200b2\n        end else if (in[1]) begin\n            pos = 2'd1;  // \u200b\u5982\u679c\u200bin[1]\u200b\u4e3a\u200b1\uff0c\u200b\u8f93\u51fa\u200b1\n        end else if (in[0]) begin\n            pos = 2'd0;  // \u200b\u5982\u679c\u200bin[0]\u200b\u4e3a\u200b1\uff0c\u200b\u8f93\u51fa\u200b0\n        end else begin\n            pos = 2'd0;  // \u200b\u5982\u679c\u200b\u6240\u6709\u200b\u4f4d\u200b\u90fd\u200b\u4e3a\u200b0\uff0c\u200b\u8f93\u51fa\u200b0\n        end\n    end\n*/\n/*\nalways @(*) begin  // \u200b\u7ec4\u5408\u200b\u903b\u8f91\u200b\n        case (1'b1)  // \u200b\u4f7f\u7528\u200b1'b1\u200b\u4f5c\u4e3a\u200b\u6761\u4ef6\u200b\uff0c\u200b\u786e\u4fdd\u200bcase\u200b\u8bed\u53e5\u200b\u603b\u662f\u200b\u5339\u914d\u200b\n            in[3]: pos = 2'd3;  // \u200b\u5982\u679c\u200bin[3]\u200b\u4e3a\u200b1\uff0c\u200b\u8f93\u51fa\u200b3\n            in[2]: pos = 2'd2;  // \u200b\u5982\u679c\u200bin[2]\u200b\u4e3a\u200b1\uff0c\u200b\u8f93\u51fa\u200b2\n            in[1]: pos = 2'd1;  // \u200b\u5982\u679c\u200bin[1]\u200b\u4e3a\u200b1\uff0c\u200b\u8f93\u51fa\u200b1\n            in[0]: pos = 2'd0;  // \u200b\u5982\u679c\u200bin[0]\u200b\u4e3a\u200b1\uff0c\u200b\u8f93\u51fa\u200b0\n            default: pos = 2'd0;  // \u200b\u5982\u679c\u200b\u6240\u6709\u200b\u4f4d\u200b\u90fd\u200b\u4e3a\u200b0\uff0c\u200b\u8f93\u51fa\u200b0\n        endcase\n    end\n\n*/\n\n\n    //case\n    always@(*)\n        begin\n            case(in)\n                4'b0000:pos = 2'd00;\n                4'b0001:pos = 2'd00;\n                4'b0010:pos = 2'd01;\n                4'b0011:pos = 2'd00;\n                4'b0100:pos = 2'd02;\n                4'b0101:pos = 2'd00;\n                4'b0110:pos = 2'd01;\n                4'b0111:pos = 2'd00;\n                4'b1000:pos = 2'd03;\n                4'b1001:pos = 2'd00;\n                4'b1010:pos = 2'd01;\n                4'b1011:pos = 2'd00;\n                4'b1100:pos = 2'd02;\n                4'b1101:pos = 2'd00;\n                4'b1110:pos = 2'd01;\n                4'b1111:pos = 2'd00;\n                default:pos = 2'd00;\n            endcase\n        end\n\nendmodule\n\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Priority_encoder_with_casez/","title":"Priority encoder with casez","text":"<pre><code>// synthesis verilog_input_version verilog_2001\n/*\n\u200b\u89e3\u91ca\u200b\uff1a\n4'bzzz1\uff1a\u200b\u8fd9\u4e2a\u200b\u63a9\u7801\u200b\u8868\u793a\u200b in[3:1] \u200b\u53ef\u4ee5\u200b\u662f\u200b\u4efb\u4f55\u200b\u503c\u200b\uff0c\u200b\u53ea\u8981\u200b in[0] \u200b\u4e3a\u200b 1\u3002\u200b\u8f93\u51fa\u200b pos \u200b\u4e3a\u200b 0\u3002\n4'bzz1z\uff1a\u200b\u8fd9\u4e2a\u200b\u63a9\u7801\u200b\u8868\u793a\u200b in[3] \u200b\u548c\u200b in[1:0] \u200b\u53ef\u4ee5\u200b\u662f\u200b\u4efb\u4f55\u200b\u503c\u200b\uff0c\u200b\u53ea\u8981\u200b in[1] \u200b\u4e3a\u200b 1\u3002\u200b\u8f93\u51fa\u200b pos \u200b\u4e3a\u200b 1\u3002\n4'bz1zz\uff1a\u200b\u8fd9\u4e2a\u200b\u63a9\u7801\u200b\u8868\u793a\u200b in[3] \u200b\u548c\u200b in[0] \u200b\u53ef\u4ee5\u200b\u662f\u200b\u4efb\u4f55\u200b\u503c\u200b\uff0c\u200b\u53ea\u8981\u200b in[2] \u200b\u4e3a\u200b 1\u3002\u200b\u8f93\u51fa\u200b pos \u200b\u4e3a\u200b 2\u3002\n4'b1zzz\uff1a\u200b\u8fd9\u4e2a\u200b\u63a9\u7801\u200b\u8868\u793a\u200b in[2:0] \u200b\u53ef\u4ee5\u200b\u662f\u200b\u4efb\u4f55\u200b\u503c\u200b\uff0c\u200b\u53ea\u8981\u200b in[3] \u200b\u4e3a\u200b 1\u3002\u200b\u8f93\u51fa\u200b pos \u200b\u4e3a\u200b 3\u3002\n*/\n\nmodule top_module (\n    input [7:0] in,\n    output reg [2:0] pos );\n    always@(*) begin\n        casez(in)\n            8'bzzzzzzz1 : pos = 0;\n            8'bzzzzzz1z : pos = 1;\n            8'bzzzzz1zz : pos = 2;\n            8'bzzzz1zzz : pos = 3;\n            8'bzzz1zzzz : pos = 4;\n            8'bzz1zzzzz : pos = 5;\n            8'bz1zzzzzz : pos = 6;\n            8'b1zzzzzzz : pos = 7;\n            default : pos = 0;\n        endcase\n    end\nendmodule\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Reduction_Even_wider_gates/","title":"Reduction Even wider gates","text":"<pre><code>module top_module( \n    input [99:0] in,\n    output out_and,\n    output out_or,\n    output out_xor \n);\nassign out_and = &amp;in;\nassign out_or = |in;\nassign out_xor = ^in;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Reduction_operators/","title":"Reduction operators","text":"<pre><code>/*\n\n\u200b\u5947\u5076\u6821\u9a8c\u200b\u4f4d\u200b\u7684\u200b\u4f5c\u7528\u200b\n\u200b\u5947\u5076\u6821\u9a8c\u200b\u4f4d\u662f\u200b\u4e00\u79cd\u200b\u7b80\u5355\u200b\u7684\u200b\u9519\u8bef\u200b\u68c0\u6d4b\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5728\u200b\u6570\u636e\u4f20\u8f93\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u68c0\u6d4b\u200b\u9519\u8bef\u200b\u3002\u200b\u5b83\u200b\u901a\u8fc7\u200b\u5728\u200b\u6570\u636e\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u989d\u5916\u200b\u7684\u200b\u4f4d\u200b\uff08\u200b\u6821\u9a8c\u4f4d\u200b\uff09\uff0c\u200b\u4f7f\u5f97\u200b\u6570\u636e\u200b\u7684\u200b\u603b\u200b\u4f4d\u6570\u200b\u6ee1\u8db3\u200b\u7279\u5b9a\u200b\u7684\u200b\u5947\u5076\u6027\u200b\uff08\u200b\u5947\u6570\u200b\u6216\u200b\u5076\u6570\u200b\uff09\u3002\n\u200b\u5076\u6570\u200b\u5947\u5076\u6821\u9a8c\u200b\n\u200b\u5728\u200b\u5076\u6570\u200b\u5947\u5076\u6821\u9a8c\u200b\u4e2d\u200b\uff0c\u200b\u6821\u9a8c\u4f4d\u200b\u88ab\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u4f7f\u5f97\u200b\u6574\u4e2a\u200b\u6570\u636e\u200b\uff08\u200b\u5305\u62ec\u200b\u6821\u9a8c\u4f4d\u200b\uff09\u200b\u7684\u200b1\u200b\u7684\u200b\u4e2a\u6570\u200b\u4e3a\u200b\u5076\u6570\u200b\u3002\u200b\u5177\u4f53\u6765\u8bf4\u200b\uff1a\n\u200b\u5982\u679c\u200b\u539f\u59cb\u6570\u636e\u200b\u4e2d\u200b1\u200b\u7684\u200b\u4e2a\u6570\u200b\u5df2\u7ecf\u200b\u662f\u200b\u5076\u6570\u200b\uff0c\u200b\u6821\u9a8c\u4f4d\u200b\u4e3a\u200b0\u3002\n\u200b\u5982\u679c\u200b\u539f\u59cb\u6570\u636e\u200b\u4e2d\u200b1\u200b\u7684\u200b\u4e2a\u6570\u200b\u662f\u200b\u5947\u6570\u200b\uff0c\u200b\u6821\u9a8c\u4f4d\u200b\u4e3a\u200b1\uff0c\u200b\u4f7f\u5f97\u200b\u603b\u200b\u4e2a\u6570\u200b\u53d8\u4e3a\u200b\u5076\u6570\u200b\u3002\n\u200b\u8ba1\u7b97\u65b9\u6cd5\u200b\n\u200b\u5bf9\u4e8e\u200b\u4e00\u4e2a\u200b8\u200b\u4f4d\u200b\u7684\u200b\u8f93\u5165\u200b\u6570\u636e\u200bin\uff0c\u200b\u8ba1\u7b97\u200b\u5176\u200b\u5076\u6570\u200b\u5947\u5076\u6821\u9a8c\u200b\u4f4d\u200b\u7684\u200b\u65b9\u6cd5\u200b\u662f\u200b\uff1a\n\u200b\u5bf9\u200b\u8f93\u5165\u200b\u6570\u636e\u200b\u7684\u200b\u6240\u6709\u200b\u4f4d\u200b\u8fdb\u884c\u200b\u5f02\u6216\u200b\uff08XOR\uff09\u200b\u8fd0\u7b97\u200b\u3002\n\u200b\u5982\u679c\u200b\u5f02\u6216\u200b\u7ed3\u679c\u200b\u4e3a\u200b0\uff0c\u200b\u8bf4\u660e\u200b1\u200b\u7684\u200b\u4e2a\u6570\u200b\u662f\u200b\u5076\u6570\u200b\uff0c\u200b\u6821\u9a8c\u4f4d\u200b\u4e3a\u200b0\u3002\n\u200b\u5982\u679c\u200b\u5f02\u6216\u200b\u7ed3\u679c\u200b\u4e3a\u200b1\uff0c\u200b\u8bf4\u660e\u200b1\u200b\u7684\u200b\u4e2a\u6570\u200b\u662f\u200b\u5947\u6570\u200b\uff0c\u200b\u6821\u9a8c\u4f4d\u200b\u4e3a\u200b1\u3002\n\u200b\u4e3e\u4f8b\u200b\n\u200b\u5047\u8bbe\u200b\u8f93\u5165\u200b\u6570\u636e\u200bin\u200b\u4e3a\u200b8\u200b\u4f4d\u200b\uff1a\n\u200b\u8f93\u5165\u200bin = 00000000\uff0c\u200b\u5f02\u6216\u200b\u7ed3\u679c\u200b\u4e3a\u200b0\uff081\u200b\u7684\u200b\u4e2a\u6570\u200b\u4e3a\u200b0\uff0c\u200b\u5076\u6570\u200b\uff09\uff0c\u200b\u6821\u9a8c\u4f4d\u200b\u4e3a\u200b0\u3002\n\u200b\u8f93\u5165\u200bin = 11111111\uff0c\u200b\u5f02\u6216\u200b\u7ed3\u679c\u200b\u4e3a\u200b0\uff081\u200b\u7684\u200b\u4e2a\u6570\u200b\u4e3a\u200b8\uff0c\u200b\u5076\u6570\u200b\uff09\uff0c\u200b\u6821\u9a8c\u4f4d\u200b\u4e3a\u200b0\u3002\n\u200b\u8f93\u5165\u200bin = 10101010\uff0c\u200b\u5f02\u6216\u200b\u7ed3\u679c\u200b\u4e3a\u200b0\uff081\u200b\u7684\u200b\u4e2a\u6570\u200b\u4e3a\u200b4\uff0c\u200b\u5076\u6570\u200b\uff09\uff0c\u200b\u6821\u9a8c\u4f4d\u200b\u4e3a\u200b0\u3002\n\u200b\u8f93\u5165\u200bin = 11001100\uff0c\u200b\u5f02\u6216\u200b\u7ed3\u679c\u200b\u4e3a\u200b1\uff081\u200b\u7684\u200b\u4e2a\u6570\u200b\u4e3a\u200b4\uff0c\u200b\u5076\u6570\u200b\uff09\uff0c\u200b\u6821\u9a8c\u4f4d\u200b\u4e3a\u200b1\u3002\n*/\n\nmodule top_module (\n    input [7:0] in,\n    output parity); \n    // \u200b\u4f7f\u7528\u200b\u5f52\u7ea6\u200b\u5f02\u6216\u200b\u8fd0\u7b97\u7b26\u200b\u8ba1\u7b97\u200b\u6240\u6709\u200b8\u200b\u4f4d\u200b\u7684\u200b\u5f02\u6216\u200b\u7ed3\u679c\u200b\n    assign parity = ^in;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Replication_operator/","title":"Replication operator","text":"<pre><code>//\u200b\u9700\u8981\u200b\u5c06\u200b8\u200b\u4f4d\u6570\u200b\u7684\u200b\u7b26\u53f7\u200b\u4f4d\u200b\uff08\u200b\u5373\u200b\u6700\u9ad8\u200b\u4f4d\u200b\uff0c[7]\uff09\u200b\u590d\u5236\u200b24\u200b\u6b21\u200b\uff0c\u200b\u7136\u540e\u200b\u5c06\u200b\u8fd9\u200b24\u200b\u4e2a\u200b\u7b26\u53f7\u200b\u4f4d\u200b\u4e0e\u200b\u539f\u59cb\u200b\u7684\u200b8\u200b\u4f4d\u6570\u200b\u62fc\u63a5\u200b\u5728\u200b\u4e00\u8d77\u200b\u3002\u200b\u8fd9\u79cd\u200b\u64cd\u4f5c\u200b\u79f0\u4e3a\u200b\u7b26\u53f7\u200b\u6269\u5c55\u200b\nmodule top_module (\n    input [7:0] in,\n    output [31:0] out );//\n\n    // assign out = { replicate-sign-bit , the-input };\n    assign out = {{24{in[7]}},in};\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Simple_wire/","title":"Simple wire","text":"<pre><code>module top_module( input in, output out );\nassign out=in;\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Three_modules/","title":"Three modules","text":"<pre><code>/*\n\u200b\u8fd9\u4e2a\u200b\u7a0b\u5e8f\u200b\u7684\u200b\u4f5c\u7528\u200b\u662f\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200b\u957f\u5ea6\u200b\u4e3a\u200b3\u200b\u7684\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\uff0c\u200b\u4f7f\u7528\u200b\u4e09\u4e2a\u200bD\u200b\u89e6\u53d1\u5668\u200b\uff08my_dff\u200b\u6a21\u5757\u200b\uff09\u200b\u4e32\u8054\u200b\u800c\u6210\u200b\n\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u529f\u80fd\u200b\uff1a\n1. \u200b\u4e32\u884c\u200b\u4fe1\u53f7\u200b\u8f6c\u6362\u200b\u4f4d\u200b\u5e76\u884c\u200b\u4fe1\u53f7\u200b\n2. \u200b\u5e76\u884c\u200b\u4fe1\u53f7\u200b\u8f6c\u6362\u200b\u4e32\u884c\u200b\u4fe1\u53f7\u200b\n3. \u200b\u4fe1\u53f7\u200b\u5de6\u79fb\u200b\u3001\u200b\u53f3\u79fb\u200b\u7b49\u200b\n\u200b\u5e94\u7528\u200b\u573a\u666f\u200b\uff1a\n1. \u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\n\u200b\u5e94\u7528\u200b\u573a\u666f\u200b\n\u200b\u4e32\u884c\u200b\u901a\u4fe1\u200b\uff1a\nSPI\uff1a\u200b\u5728\u200bSPI\u200b\u901a\u4fe1\u200b\u4e2d\u200b\uff0c\u200b\u4e3b\u673a\u200b\uff08Master\uff09\u200b\u9700\u8981\u200b\u5c06\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u53d1\u9001\u7ed9\u200b\u4ece\u673a\u200b\uff08Slave\uff09\u3002\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u9010\u200b\u4f4d\u79fb\u200b\u51fa\u200b\uff0c\u200b\u5f62\u6210\u200b\u4e32\u884c\u200b\u6570\u636e\u6d41\u200b\u3002\nUART\uff1a\u200b\u5728\u200bUART\u200b\u901a\u4fe1\u200b\u4e2d\u200b\uff0c\u200b\u6570\u636e\u200b\u901a\u5e38\u200b\u4ee5\u200b\u5e76\u884c\u200b\u5f62\u5f0f\u200b\u5b58\u50a8\u200b\u5728\u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b\uff0c\u200b\u7136\u540e\u200b\u901a\u8fc7\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u3002\n\n2. \u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\n\u200b\u5e94\u7528\u200b\u573a\u666f\u200b\n\u200b\u4e32\u884c\u200b\u901a\u4fe1\u200b\uff1a\nSPI\uff1a\u200b\u4ece\u673a\u200b\uff08Slave\uff09\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u9700\u8981\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u4ee5\u4fbf\u200b\u8fdb\u4e00\u6b65\u200b\u5904\u7406\u200b\u3002\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u53ef\u4ee5\u200b\u5c06\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u9010\u4f4d\u200b\u5b58\u50a8\u200b\uff0c\u200b\u6700\u7ec8\u200b\u5f62\u6210\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\u3002\nUART\uff1a\u200b\u63a5\u6536\u7aef\u200b\u9700\u8981\u200b\u5c06\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u8f6c\u6362\u200b\u4e3a\u200b\u5e76\u884c\u200b\u6570\u636e\u200b\uff0c\u200b\u4ee5\u4fbf\u200b\u5b58\u50a8\u200b\u5230\u200b\u5bc4\u5b58\u5668\u200b\u4e2d\u200b\u3002\n\n3. \u200b\u5355\u5411\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\n\u200b\u5e94\u7528\u200b\u573a\u666f\u200b\n\u200b\u6570\u636e\u200b\u5ef6\u8fdf\u200b\uff1a\u200b\u5728\u200b\u67d0\u4e9b\u200b\u65f6\u5e8f\u200b\u63a7\u5236\u7535\u8def\u200b\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u5bf9\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u9010\u4f4d\u200b\u5ef6\u8fdf\u200b\u3002\u200b\u5355\u5411\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u8fd9\u79cd\u200b\u5ef6\u8fdf\u200b\u529f\u80fd\u200b\u3002\n\u200b\u8ba1\u6570\u5668\u200b\uff1a\u200b\u901a\u8fc7\u200b\u73af\u5f62\u200b\u79fb\u4f4d\u200b\u5bc4\u5b58\u5668\u200b\uff08\u200b\u5c06\u200b\u8f93\u51fa\u200b\u53cd\u9988\u200b\u5230\u200b\u8f93\u5165\u200b\uff09\u200b\u53ef\u4ee5\u200b\u5b9e\u73b0\u200b\u7b80\u5355\u200b\u7684\u200b\u8ba1\u6570\u5668\u200b\u3002\n*/\nmodule top_module ( input clk, input d, output q );\n\nwire d_1;\nwire d_2;\n\n    my_dff my_dff_inst1(\n        .clk(clk),\n        .d(d),\n        .q(d_1)\n    );\n    my_dff my_dff_inst2(\n        .clk(clk),\n        .d(d_1),\n        .q(d_2)\n    );\n    my_dff my_dff_inst3(\n        .clk(clk),\n        .d(d_2),\n        .q(q)\n    );\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Vector_concatenation_operator/","title":"Vector concatenation operator","text":"<pre><code>module top_module (\n    input [4:0] a, b, c, d, e, f,\n    output [7:0] w, x, y, z );//\n\n    // assign { ... } = { ... };\n    assign {w,x,y,z} = {a,b,c,d,e,f,1'b1,1'b1};\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Vector_part_select/","title":"Vector part select","text":"<pre><code>module top_module( \n    input [31:0] in,\n    output [31:0] out );//\n\n    // assign out[31:24] = ...;\n    assign out[31:24]= in[7:0];\n    assign out[23:16]=  in[15:8];\n    assign out[15:8]=   in[23:16];\n    assign out[7:0]=   in[31:24];\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Vector_reversal_1/","title":"Vector reversal 1","text":"<pre><code>module top_module( \n    input [7:0] in,\n    output [7:0] out\n);\n    assign out = {in[0],in[1],in[2],in[3],in[4],in[5],in[6],in[7]};\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Vectors/","title":"Vectors","text":"<pre><code>module top_module ( \n    input wire [2:0] vec,\n    output wire [2:0] outv,\n    output wire o2,\n    output wire o1,\n    output wire o0  ); // Module body starts after module declaration\nassign outv = vec;\n    assign o0 = vec[0];\n    assign o1 = vec[1];\n    assign o2 = vec[2];\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/Vectors_in_more_detail/","title":"Vectors in more detail","text":"<pre><code>`default_nettype none     // Disable implicit nets. Reduces some types of bugs.\nmodule top_module( \n    input wire [15:0] in,\n    output wire [7:0] out_hi,\n    output wire [7:0] out_lo );\n    assign out_hi = in[15:8];\n    assign out_lo = in[7:0];\nendmodule\n\n</code></pre>"},{"location":"fpga/HDLBits/Verilog_Language/XNOR_gate/","title":"XNOR gate","text":"<pre><code>module top_module( \n    input a, \n    input b, \n    output out );\n    assign out = ~(a^b);\nendmodule\n\n</code></pre>"},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/59_%E6%A0%B9%E6%8D%AERTL%E5%9B%BE%E7%BC%96%E5%86%99Verilog%E7%A8%8B%E5%BA%8F/","title":"\u9898\u76ee\u200b59_\u200b\u6839\u636e\u200bRTL\u200b\u56fe\u200b\u7f16\u5199\u200bVerilog\u200b\u7a0b\u5e8f","text":"<p>\u200b\u6839\u636e\u200b\u4ee5\u4e0b\u200bRTL\u200b\u56fe\u200b\uff0c\u200b\u4f7f\u7528\u200b Verilog HDL\u200b\u8bed\u8a00\u200b\u7f16\u5199\u200b\u4ee3\u7801\u200b\uff0c\u200b\u5b9e\u73b0\u200b\u76f8\u540c\u200b\u7684\u200b\u529f\u80fd\u200b\uff0c\u200b\u5e76\u200b\u7f16\u5199\u200btestbench\u200b\u9a8c\u8bc1\u200b\u529f\u80fd\u200b\u3002 </p>"},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/59_%E6%A0%B9%E6%8D%AERTL%E5%9B%BE%E7%BC%96%E5%86%99Verilog%E7%A8%8B%E5%BA%8F/#_1","title":"\u8f93\u5165\u200b\u63cf\u8ff0\u200b\uff1a","text":"<p>clk\uff1a\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b rst_n\uff1a\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b data_in\uff1a\u200b\u8f93\u5165\u200b\u4fe1\u53f7\u200b</p>"},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/59_%E6%A0%B9%E6%8D%AERTL%E5%9B%BE%E7%BC%96%E5%86%99Verilog%E7%A8%8B%E5%BA%8F/#_2","title":"\u8f93\u51fa\u200b\u63cf\u8ff0\u200b\uff1a","text":"<p>data_out\uff1a\u200b\u8f93\u51fa\u200b\u4fe1\u53f7\u200b</p>"},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/59_%E6%A0%B9%E6%8D%AERTL%E5%9B%BE%E7%BC%96%E5%86%99Verilog%E7%A8%8B%E5%BA%8F/#_3","title":"\u9898\u76ee\u200b\u89e3\u6790","text":""},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/59_%E6%A0%B9%E6%8D%AERTL%E5%9B%BE%E7%BC%96%E5%86%99Verilog%E7%A8%8B%E5%BA%8F/#_4","title":"\u603b\u4f53","text":"<p>\u200b\u9898\u76ee\u200b\u672c\u8eab\u200b\u4e0d\u96be\u200b\uff0c\u200b\u4ece\u200b\u6211\u4eec\u200b\u7684\u200bRTL\u200b\u89c6\u56fe\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u770b\u5230\u200b\u4e3b\u8981\u200b\u662f\u200b\u7531\u200b\u4e24\u4e2a\u200bD\u200b\u89e6\u53d1\u5668\u200b\u548c\u200b\u975e\u95e8\u200b\u548c\u200b\u4e0e\u200b\u95e8\u200b\u6784\u6210\u200b\u3002\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\u4f7f\u7528\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b\uff0c</p>"},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/59_%E6%A0%B9%E6%8D%AERTL%E5%9B%BE%E7%BC%96%E5%86%99Verilog%E7%A8%8B%E5%BA%8F/#d","title":"D\u200b\u89e6\u53d1\u5668\u200b\u6982\u5ff5","text":"<p>D\u200b\u89e6\u53d1\u5668\u200b\uff08D Flip-Flop\uff09\u200b\u662f\u200b\u4e00\u79cd\u200b\u6570\u5b57\u7535\u8def\u200b\u7684\u200b\u5e38\u89c1\u200b\u7684\u200b\u57fa\u672c\u200b\u7ec4\u4ef6\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7528\u6765\u200b\u5b58\u50a8\u200b\u4e00\u4f4d\u200b\u4e8c\u8fdb\u5236\u200b\u4fe1\u606f\u200b\uff0c\u200b\u5e76\u200b\u5728\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u63a7\u5236\u200b\u4e0b\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u7684\u200b\u5b58\u50a8\u200b\u548c\u200b\u4f20\u8f93\u200b\u3002</p> <p>\u200b\u5b83\u200b\u5728\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u4e0a\u5347\u200b\u6cbf\u200b\u6216\u8005\u200b\u4e0b\u964d\u200b\u6cbf\u65f6\u200b\uff0c\u200b\u5c06\u200b\u8f93\u5165\u200b\u7aef\u200b\uff08D\u200b\u7aef\u200b\uff09\u200b\u7684\u200b\u6570\u636e\u200b\u9501\u5b58\u200b\u5230\u200b\u8f93\u51fa\u200b\u7aef\u200b\uff08Q\u200b\u7aef\u200b\uff09</p> <p>\u200b\u6ce8\u610f\u200b\uff1aQ\u200b\u7aef\u200b\u662f\u200b\u6b63\u200b\u8f93\u51fa\u200b\u7aef\u200b\uff0cQ'\u200b\u7aef\u200b\u662f\u200b\u53cd\u200b\u8f93\u51fa\u200b\u7aef\u200b(Q\u200b\u7684\u200b\u53cd\u76f8\u200b)\u3002\u200b\u5728\u200b\u672c\u200b\u9898\u76ee\u200b\u4e2d\u200bdata_in_reg\u200b\u7684\u200bQ\u200b\u7aef\u200b\u94fe\u63a5\u200balway1\u200b\u7684\u200b\u8f93\u5165\u200b\u7aef\u65f6\u200b\u4f7f\u7528\u200b\u7684\u200b\u5c31\u662f\u200bQ'(\u200b\u53cd\u5411\u200b\u8f93\u51fa\u200b\u7aef\u200b)</p>"},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/59_%E6%A0%B9%E6%8D%AERTL%E5%9B%BE%E7%BC%96%E5%86%99Verilog%E7%A8%8B%E5%BA%8F/#_5","title":"\u4ee3\u7801","text":"<pre><code>`timescale 1ns/1ns\n\nmodule RTL(\n    input clk,\n    input rst_n,\n    input data_in,\n    output reg data_out\n    );\nreg Q;\nalways @(posedge clk or negedge rst_n)begin\n    if(!rst_n)\n        Q &lt;=1'b0;\n    else\n        Q &lt;= data_in;\nend\nalways @(posedge clk or negedge rst_n)begin\n    if(!rst_n)\n        data_out &lt;= 1'b0;\n    else\n        data_out &lt;= (data_in &amp; ~Q);\nend\nendmodule\n</code></pre> <p>`</p>"},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/60_%E4%BD%BF%E7%94%A8%E6%8F%A1%E6%89%8B%E4%BF%A1%E5%8F%B7%E5%AE%9E%E7%8E%B0%E8%B7%A8%E6%97%B6%E9%92%9F%E5%9F%9F%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/","title":"\u9898\u76ee\u200b60_\u200b\u4f7f\u7528\u200b\u63e1\u624b\u200b\u4fe1\u53f7\u200b\u5b9e\u73b0\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u6570\u636e\u4f20\u8f93","text":"<p>\u200b\u5206\u522b\u200b\u7f16\u5199\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u548c\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u63a5\u6536\u200b\u6a21\u5757\u200b\uff0c\u200b\u6a21\u5757\u200b\u7684\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u5206\u522b\u200b\u4e3a\u200bclk_a\uff0cclk_b\u3002\u200b\u4e24\u4e2a\u200b\u65f6\u949f\u200b\u7684\u200b\u9891\u7387\u200b\u4e0d\u200b\u76f8\u540c\u200b\u3002\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u6a21\u5757\u200b\u5faa\u73af\u200b\u53d1\u9001\u200b0-7\uff0c\u200b\u5728\u200b\u6bcf\u4e2a\u200b\u6570\u636e\u4f20\u8f93\u200b\u5b8c\u6210\u200b\u4e4b\u540e\u200b\uff0c\u200b\u95f4\u9694\u200b5\u200b\u4e2a\u200b\u65f6\u949f\u200b\uff0c\u200b\u53d1\u9001\u200b\u4e0b\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u3002\u200b\u8bf7\u200b\u5728\u200b\u4e24\u4e2a\u200b\u6a21\u5757\u200b\u4e4b\u95f4\u200b\u6dfb\u52a0\u200b\u5fc5\u8981\u200b\u7684\u200b\u63e1\u624b\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4fdd\u8bc1\u200b\u6570\u636e\u4f20\u8f93\u200b\u4e0d\u200b\u4e22\u5931\u200b\u3002   \u200b\u6a21\u5757\u200b\u7684\u200b\u63a5\u53e3\u200b\u4fe1\u53f7\u200b\u56fe\u200b\u5982\u4e0b\u200b\uff1a</p> <p></p> <p>data_req\u200b\u548c\u200bdata_ack\u200b\u7684\u200b\u4f5c\u7528\u200b\u8bf4\u660e\u200b\uff1a data_req\u200b\u8868\u793a\u200b\u6570\u636e\u200b\u8bf7\u6c42\u200b\u63a5\u53d7\u200b\u4fe1\u53f7\u200b\u3002\u200b\u5f53\u200bdata_out\u200b\u53d1\u51fa\u200b\u65f6\u200b\uff0c\u200b\u8be5\u200b\u4fe1\u53f7\u200b\u62c9\u9ad8\u200b\uff0c\u200b\u5728\u200b\u786e\u8ba4\u200b\u6570\u636e\u200b\u88ab\u200b\u6210\u529f\u200b\u63a5\u6536\u200b\u4e4b\u524d\u200b\uff0c\u200b\u4fdd\u6301\u200b\u4e3a\u200b\u9ad8\u200b\uff0c\u200b\u671f\u95f4\u200bdata\u200b\u5e94\u8be5\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\uff0c\u200b\u7b49\u5f85\u200b\u63a5\u6536\u7aef\u200b\u63a5\u6536\u6570\u636e\u200b\u3002 \u200b\u5f53\u200b\u6570\u636e\u200b\u63a5\u6536\u7aef\u200b\u68c0\u6d4b\u200b\u5230\u200bdata_req\u200b\u4e3a\u200b\u9ad8\u200b\uff0c\u200b\u8868\u793a\u200b\u8be5\u200b\u65f6\u523b\u200b\u7684\u200b\u4fe1\u53f7\u200bdata\u200b\u6709\u6548\u200b\uff0c\u200b\u4fdd\u5b58\u200b\u6570\u636e\u200b\uff0c\u200b\u5e76\u200b\u62c9\u9ad8\u200bdata_ack\u3002 \u200b\u5f53\u200b\u6570\u636e\u200b\u53d1\u9001\u200b\u7aef\u200b\u68c0\u6d4b\u200b\u5230\u200bdata_ack\uff0c\u200b\u8868\u793a\u200b\u4e0a\u200b\u4e00\u4e2a\u200b\u53d1\u9001\u200b\u7684\u200b\u6570\u636e\u200b\u5df2\u7ecf\u200b\u88ab\u200b\u63a5\u6536\u200b\u3002\u200b\u64a4\u9500\u200bdata_req\uff0c\u200b\u7136\u540e\u200b\u53ef\u4ee5\u200b\u6539\u53d8\u200b\u6570\u636e\u200bdata\u3002\u200b\u7b49\u5230\u200b\u4e0b\u6b21\u200b\u53d1\u9001\u200b\u65f6\u200b\uff0c\u200b\u518d\u200b\u4e00\u6b21\u200b\u62c9\u9ad8\u200bdata_req\u3002</p>"},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/60_%E4%BD%BF%E7%94%A8%E6%8F%A1%E6%89%8B%E4%BF%A1%E5%8F%B7%E5%AE%9E%E7%8E%B0%E8%B7%A8%E6%97%B6%E9%92%9F%E5%9F%9F%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#_1","title":"\u8f93\u5165\u200b\u63cf\u8ff0\u200b\uff1a","text":"<p>clk_a\uff1a\u200b\u53d1\u9001\u200b\u7aef\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b</p> <p>clk_b\uff1a\u200b\u63a5\u6536\u7aef\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b</p> <p>rst_n\uff1a\u200b\u590d\u4f4d\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u4f4e\u7535\u5e73\u200b\u6709\u6548\u200b</p> <p>data_ack\uff1a\u200b\u6570\u636e\u200b\u63a5\u6536\u200b\u786e\u8ba4\u200b\u4fe1\u53f7\u200b</p>"},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/60_%E4%BD%BF%E7%94%A8%E6%8F%A1%E6%89%8B%E4%BF%A1%E5%8F%B7%E5%AE%9E%E7%8E%B0%E8%B7%A8%E6%97%B6%E9%92%9F%E5%9F%9F%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/#_2","title":"\u8f93\u51fa\u200b\u63cf\u8ff0\u200b\uff1a","text":"<p>data\uff1a\u200b\u53d1\u9001\u200b\u7684\u200b\u6570\u636e\u200b</p> <p>data_req\uff1a\u200b\u8bf7\u6c42\u200b\u63a5\u6536\u6570\u636e\u200b</p>"},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/IIC%E4%B8%8ESCCB%E5%8D%8F%E8%AE%AE%E7%9A%84%E8%81%94%E7%B3%BB%E5%92%8C%E5%8C%BA%E5%88%AB/","title":"IIC\u200b\u4e0e\u200bSCCB\u200b\u534f\u8bae\u200b\u7684\u200b\u8054\u7cfb\u200b\u4e0e\u200b\u533a\u522b","text":"<p>IIC\u200b\u534f\u8bae\u200b\u4e0e\u200bSCCB\u200b\u534f\u8bae\u200b\u662f\u200b\u4e00\u4e2a\u200b\u9ad8\u5ea6\u200b\u76f8\u4f3c\u200b\u7684\u200b\u534f\u8bae\u200b\u7c7b\u578b\u200b\uff0cSCCB\u200b\u534f\u8bae\u200b\u5e38\u7528\u200b\u5728\u200b\u6444\u50cf\u5934\u200b\u4f20\u8f93\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7b80\u5316\u7248\u200b\u7684\u200bIIC\u200b\u534f\u8bae\u200b\uff0c\u200b\u5177\u4f53\u200b\u533a\u522b\u200b\u6709\u200b\u4e00\u4e0b\u200b\u51e0\u70b9\u200b\uff1a</p> <p>\u200b\u4ee5\u4e0b\u5185\u5bb9\u200b\u5b58\u5728\u200b\u9519\u8bef\u200b\uff0c\u200b\u8bf7\u200b\u53c2\u8003\u200b\u8fde\u63a5\u200b\u534f\u8bae\u200b\u2014\u2014SCCB\u200b\u4e0e\u200bIIC\u200b\u7684\u200b\u533a\u522b\u200b - \u200b\u54b8\u9c7c\u200bIC - \u200b\u535a\u5ba2\u56ed\u200b</p> <p>\u200b\u6570\u636e\u7ed3\u6784\u200b\u7684\u200b\u533a\u522b\u200b\uff1a</p> <p>\u200b\u5728\u200bIIC\u200b\u4e2d\u200b\u89c4\u5b9a\u200b\u4e86\u200b\u4e25\u683c\u200b\u5b8c\u6574\u200b\u7684\u200b\u901a\u4fe1\u200b\u6d41\u7a0b\u200b\uff0c\u200b\u5305\u62ec\u200b\u8d77\u59cb\u200b\u6761\u4ef6\u200b\u3001\u200b\u505c\u6b62\u200b\u6761\u4ef6\u200b\u3001\u200b\u54cd\u5e94\u200b\u4f4d\u200b\u4ee5\u53ca\u200b\u591a\u200b\u4e3b\u4ece\u200b\u8bbe\u5907\u200b\u603b\u88c1\u200b\u673a\u5236\u200b\uff0c\u200b\u6bcf\u4e2a\u200b\u5b57\u8282\u200b\u4f20\u51fa\u200b\u540e\u200b\u5fc5\u987b\u200b\u8981\u200b\u63a5\u6536\u200b\u65b9\u200b\u53d1\u9001\u7ed9\u200b\u4e3b\u673a\u200b\u786e\u8ba4\u200b\u6536\u5230\u200b\u7684\u200b\u4fe1\u53f7\u200b\uff08\u200b\u54cd\u5e94\u200b\u4fe1\u53f7\u200b\uff0cACK\u200b\u4f4d\u200b\uff09\u3002</p> <p>\u200b\u5728\u200bSCCB\u200b\u534f\u8bae\u200b\u4e2d\u200b\u7701\u7565\u200b\u4e86\u200b\u7531\u200b\u63a5\u6536\u200b\u65b9\u5411\u200b\u4e3b\u673a\u200b\u53d1\u9001\u200b\u7684\u200b\u54cd\u5e94\u200b\u4fe1\u53f7\u200b\uff0c</p> <p>\u200b\u4f20\u8f93\u6570\u636e\u200b\u65f6\u200b\u7684\u200b\u533a\u522b\u200b\uff1a</p> <p>\u200b\u5728\u200bIIC\u200b\u4e2d\u200b\uff0cSDA\u200b\u6570\u636e\u200b\u53ea\u80fd\u200b\u5728\u200bSCL\u200b\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\u7684\u200b\u65f6\u5019\u200b\u6539\u53d8\u200b\uff0c\u200b\u5728\u200bSCL\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\u7684\u200b\u65f6\u5019\u200b\u4fdd\u6301\u200b\u5df2\u200b\u786e\u8ba4\u200b\u6570\u636e\u200b\u80fd\u591f\u200b\u88ab\u200b\u6b63\u786e\u200b\u7684\u200b\u91c7\u6837\u200b</p> <p>\u200b\u5728\u200bSCCB\u200b\u4e2d\u200b\uff0cSCL\u200b\u5141\u8bb8\u200b\u5728\u200b\u9ad8\u7535\u5e73\u200b\u7684\u200b\u65f6\u5019\u200b\u6539\u53d8\u200bSDA\u200b\u7684\u200b\u6570\u636e\u200b\u3002\u200b\u53ea\u200b\u9700\u8981\u200b\u6ee1\u8db3\u200b\u6570\u636e\u200b\u91c7\u96c6\u200b\u65f6\u200b\u7684\u200b\u5efa\u7acb\u200b\u65f6\u95f4\u200b\u548c\u200b\u4fdd\u6301\u200b\u65f6\u95f4\u200b\u5373\u53ef\u200b\u3002</p> <p>\u200b\u6570\u636e\u200b\u5e27\u200b\u7684\u200b\u533a\u522b\u200b\uff1a</p> <p>IIC\u200b\u6570\u636e\u200b\u5e27\u200b\u5982\u4e0b\u200b\uff1a</p> <pre><code>\u200b\u8d77\u59cb\u200b\u4f4d\u200b \u2192 \u200b\u5730\u5740\u200b\u5e27\u200b\uff08\u200b\u542b\u8bfb\u200b/\u200b\u5199\u4f4d\u200b\uff09 \u2192 \u200b\u6570\u636e\u200b\u5e27\u200b \u2192 ACK/NACK \u2192 ... \u2192 \u200b\u505c\u6b62\u200b\u4f4d\u200b\n</code></pre> <p>\u200b\u6bcf\u6b21\u200b\u4f20\u8f93\u200b\u4e00\u4e2a\u200b\u5b57\u8282\u200b\u540e\u200b\u9700\u8981\u200b\u6709\u200b\u4e00\u4e2a\u200b\u54cd\u5e94\u200b\u4f4d\u200bACK</p> <p>SCCB\u200b\u6570\u636e\u200b\u5e27\u200b\u5982\u4e0b\u200b\uff1a</p> <pre><code>Phase 1\uff08\u200b\u5199\u200bID Address\uff09 \u2192 Phase 2\uff08\u200b\u5199\u200bSub-Address\uff09 \u2192 Phase 3\uff08\u200b\u5199\u200b\u6570\u636e\u200b\uff09 \u2192 \u200b\u505c\u6b62\u200b\u5e8f\u5217\u200b\n</code></pre> <p>\u200b\u6709\u200b\u4e09\u4e2a\u200b\u9636\u6bb5\u200b\uff1a\u200b\u5148\u200b\u4f20\u8f93\u200b\u8bbe\u5907\u200b\u5730\u5740\u200b\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u4f20\u8f93\u200b\u5177\u4f53\u200b\u5bc4\u5b58\u5668\u200b\u5730\u5740\u200b\uff0c\u200b\u7136\u540e\u200b\u52a0\u4e0a\u200b\u5bc4\u5b58\u5668\u200b\u7684\u200b\u6570\u636e\u200b\u503c\u200b\u3002</p> <p>\u200b\u7c7b\u4f3c\u200b\u201c\u200b\u5148\u200b\u6572\u95e8\u200b\uff0c\u200b\u518d\u200b\u544a\u8bc9\u200b\u5177\u4f53\u200b\u623f\u95f4\u200b\u53f7\u200b\uff0c\u200b\u6700\u540e\u200b\u544a\u8bc9\u200b\u4f60\u200b\u7684\u200b\u5177\u4f53\u200b\u6570\u636e\u200b\u201d</p>"},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/%E9%9D%A2%E8%AF%95%E5%AE%9E%E6%88%98/","title":"\u9762\u8bd5\u200b\u5b9e\u6218","text":"<p>\u200b\u5173\u4e8e\u200b\u9762\u8bd5\u200b\u7684\u200b\u95ee\u9898\u200b\uff08\u200b\u9762\u8bd5\u5b98\u200b\u4f1a\u200b\u9488\u5bf9\u200b\u4f60\u200b\u7684\u200b\u7b80\u5386\u200b\u63d0\u51fa\u200b\u7ec6\u8282\u200b\u7684\u200b\u95ee\u9898\u200b\uff09\uff0c\u200b\u4f60\u200b\u8981\u200b\u4fdd\u8bc1\u200b\u4f60\u200b\u8db3\u591f\u200b\u719f\u6089\u200b\u4f60\u200b\u7b80\u5386\u200b\u4e2d\u200b\u5b9e\u73b0\u200b\u8fc7\u200b\u7684\u200b\u9879\u76ee\u200b\u3002</p>"},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/%E9%9D%A2%E8%AF%95%E5%AE%9E%E6%88%98/#2025228-sophoton-","title":"2025.2.28 \u200b\u82cf\u5dde\u200b-\u200b\u8bc6\u5149\u200bSOPHOTON-\u200b\u4e3b\u8425\u200b\u6fc0\u5149\u96f7\u8fbe\u200b\u6210\u50cf\u200b\u82af\u7247","text":"<ol> <li> <p>\u200b\u5173\u4e8e\u200bUART\u200b\u548c\u200bIIC\u200b\u4ee5\u53ca\u200bSPI\u200b\u901a\u4fe1\u534f\u8bae\u200b\u7684\u200b\u533a\u522b\u200b\u548c\u200b\u8054\u7cfb\u200b\u95ee\u9898\u200b\uff1a</p> </li> <li> <p>\u200b\u5173\u4e8e\u200b\u7b80\u5386\u200b\u4e2d\u200b\u9879\u76ee\u200b\u7684\u200b\u95ee\u9898\u200b\uff1a</p> </li> <li> <p>\u200b\u6570\u5b57\u200b\u793a\u6ce2\u5668\u200b\u4e2d\u200b\uff0cadc\u200b\u548c\u200bdac\u200b\u82af\u7247\u200b\uff0c\u200b\u4f7f\u7528\u200b\u4ec0\u4e48\u200b\u534f\u8bae\u200b\u4e0e\u200bFPGA\u200b\u5f00\u53d1\u677f\u200b\u8fdb\u884c\u200b\u8fde\u63a5\u200b\u7684\u200b\uff1f\u200b\u5728\u200bDAC\u200b\u82af\u7247\u200b\u4e2d\u200b\uff0c\u200b\u662f\u200b\u600e\u4e48\u200b\u4ea7\u751f\u200b\u6a21\u62df\u200b\u6ce2\u5f62\u200b\u7684\u200b\uff1f\u200b\u6bd4\u5982\u200b\u5982\u4f55\u200b\u4ea7\u751f\u200b\u7684\u200b\u4e09\u89d2\u200b\u6ce2\u200b\u6570\u636e\u200b\uff0c\u200b\u73b0\u573a\u200b\u8ba1\u7b97\u200b\u4ea7\u751f\u200b\u7684\u200b\u4e09\u89d2\u200b\u6ce2\u200b\u6ce2\u5f62\u200b\u5468\u671f\u200b\u662f\u200b\u591a\u5c11\u200b\uff1f     dac\u200b\u82af\u7247\u200b\u4f7f\u7528\u200b\u7684\u200b\u65f6\u200btlc5620\u200b\u82af\u7247\u200b\uff0c\u200b\u5176\u200b\u4e0e\u200bfpga\u200b\u901a\u4fe1\u200b\u4e0d\u200b\u9700\u8981\u200biic\u200b\u6216\u8005\u200bspi\u200b\u534f\u8bae\u200b\uff0c\u200b\u4ed6\u200b\u7684\u200b\u82af\u7247\u200b\u4e2d\u200b\uff0c\u200b\u5176\u200b\u8f93\u5165\u200b\u5f15\u811a\u200b\u6709\u200bvcc\u200b\u548c\u200bgnd\u200b\u4ee5\u53ca\u200bdata\u3001\u200b\u53c2\u8003\u200b\u7535\u538b\u200b\u3001ldac\u3001load\u200b\u4ee5\u53ca\u200b\u56db\u4e2a\u200b\u8f93\u51fa\u200b\u7aef\u53e3\u200b\u3002\u200b\u5728\u200b\u8bbe\u8ba1\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u63a7\u5236\u200b\u8f93\u51fa\u200b\u4fe1\u53f7\u200b\u6ce2\u5f62\u200b\u901a\u8fc7\u200b\u76f4\u63a5\u200b\u901a\u8fc7\u200bfpga\u200b\u4e32\u884c\u200b\u4f20\u8f93\u200b\u7ed9\u200bdac\u200b\u7684\u200bdata\u200b\u7aef\u200b\u4ee5\u53ca\u200b\u5c06\u200bldac\u200b\u548c\u200bload\u200b\u7684\u200b\u65f6\u5e8f\u200b\u63a7\u5236\u200b\u597d\u200b\u5373\u53ef\u200b\uff0c\u200b\u540c\u65f6\u200b\u9700\u8981\u200b\u5173\u6ce8\u200b\u901a\u5e38\u200b\u60c5\u51b5\u200b\u4e0b\u200bldac\u200b\u4f1a\u7f6e\u200b\u5e95\u200b\uff0cload\u200b\u7aef\u53e3\u200b\u5728\u200b\u6570\u636e\u200b\u4e32\u884c\u200b\u6570\u636e\u200b\u52a0\u8f7d\u200b\u5b8c\u540e\u200b\u4ece\u200b\u9ad8\u7f6e\u200b\u5e95\u200b\u4e00\u4e2a\u200b\u5468\u671f\u200b\u540e\u200b\u62c9\u9ad8\u200b\uff0c\u200b\u82af\u7247\u200b\u8f93\u51fa\u200b\u7684\u200b\u6ce2\u5f62\u200b\u6570\u636e\u200b\u624d\u200b\u4f1a\u200b\u66f4\u65b0\u200b\u3002</p> <p>\u200b\u4f7f\u7528\u200bdac\u200b\u82af\u7247\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200bdds\u200b\u4fe1\u53f7\u200b\u53d1\u751f\u5668\u200b\u7684\u200b\u65b9\u6cd5\u200b\uff0c\u200b\u9996\u5148\u200b\u9700\u8981\u200b\u8bf7\u200b\u9605\u8bfb\u200b\u4e00\u4e0b\u200b\u8be5\u200b\u82af\u7247\u200b\u7684\u200b\u7cbe\u5ea6\u200b\uff0c\u200b\u6211\u7528\u200b\u7684\u200b\u662f\u200b\u5f00\u53d1\u677f\u200b\u81ea\u5e26\u200b\u7684\u200bdac\u200b\u82af\u7247\u200b\uff0c\u200b\u5206\u8fa8\u7387\u200b\u7cbe\u5ea6\u200b\u662f\u200b8\u200b\u4e3a\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u200b\u662f\u200b\u4f7f\u7528\u200b\u4e00\u4e2a\u200b\u8ba1\u6570\u5668\u200b\uff0c\u200b\u4ece\u200b0\u200b\u8ba1\u6570\u200b\u5230\u200b255\u200b\u4e5f\u200b\u5c31\u662f\u200b2\u200b\u7684\u200b8\u200b\u6b21\u65b9\u200b\u51cf\u4e00\u200b\u3002\u200b\u5f53\u200b\u5230\u8fbe\u200b255\u200b\u7684\u200b\u65f6\u5019\u200b\u8f93\u51fa\u200b\u6700\u9ad8\u200b\u7535\u538b\u200b5v\uff0c\u200b\u5f53\u200b\u8ba1\u6570\u200b\u5230\u200b0\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u8f93\u51fa\u200b0v\u3002\u200b\u4ee5\u6b64\u7c7b\u63a8\u200b\u5b9e\u73b0\u200b\u4e00\u4e2a\u200bdds\u200b\u4fe1\u53f7\u200b\u53d1\u751f\u5668\u200b\u7684\u200b\u952f\u9f7f\u200b\u6ce2\u200b\u3001\u200b\u4e09\u89d2\u200b\u6ce2\u7b49\u200b\u7b80\u5355\u200b\u7684\u200b\u6ce2\u5f62\u200b\u3002 \u200b\u4e0e\u6b64\u540c\u65f6\u200b\uff0c\u200b\u8fd8\u200b\u9700\u8981\u200b\u5173\u6ce8\u200b\u82af\u7247\u200b\u652f\u6301\u200b\u7684\u200b\u6700\u9ad8\u200b\u9891\u7387\u200b\uff0c\u200b\u5bf9\u200b\u6211\u4eec\u200b\u7684\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u8fdb\u884c\u200b\u5206\u9891\u200b\u5904\u7406\u200b\u5f97\u5230\u200b\u82af\u7247\u200b\u8f93\u5165\u200b\u65f6\u949f\u200b\u3002\u200b\u518d\u200b\u6df1\u4e00\u6b65\u200b\u5c31\u662f\u200b\u8003\u8651\u200b\u5904\u7406\u200b\u65f6\u5e8f\u200b\u7684\u200b\u5efa\u7acb\u200b\u65f6\u95f4\u200b\u3001\u200b\u4fdd\u6301\u200b\u65f6\u95f4\u200b\u7b49\u200b\uff0c\u200b\u8fd9\u4e9b\u200b\u4fe1\u606f\u200b\u4e5f\u200b\u662f\u200b\u9700\u8981\u200b\u53c2\u8003\u200b\u82af\u7247\u200b\u624b\u518c\u200b\u7684\u200b\u4fe1\u606f\u200b\u8fdb\u884c\u200b\u5b9e\u73b0\u200b</p> <p>\u200b\u5173\u4e8e\u200b\u6ce2\u5f62\u200b\u7684\u200b\u5468\u671f\u200b\u95ee\u9898\u200b\uff0c\u200b\u6211\u4eec\u200b\u7684\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u4e3a\u200b50mhz\uff0c\u200b\u6570\u636e\u200b\u4ece\u200b0\u200b\u8ba1\u6570\u200b\u5230\u200b255\u200b\u9700\u8981\u200b256\u200b\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\uff0c\u200b\u5728\u200b\u4ece\u200b255\u200b\u8ba1\u6570\u200b\u5230\u200b0\u200b\u4e5f\u200b\u9700\u8981\u200b256\u200b\u4e2a\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\uff0c\u200b\u6240\u4ee5\u200b\u6211\u4eec\u200b\u7684\u200b\u4e00\u4e2a\u200b\u6ce2\u5f62\u200b\u65f6\u949f\u200b\u5468\u671f\u200b\u4e3a\u200bT=20ns*\uff08256+256\uff09</p> </li> <li> <p>IIC\u200b\u662f\u200b\u600e\u4e48\u200b\u901a\u4fe1\u200b\u7684\u200b     iic\u200b\u662f\u200b\u534a\u53cc\u5de5\u200b\u534f\u8bae\u200b\uff0c\u200b\u6709\u200b\u4e24\u6839\u200b\u7ebf\u200b\uff0cscl\u200b\u548c\u200bsda\uff0c\u200b\u901a\u8fc7\u200b\u5668\u4ef6\u200b\u5730\u5740\u200b\u8fdb\u884c\u200b\u9009\u62e9\u200b\u4e0d\u540c\u200b\u7684\u200b\u5668\u4ef6\u200b\u901a\u4fe1\u200b\uff0c\u200b\u5728\u200b\u7a7a\u95f2\u200b\u72b6\u6001\u200b\u4e0b\u200bsda\u200b\u4fdd\u6301\u200b\u9ad8\u7535\u5e73\u200b\uff0c\u200b\u5f00\u59cb\u200b\u65f6\u200b\u5728\u200bscl\u200b\u65f6\u949f\u200b\u4e0a\u5347\u200b\u6cbf\u200b\uff0csda\u200b\u4ece\u200b\u9ad8\u7535\u5e73\u200b\u62c9\u5e95\u200b\u5230\u200b\u4f4e\u7535\u5e73\u200b\u53ca\u200b\u8868\u793a\u200b\u5f00\u59cb\u200b\u4f20\u8f93\u200b\uff0c\u200b\u63a5\u7740\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u5b57\u8282\u200b\u6570\u636e\u200b\uff08\u200b\u5305\u62ec\u200b7\u200b\u4e3a\u200b\u5668\u4ef6\u200b\u5730\u5740\u200b\u548c\u200b1\u200b\u4f4d\u200b\u7684\u200b\u8bfb\u5199\u200b\u6807\u8bc6\u200b0\u200b\u8868\u793a\u200b\u5199\u5165\u200b\u6570\u636e\u200b\uff0c1\u200b\u8868\u793a\u200b\u8bfb\u53d6\u6570\u636e\u200b\uff09\uff0c\u200b\u7136\u540e\u200b\u63a5\u6536\u200b\u65b9\u4f1a\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u54cd\u5e94\u200b\u4fe1\u53f7\u200b\uff08ASK\uff09\uff0c\u200b\u63a5\u7740\u200b\u4f1a\u200b\u53d1\u9001\u200b\u5bc4\u5b58\u5668\u200b\u5730\u5740\u200b\u4ee5\u53ca\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u54cd\u5e94\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u6700\u540e\u200b\u53d1\u9001\u6570\u636e\u200b\u503c\u200b\u4ee5\u53ca\u200b\u54cd\u5e94\u200b\u4fe1\u53f7\u200b\u5373\u53ef\u200b\u5b8c\u6210\u200b\u6570\u636e\u200b\u5199\u5165\u200b\u3002\u200b\u5728\u200b\u5199\u5165\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0csda\u200b\u6570\u636e\u200b\u5728\u200bscl\u200b\u4e3a\u200b\u4f4e\u200b\u7684\u200b\u65f6\u5019\u200b\u6539\u53d8\u200b\uff0c\u200b\u5728\u200bscl\u200b\u4e3a\u200b\u9ad8\u200b\u7684\u200b\u65f6\u5019\u200b\u8fdb\u884c\u200b\u4fdd\u6301\u200b\uff0c\u200b\u4ece\u200b\u673a\u8bbe\u5907\u200b\u6b63\u786e\u200b\u63a5\u6536\u200b\u5230\u200b\u6307\u4ee4\u200b\u6216\u200b\u6570\u636e\u200b\u540e\u200b\uff0c\u200b\u4f1a\u200b\u901a\u8fc7\u200b\u62c9\u4f4e\u200bSDA\u200b\u4e3a\u200b\u4f4e\u7535\u5e73\u200b\uff0c\u200b\u5411\u200b\u4e3b\u673a\u200b\u8bbe\u5907\u200b\u53d1\u9001\u200b\u5355\u200b\u6bd4\u7279\u200b\u7684\u200b\u5e94\u7b54\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u8868\u793a\u200b\u6570\u636e\u200b\u6216\u200b\u6307\u4ee4\u200b\u5199\u5165\u200b\u6210\u529f\u200b\u3002\u200b\u82e5\u200b\u4ece\u673a\u200b\u6b63\u786e\u200b\u5e94\u7b54\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7ed3\u675f\u200b\u6216\u200b\u5f00\u59cb\u200b\u4e0b\u200b\u4e00\u200b\u5b57\u8282\u200b\u6570\u636e\u200b\u6216\u200b\u6307\u4ee4\u200b\u7684\u200b\u4f20\u8f93\u200b\uff0c\u200b\u5426\u5219\u200b\u8868\u660e\u200b\u6570\u636e\u200b\u6216\u200b\u6307\u4ee4\u200b\u5199\u5165\u200b\u5931\u8d25\u200b\uff0c\u200b\u4e3b\u673a\u200b\u5c31\u200b\u53ef\u4ee5\u200b\u51b3\u5b9a\u200b\u662f\u5426\u200b\u653e\u5f03\u200b\u5199\u5165\u200b\u6216\u8005\u200b\u91cd\u65b0\u200b\u53d1\u8d77\u200b\u5199\u5165\u200b\u3002</p> <p>\u200b\u5728\u200b\u6570\u636e\u200b\u7684\u200b\u8bfb\u53d6\u200b\u65f6\u200b\uff0c\u200b\u4e0e\u200b\u5199\u5165\u200b\u65f6\u5e8f\u200b\u76f8\u4f3c\u200b\uff0c\u200b\u6bcf\u6b21\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u6570\u636e\u200b\u65f6\u200b\u5fc5\u987b\u200b\u9700\u8981\u200b\u63a5\u6536\u200b\u65b9\u200b\u7684\u200b\u4e00\u4e2a\u200b\u54cd\u5e94\u200b\u4fe1\u53f7\u200b\u5373\u62c9\u4f4e\u200bsda\u200b\u4f5c\u4e3a\u200b\u5e94\u7b54\u200b\u3002</p> </li> <li> <p>spi\u200b\u662f\u200b\u600e\u4e48\u200b\u901a\u4fe1\u200b\u7684\u200b     spi\u200b\u534f\u8bae\u200b\u662f\u200b\u5168\u53cc\u5de5\u200b\u534f\u8bae\u200b\uff0c\u200b\u4e00\u822c\u200b\u6709\u200b\u56db\u6839\u200b\u7ebf\u200b\u9700\u8981\u200b\u8fde\u63a5\u200b\uff0c\u200b\u5206\u522b\u200b\u662f\u200b\u65f6\u949f\u200b\u7ebf\u200b\u3001\u200b\u7247\u9009\u200b\u4fe1\u53f7\u7ebf\u200b\u3001\u200b\u8bfb\u200b\u6570\u636e\u7ebf\u200b\u3001\u200b\u5199\u6570\u636e\u7ebf\u200b\u3002\u200b\u901a\u8fc7\u200b\u62c9\u4f4e\u200b\u9700\u8981\u200b\u901a\u4fe1\u200b\u7684\u200b\u7247\u9009\u200b\u4fe1\u53f7\u7ebf\u200b\u8fdb\u884c\u200b\u9009\u62e9\u200b\u4e0d\u540c\u200b\u5668\u4ef6\u200b\u4f20\u8f93\u200b\u4ea4\u6362\u200b\u6570\u636e\u200b</p> </li> <li> <p>\u200b\u5728\u200b\u4ee5\u592a\u7f51\u200b\u6a21\u5757\u200b\u4e2d\u200b\uff0cphy\u200b\u82af\u7247\u200b\u7684\u200b\u4f5c\u7528\u200b\uff1a</p> <p>phy\u200b\u82af\u7247\u200b\u4e3b\u8981\u200b\u662f\u200b\u5728\u200b\u6570\u636e\u200b\u94fe\u8def\u5c42\u200b\u4e2d\u5c06\u200b\u5e76\u884c\u200b\u6570\u5b57\u4fe1\u53f7\u200b\u8f6c\u6362\u6210\u200b\u4e32\u884c\u200b\u6a21\u62df\u4fe1\u53f7\u200b\uff0c</p> </li> <li> <p>\u200b\u5728\u200b\u6444\u50cf\u5934\u200b\u7684\u200b\u9879\u76ee\u200b\u4e2d\u200b\uff0csccb\u200b\u4e0e\u200biic\u200b\u534f\u8bae\u200b\u7684\u200b\u5177\u4f53\u200b\u533a\u522b\u200b\u6709\u200b\u54ea\u4e9b\u200b\uff1f</p> <p>\u200b\u9996\u5148\u200b\u4ed6\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4e0e\u200biic\u200b\u534f\u8bae\u200b\u544a\u8bc9\u200b\u76f8\u4f3c\u200b\u7684\u200b\u534f\u8bae\u200b\uff0c\u200b\u4e3b\u8981\u200b\u7684\u200b\u65f6\u5e8f\u200b\u533a\u522b\u200b\u5728\u8bfb\u200b\u65f6\u5e8f\u200b\u4e2d\u200b\uff0csccb\u200b\u4e0d\u80fd\u200b\u8fdb\u884c\u200b\u8fde\u7eed\u200b\u8bfb\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u5fc5\u987b\u200b\u5728\u200b\u4e00\u6b21\u200b\u8bfb\u200b\u64cd\u4f5c\u200b\u5b8c\u6210\u200b\u4e4b\u540e\u200b\u53d1\u8d77\u200b\u603b\u7ebf\u200b\u505c\u6b62\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u7136\u540e\u200b\u518d\u200b\u5f00\u59cb\u200b\u4fe1\u53f7\u200b\u624d\u884c\u200b\uff08\u200b\u4e5f\u200b\u5c31\u662f\u200b\u79f0\u4e3a\u200b\u79f0\u4e3a\u200b\u201c\u200b\u4e09\u76f8\u200b\u8bfb\u200b\u201d\uff09\u3002\u200b\u9664\u6b21\u200b\u4e4b\u5916\u200b\uff0ciic\u200b\u534f\u8bae\u200b\u5728\u200b\u6bcf\u6b21\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u5b57\u8282\u200b\u7684\u200b\u6570\u636e\u200b\u540e\u200b\u5fc5\u987b\u200b\u6536\u5230\u200b\u63a5\u6536\u200b\u65b9\u200b\u7684\u200b\u5e94\u7b54\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u800c\u200bsccb\u200b\u534f\u8bae\u200b\u5219\u200b\u4e0d\u5728\u610f\u200b\u9700\u8981\u200b\u5e94\u7b54\u200b\u4fe1\u53f7\u200b\uff0c\u200b\u5728\u200bdatasheet\u200b\u4e2d\u200b\uff0c\u200b\u5e94\u7b54\u200b\u4fe1\u53f7\u200b\u90e8\u5206\u200b\u88ab\u200b\u6807\u8bb0\u200b\u6210\u200bdon't care \u200b\u7684\u200b\u5b57\u6837\u200b\u3002\u200b\u5982\u679c\u200b\u6211\u4eec\u200b\u53ea\u200b\u9700\u8981\u200b\u4f7f\u7528\u200bsccb\u200b\u534f\u8bae\u200b\u5199\u5165\u200b\u5bc4\u5b58\u5668\u200b\u503c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200biic\u200b\u534f\u8bae\u200b\u5199\u200b\u65f6\u5e8f\u200b\u5b8c\u6210\u200b\uff0c\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u4f7f\u7528\u200bsccb\u200b\u534f\u8bae\u200b\u8fdb\u884c\u200b\u8bfb\u6570\u636e\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u9700\u8981\u200b\u5728\u200biic\u200b\u534f\u8bae\u200b\u4e2d\u200b\u6dfb\u52a0\u200b\u4e00\u4e2a\u200b\u603b\u7ebf\u200b\u505c\u6b62\u200b\u4fe1\u53f7\u200b\u624d\u884c\u200b\u3002</p> </li> <li> <p>\u200b\u5728\u200bfpga\u200b\u5b9e\u73b0\u200b\u4ee5\u592a\u7f51\u200b\u901a\u4fe1\u200b\u7684\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u4f60\u200b\u8ba4\u4e3a\u200b\u90a3\u4e2a\u200b\u90e8\u5206\u200b\u662f\u200b\u81ea\u5df1\u200b\u6700\u200b\u96be\u200b\u5b9e\u73b0\u200b\u7684\u200b</p> </li> </ol> <p>\u200b            \u200b\u6211\u200b\u8ba4\u4e3a\u200b\u5f53\u7136\u200b\u65f6\u200b\u4ed6\u200b\u7684\u200b\u65f6\u5e8f\u200b\u90e8\u5206\u200b\u6bd4\u8f83\u200b\u56f0\u96be\u200b\uff0c\u200b\u4e3b\u8981\u200b\u5728\u200brgmii\u200b\u6a21\u5757\u200b\u4e2d\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6211\u4eec\u200b\u7684\u200b\u5343\u5146\u200b\u4ee5\u592a\u7f51\u200b\u7b97\u662f\u200b\u4e00\u4e2a\u200b\u9ad8\u901f\u63a5\u53e3\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5bf9\u200b\u6570\u636e\u200b\u7684\u200b\u7a33\u5b9a\u6027\u200b\u8981\u6c42\u200b\u4f1a\u200b\u5341\u5206\u200b\u4e25\u683c\u200b\uff0c\u200b\u5728\u200brgmii\u200b\u6a21\u5757\u200b\u4e2d\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u5f88\u591a\u200bBUF\u200b\u7684\u200b\u539f\u8bed\u200b\u64cd\u4f5c\u200b\uff0c\u200b\u4f8b\u5982\u200b\u65f6\u949f\u200b\u4fe1\u53f7\u200b\u7684\u200b\u3001\u200b\u6570\u636e\u4fe1\u53f7\u200b\u7684\u200b\u3001\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b\u7684\u200bBUF\uff0c\u200b\u53e6\u5916\u200b\uff0c\u200b\u8fd8\u200b\u9700\u8981\u200b\u514b\u670d\u200b\u8de8\u200b\u65f6\u949f\u200b\u57df\u200b\u5904\u7406\u200b\u7684\u200b\u5de5\u4f5c\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u4e3b\u8981\u200b\u4f1a\u200b\u53d1\u751f\u200b\u5728\u200bmac\u200b\u5c42\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u8de8\u8d8a\u200b\u7cfb\u7edf\u200b\u65f6\u949f\u200b\u4e0e\u200bphy\u200b\u65f6\u949f\u200b\uff0c\u200b\u9700\u8981\u200b\u901a\u8fc7\u200bFIFO\u200b\u5c06\u200b\u6570\u636e\u200b\u5148\u200b\u5199\u5165\u200b\u5728\u200b\u8bfb\u53d6\u200b\u7684\u200b\u64cd\u4f5c\u200b\u3002\u200b\u9664\u6b64\u4e4b\u5916\u200b\uff0c\u200b\u5c31\u662f\u200b\u6570\u636e\u200b\u7684\u200b\u7ec4\u5305\u200b\u548c\u89e3\u200b\u5305\u200b\u7684\u200b\u8fc7\u7a0b\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u5de5\u4f5c\u200b\u53d1\u751f\u200b\u5728\u200b\u6574\u4e2a\u200b\u6a21\u5757\u200b\u7684\u200b\u642d\u5efa\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u4f8b\u5982\u200b\u5728\u200bfpga\u200b\u7aef\u200b\u9700\u8981\u200b\u53d1\u9001\u200b\u4e00\u4e2a\u200b\u4fe1\u53f7\u200b\u5230\u200b\u4ece\u200b\u673a\u4e2d\u200b\uff0c\u200b\u9700\u8981\u200b\u5148\u200b\u5c06\u200b\u6570\u636e\u200b\u7ecf\u8fc7\u200budp\u200b\u5c42\u200b\u3001ip\u200b\u5c42\u200b\u3001mac\u200b\u5c42\u200b\u4ee5\u53ca\u200brgmii\u200b\u5c42\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u7684\u200b\u7ec4\u5305\u200b\uff0c\u200b\u9700\u8981\u200b\u6211\u4eec\u200b\u4e86\u89e3\u200b\u6bcf\u200b\u4e00\u5c42\u200b\u63a5\u6536\u200b\u5230\u200b\u7684\u200b\u6570\u636e\u7ed3\u6784\u200b\u4ee5\u53ca\u200b\u6bcf\u200b\u4e00\u5e27\u200b\u6bcf\u200b\u4e00\u4f4d\u200b\u6570\u636e\u200b\u4ee3\u8868\u200b\u7684\u200b\u542b\u4e49\u200b\u548c\u200b\u529f\u80fd\u200b\u3002\u200b\u6700\u540e\u200b\uff0c\u200b\u5728\u200bmac\u200b\u5c42\u200b\u6211\u200b\u8017\u8d39\u200b\u7684\u200b\u65f6\u95f4\u200b\u662f\u200b\u6700\u200b\u591a\u200b\u7684\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5176\u4e2d\u200b\u9700\u8981\u200b\u6d89\u53ca\u200b\u5230\u200b\u4e00\u4e2a\u200bcrc\u200b\u6821\u9a8c\u200b\u7684\u200b\u5de5\u4f5c\u200b\uff0c\u200b\u67e5\u9605\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u8d44\u6599\u200b\u540e\u200b\uff0c\u200b\u56e0\u4e3a\u200bhdl\u200b\u4ee3\u7801\u200b\u7f16\u5199\u200b\u6bd4\u8f83\u200b\u5570\u55e6\u200b\uff0c\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u4e86\u200b\u522b\u4eba\u200b\u7684\u200b\u4ee3\u7801\u200b\u3002</p> <ol> <li>\u200b\u4f60\u200b\u4f7f\u7528\u200b\u7684\u200bdac\u200b\u5b9e\u73b0\u200bdds\u200b\u7684\u200b\u65f6\u5019\u200b\u662f\u200b\u600e\u4e48\u200b\u4e0e\u200bfpga\u200b\u8fdb\u884c\u200b\u901a\u4fe1\u200b\u7684\u200b\uff1f</li> </ol> <p>\u200b\u6211\u200b\u4f7f\u7528\u200b\u7684\u200btlc5620dac\u200b\u82af\u7247\u200b\uff0c\u200b\u4ed6\u200b\u7684\u200bdac\u200b\u82af\u7247\u200b\uff0c\u200b\u5173\u4e8e\u200btlc5620dac\u200b\u82af\u7247\u200b\uff0c\u200b\u4ed6\u200b\u662f\u200b\u4e00\u4e2a\u200b\u5e76\u884c\u200b\u8f93\u5165\u200b\uff0c\u200b\u4e32\u884c\u200b\u8f93\u51fa\u200b\u7684\u200b\u82af\u7247\u200b\uff0c\u200b\u5e76\u4e14\u200b\u4ed6\u200b\u4e0e\u200bfpga\u200b\u901a\u4fe1\u200b\u4e5f\u200b\u5f88\u200b\u7b80\u5355\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\u5230\u200biic\u200b\u6216\u8005\u200bspi\u200b\u534f\u8bae\u200b\uff0c\u200b\u7f16\u5199\u200bdac\u200b\u9a71\u52a8\u200b\u6a21\u5757\u200b\u65f6\u200b\uff0c\u200b\u53ea\u6709\u200bclk\u200b\u9700\u8981\u200b\u8fdb\u884c\u200b\u5206\u9891\u200b\u5230\u200b1mhz\u3001\u200b\u590d\u4f4d\u200b\u4f7f\u80fd\u200b\u65f6\u200bload\u200b\u7f6e\u200b\u4e3a\u200b\u9ad8\u7535\u5e73\u200b\u9501\u5b58\u200b\u6570\u636e\u200b\u4f7f\u5f97\u200b\u8f93\u51fa\u200b\u7535\u538b\u200b\u4fdd\u6301\u200b\u4e0d\u53d8\u200b\uff0c\u200b\u901a\u5e38\u200bldac\u200b\u4f1a\u7f6e\u200b\u5e95\u200b\u4fdd\u6301\u6570\u636e\u200b\u7684\u200b\u66f4\u65b0\u200b\uff0c\u200b\u6709\u200b4\u200b\u4e2a\u200b\u4e32\u884c\u200b\u8f93\u51fa\u200b\u7535\u538b\u200b\u901a\u9053\u200b\u4ee5\u53ca\u200b\u4e00\u4e2a\u200bdata\u200b\u6570\u636e\u200b\u63a7\u5236\u200b\u4fe1\u53f7\u200b</p> <ol> <li>\u200b\u4ecb\u7ecd\u200b\u4e00\u4e0b\u200buart\u200b\u534f\u8bae\u200b</li> </ol> <p>uart\u200b\u901a\u4fe1\u534f\u8bae\u200b\u4e5f\u200b\u53eb\u505a\u200b\u901a\u7528\u200b\u5f02\u6b65\u200b\u4e32\u884c\u200b\u6536\u53d1\u5668\u200b\uff0c\u200b\u6709\u200brx\u200b\u548c\u200btx\u200b\u4e24\u6839\u200b\u7ebf\u200b\uff0c\u200b\u6ca1\u6709\u200b\u65f6\u949f\u200b\u7ebf\u200b\uff0c\u200b\u6570\u636e\u4f20\u8f93\u200b\u65f6\u200b\u4e24\u6839\u200b\u7ebf\u200b\u4ea4\u53c9\u200b\u8fde\u63a5\u200b\u5373\u53ef\u200b\u3002\u200b\u5728\u200b\u6570\u636e\u4f20\u8f93\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\u56e0\u4e3a\u200b\u6ca1\u6709\u200b\u65f6\u949f\u200b\uff0c\u200b\u6570\u636e\u200b\u901a\u8fc7\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u6ce2\u7279\u7387\u200b\u548c\u200b\u8d77\u59cb\u200b\u4f4d\u200b\uff08\u200b\u4f4e\u7535\u5e73\u200b\uff09\u200b\u548c\u200b\u505c\u6b62\u200b\u4f4d\u200b\uff08\u200b\u9ad8\u7535\u5e73\u200b\uff09\u200b\u6570\u636e\u5305\u200b\u8fdb\u884c\u200b\u6570\u636e\u200b\u5bf9\u9f50\u200b\u3002\u200b\u5176\u4e2d\u200b\u6d89\u53ca\u200b\u5230\u200b\u53d1\u9001\u200b\u6570\u636e\u5305\u200b\u7684\u200b\u5e27\u200b\u7ed3\u6784\u200b\u4ee5\u53ca\u200b\u6ce2\u7279\u7387\u200b\u3001\u200b\u6ce2\u7279\u7387\u200b\u3001\u200b\u6ce2\u7279\u200b\u7b49\u200b\u6982\u5ff5\u200b</p> <p>\u200b\u603b\u7ed3\u200b\uff1a\u200b\u9762\u8bd5\u200b\u8fd8\u200b\u5f97\u200b\u597d\u597d\u200b\u523b\u610f\u200b\u53bb\u200b\u5237\u200b\u4e00\u4e9b\u200b\u516b\u80a1\u6587\u200b\u9762\u8bd5\u200b\u9898\u76ee\u200b\uff0c\u200b\u57fa\u7840\u200b\u7684\u200b\u4e1c\u897f\u200b\u4e00\u5b9a\u200b\u597d\u597d\u200b\u4e86\u89e3\u200b\u900f\u5f7b\u200b\uff0c\u200b\u4e0d\u7136\u200b\u867d\u7136\u200b\u4f60\u200b\u505a\u200b\u51fa\u6765\u200b\u4e86\u200b\uff0c\u200b\u4f46\u662f\u200b\u4f60\u200b\u6ca1\u200b\u529e\u6cd5\u200b\u5c06\u200b\u5b83\u200b\u8bb2\u200b\u51fa\u6765\u200b\u3002\u200b\u6700\u540e\u200b\u597d\u597d\u200b\u5c06\u200b\u4e4b\u524d\u200b\u5199\u200b\u7684\u200b\u7b14\u8bb0\u200b\u8fdb\u884c\u200b\u8bfb\u200b\u4e00\u904d\u200b\uff0c\u200b\u56de\u5fc6\u200b\u4e00\u4e0b\u200b\uff0c\u200b\u5e76\u4e14\u200b\u518d\u200b\u770b\u4e00\u904d\u200b\u91ce\u706b\u200bfpga\u200b\u7684\u200b\u57fa\u7840\u6559\u7a0b\u200b\u89c6\u9891\u200b</p>"},{"location":"fpga/%E9%9D%A2%E8%AF%95%E9%A2%98/%E9%9D%A2%E8%AF%95%E5%AE%9E%E6%88%98/#202537-","title":"2025.3.7 \u200b\u745e\u6d3e\u5b81\u200b-\u200b\u4e3b\u8425\u200b\u8f90\u5c04\u200b\u63a2\u6d4b\u200b\u4e0e\u200b\u56fe\u50cf\u5904\u7406","text":"<p>\u200b\u8fd9\u200b\u4e00\u5bb6\u200b\u516c\u53f8\u200b\u95ee\u200b\u7684\u200b\u5185\u5bb9\u200b\u76f8\u6bd4\u200b\u4e0e\u200b\u4e0a\u200b\u4e00\u5bb6\u200b\u516c\u53f8\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u6280\u672f\u6027\u200b\u5185\u5bb9\u200b\u76f8\u5bf9\u6765\u8bf4\u200b\u4f1a\u5c11\u200b\u4e86\u200b\u4e00\u4e9b\u200b\uff0c\u200b\u591a\u52a0\u200b\u4e86\u200b\u4e00\u90e8\u5206\u200b\u672a\u6765\u200b\u7684\u200b\u89c4\u5212\u200b\uff0c\u200b\u5bf9\u200b\u81ea\u5df1\u200b\u7684\u200b\u8bc4\u4ef7\u200b\u4ee5\u53ca\u200b\u7ed9\u200b\u4e86\u200b\u5f88\u591a\u200b\u81ea\u5df1\u200b\u81ea\u7531\u53d1\u6325\u200b\u7684\u200b\u56de\u7b54\u200b\u3002\u200b\u8fd9\u200b\u4e00\u5bb6\u200b\u516c\u53f8\u200b\u57fa\u7840\u6027\u200b\u95ee\u9898\u200b\u95ee\u200b\u7684\u200b\u4e0d\u200b\u591a\u200b\uff0c\u200b\u57fa\u672c\u4e0a\u200b\u662f\u200b\u6839\u636e\u200b\u81ea\u5df1\u200b\u7b80\u5386\u200b\u4e2d\u200b\u7684\u200b\u9879\u76ee\u200b\u968f\u610f\u200b\u95ee\u200b\u4e86\u200b\u4e00\u4e9b\u200b\u3002</p> <ol> <li>\u200b\u63cf\u8ff0\u200b\u4e00\u4e0b\u200b\u7b80\u5386\u200b\u4e2d\u200b\u9759\u8109\u200b\u8840\u7ba1\u200b\u68c0\u6d4b\u200b\u7684\u200b\u9879\u76ee\u200b</li> <li>\u200b\u63cf\u8ff0\u200b\u4e00\u4e0b\u200b\u7b80\u5386\u200b\u4e2d\u200b\u5176\u4ed6\u200b\u7684\u200b\u9879\u76ee\u200b</li> <li>\u200b\u5728\u200b\u4ee5\u592a\u7f51\u200b\u4f20\u8f93\u200b\u8fc7\u7a0b\u200b\u4e2d\u200b\uff0c\u200b\u5e27\u200b\u95f4\u9694\u200b\u662f\u200b\u591a\u5c11\u200b</li> </ol>"},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/","title":"\u7535\u963b","text":""},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#1","title":"1. \u200b\u7535\u963b\u200b\u57fa\u7840\u200b\u5185\u5bb9","text":""},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#11","title":"1.1 \u200b\u5e38\u89c1\u200b\u7535\u963b\u200b\u4ecb\u7ecd","text":"<p>\u200b\u7535\u963b\u503c\u200b\u7684\u200b\u5927\u5c0f\u200b\u63cf\u8ff0\u200b\u662f\u200b\u4e00\u4e2a\u200b\u7269\u4f53\u200b\u5bf9\u200b\u7535\u6d41\u200b\u901a\u8fc7\u200b\u7684\u200b\u963b\u788d\u200b\u7684\u200b\u80fd\u529b\u200b\uff0c\u200b\u963b\u503c\u200b\u8d8a\u5927\u200b\uff0c\u200b\u963b\u788d\u200b\u80fd\u529b\u200b\u5c31\u200b\u8d8a\u200b\u5927\u200b\uff0c\u200b\u6bd4\u5982\u200b\u5728\u200b\u4e32\u8054\u200b\u7535\u8def\u200b\u4e2d\u200b\u4e32\u8054\u200b\u7535\u963b\u200b\u548c\u200b\u7528\u7535\u5668\u200b\uff08\u200b\u4e32\u8054\u200b\u7535\u8def\u200b\u7535\u8def\u200b\u7535\u6d41\u200b\u76f8\u7b49\u200b\uff09\uff0c\u200b\u7535\u963b\u200b\u963b\u503c\u200b\u8d8a\u5927\u200b\uff0c\u200b\u7535\u963b\u200b\u5206\u5230\u200b\u7684\u200b\u7535\u538b\u200b\u8d8a\u5927\u800c\u200b\u7528\u7535\u5668\u200b\u5206\u5230\u200b\u7684\u200b\u7535\u538b\u200b\u5c31\u200b\u8d8a\u200b\u5c0f\u200b\uff08\u200b\u4e32\u8054\u200b\u7535\u963b\u200b\u5206\u538b\u200b\u6b63\u200b\u76f8\u5173\u200b\uff09\u3002\u200b\u5728\u200b\u5e76\u8054\u200b\u7535\u8def\u200b\u4e2d\u200b\uff08\u200b\u5e76\u8054\u200b\u7535\u8def\u200b\u7535\u538b\u200b\u76f8\u7b49\u200b\uff09\u200b\u5e76\u8054\u200b\u7535\u963b\u200b\u548c\u200b\u7528\u7535\u5668\u200b\uff0c\u200b\u7535\u963b\u200b\u5219\u200b\u8d77\u5230\u200b\u5206\u6d41\u200b\u7684\u200b\u4f5c\u7528\u200b\uff0c\u200b\u5e76\u8054\u200b\u7684\u200b\u7535\u963b\u503c\u200b\u8d8a\u5927\u200b\uff0c\u200b\u6d41\u5411\u200b\u7528\u7535\u5668\u200b\u7684\u200b\u7535\u6d41\u200b\u5c31\u200b\u8d8a\u200b\u591a\u200b\uff0c\u200b\u76f8\u53cd\u200b\u5e76\u8054\u200b\u7684\u200b\u7535\u963b\u503c\u200b\u8d8a\u5c0f\u200b\uff0c\u200b\u6d41\u5411\u200b\u7528\u7535\u5668\u200b\u7684\u200b\u7535\u6d41\u200b\u5c31\u200b\u8d8a\u5c11\u200b\uff08\u200b\u5e76\u8054\u200b\u7535\u963b\u200b\u5206\u6d41\u200b\u8d1f\u76f8\u5173\u200b\uff09\u3002\u200b\u5728\u200b\u5e76\u8054\u200b\u7535\u963b\u200b\u7684\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u6210\u200b\u7535\u963b\u503c\u200b\u8d8a\u5927\u200b\uff0c\u200b\u5bf9\u200b\u7535\u6d41\u200b\u7684\u200b\u963b\u788d\u200b\u80fd\u529b\u200b\u8d8a\u5f3a\u200b\uff0c\u200b\u5bfc\u81f4\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u7535\u6d41\u200b\u6d41\u5411\u200b\u7535\u963b\u503c\u200b\u66f4\u200b\u5c0f\u200b\u7684\u200b\u5730\u65b9\u200b\uff0c\u200b\u5728\u200b\u4e32\u8054\u200b\u7535\u963b\u200b\u7684\u200b\u4f8b\u5b50\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u7406\u89e3\u200b\u6210\u200b\u7535\u963b\u200b\u5c06\u200b\u7535\u8def\u200b\u4e2d\u200b\u7535\u6d41\u200b\u963b\u585e\u200b\u5728\u200b\u7535\u963b\u200b\u4e2d\u200b\uff0c\u200b\u7535\u963b\u503c\u200b\u8d8a\u5927\u200b\uff0c\u200b\u963b\u585e\u200b\u7a0b\u5ea6\u200b\u8d8a\u5927\u200b\uff0c\u200b\u4ece\u800c\u200b\u5bfc\u81f4\u200b\u7535\u963b\u200b\u5206\u5230\u200b\u7684\u200b\u7535\u538b\u200b\u8d8a\u5927\u200b</p>"},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#12","title":"1.2 \u200b\u7535\u963b\u200b\u5206\u7c7b","text":"<p>\u200b\u7535\u963b\u200b\u5206\u7c7b\u200b\u53ef\u4ee5\u200b\u5206\u4e3a\u200b\uff1a\u200b\u5149\u654f\u7535\u963b\u200b\u3001\u200b\u8d34\u7247\u200b\u7535\u963b\u200b\u3001\u200b\u538b\u654f\u7535\u963b\u200b\u3001\u200b\u63d2\u4ef6\u200b\u7535\u963b\u200b\u3001NTC/PTC\u200b\u70ed\u654f\u7535\u963b\u200b\u3001\u200b\u4f4e\u200b\u963b\u503c\u200b\u91c7\u6837\u200b\u7535\u963b\u200b\u7b49\u200b\u3002\u200b\u5176\u4e2d\u200b\u6700\u200b\u5e38\u7528\u200b\u7684\u200b\u5c31\u662f\u200b\u8d34\u7247\u200b\u7535\u963b\u200b\uff0c\u200b\u63d2\u4ef6\u200b\u7535\u963b\u200b\u76ee\u524d\u200b\u5f88\u5c11\u200b\u4f1a\u200b\u4f7f\u7528\u200b\uff08\u200b\u5927\u5b66\u200b\u5b9e\u9a8c\u5ba4\u200b\u4f1a\u200b\u7528\u5230\u200b\uff0c\u200b\u4f46\u662f\u200b\u5de5\u4e1a\u200b\u4e2d\u200b\u4f1a\u200b\u4f18\u5148\u9009\u62e9\u200b\u8d34\u7247\u200b\u7535\u963b\u200b\uff09\uff0c\u200b\u5176\u4ed6\u200b\u7684\u200b\u4f8b\u5982\u200b\u5149\u654f\u200b\u3001\u200b\u538b\u611f\u200b\u7b49\u200b\u7535\u963b\u200b\u4f1a\u200b\u6839\u636e\u200b\u4ea7\u54c1\u200b\u7684\u200b\u9700\u8981\u200b\u4f7f\u7528\u200b\uff0c\u200b\u540e\u7eed\u200b\u4f1a\u200b\u8fdb\u884c\u200b\u7b80\u5355\u200b\u4ecb\u7ecd\u200b</p>"},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#13","title":"1.3 \u200b\u53c2\u6570\u200b\u53ca\u200b\u9009\u578b","text":""},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#131","title":"1.3.1 \u200b\u989d\u5b9a\u529f\u7387","text":"<p>\u200b\u989d\u5b9a\u529f\u7387\u200b\u662f\u200b\u5728\u200b\u989d\u5b9a\u200b\u73af\u5883\u6e29\u5ea6\u200b\u4e2d\u200b\u53ef\u4ee5\u200b\u8fde\u7eed\u200b\u5de5\u4f5c\u200b\u72b6\u6001\u200b\u4e0b\u200b\u7684\u200b\u6700\u5927\u200b\u529f\u7387\u200b\u503c\u200b\u3002\u200b\u5f53\u200b\u8d34\u7247\u200b\u7535\u963b\u5668\u200b\u901a\u7535\u200b\u540e\u200b\u5c06\u200b\u4f1a\u200b\u53d1\u70ed\u200b\u3002\u200b\u6b64\u5916\u200b\uff0c\u200b\u7531\u4e8e\u200b\u4f7f\u7528\u200b\u6e29\u5ea6\u200b\u7684\u200b\u4e0a\u9650\u200b\u662f\u200b\u786e\u5b9a\u200b\u7684\u200b\uff0c\u200b\u56e0\u6b64\u200b\u5728\u200b\u9ad8\u4e8e\u200b\u989d\u5b9a\u200b\u73af\u5883\u6e29\u5ea6\u200b\u7684\u200b\u6761\u4ef6\u200b\u4e0b\u200b\u4f7f\u7528\u200b\u65f6\u200b\uff0c\u200b\u9700\u8981\u200b\u6309\u7167\u200b\u4ee5\u4e0b\u200b\u7684\u200b\u529f\u7387\u200b\u964d\u989d\u200b\u66f2\u7ebf\u200b\u6765\u200b\u964d\u989d\u200b\u4f7f\u7528\u200b\u3002\u200b\u989d\u5b9a\u200b\u73af\u5883\u6e29\u5ea6\u200b\u662f\u200b\u80fd\u591f\u200b 100%\u200b\u65bd\u52a0\u200b\u4ea7\u54c1\u200b\u989d\u5b9a\u529f\u7387\u200b\u7684\u200b\u6700\u9ad8\u200b\u73af\u5883\u6e29\u5ea6\u200b\u503c\u200b\u3002\u200b\u8fd9\u4e2a\u200b\u6570\u503c\u200b\u53d6\u51b3\u4e8e\u200b\u5177\u4f53\u200b\u516c\u53f8\u200b\u4ea7\u54c1\u200b\u63d0\u4f9b\u200b\u7684\u200b\u6280\u672f\u200b\u624b\u518c\u200b\uff0c\u200b\u4e00\u822c\u200b\u4f1a\u200b\u63d0\u4f9b\u200b\u4e00\u5f20\u200b\u529f\u7387\u200b\u4e0b\u964d\u200b\u66f2\u7ebf\u200b\u7684\u200b\u56fe\u8868\u200b\u3002</p> <p>\u200b\u8fd9\u200b\u5c31\u200b\u8bf4\u660e\u200b\u4e86\u200b\u4e3a\u4ec0\u4e48\u200b\u6709\u200b\u7684\u200b\u7535\u963b\u200b100\u200b\u4e2a\u200b\u624d\u200b\u51e0\u5757\u94b1\u200b\uff0c\u200b\u800c\u200b\u6709\u200b\u7684\u200b\u7535\u963b\u200b\u5219\u200b\u51e0\u5341\u5757\u200b\u94b1\u200b\u751a\u81f3\u200b\u4e0a\u767e\u200b</p>"},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#132","title":"1.3.2 \u200b\u5176\u4ed6","text":"<p>\uff08\u200b\u5f85\u200b\u66f4\u65b0\u200b\uff09</p>"},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#14","title":"1.4 \u200b\u7528\u9014","text":""},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#141","title":"1.4.1 \u200b\u4e0a\u62c9\u200b\u7535\u963b\u200b\u3001\u200b\u4e0b\u200b\u62c9\u200b\u7535\u963b","text":"<p>\u200b\u4e0a\u62c9\u200b\u5c31\u662f\u200b\u5c06\u200b\u4e0d\u200b\u786e\u5b9a\u200b\u7684\u200b\u4fe1\u53f7\u200b\u901a\u8fc7\u200b\u4e00\u4e2a\u200b\u7535\u963b\u200b\u94b3\u4f4d\u200b\u5728\u200b\u9ad8\u7535\u5e73\u200b\uff0c\u200b\u7535\u963b\u200b\u540c\u65f6\u200b\u8d77\u200b\u9650\u6d41\u200b\u4f5c\u7528\u200b\u3002\u200b\u800c\u200b\u4e0b\u200b\u62c9\u200b\u7535\u963b\u200b\u7684\u200b\u8bbe\u5b9a\u200b\u7684\u200b\u539f\u5219\u200b\u548c\u200b\u4e0a\u200b\u62c9\u200b\u7535\u963b\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\u3002\u200b\u6b64\u5904\u200b\u4ee5\u4e0a\u200b\u62c9\u200b\u4e3e\u4f8b\u200b\uff1aIIC\u200b\u901a\u4fe1\u200b\u603b\u7ebf\u200b\u4e0a\u200b\u9700\u8981\u200b\u4e0a\u62c9\u200b\u3001</p>"},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#142","title":"1.4.2 \u200b\u5e03\u7ebf\u200b\u65b9\u4fbf","text":"<p>0\u200b\u6b27\u59c6\u7535\u963b\u200b\u5e76\u975e\u200b\u771f\u7684\u200b\u6ca1\u6709\u200b\u963b\u503c\u200b\uff0c\u200b\u5b83\u200b\u662f\u200b\u4e00\u79cd\u200b\u7279\u6b8a\u200b\u7528\u9014\u200b\u7684\u200b\u7535\u963b\u200b\uff0c\u200b\u5f88\u5c0f\u200b\u7684\u200b\u963b\u503c\u200b\u7684\u200b\u7535\u963b\u200b\uff0c\u200b\u5728\u200b\u7ed8\u5236\u200bPCB\u200b\u5355\u5c42\u200b\u7535\u8def\u677f\u200b\u4e2d\u200b\uff0c\u200b\u5e38\u5e38\u200b\u9047\u5230\u200b\u5e03\u7ebf\u200b\u8d70\u200b\u4e0d\u901a\u200b\u7684\u200b\u60c5\u51b5\u200b\uff0c\u200b\u5982\u679c\u200b\u786c\u7ed5\u200b\u7684\u8bdd\u200b\u52bf\u5fc5\u4f1a\u200b\u5f71\u54cd\u200b\u4fe1\u53f7\u200b\u8d28\u91cf\u200b\uff0c\u200b\u5982\u679c\u200b\u6dfb\u52a0\u200b\u7535\u8def\u677f\u200b\u5c42\u6570\u200b\u7684\u8bdd\u200b\uff0c\u200b\u5728\u200b\u5927\u6279\u91cf\u200b\u6210\u4ea7\u200b\u65f6\u4f1a\u200b\u589e\u52a0\u200b\u5f88\u591a\u200b\u6210\u672c\u200b\uff0c\u200b\u90a3\u4e48\u200b\u6211\u4eec\u200b\u4f7f\u7528\u200b0\u200b\u6b27\u59c6\u7535\u963b\u200b\u5145\u5f53\u200b\u6865\u6bb5\u200b\uff0c\u200b\u66f4\u52a0\u200b\u65b9\u4fbf\u200b\u5e03\u7ebf\u200b\u3002\u200b\u8fd9\u79cd\u200b\u60c5\u51b5\u200b\u5728\u200b\u5355\u5c42\u200b\u677f\u4e2d\u200b\u4f7f\u7528\u200b\u6bd4\u8f83\u200b\u591a\u200b\u3002</p>"},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#143","title":"1.4.3 \u200b\u5145\u5f53\u200b\u7b80\u6613\u200b\u4fdd\u9669\u4e1d","text":"<p>\u200b\u5728\u200b\u4e00\u4e9b\u200b\u8bbe\u8ba1\u200b\u4e2d\u200b\u6211\u4eec\u200b\u4f1a\u200b\u770b\u5230\u200b\u7535\u963b\u200b\u4f1a\u200b\u7528\u6765\u200b\u5f53\u4f5c\u200b\u4fdd\u9669\u4e1d\u200b\u4f7f\u7528\u200b\uff0c\u200b\u4e3b\u8981\u200b\u662f\u200b\u4f7f\u7528\u200b0\u200b\u6b27\u59c6\u7535\u963b\u200b\uff0c\u200b\u4f46\u662f\u200b\u8fd9\u200b\u5e76\u200b\u4e0d\u200b\u53ef\u9760\u200b\uff0c\u200b\u6bd4\u5982\u200b0603\u200b\u7684\u200b0\u200b\u6b27\u59c6\u7535\u963b\u200b\u4e00\u822c\u200b\u80fd\u200b\u901a\u8fc7\u200b1A\u200b\u7535\u6d41\u200b\uff0c\u200b\u4f46\u662f\u200b\u5b9e\u9645\u200b\u4e2d\u200b\u5e76\u200b\u6ca1\u6709\u200b\u8fd9\u4e48\u200b\u4e25\u683c\u200b\u7684\u200b\u6d4b\u8bd5\u200b\u5728\u200b1A\u200b\u7535\u6d41\u200b\u4e2d\u200b\u5c31\u200b\u4f1a\u200b\u7194\u65ad\u200b\u3002</p>"},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#144","title":"1.4.4 \u200b\u4f5c\u4e3a\u200b\u8df3\u7ebf\u200b\u4f7f\u7528","text":"<p>\u200b\u4f5c\u7528\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u8df3\u7ebf\u200b\u5e3d\u6765\u200b\u4ee3\u66ff\u200b\u3002\u200b\u4e00\u822c\u6765\u8bf4\u200b\uff0c\u200b\u9488\u5bf9\u200b\u7528\u6237\u200b\u4ea7\u54c1\u200b\u4e0a\u200b\u6700\u597d\u200b\u4e0d\u8981\u200b\u51fa\u73b0\u200b\u62e8\u7801\u200b\u5f00\u5173\u200b\u6216\u8005\u200b\u8df3\u7ebf\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u6709\u65f6\u5019\u200b\u7528\u6237\u200b\u5bf9\u200b\u8fd9\u4e2a\u200b\u4ea7\u54c1\u200b\u5e76\u200b\u4e0d\u200b\u4e86\u89e3\u200b\uff0c\u200b\u4f1a\u200b\u4e71\u52a8\u200b\u8fd9\u4e9b\u200b\u5f00\u5173\u200b\u5f15\u8d77\u200b\u8bef\u4f1a\u200b\uff0c\u200b\u4e3a\u4e86\u200b\u51cf\u5c11\u200b\u7ef4\u62a4\u8d39\u7528\u200b\uff0c\u200b\u5e94\u7528\u200b\u96f6\u200b\u6b27\u59c6\u7535\u963b\u200b\u4ee3\u66ff\u200b\u8df3\u7ebf\u200b\u8fd8\u63a5\u200b\u5728\u200b\u677f\u5b50\u200b\u4e0a\u200b\u3002\u200b\u53ef\u4ee5\u200b\u7528\u200b\u4e3a\u200b\u8df3\u7ebf\u200b\u6216\u8005\u200b\u5f00\u5173\u200b\u4f7f\u7528\u200b\uff0c\u200b\u5982\u679c\u200b\u67d0\u6bb5\u200b\u7535\u8def\u200b\u4e0d\u200b\u9700\u8981\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4e0d\u8d34\u200b\u8be5\u200b\u7535\u963b\u200b\u5373\u53ef\u200b\uff0c\u200b\u8fd9\u6837\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u5916\u89c2\u200b\u3002</p>"},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#145","title":"1.4.5 \u200b\u53c2\u6570\u200b\u5339\u914d","text":"<p>\u200b\u5728\u200b\u5339\u914d\u200b\u7535\u8def\u200b\u53c2\u6570\u200b\u4e0d\u200b\u786e\u5b9a\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5148\u200b\u4f7f\u7528\u200b\u96f6\u200b\u6b27\u59c6\u7535\u963b\u200b\u4ee3\u66ff\u200b\uff0c\u200b\u5728\u200b\u5b9e\u9645\u200b\u8c03\u8bd5\u200b\u7684\u200b\u65f6\u5019\u200b\u786e\u5b9a\u200b\u53c2\u6570\u200b\u540e\u200b\u8fdb\u884c\u200b\u66ff\u6362\u200b\u5373\u53ef\u200b</p>"},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#2","title":"2. \u200b\u538b\u654f\u7535\u963b","text":""},{"location":"%E5%8E%9F%E7%90%86%E5%9B%BE%26PCB%E8%AE%BE%E8%AE%A1/%E7%94%B5%E9%98%BB/#21","title":"2.1 \u200b\u6982\u5ff5","text":"<p>\u200b\u538b\u654f\u7535\u963b\u200b\"\u200b\u662f\u200b\u4e00\u79cd\u200b\u5177\u6709\u200b\u975e\u7ebf\u6027\u200b\u4f0f\u5b89\u200b\u7279\u6027\u200b\u7684\u200b\u7535\u963b\u5668\u200b\u4ef6\u200b(\u200b\u65e0\u200b\u6781\u6027\u200b)\uff0c\u200b\u4e3b\u8981\u200b\u7528\u4e8e\u200b\u5728\u200b\u7535\u8def\u200b\u627f\u53d7\u200b\u8fc7\u538b\u200b\u65f6\u200b\u8fdb\u884c\u200b \u200b\u7535\u538b\u94b3\u200b\u4f4d\u200b \uff0c\u200b\u5438\u6536\u200b \u200b\u591a\u4f59\u200b\u7684\u200b\u7535\u200b \u200b\u6d41\u4ee5\u200b\u4fdd\u62a4\u200b \u200b\u654f\u611f\u200b\u5668\u200b \u200b\u4ef6\u200b\u3002\u200b\u82f1\u6587\u200b \u200b\u540d\u79f0\u200b\u53eb\u200b\u201cVoltage Dependent Resistor\u201d\u200b\u7b80\u5199\u200b\u4e3a\u200b\u201cVDR\u201d, \u200b\u6216\u8005\u200b\u53eb\u505a\u200b\u201cVaristor\"\u3002</p>"}]}